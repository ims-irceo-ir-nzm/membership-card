(function(V,qt){"object"==typeof exports&&"object"==typeof module?module.exports=qt():"function"==typeof define&&define.amd?define([],qt):"object"==typeof exports?exports.persianDate=qt():V.persianDate=qt()})(this,function(){return function(V){function qt(W){if(lt[W])return lt[W].exports;var x=lt[W]={i:W,l:!1,exports:{}};return V[W].call(x.exports,x,x.exports,qt),x.l=!0,x.exports}var lt={};return qt.m=V,qt.c=lt,qt.i=function(W){return W},qt.d=function(W,x,g){qt.o(W,x)||Object.defineProperty(W,x,{configurable:!1,enumerable:!0,get:g})},qt.n=function(W){var x=W&&W.__esModule?function(){return W.default}:function(){return W};return qt.d(x,"a",x),x},qt.o=function(W,x){return Object.prototype.hasOwnProperty.call(W,x)},qt.p="",qt(qt.s=8)}([function(V,qt,lt){"use strict";var x=function(){function h(y,m){for(var _=0;_<m.length;_++){var b=m[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,m,_){return m&&h(y.prototype,m),_&&h(y,_),y}}(),g=lt(4).durationUnit,M=function(){function h(){!function W(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,h)}return x(h,[{key:"toPersianDigit",value:function(y){var m=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return y.toString().replace(/\d+/g,function(_){var b=[],T=[],C=void 0,k=void 0;for(C=0;C<_.length;C+=1)b.push(_.charCodeAt(C));for(k=0;k<b.length;k+=1)T.push(String.fromCharCode(b[k]+(m&&!0===m?1584:1728)));return T.join("")})}},{key:"leftZeroFill",value:function(y,m){for(var _=y+"";_.length<m;)_="0"+_;return _}},{key:"normalizeDuration",value:function(){var y=void 0,m=void 0;return"string"==typeof arguments[0]?(y=arguments[0],m=arguments[1]):(m=arguments[0],y=arguments[1]),g.year.indexOf(y)>-1?y="year":g.month.indexOf(y)>-1?y="month":g.week.indexOf(y)>-1?y="week":g.day.indexOf(y)>-1?y="day":g.hour.indexOf(y)>-1?y="hour":g.minute.indexOf(y)>-1?y="minute":g.second.indexOf(y)>-1?y="second":g.millisecond.indexOf(y)>-1&&(y="millisecond"),{unit:y,value:m}}},{key:"absRound",value:function(y){return y<0?Math.ceil(y):Math.floor(y)}},{key:"absFloor",value:function(y){return y<0?Math.ceil(y)||0:Math.floor(y)}}]),h}();V.exports=M},function(V,qt,lt){"use strict";var x=function(){function I(D,L){for(var U=0;U<L.length;U++){var S=L[U];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(D,S.key,S)}}return function(D,L,U){return L&&I(D.prototype,L),U&&I(D,U),D}}(),g=lt(10),M=lt(2),h=lt(0),y=lt(5),m=lt(11),_=(new h).toPersianDigit,b=(new h).leftZeroFill,T=(new h).normalizeDuration,C=lt(7),k=lt(6),A=function(){function I(D){return function W(I,D){if(!(I instanceof D))throw new TypeError("Cannot call a class as a function")}(this,I),this.calendarType=I.calendarType,this.localType=I.localType,this.leapYearMode=I.leapYearMode,this.algorithms=new M(this),this.version="1.1.0",this._utcMode=!1,"fa"!==this.localType?this.formatPersian=!1:this.formatPersian="_default",this.State=this.algorithms.State,this.setup(D),this.State.isInvalidDate?new Date([-1,-1]):this}return x(I,[{key:"setup",value:function(D){if(g.isDate(D))this._gDateToCalculators(D);else if(g.isArray(D)){if(!m.validateInputArray(D))return this.State.isInvalidDate=!0,!1;this.algorithmsCalc([D[0],D[1]?D[1]:1,D[2]?D[2]:1,D[3]?D[3]:0,D[4]?D[4]:0,D[5]?D[5]:0,D[6]?D[6]:0])}else if(g.isNumber(D)){var L=new Date(D);this._gDateToCalculators(L)}else if(D instanceof I)this.algorithmsCalc([D.year(),D.month(),D.date(),D.hour(),D.minute(),D.second(),D.millisecond()]);else if(D&&"/Date("===D.substring(0,6)){var U=new Date(parseInt(D.substr(6)));this._gDateToCalculators(U)}else{var S=new Date;this._gDateToCalculators(S)}}},{key:"_getSyncedClass",value:function(D){return new(I.toCalendar(this.calendarType).toLocale(this.localType).toLeapYearMode(this.leapYearMode))(D)}},{key:"_gDateToCalculators",value:function(D){this.algorithms.calcGregorian([D.getFullYear(),D.getMonth(),D.getDate(),D.getHours(),D.getMinutes(),D.getSeconds(),D.getMilliseconds()])}},{key:"rangeName",value:function(){var D=this.calendarType;return"fa"===this.localType?"persian"===D?C.persian:C.gregorian:"persian"===D?k.persian:k.gregorian}},{key:"toLeapYearMode",value:function(D){return this.leapYearMode=D,"astronomical"===D&&"persian"==this.calendarType?this.leapYearMode="astronomical":"algorithmic"===D&&"persian"==this.calendarType&&(this.leapYearMode="algorithmic"),this.algorithms.updateFromGregorian(),this}},{key:"toCalendar",value:function(D){return this.calendarType=D,this.algorithms.updateFromGregorian(),this}},{key:"toLocale",value:function(D){return this.localType=D,"fa"!==this.localType?this.formatPersian=!1:this.formatPersian="_default",this}},{key:"_locale",value:function(){var D=this.calendarType;return"fa"===this.localType?"persian"===D?C.persian:C.gregorian:"persian"===D?k.persian:k.gregorian}},{key:"_weekName",value:function(D){return this._locale().weekdays[D-1]}},{key:"_weekNameShort",value:function(D){return this._locale().weekdaysShort[D-1]}},{key:"_weekNameMin",value:function(D){return this._locale().weekdaysMin[D-1]}},{key:"_dayName",value:function(D){return this._locale().persianDaysName[D-1]}},{key:"_monthName",value:function(D){return this._locale().months[D-1]}},{key:"_monthNameShort",value:function(D){return this._locale().monthsShort[D-1]}},{key:"isPersianDate",value:function(D){return D instanceof I}},{key:"clone",value:function(){return this._getSyncedClass(this.State.gDate)}},{key:"algorithmsCalc",value:function(D){return this.isPersianDate(D)&&(D=[D.year(),D.month(),D.date(),D.hour(),D.minute(),D.second(),D.millisecond()]),"persian"===this.calendarType&&"algorithmic"==this.leapYearMode?this.algorithms.calcPersian(D):"persian"===this.calendarType&&"astronomical"==this.leapYearMode?this.algorithms.calcPersiana(D):"gregorian"===this.calendarType?(D[1]=D[1]-1,this.algorithms.calcGregorian(D)):void 0}},{key:"calendar",value:function(){var D=void 0;return"persian"==this.calendarType?"astronomical"==this.leapYearMode?D="persianAstro":"algorithmic"==this.leapYearMode&&(D="persianAlgo"):D="gregorian",this.State[D]}},{key:"duration",value:function(D,L){return new y(D,L)}},{key:"isDuration",value:function(D){return D instanceof y}},{key:"years",value:function(D){return this.year(D)}},{key:"year",value:function(D){return D||0===D?(this.algorithmsCalc([D,this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]),this):this.calendar().year}},{key:"month",value:function(D){return D||0===D?(this.algorithmsCalc([this.year(),D,this.date()]),this):this.calendar().month+1}},{key:"days",value:function(){return this.day()}},{key:"day",value:function(){return this.calendar().weekday}},{key:"dates",value:function(D){return this.date(D)}},{key:"date",value:function(D){return D||0===D?(this.algorithmsCalc([this.year(),this.month(),D]),this):this.calendar().day}},{key:"hour",value:function(D){return this.hours(D)}},{key:"hours",value:function(D){return D||0===D?(0===D&&(D=24),this.algorithmsCalc([this.year(),this.month(),this.date(),D]),this):this.State.gDate.getHours()}},{key:"minute",value:function(D){return this.minutes(D)}},{key:"minutes",value:function(D){return D||0===D?(this.algorithmsCalc([this.year(),this.month(),this.date(),this.hour(),D]),this):this.State.gDate.getMinutes()}},{key:"second",value:function(D){return this.seconds(D)}},{key:"seconds",value:function(D){return D||0===D?(this.algorithmsCalc([this.year(),this.month(),this.date(),this.hour(),this.minute(),D]),this):this.State.gDate.getSeconds()}},{key:"millisecond",value:function(D){return this.milliseconds(D)}},{key:"milliseconds",value:function(D){return D||0===D?(this.algorithmsCalc([this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),D]),this):this.State.gregorian.millisecond}},{key:"unix",value:function(D){var L;if(D)return this._getSyncedClass(1e3*D);var U=this.State.gDate.valueOf().toString();return L=U.substring(0,U.length-3),parseInt(L)}},{key:"valueOf",value:function(){return this.State.gDate.valueOf()}},{key:"getFirstWeekDayOfMonth",value:function(D,L){return this._getSyncedClass([D,L,1]).day()}},{key:"diff",value:function(D,L,U){var ut,S=this,G=D,Y=S.State.gDate-G.toDate()-0,q=S.year()-G.year(),tt=S.month()-G.month(),ht=-1*(S.date()-G.date());return ut="months"===L||"month"===L?12*q+tt+ht/30:"years"===L||"year"===L?q+(tt+ht/30)/12:"seconds"===L||"second"===L?Y/1e3:"minutes"===L||"minute"===L?Y/6e4:"hours"===L||"hour"===L?Y/36e5:"days"===L||"day"===L?Y/864e5:"weeks"===L||"week"===L?Y/6048e5:Y,U?ut:Math.round(ut)}},{key:"startOf",value:function(D){var L=I.toCalendar(this.calendarType).toLocale(this.localType),U=new I(this.valueOf()-864e5*(this.calendar().weekday-1)).toArray();switch(D){case"years":case"year":return new L([this.year(),1,1]);case"months":case"month":return new L([this.year(),this.month(),1]);case"days":case"day":return new L([this.year(),this.month(),this.date(),0,0,0]);case"hours":case"hour":return new L([this.year(),this.month(),this.date(),this.hours(),0,0]);case"minutes":case"minute":return new L([this.year(),this.month(),this.date(),this.hours(),this.minutes(),0]);case"seconds":case"second":return new L([this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds()]);case"weeks":case"week":return new L(U);default:return this.clone()}}},{key:"endOf",value:function(D){var L=I.toCalendar(this.calendarType).toLocale(this.localType);switch(D){case"years":case"year":var U=this.isLeapYear()?30:29;return new L([this.year(),12,U,23,59,59]);case"months":case"month":var S=this.daysInMonth(this.year(),this.month());return new L([this.year(),this.month(),S,23,59,59]);case"days":case"day":return new L([this.year(),this.month(),this.date(),23,59,59]);case"hours":case"hour":return new L([this.year(),this.month(),this.date(),this.hours(),59,59]);case"minutes":case"minute":return new L([this.year(),this.month(),this.date(),this.hours(),this.minutes(),59]);case"seconds":case"second":return new L([this.year(),this.month(),this.date(),this.hours(),this.minutes(),this.seconds()]);case"weeks":case"week":var G=this.calendar().weekday;return new L([this.year(),this.month(),this.date()+(7-G)]);default:return this.clone()}}},{key:"sod",value:function(){return this.startOf("day")}},{key:"eod",value:function(){return this.endOf("day")}},{key:"zone",value:function(D){return D||0===D?(this.State.zone=D,this):this.State.zone}},{key:"local",value:function(){var D=void 0;if(this._utcMode){var L=new Date(this.toDate()).getTimezoneOffset(),U=60*L*1e3;D=L<0?this.valueOf()-U:this.valueOf()+U,this.toCalendar(I.calendarType);var S=new Date(D);return this._gDateToCalculators(S),this._utcMode=!1,this.zone(L),this}return this}},{key:"utc",value:function(D){var L;if(D)return this._getSyncedClass(D).utc();if(this._utcMode)return this;var U=60*this.zone()*1e3;L=this.zone()<0?this.valueOf()+U:this.valueOf()-U;var S=new Date(L),G=this._getSyncedClass(S);return this.algorithmsCalc(G),this._utcMode=!0,this.zone(0),this}},{key:"isUtc",value:function(){return this._utcMode}},{key:"isDST",value:function(){var D=this.month(),L=this.date();return 1==D&&L>1||6==D&&L<31||D<6&&D>=2}},{key:"isLeapYear",value:function(D){return void 0===D&&(D=this.year()),"persian"==this.calendarType&&"algorithmic"===this.leapYearMode?this.algorithms.leap_persian(D):"persian"==this.calendarType&&"astronomical"===this.leapYearMode?this.algorithms.leap_persiana(D):"gregorian"==this.calendarType?this.algorithms.leap_gregorian(D):void 0}},{key:"daysInMonth",value:function(D,L){var U=D||this.year(),S=L||this.month();return"persian"===this.calendarType?S<1||S>12?0:S<7?31:S<12||this.isLeapYear(U)?30:29:"gregorian"===this.calendarType?new Date(U,S,0).getDate():void 0}},{key:"toDate",value:function(){return this.State.gDate}},{key:"toArray",value:function(){return[this.year(),this.month(),this.date(),this.hour(),this.minute(),this.second(),this.millisecond()]}},{key:"formatNumber",value:function(){var D=void 0;return"_default"===this.formatPersian?D=void 0!==V&&void 0!==V.exports?!1!==this.formatPersian:!1!==window.formatPersian:!0===this.formatPersian?D=!0:!1===this.formatPersian?D=!1:Error('Invalid Config "formatPersian" !!'),D}},{key:"format",value:function(D){function L(tt){switch(tt){case"a":return Y?G.hour>=12?"\u0628 \u0638":"\u0642 \u0638":G.hour>=12?"PM":"AM";case"H":return q(G.hour);case"HH":return q(b(G.hour,2));case"h":return q(G.hour%12);case"hh":return q(b(G.hour%12,2));case"m":case"mm":return q(b(G.minute,2));case"s":return q(G.second);case"ss":return q(b(G.second,2));case"D":return q(b(G.date));case"DD":return q(b(G.date,2));case"DDD":var ht=U.startOf("year");return q(b(U.diff(ht,"days"),3));case"DDDD":var ut=U.startOf("year");return q(b(U.diff(ut,"days"),3));case"d":return q(U.calendar().weekday);case"ddd":return U._weekNameShort(U.calendar().weekday);case"dddd":return U._weekName(U.calendar().weekday);case"ddddd":return U._dayName(U.calendar().day);case"dddddd":return U._weekNameMin(U.calendar().weekday);case"w":var bt=U.startOf("year"),F=parseInt(U.diff(bt,"days")/7)+1;return q(F);case"ww":var B=U.startOf("year"),X=b(parseInt(U.diff(B,"days")/7)+1,2);return q(X);case"M":return q(G.month);case"MM":return q(b(G.month,2));case"MMM":return U._monthNameShort(G.month);case"MMMM":return U._monthName(G.month);case"YY":var J=G.year.toString().split("");return q(J[2]+J[3]);case"YYYY":return q(G.year);case"Z":var K="+",at=Math.round(G.timezone/60),Q=G.timezone%60;Q<0&&(Q*=-1),at<0&&(K="-",at*=-1);var gt=K+b(at,2)+":"+b(Q,2);return q(gt);case"ZZ":var ot="+",Ot=Math.round(G.timezone/60),yt=G.timezone%60;yt<0&&(yt*=-1),Ot<0&&(ot="-",Ot*=-1);var Et=ot+b(Ot,2)+""+b(yt,2);return q(Et);case"X":return U.unix();case"LT":return U.format("H:m a");case"L":return U.format("YYYY/MM/DD");case"l":return U.format("YYYY/M/D");case"LL":return U.format("MMMM DD YYYY");case"ll":return U.format("MMM DD YYYY");case"LLL":return U.format("MMMM YYYY DD   H:m  a");case"lll":return U.format("MMM YYYY DD   H:m  a");case"LLLL":return U.format("dddd D MMMM YYYY  H:m  a");case"llll":return U.format("ddd D MMM YYYY  H:m  a")}}if(this.State.isInvalidDate)return!1;var U=this,S=/([[^[]*])|(\\)?(Mo|MM?M?M?|Do|DD?D?D?|dddddd?|ddddd?|dddd?|do?|w[o|w]?|YYYY|YY|a|A|hh?|HH?|mm?|ss?|SS?S?|zz?|ZZ?|X|LT|ll?l?l?|LL?L?L?)/g,G={year:U.year(),month:U.month(),hour:U.hours(),minute:U.minutes(),second:U.seconds(),date:U.date(),timezone:U.zone(),unix:U.unix()},Y=U.formatNumber(),q=function(tt){return Y?_(tt):tt};return D?D.replace(S,L):"YYYY-MM-DD HH:mm:ss a".replace(S,L)}},{key:"add",value:function(D,L){if(0===L)return this;var U=T(D,L).unit,S=this.toArray();if(L=T(D,L).value,"year"===U){var G=S[2],Y=this.daysInMonth(S[0]+L,S[1]);return S[2]>Y&&(G=Y),new I([S[0]+L,S[1],G,S[3],S[4],S[5],S[6],S[7]])}if("month"===U){var q=Math.floor(L/12),tt=L-12*q,ht=null;S[1]+tt>12?(q+=1,ht=S[1]+tt-12):ht=S[1]+tt;var ut=S[2],bt=new I([S[0]+q,ht,1,S[3],S[4],S[5],S[6],S[7]]).toArray(),F=this.daysInMonth(S[0]+q,ht);return S[2]>F&&(ut=F),new I([bt[0],bt[1],ut,bt[3],bt[4],bt[5],bt[6],bt[7]])}if("day"===U)return new I(new I(this.valueOf()).hour(12).valueOf()+864e5*L).hour(S[3]);if("week"===U)return new I(new I(this.valueOf()).hour(12).valueOf()+7*L*864e5).hour(S[3]);if("hour"===U){var B=this.valueOf()+36e5*L;return this.unix(B/1e3)}if("minute"===U){var X=this.valueOf()+6e4*L;return this.unix(X/1e3)}if("second"===U){var J=this.valueOf()+1e3*L;return this.unix(J/1e3)}if("millisecond"===U){var K=this.valueOf()+L;return this.unix(K/1e3)}return this._getSyncedClass(this.valueOf())}},{key:"subtract",value:function(D,L){return this.add(D,-1*L)}},{key:"isSameDay",value:function(D){return this&&D&&this.date()==D.date()&&this.year()==D.year()&&this.month()==D.month()}},{key:"isSameMonth",value:function(D){return this&&D&&this.year()==this.year()&&this.month()==D.month()}}],[{key:"rangeName",value:function(){var D=I,L=D.calendarType;return"fa"===D.localType?"persian"===L?C.persian:C.gregorian:"persian"===L?k.persian:k.gregorian}},{key:"toLeapYearMode",value:function(D){var L=I;return L.leapYearMode=D,L}},{key:"toCalendar",value:function(D){var L=I;return L.calendarType=D,L}},{key:"toLocale",value:function(D){var L=I;return L.localType=D,"fa"!==L.localType?L.formatPersian=!1:L.formatPersian="_default",L}},{key:"isPersianDate",value:function(D){return D instanceof I}},{key:"duration",value:function(D,L){return new y(D,L)}},{key:"isDuration",value:function(D){return D instanceof y}},{key:"unix",value:function(D){return D?new I(1e3*D):(new I).unix()}},{key:"getFirstWeekDayOfMonth",value:function(D,L){return new I([D,L,1]).day()}},{key:"utc",value:function(D){return D?new I(D).utc():(new I).utc()}},{key:"isSameDay",value:function(D,L){return D&&L&&D.date()==L.date()&&D.year()==L.year()&&D.month()==L.month()}},{key:"isSameMonth",value:function(D,L){return D&&L&&D.year()==L.year()&&D.month()==L.month()}}]),I}();V.exports=A},function(V,qt,lt){"use strict";var x=function(){function y(m,_){for(var b=0;b<_.length;b++){var T=_[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}return function(m,_,b){return _&&y(m.prototype,_),b&&y(m,b),m}}(),g=lt(3),M=lt(9),h=function(){function y(m){(function W(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")})(this,y),this.parent=m,this.ASTRO=new g,this.State=new M,this.J0000=1721424.5,this.J1970=2440587.5,this.JMJD=2400000.5,this.NormLeap=[!1,!0],this.GREGORIAN_EPOCH=1721425.5,this.PERSIAN_EPOCH=1948320.5}return x(y,[{key:"leap_gregorian",value:function(m){return m%4==0&&!(m%100==0&&m%400!=0)}},{key:"gregorian_to_jd",value:function(m,_,b){return this.GREGORIAN_EPOCH-1+365*(m-1)+Math.floor((m-1)/4)+-Math.floor((m-1)/100)+Math.floor((m-1)/400)+Math.floor((367*_-362)/12+(_<=2?0:this.leap_gregorian(m)?-1:-2)+b)}},{key:"jd_to_gregorian",value:function(m){var _,b,T,C,k,A,I,D,L,S,G,Y,U=void 0;return b=(_=Math.floor(m-.5)+.5)-this.GREGORIAN_EPOCH,T=Math.floor(b/146097),C=this.ASTRO.mod(b,146097),k=Math.floor(C/36524),A=this.ASTRO.mod(C,36524),I=Math.floor(A/1461),D=this.ASTRO.mod(A,1461),U=400*T+100*k+4*I+(L=Math.floor(D/365)),4!==k&&4!==L&&U++,S=_-this.gregorian_to_jd(U,1,1),G=_<this.gregorian_to_jd(U,3,1)?0:this.leap_gregorian(U)?1:2,[U,Y=Math.floor((12*(S+G)+373)/367),_-this.gregorian_to_jd(U,Y,1)+1]}},{key:"tehran_equinox",value:function(m){var _;return 52.5/360,(_=this.ASTRO.equinox(m,0))-this.ASTRO.deltat(m)/86400+this.ASTRO.equationOfTime(_)+.14583333333333334}},{key:"tehran_equinox_jd",value:function(m){var _;return _=this.tehran_equinox(m),Math.floor(_)}},{key:"persiana_year",value:function(m){var _=this.jd_to_gregorian(m)[0]-2,b=void 0,T=void 0;for(b=this.tehran_equinox_jd(_);b>m;)_--,b=this.tehran_equinox_jd(_);for(T=b-1;!(b<=m&&m<T);)b=T,_++,T=this.tehran_equinox_jd(_);return[Math.round((b-this.PERSIAN_EPOCH)/this.ASTRO.TropicalYear)+1,b]}},{key:"jd_to_persiana",value:function(m){var _,b,C,k,A;return m=Math.floor(m)+.5,_=(C=this.persiana_year(m))[0],k=C[1],Math.floor((m-k)/30)+1,[_,b=(A=Math.floor(m)-this.persiana_to_jd(_,1,1)+1)<=186?Math.ceil(A/31):Math.ceil((A-6)/30),Math.floor(m)-this.persiana_to_jd(_,b,1)+1]}},{key:"persiana_to_jd",value:function(m,_,b){var T=void 0,k=void 0;for(k=this.PERSIAN_EPOCH-1+this.ASTRO.TropicalYear*(m-1-1),T=[m-1,0];T[0]<m;)k=(T=this.persiana_year(k))[1]+(this.ASTRO.TropicalYear+2);return T[1]+(_<=7?31*(_-1):30*(_-1)+6)+(b-1)}},{key:"leap_persiana",value:function(m){return this.persiana_to_jd(m+1,1,1)-this.persiana_to_jd(m,1,1)>365}},{key:"leap_persian",value:function(m){return 682*((m-(m>0?474:473))%2820+474+38)%2816<682}},{key:"persian_to_jd",value:function(m,_,b){var T,C;return T=m-(m>=0?474:473),C=474+this.ASTRO.mod(T,2820),b+(_<=7?31*(_-1):30*(_-1)+6)+Math.floor((682*C-110)/2816)+365*(C-1)+1029983*Math.floor(T/2820)+(this.PERSIAN_EPOCH-1)}},{key:"jd_to_persian",value:function(m){var b,C,k,A,U,_=void 0,I=void 0,D=void 0,L=void 0;return C=(m=Math.floor(m)+.5)-this.persian_to_jd(475,1,1),k=Math.floor(C/1029983),1029982===(A=this.ASTRO.mod(C,1029983))?I=2820:(D=Math.floor(A/366),L=this.ASTRO.mod(A,366),I=Math.floor((2134*D+2816*L+2815)/1028522)+D+1),(_=I+2820*k+474)<=0&&_--,[_,b=(U=m-this.persian_to_jd(_,1,1)+1)<=186?Math.ceil(U/31):Math.ceil((U-6)/30),m-this.persian_to_jd(_,b,1)+1]}},{key:"gWeekDayToPersian",value:function(m){return m+2===8?1:m+2===7?7:m+2}},{key:"updateFromGregorian",value:function(){var m,_,b,T,D,I=void 0,L=void 0;_=this.State.gregorian.year,b=this.State.gregorian.month,T=this.State.gregorian.day,this.State.gDate=new Date(_,b,T,this.State.gregorian.hour,this.State.gregorian.minute,this.State.gregorian.second,this.State.gregorian.millisecond),!1===this.parent._utcMode&&(this.State.zone=this.State.gDate.getTimezoneOffset()),this.State.gregorian.year=this.State.gDate.getFullYear(),this.State.gregorian.month=this.State.gDate.getMonth(),this.State.gregorian.day=this.State.gDate.getDate(),m=this.gregorian_to_jd(_,b+1,T)+Math.floor(.5)/86400,this.State.julianday=m,this.State.modifiedjulianday=m-this.JMJD,I=this.ASTRO.jwday(m),this.State.gregorian.weekday=I+1,this.State.gregorian.leap=this.NormLeap[this.leap_gregorian(_)?1:0],I=this.ASTRO.jwday(m),"persian"==this.parent.calendarType&&"algorithmic"==this.parent.leapYearMode&&(L=this.jd_to_persian(m),this.State.persian.year=L[0],this.State.persian.month=L[1]-1,this.State.persian.day=L[2],this.State.persian.weekday=this.gWeekDayToPersian(I),this.State.persian.leap=this.NormLeap[this.leap_persian(L[0])?1:0]),"persian"==this.parent.calendarType&&"astronomical"==this.parent.leapYearMode&&(L=this.jd_to_persiana(m),this.State.persianAstro.year=L[0],this.State.persianAstro.month=L[1]-1,this.State.persianAstro.day=L[2],this.State.persianAstro.weekday=this.gWeekDayToPersian(I),this.State.persianAstro.leap=this.NormLeap[this.leap_persiana(L[0])?1:0]),null!==this.State.gregserial.day&&(this.State.gregserial.day=m-this.J0000),D=864e5*(m-this.J1970),this.State.unixtime=Math.round(D/1e3)}},{key:"calcGregorian",value:function(m){(m[0]||0===m[0])&&(this.State.gregorian.year=m[0]),(m[1]||0===m[1])&&(this.State.gregorian.month=m[1]),(m[2]||0===m[2])&&(this.State.gregorian.day=m[2]),(m[3]||0===m[3])&&(this.State.gregorian.hour=m[3]),(m[4]||0===m[4])&&(this.State.gregorian.minute=m[4]),(m[5]||0===m[5])&&(this.State.gregorian.second=m[5]),(m[6]||0===m[6])&&(this.State.gregorian.millisecond=m[6]),this.updateFromGregorian()}},{key:"calcJulian",value:function(){var m,_;m=this.State.julianday,_=this.jd_to_gregorian(m),this.State.gregorian.year=_[0],this.State.gregorian.month=_[1]-1,this.State.gregorian.day=_[2],this.updateFromGregorian()}},{key:"setJulian",value:function(m){this.State.julianday=m,this.calcJulian()}},{key:"calcPersian",value:function(m){(m[0]||0===m[0])&&(this.State.persian.year=m[0]),(m[1]||0===m[1])&&(this.State.persian.month=m[1]),(m[2]||0===m[2])&&(this.State.persian.day=m[2]),(m[3]||0===m[3])&&(this.State.gregorian.hour=m[3]),(m[4]||0===m[4])&&(this.State.gregorian.minute=m[4]),(m[5]||0===m[5])&&(this.State.gregorian.second=m[5]),(m[6]||0===m[6])&&(this.State.gregorian.millisecond=m[6]),this.setJulian(this.persian_to_jd(this.State.persian.year,this.State.persian.month,this.State.persian.day))}},{key:"calcPersiana",value:function(m){(m[0]||0===m[0])&&(this.State.persianAstro.year=m[0]),(m[1]||0===m[1])&&(this.State.persianAstro.month=m[1]),(m[2]||0===m[2])&&(this.State.persianAstro.day=m[2]),(m[3]||0===m[3])&&(this.State.gregorian.hour=m[3]),(m[4]||0===m[4])&&(this.State.gregorian.minute=m[4]),(m[5]||0===m[5])&&(this.State.gregorian.second=m[5]),(m[6]||0===m[6])&&(this.State.gregorian.millisecond=m[6]),this.setJulian(this.persiana_to_jd(this.State.persianAstro.year,this.State.persianAstro.month,this.State.persianAstro.day+.5))}}]),y}();V.exports=h},function(V,qt,lt){"use strict";var x=function(){function M(h,y){for(var m=0;m<y.length;m++){var _=y[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}return function(h,y,m){return y&&M(h.prototype,y),m&&M(h,m),h}}(),g=function(){function M(){(function W(M,h){if(!(M instanceof h))throw new TypeError("Cannot call a class as a function")})(this,M),this.J2000=2451545,this.JulianCentury=36525,this.JulianMillennium=10*this.JulianCentury,this.TropicalYear=365.24219878,this.oterms=[-4680.93,-1.55,1999.25,-51.38,-249.67,-39.05,7.12,27.87,5.79,2.45],this.nutArgMult=[0,0,0,0,1,-2,0,0,2,2,0,0,0,2,2,0,0,0,0,2,0,1,0,0,0,0,0,1,0,0,-2,1,0,2,2,0,0,0,2,1,0,0,1,2,2,-2,-1,0,2,2,-2,0,1,0,0,-2,0,0,2,1,0,0,-1,2,2,2,0,0,0,0,0,0,1,0,1,2,0,-1,2,2,0,0,-1,0,1,0,0,1,2,1,-2,0,2,0,0,0,0,-2,2,1,2,0,0,2,2,0,0,2,2,2,0,0,2,0,0,-2,0,1,2,2,0,0,0,2,0,-2,0,0,2,0,0,0,-1,2,1,0,2,0,0,0,2,0,-1,0,1,-2,2,0,2,2,0,1,0,0,1,-2,0,1,0,1,0,-1,0,0,1,0,0,2,-2,0,2,0,-1,2,1,2,0,1,2,2,0,1,0,2,2,-2,1,1,0,0,0,-1,0,2,2,2,0,0,2,1,2,0,1,0,0,-2,0,2,2,2,-2,0,1,2,1,2,0,-2,0,1,2,0,0,0,1,0,-1,1,0,0,-2,-1,0,2,1,-2,0,0,0,1,0,0,2,2,1,-2,0,2,0,1,-2,1,0,2,1,0,0,1,-2,0,-1,0,1,0,0,-2,1,0,0,0,1,0,0,0,0,0,0,1,2,0,-1,-1,1,0,0,0,1,1,0,0,0,-1,1,2,2,2,-1,-1,2,2,0,0,-2,2,2,0,0,3,2,2,2,-1,0,2,2],this.nutArgCoeff=[-171996,-1742,92095,89,-13187,-16,5736,-31,-2274,-2,977,-5,2062,2,-895,5,1426,-34,54,-1,712,1,-7,0,-517,12,224,-6,-386,-4,200,0,-301,0,129,-1,217,-5,-95,3,-158,0,0,0,129,1,-70,0,123,0,-53,0,63,0,0,0,63,1,-33,0,-59,0,26,0,-58,-1,32,0,-51,0,27,0,48,0,0,0,46,0,-24,0,-38,0,16,0,-31,0,13,0,29,0,0,0,29,0,-12,0,26,0,0,0,-22,0,0,0,21,0,-10,0,17,-1,0,0,16,0,-8,0,-16,1,7,0,-15,0,9,0,-13,0,7,0,-12,0,6,0,11,0,0,0,-10,0,5,0,-8,0,3,0,7,0,-3,0,-7,0,0,0,-7,0,3,0,-7,0,3,0,6,0,0,0,6,0,-3,0,6,0,-3,0,-6,0,3,0,-6,0,3,0,5,0,0,0,-5,0,3,0,-5,0,3,0,-5,0,3,0,4,0,0,0,4,0,0,0,4,0,0,0,-4,0,0,0,-4,0,0,0,-4,0,0,0,3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0,-3,0,0,0],this.deltaTtab=[121,112,103,95,88,82,77,72,68,63,60,56,53,51,48,46,44,42,40,38,35,33,31,29,26,24,22,20,18,16,14,12,11,10,9,8,7,7,7,7,7,7,8,8,9,9,9,9,9,10,10,10,10,10,10,10,10,11,11,11,11,11,12,12,12,12,13,13,13,14,14,14,14,15,15,15,15,15,16,16,16,16,16,16,16,16,15,15,14,13,13.1,12.5,12.2,12,12,12,12,12,12,11.9,11.6,11,10.2,9.2,8.2,7.1,6.2,5.6,5.4,5.3,5.4,5.6,5.9,6.2,6.5,6.8,7.1,7.3,7.5,7.6,7.7,7.3,6.2,5.2,2.7,1.4,-1.2,-2.8,-3.8,-4.8,-5.5,-5.3,-5.6,-5.7,-5.9,-6,-6.3,-6.5,-6.2,-4.7,-2.8,-.1,2.6,5.3,7.7,10.4,13.3,16,18.2,20.2,21.1,22.4,23.5,23.8,24.3,24,23.9,23.9,23.7,24,24.3,25.3,26.2,27.3,28.2,29.1,30,30.7,31.4,32.2,33.1,34,35,36.5,38.3,40.2,42.2,44.5,46.5,48.5,50.5,52.2,53.8,54.9,55.8,56.9,58.3,60,61.6,63,65,66.6],this.EquinoxpTerms=[485,324.96,1934.136,203,337.23,32964.467,199,342.08,20.186,182,27.85,445267.112,156,73.14,45036.886,136,171.52,22518.443,77,222.54,65928.934,74,296.72,3034.906,70,243.58,9037.513,58,119.81,33718.147,52,297.17,150.678,50,21.02,2281.226,45,247.54,29929.562,44,325.15,31555.956,29,60.93,4443.417,18,155.12,67555.328,17,288.79,4562.452,16,198.04,62894.029,14,199.76,31436.921,12,95.39,14577.848,12,287.11,31931.756,12,320.81,34777.259,9,227.73,1222.114,8,15.45,16859.074],this.JDE0tab1000=[new Array(1721139.29189,365242.1374,.06134,.00111,-71e-5),new Array(1721233.25401,365241.72562,-.05323,.00907,25e-5),new Array(1721325.70455,365242.49558,-.11677,-.00297,74e-5),new Array(1721414.39987,365242.88257,-.00769,-.00933,-6e-5)],this.JDE0tab2000=[new Array(2451623.80984,365242.37404,.05169,-.00411,-57e-5),new Array(2451716.56767,365241.62603,.00325,.00888,-3e-4),new Array(2451810.21715,365242.01767,-.11575,.00337,78e-5),new Array(2451900.05952,365242.74049,-.06223,-.00823,32e-5)]}return x(M,[{key:"dtr",value:function(h){return h*Math.PI/180}},{key:"rtd",value:function(h){return 180*h/Math.PI}},{key:"fixangle",value:function(h){return h-360*Math.floor(h/360)}},{key:"fixangr",value:function(h){return h-2*Math.PI*Math.floor(h/(2*Math.PI))}},{key:"dsin",value:function(h){return Math.sin(this.dtr(h))}},{key:"dcos",value:function(h){return Math.cos(this.dtr(h))}},{key:"mod",value:function(h,y){return h-y*Math.floor(h/y)}},{key:"jwday",value:function(h){return this.mod(Math.floor(h+1.5),7)}},{key:"obliqeq",value:function(h){var y,m,_,b;if(_=m=(h-this.J2000)/(100*this.JulianCentury),y=23.43929111111111,Math.abs(m)<1)for(b=0;b<10;b++)y+=this.oterms[b]/3600*_,_*=m;return y}},{key:"nutation",value:function(h){var _,b,T,C,k,A,I=(h-2451545)/36525,D=[],L=0,U=0;for(C=I*(T=I*I),D[0]=this.dtr(297.850363+445267.11148*I-.0019142*T+C/189474),D[1]=this.dtr(357.52772+35999.05034*I-1603e-7*T-C/3e5),D[2]=this.dtr(134.96298+477198.867398*I+.0086972*T+C/56250),D[3]=this.dtr(93.27191+483202.017538*I-.0036825*T+C/327270),D[4]=this.dtr(125.04452-1934.136261*I+.0020708*T+C/45e4),_=0;_<5;_++)D[_]=this.fixangr(D[_]);for(k=I/10,_=0;_<63;_++){for(A=0,b=0;b<5;b++)0!==this.nutArgMult[5*_+b]&&(A+=this.nutArgMult[5*_+b]*D[b]);L+=(this.nutArgCoeff[4*_+0]+this.nutArgCoeff[4*_+1]*k)*Math.sin(A),U+=(this.nutArgCoeff[4*_+2]+this.nutArgCoeff[4*_+3]*k)*Math.cos(A)}return[L/36e6,U/36e6]}},{key:"deltat",value:function(h){var y,m,_,b;return h>=1620&&h<=2e3?(m=(h-1620)/2-(_=Math.floor((h-1620)/2)),y=this.deltaTtab[_]+(this.deltaTtab[_+1]-this.deltaTtab[_])*m):(b=(h-2e3)/100,h<948?y=2177+497*b+44.1*b*b:(y=102+102*b+25.3*b*b,h>2e3&&h<2100&&(y+=.37*(h-2100)))),y}},{key:"equinox",value:function(h,y){var m,T,A,I,_=void 0,b=void 0,C=void 0,k=void 0,D=void 0;for(h<1e3?(C=this.JDE0tab1000,D=h/1e3):(C=this.JDE0tab2000,D=(h-2e3)/1e3),I=35999.373*(A=((T=C[y][0]+C[y][1]*D+C[y][2]*D*D+C[y][3]*D*D*D+C[y][4]*D*D*D*D)-2451545)/36525)-2.47,m=1+.0334*this.dcos(I)+7e-4*this.dcos(2*I),k=0,_=b=0;_<24;_++)k+=this.EquinoxpTerms[b]*this.dcos(this.EquinoxpTerms[b+1]+this.EquinoxpTerms[b+2]*A),b+=3;return T+1e-5*k/m}},{key:"sunpos",value:function(h){var y,m,T,C,k,A,I,D,L,U,S,Y,_=void 0,b=void 0,G=void 0,q=void 0;return _=280.46646+36000.76983*(y=(h-this.J2000)/this.JulianCentury)+3032e-7*(m=y*y),_=this.fixangle(_),b=357.52911+35999.05029*y+-1537e-7*m,b=this.fixangle(b),T=.016708634+-42037e-9*y+-1.267e-7*m,k=_+(C=(1.914602+-.004817*y+-14e-6*m)*this.dsin(b)+(.019993-101e-6*y)*this.dsin(2*b)+289e-6*this.dsin(3*b)),A=b+C,I=1.000001018*(1-T*T)/(1+T*this.dcos(A)),D=125.04-1934.136*y,L=k+-.00569+-.00478*this.dsin(D),U=(S=this.obliqeq(h))+.00256*this.dcos(D),G=this.rtd(Math.atan2(this.dcos(S)*this.dsin(k),this.dcos(k))),G=this.fixangle(G),Y=this.rtd(Math.asin(this.dsin(S)*this.dsin(k))),q=this.rtd(Math.atan2(this.dcos(U)*this.dsin(L),this.dcos(L))),[_,b,T,C,k,A,I,L,G,Y,q=this.fixangle(q),this.rtd(Math.asin(this.dsin(U)*this.dsin(L)))]}},{key:"equationOfTime",value:function(h){var y,m,b,C,_=void 0,T=void 0;return T=280.4664567+360007.6982779*(C=(h-this.J2000)/this.JulianMillennium)+.03032028*C*C+C*C*C/49931+-C*C*C*C/15300+-C*C*C*C*C/2e6,T=this.fixangle(T),y=this.sunpos(h)[10],m=this.nutation(h)[0],b=this.obliqeq(h)+this.nutation(h)[1],_=T+-.0057183+-y+m*this.dcos(b),(_-=20*Math.floor(_/20))/1440}}]),M}();V.exports=g},function(V,qt,lt){"use strict";V.exports={durationUnit:{year:["y","years","year"],month:["M","months","month"],day:["d","days","day"],hour:["h","hours","hour"],minute:["m","minutes","minute"],second:["s","second","seconds"],millisecond:["ms","milliseconds","millisecond"],week:["W","w","weeks","week"]}}},function(V,qt,lt){"use strict";var x=function(){function _(b,T){for(var C=0;C<T.length;C++){var k=T[C];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(b,k.key,k)}}return function(b,T,C){return T&&_(b.prototype,T),C&&_(b,C),b}}(),g=lt(0),M=(new g).normalizeDuration,h=(new g).absRound,y=(new g).absFloor,m=function(){function _(b,T){!function W(_,b){if(!(_ instanceof b))throw new TypeError("Cannot call a class as a function")}(this,_);var A,C={},k=this._data={},I=M(b,T);C[I.unit]=I.value,A=C.milliseconds||C.millisecond||C.ms||0;var D=C.years||C.year||C.y||0,L=C.months||C.month||C.M||0,U=C.weeks||C.w||C.week||0,S=C.days||C.d||C.day||0,G=C.hours||C.hour||C.h||0,Y=C.minutes||C.minute||C.m||0,q=C.seconds||C.second||C.s||0;return this._milliseconds=A+1e3*q+6e4*Y+36e5*G,this._days=S+7*U,this._months=L+12*D,k.milliseconds=A%1e3,q+=y(A/1e3),k.seconds=q%60,Y+=h(q/60),k.minutes=Y%60,G+=h(Y/60),k.hours=G%24,S+=h(G/24),S+=7*U,k.days=S%30,L+=h(S/30),k.months=L%12,D+=h(L/12),k.years=D,this}return x(_,[{key:"valueOf",value:function(){return this._milliseconds+864e5*this._days+2592e6*this._months}}]),_}();V.exports=m},function(V,qt,lt){"use strict";V.exports={gregorian:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],weekdays:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],weekdaysShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],weekdaysMin:["Su","Mo","Tu","We","Th","Fr","Sa"]},persian:{months:["Farvardin","Ordibehesht","Khordad","Tir","Mordad","Shahrivar","Mehr","Aban","Azar","Dey","Bahman","Esfand"],monthsShort:["Far","Ord","Kho","Tir","Mor","Sha","Meh","Aba","Aza","Dey","Bah","Esf"],weekdays:["Saturday","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday"],weekdaysShort:["Sat","Sun","Mon","Tue","Wed","Thu","Fri"],weekdaysMin:["Sa","Su","Mo","Tu","We","Th","Fr"],persianDaysName:["Urmazd","Bahman","Ordibehesht","Shahrivar","Sepandarmaz","Khurdad","Amordad","Dey-be-azar","Azar","Aban","Khorshid","Mah","Tir","Gush","Dey-be-mehr","Mehr","Sorush","Rashn","Farvardin","Bahram","Ram","Bad","Dey-be-din","Din","Ord","Ashtad","Asman","Zamyad","Mantre-sepand","Anaram","Ziadi"]}}},function(V,qt,lt){"use strict";V.exports={gregorian:{months:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),monthsShort:"\u0698\u0627\u0646\u0648\u06cc\u0647_\u0641\u0648\u0631\u06cc\u0647_\u0645\u0627\u0631\u0633_\u0622\u0648\u0631\u06cc\u0644_\u0645\u0647_\u0698\u0648\u0626\u0646_\u0698\u0648\u0626\u06cc\u0647_\u0627\u0648\u062a_\u0633\u067e\u062a\u0627\u0645\u0628\u0631_\u0627\u06a9\u062a\u0628\u0631_\u0646\u0648\u0627\u0645\u0628\u0631_\u062f\u0633\u0627\u0645\u0628\u0631".split("_"),weekdays:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysShort:"\u06cc\u06a9\u200c\u0634\u0646\u0628\u0647_\u062f\u0648\u0634\u0646\u0628\u0647_\u0633\u0647\u200c\u0634\u0646\u0628\u0647_\u0686\u0647\u0627\u0631\u0634\u0646\u0628\u0647_\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647_\u062c\u0645\u0639\u0647_\u0634\u0646\u0628\u0647".split("_"),weekdaysMin:"\u06cc_\u062f_\u0633_\u0686_\u067e_\u062c_\u0634".split("_")},persian:{months:["\u0641\u0631\u0648\u0631\u062f\u06cc\u0646","\u0627\u0631\u062f\u06cc\u0628\u0647\u0634\u062a","\u062e\u0631\u062f\u0627\u062f","\u062a\u06cc\u0631","\u0645\u0631\u062f\u0627\u062f","\u0634\u0647\u0631\u06cc\u0648\u0631","\u0645\u0647\u0631","\u0622\u0628\u0627\u0646","\u0622\u0630\u0631","\u062f\u06cc","\u0628\u0647\u0645\u0646","\u0627\u0633\u0641\u0646\u062f"],monthsShort:["\u0641\u0631\u0648","\u0627\u0631\u062f","\u062e\u0631\u062f","\u062a\u06cc\u0631","\u0645\u0631\u062f","\u0634\u0647\u0631","\u0645\u0647\u0631","\u0622\u0628\u0627","\u0622\u0630\u0631","\u062f\u06cc","\u0628\u0647\u0645","\u0627\u0633\u0641"],weekdays:["\u0634\u0646\u0628\u0647","\u06cc\u06a9\u0634\u0646\u0628\u0647","\u062f\u0648\u0634\u0646\u0628\u0647","\u0633\u0647 \u0634\u0646\u0628\u0647","\u0686\u0647\u0627\u0631 \u0634\u0646\u0628\u0647","\u067e\u0646\u062c\u200c\u0634\u0646\u0628\u0647","\u062c\u0645\u0639\u0647"],weekdaysShort:["\u0634","\u06cc","\u062f","\u0633","\u0686","\u067e","\u062c"],weekdaysMin:["\u0634","\u06cc","\u062f","\u0633","\u0686","\u067e","\u062c"],persianDaysName:["\u0627\u0648\u0631\u0645\u0632\u062f","\u0628\u0647\u0645\u0646","\u0627\u0648\u0631\u062f\u06cc\u0628\u0647\u0634\u062a","\u0634\u0647\u0631\u06cc\u0648\u0631","\u0633\u067e\u0646\u062f\u0627\u0631\u0645\u0630","\u062e\u0648\u0631\u062f\u0627\u062f","\u0627\u0645\u0631\u062f\u0627\u062f","\u062f\u06cc \u0628\u0647 \u0622\u0630\u0632","\u0622\u0630\u0632","\u0622\u0628\u0627\u0646","\u062e\u0648\u0631\u0634\u06cc\u062f","\u0645\u0627\u0647","\u062a\u06cc\u0631","\u06af\u0648\u0634","\u062f\u06cc \u0628\u0647 \u0645\u0647\u0631","\u0645\u0647\u0631","\u0633\u0631\u0648\u0634","\u0631\u0634\u0646","\u0641\u0631\u0648\u0631\u062f\u06cc\u0646","\u0628\u0647\u0631\u0627\u0645","\u0631\u0627\u0645","\u0628\u0627\u062f","\u062f\u06cc \u0628\u0647 \u062f\u06cc\u0646","\u062f\u06cc\u0646","\u0627\u0631\u062f","\u0627\u0634\u062a\u0627\u062f","\u0622\u0633\u0645\u0627\u0646","\u0632\u0627\u0645\u06cc\u0627\u062f","\u0645\u0627\u0646\u062a\u0631\u0647 \u0633\u067e\u0646\u062f","\u0627\u0646\u0627\u0631\u0627\u0645","\u0632\u06cc\u0627\u062f\u06cc"]}}},function(V,qt,lt){"use strict";var W=lt(1);W.calendarType="persian",W.leapYearMode="astronomical",W.localType="fa",V.exports=W},function(V,qt,lt){"use strict";V.exports=function g(){(function W(g,M){if(!(g instanceof M))throw new TypeError("Cannot call a class as a function")})(this,g),this.isInvalidDate=null,this.gDate=null,this.modifiedjulianday=0,this.julianday=0,this.gregserial={day:0},this.zone=0,this.gregorian={year:0,month:0,day:0,hour:0,minute:0,second:0,millisecond:0,weekday:0,unix:0,leap:0},this.juliancalendar={year:0,month:0,day:0,leap:0,weekday:0},this.islamic={year:0,month:0,day:0,leap:0,weekday:0},this.persianAlgo=this.persian={year:0,month:0,day:0,leap:0,weekday:0},this.persianAstro={year:0,month:0,day:0,leap:0,weekday:0},this.isoweek={year:0,week:0,day:0},this.isoday={year:0,day:0}}},function(V,qt,lt){"use strict";V.exports={isArray:function(W){return"[object Array]"===Object.prototype.toString.call(W)},isNumber:function(W){return"number"==typeof W},isDate:function(W){return W instanceof Date}}},function(V,qt,lt){"use strict";V.exports={validateInputArray:function(W){var x=!0;return(W[1]<1||W[1]>12)&&(x=!1),(W[2]<1||W[1]>31)&&(x=!1),(W[3]<0||W[3]>24)&&(x=!1),(W[4]<0||W[4]>60)&&(x=!1),(W[5]<0||W[5]>60)&&(x=!1),x}}}])}),function(V,qt){"object"==typeof exports&&"object"==typeof module?module.exports=qt():"function"==typeof define&&define.amd?define([],qt):"object"==typeof exports?exports.persianDatepicker=qt():V.persianDatepicker=qt()}(this,function(){return function(V){function qt(W){if(lt[W])return lt[W].exports;var x=lt[W]={i:W,l:!1,exports:{}};return V[W].call(x.exports,x,x.exports,qt),x.l=!0,x.exports}var lt={};return qt.m=V,qt.c=lt,qt.i=function(W){return W},qt.d=function(W,x,g){qt.o(W,x)||Object.defineProperty(W,x,{configurable:!1,enumerable:!0,get:g})},qt.n=function(W){var x=W&&W.__esModule?function(){return W.default}:function(){return W};return qt.d(x,"a",x),x},qt.o=function(W,x){return Object.prototype.hasOwnProperty.call(W,x)},qt.p="",qt(qt.s=5)}([function(V,qt,lt){"use strict";var g,x,W={debounce:function(x,g,M){var h;return function(){var y=this,m=arguments,b=M&&!h;clearTimeout(h),h=setTimeout(function(){h=null,M||x.apply(y,m)},g),b&&x.apply(y,m)}},log:function(x){console.log(x)},isMobile:(x=!1,g=navigator.userAgent||navigator.vendor||window.opera,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(g)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(g.substr(0,4)))&&(x=!0),x),debug:function(x,g){window.persianDatepickerDebug&&(x.constructor.name?console.log("Debug: "+x.constructor.name+" : "+g):console.log("Debug: "+g))},delay:function(x,g){clearTimeout(window.datepickerTimer),window.datepickerTimer=setTimeout(x,g)}};V.exports=W},function(V,qt,lt){"use strict";V.exports='\n<div id="plotId" class="datepicker-plot-area {{cssClass}}">\n    {{#navigator.enabled}}\n        <div data-navigator class="datepicker-navigator">\n            <div class="pwt-btn pwt-btn-next">{{navigator.text.btnNextText}}</div>\n            <div class="pwt-btn pwt-btn-switch">{{navigator.switch.text}}</div>\n            <div class="pwt-btn pwt-btn-prev">{{navigator.text.btnPrevText}}</div>\n        </div>\n    {{/navigator.enabled}}\n    <div class="datepicker-grid-view" >\n    {{#days.enabled}}\n        {{#days.viewMode}}\n        <div class="datepicker-day-view" >    \n            <div class="month-grid-box">\n                <div class="header">\n                    <div class="title"></div>\n                    <div class="header-row">\n                        {{#weekdays.list}}\n                            <div class="header-row-cell">{{.}}</div>\n                        {{/weekdays.list}}\n                    </div>\n                </div>    \n                <table cellspacing="0" class="table-days">\n                    <tbody>\n                        {{#days.list}}\n                           \n                            <tr>\n                                {{#.}}\n                                    {{#enabled}}\n                                        <td data-date="{{dataDate}}" data-unix="{{dataUnix}}" >\n                                            <span  class="{{#otherMonth}}other-month{{/otherMonth}}">{{title}}</span>\n                                            {{#altCalendarShowHint}}\n                                            <i  class="alter-calendar-day">{{alterCalTitle}}</i>\n                                            {{/altCalendarShowHint}}\n                                        </td>\n                                    {{/enabled}}\n                                    {{^enabled}}\n                                        <td data-date="{{dataDate}}" data-unix="{{dataUnix}}" class="disabled">\n                                            <span class="{{#otherMonth}}other-month{{/otherMonth}}">{{title}}</span>\n                                            {{#altCalendarShowHint}}\n                                            <i  class="alter-calendar-day">{{alterCalTitle}}</i>\n                                            {{/altCalendarShowHint}}\n                                        </td>\n                                    {{/enabled}}\n                                    \n                                {{/.}}\n                            </tr>\n                        {{/days.list}}\n                    </tbody>\n                </table>\n            </div>\n        </div>\n        {{/days.viewMode}}\n    {{/days.enabled}}\n    \n    {{#month.enabled}}\n        {{#month.viewMode}}\n            <div class="datepicker-month-view">\n                {{#month.list}}\n                    {{#enabled}}               \n                        <div data-year="{{year}}" data-month="{{dataMonth}}" class="month-item {{#selected}}selected{{/selected}}">{{title}}</small></div>\n                    {{/enabled}}\n                    {{^enabled}}               \n                        <div data-year="{{year}}"data-month="{{dataMonth}}" class="month-item month-item-disable {{#selected}}selected{{/selected}}">{{title}}</small></div>\n                    {{/enabled}}\n                {{/month.list}}\n            </div>\n        {{/month.viewMode}}\n    {{/month.enabled}}\n    \n    {{#year.enabled }}\n        {{#year.viewMode }}\n            <div class="datepicker-year-view" >\n                {{#year.list}}\n                    {{#enabled}}\n                        <div data-year="{{dataYear}}" class="year-item {{#selected}}selected{{/selected}}">{{title}}</div>\n                    {{/enabled}}\n                    {{^enabled}}\n                        <div data-year="{{dataYear}}" class="year-item year-item-disable {{#selected}}selected{{/selected}}">{{title}}</div>\n                    {{/enabled}}                    \n                {{/year.list}}\n            </div>\n        {{/year.viewMode }}\n    {{/year.enabled }}\n    \n    </div>\n    {{#time}}\n    {{#enabled}}\n    <div class="datepicker-time-view">\n        {{#hour.enabled}}\n            <div class="hour time-segment" data-time-key="hour">\n                <div class="up-btn" data-time-key="hour">\u25b2</div>\n                <input disabled value="{{hour.title}}" type="text" placeholder="hour" class="hour-input">\n                <div class="down-btn" data-time-key="hour">\u25bc</div>                    \n            </div>       \n            <div class="divider">\n                <span>:</span>\n            </div>\n        {{/hour.enabled}}\n        {{#minute.enabled}}\n            <div class="minute time-segment" data-time-key="minute" >\n                <div class="up-btn" data-time-key="minute">\u25b2</div>\n                <input disabled value="{{minute.title}}" type="text" placeholder="minute" class="minute-input">\n                <div class="down-btn" data-time-key="minute">\u25bc</div>\n            </div>        \n            <div class="divider second-divider">\n                <span>:</span>\n            </div>\n        {{/minute.enabled}}\n        {{#second.enabled}}\n            <div class="second time-segment" data-time-key="second"  >\n                <div class="up-btn" data-time-key="second" >\u25b2</div>\n                <input disabled value="{{second.title}}"  type="text" placeholder="second" class="second-input">\n                <div class="down-btn" data-time-key="second" >\u25bc</div>\n            </div>\n            <div class="divider meridian-divider"></div>\n            <div class="divider meridian-divider"></div>\n        {{/second.enabled}}\n        {{#meridian.enabled}}\n            <div class="meridian time-segment" data-time-key="meridian" >\n                <div class="up-btn" data-time-key="meridian">\u25b2</div>\n                <input disabled value="{{meridian.title}}" type="text" class="meridian-input">\n                <div class="down-btn" data-time-key="meridian">\u25bc</div>\n            </div>\n        {{/meridian.enabled}}\n    </div>\n    {{/enabled}}\n    {{/time}}\n    \n    {{#toolbox}}\n    {{#enabled}}\n    <div class="toolbox">\n        {{#toolbox.submitButton.enabled}}\n            <div class="pwt-btn-submit">{{submitButtonText}}</div>\n        {{/toolbox.submitButton.enabled}}        \n        {{#toolbox.todayButton.enabled}}\n            <div class="pwt-btn-today">{{todayButtonText}}</div>\n        {{/toolbox.todayButton.enabled}}        \n        {{#toolbox.calendarSwitch.enabled}}\n            <div class="pwt-btn-calendar">{{calendarSwitchText}}</div>\n        {{/toolbox.calendarSwitch.enabled}}\n    </div>\n    {{/enabled}}\n    {{^enabled}}\n        {{#onlyTimePicker}}\n        <div class="toolbox">\n            <div class="pwt-btn-submit">{{submitButtonText}}</div>\n        </div>\n        {{/onlyTimePicker}}\n    {{/enabled}}\n    {{/toolbox}}\n</div>\n'},function(V,qt,lt){"use strict";var x=function(){function k(A,I){for(var D=0;D<I.length;D++){var L=I[D];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(A,L.key,L)}}return function(A,I,D){return I&&k(A.prototype,I),D&&k(A,D),A}}(),g=lt(11),M=lt(12),h=lt(13),y=lt(6),m=lt(3),_=lt(7),b=lt(8),T=lt(10),C=function(){function k(A,I){return function W(k,A){if(!(k instanceof A))throw new TypeError("Cannot call a class as a function")}(this,k),this.components(A,I)}return x(k,[{key:"components",value:function(A,I){return this.initialUnix=null,this.inputElement=A,this.options=new b(I,this),this.PersianDate=new T(this),this.state=new g(this),this.api=new m(this),this.input=new y(this,A),this.view=new h(this),this.toolbox=new M(this),this.updateInput=function(D){this.input.update(D)},this.state.setViewDateTime("unix",this.input.getOnInitState()),this.state.setSelectedDateTime("unix",this.input.getOnInitState()),this.view.render(),this.navigator=new _(this),this.api}}]),k}();V.exports=C},function(V,qt,lt){"use strict";var x=function(){function M(h,y){for(var m=0;m<y.length;m++){var _=y[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}return function(h,y,m){return y&&M(h.prototype,y),m&&M(h,m),h}}(),g=function(){function M(h){(function W(M,h){if(!(M instanceof h))throw new TypeError("Cannot call a class as a function")})(this,M),this.model=h}return x(M,[{key:"show",value:function(){return this.model.view.show(),this.model.options.onShow(this.model),this.model}},{key:"getState",value:function(){return this.model.state}},{key:"hide",value:function(){return this.model.view.hide(),this.model.options.onHide(this.model),this.model}},{key:"toggle",value:function(){return this.model.view.toggle(),this.model.options.onToggle(this.model),this.model}},{key:"destroy",value:function(){this.model&&(this.model.view.destroy(),this.model.options.onDestroy(this.model),delete this.model)}},{key:"setDate",value:function(h){return this.model.state.setSelectedDateTime("unix",h),this.model.state.setViewDateTime("unix",h),this.model.state.setSelectedDateTime("unix",h),this.model.view.render(this.view),this.model.options.onSet(h),this.model}},{key:"options",get:function(){return this.model.options},set:function(h){var y=$.extend(!0,this.model.options,h);this.model.view.destroy(),this.model.components(this.model.inputElement,y)}}]),M}();V.exports=g},function(V,qt,lt){"use strict";var W=lt(0),x={calendarType:"persian",calendar:{persian:{locale:"fa",showHint:!1,leapYearMode:"algorithmic"},gregorian:{locale:"en",showHint:!1}},responsive:!0,inline:!1,initialValue:!0,initialValueType:"gregorian",persianDigit:!0,viewMode:"day",format:"LLLL",formatter:function(g){return this.model.PersianDate.date(g).format(this.format)},altField:!1,altFormat:"unix",altFieldFormatter:function(g){var h=this.altFormat.toLowerCase();return"gregorian"===h||"g"===h?new Date(g):"unix"===h||"u"===h?g:this.model.PersianDate.date(g).format(this.altFormat)},minDate:null,maxDate:null,navigator:{enabled:!0,scroll:{enabled:!0},text:{btnNextText:"<",btnPrevText:">"},onNext:function(g){W.debug(g,"Event: onNext")},onPrev:function(g){W.debug(g,"Event: onPrev")},onSwitch:function(g){W.debug(g,"dayPicker Event: onSwitch")}},toolbox:{enabled:!0,text:{btnToday:"\u0627\u0645\u0631\u0648\u0632"},submitButton:{enabled:W.isMobile,text:{fa:"\u062a\u0627\u06cc\u06cc\u062f",en:"submit"},onSubmit:function(g){W.debug(g,"dayPicker Event: onSubmit")}},todayButton:{enabled:!0,text:{fa:"\u0627\u0645\u0631\u0648\u0632",en:"today"},onToday:function(g){W.debug(g,"dayPicker Event: onToday")}},calendarSwitch:{enabled:!0,format:"MMMM",onSwitch:function(g){W.debug(g,"dayPicker Event: onSwitch")}},onToday:function(g){W.debug(g,"dayPicker Event: onToday")}},onlyTimePicker:!1,onlySelectOnDate:!0,checkDate:function(){return!0},checkMonth:function(){return!0},checkYear:function(){return!0},timePicker:{enabled:!1,step:1,hour:{enabled:!0,step:null},minute:{enabled:!0,step:null},second:{enabled:!0,step:null},meridian:{enabled:!1}},dayPicker:{enabled:!0,titleFormat:"YYYY MMMM",titleFormatter:function(g,M){return this.model.PersianDate.date([g,M]).format(this.model.options.dayPicker.titleFormat)},onSelect:function(g){W.debug(this,"dayPicker Event: onSelect : "+g)}},monthPicker:{enabled:!0,titleFormat:"YYYY",titleFormatter:function(g){return this.model.PersianDate.date(g).format(this.model.options.monthPicker.titleFormat)},onSelect:function(g){W.debug(this,"monthPicker Event: onSelect : "+g)}},yearPicker:{enabled:!0,titleFormat:"YYYY",titleFormatter:function(g){var M=12*parseInt(g/12,10),h=this.model.PersianDate.date([M]),y=this.model.PersianDate.date([M+11]);return h.format(this.model.options.yearPicker.titleFormat)+"-"+y.format(this.model.options.yearPicker.titleFormat)},onSelect:function(g){W.debug(this,"yearPicker Event: onSelect : "+g)}},onSelect:function(g){W.debug(this,"datepicker Event: onSelect : "+g)},onSet:function(g){W.debug(this,"datepicker Event: onSet : "+g)},position:"auto",onShow:function(g){W.debug(g,"Event: onShow ")},onHide:function(g){W.debug(g,"Event: onHide ")},onToggle:function(g){W.debug(g,"Event: onToggle ")},onDestroy:function(g){W.debug(g,"Event: onDestroy ")},autoClose:!1,template:null,observer:!1,inputDelay:800};V.exports=x},function(V,qt,lt){"use strict";var x,W=lt(2);(x=jQuery).fn.persianDatepicker=x.fn.pDatepicker=function(g){var M=Array.prototype.slice.call(arguments),y=this;return this||x.error("Invalid selector"),x(this).each(function(){var _=M.concat([]),b=x(this).data("datepicker"),T=null;b&&"string"==typeof _[0]?(T=_[0],b[T](_[0])):y.pDatePicker=new W(this,g)}),x(this).data("datepicker",y.pDatePicker),y.pDatePicker}},function(V,qt,lt){"use strict";var x=function(){function y(m,_){for(var b=0;b<_.length;b++){var T=_[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}return function(m,_,b){return _&&y(m.prototype,_),b&&y(m,b),m}}(),g=lt(0),M=lt(9),h=function(){function y(m,_){return function W(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}(this,y),this.model=m,this._firstUpdate=!0,this.elem=_,this.model.options.observer&&this.observe(),this.addInitialClass(),this.initialUnix=null,0==this.model.options.inline&&this._attachInputElementEvents(),this}return x(y,[{key:"addInitialClass",value:function(){$(this.elem).addClass("pwt-datepicker-input-element")}},{key:"parseInput",value:function(m){var _=new M,b=this;if(void 0!==_.parse(m)){var T=this.model.PersianDate.date(_.parse(m)).valueOf();b.model.state.setSelectedDateTime("unix",T),b.model.state.setViewDateTime("unix",T),b.model.view.render()}}},{key:"observe",value:function(){var _=this;$(_.elem).bind("paste",function(A){g.delay(function(){_.parseInput(A.target.value)},60)});var b=void 0,T=_.model.options.inputDelay,C=!1,k=[17,91];$(document).keydown(function(A){$.inArray(A.keyCode,k)>0&&(C=!0)}).keyup(function(A){$.inArray(A.keyCode,k)>0&&(C=!1)}),$(_.elem).bind("keyup",function(A){var I=$(this),D=!1;(8===A.keyCode||A.keyCode<105&&A.keyCode>96||A.keyCode<58&&A.keyCode>47||C&&(86==A.keyCode||$.inArray(A.keyCode,k)>0))&&(D=!0),D&&(clearTimeout(b),b=setTimeout(function(){!function m(A){_.parseInput(A.val())}(I)},T))}),$(_.elem).on("keydown",function(){clearTimeout(b)})}},{key:"_attachInputElementEvents",value:function(){var m=this,_=function b(T){$(T.target).is(m.elem)||$(T.target).is(m.model.view.$container)||0!=$(T.target).closest("#"+m.model.view.$container.attr("id")).length||$(T.target).is($(m.elem).children())||(m.model.api.hide(),$("body").unbind("click",b))};$(this.elem).on("focus click",g.debounce(function(b){return m.model.api.show(),!1===m.model.state.ui.isInline&&$("body").unbind("click",_).bind("click",_),g.isMobile&&$(this).blur(),b.stopPropagation(),!1},200)),$(this.elem).on("keydown",g.debounce(function(b){if(9===b.which)return m.model.api.hide(),!1},200))}},{key:"getInputPosition",value:function(){return $(this.elem).offset()}},{key:"getInputSize",value:function(){return{width:$(this.elem).outerWidth(),height:$(this.elem).outerHeight()}}},{key:"_updateAltField",value:function(m){var _=this.model.options.altFieldFormatter(m);$(this.model.options.altField).val(_)}},{key:"_updateInputField",value:function(m){var _=this.model.options.formatter(m);$(this.elem).val()!=_&&$(this.elem).val(_)}},{key:"update",value:function(m){0==this.model.options.initialValue&&this._firstUpdate?this._firstUpdate=!1:(this._updateInputField(m),this._updateAltField(m))}},{key:"getOnInitState",value:function(){var m=null,_=$(this.elem),b=void 0;if((b="INPUT"===_[0].nodeName?_[0].getAttribute("value"):_.data("date"))&&b.match("^([0-1][0-9]|2[0-3]):([0-5][0-9])(?::([0-5][0-9]))?$")){var T=b.split(":"),C=new Date;C.setHours(T[0]),C.setMinutes(T[1]),T[2]?C.setSeconds(T[2]):C.setSeconds(0),this.initialUnix=C.valueOf()}else{if("persian"===this.model.options.initialValueType&&b){var k=new M,A=new persianDate(k.parse(b)).valueOf();m=new Date(A).valueOf()}else"unix"===this.model.options.initialValueType&&b?m=parseInt(b):b&&(m=new Date(b).valueOf());this.initialUnix=m&&"undefined"!=m?m:(new Date).valueOf()}return this.initialUnix}}]),y}();V.exports=h},function(V,qt,lt){"use strict";var x=function(){function h(y,m){for(var _=0;_<m.length;_++){var b=m[_];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(y,b.key,b)}}return function(y,m,_){return m&&h(y.prototype,m),_&&h(y,_),y}}(),g=lt(14),M=function(){function h(y){return function W(h,y){if(!(h instanceof y))throw new TypeError("Cannot call a class as a function")}(this,h),this.model=y,this.liveAttach(),this._attachEvents(),this}return x(h,[{key:"liveAttach",value:function(){if(this.model.options.navigator.scroll.enabled){var y=this,m=$("#"+y.model.view.id+" .datepicker-grid-view")[0];g(m).wheel(function(_,b){b>0?y.model.state.navigate("next"):y.model.state.navigate("prev"),y.model.view.render(),_.preventDefault()}),this.model.options.timePicker.enabled&&$("#"+y.model.view.id+" .time-segment").each(function(){g(this).wheel(function(_,b){var T=$(_.target),C=T.data("time-key")?T.data("time-key"):T.parents("[data-time-key]").data("time-key");C&&(b>0?y.timeUp(C):y.timeDown(C)),y.model.view.render(),_.preventDefault()})})}}},{key:"timeUp",value:function(y){if(null!=this.model.options.timePicker[y]){var m=void 0,_=void 0,b=this;"meridian"==y?(m=12,_="PM"==this.model.state.view.meridian?this.model.PersianDate.date(this.model.state.selected.unixDate).add("hour",m).valueOf():this.model.PersianDate.date(this.model.state.selected.unixDate).subtract("hour",m).valueOf(),this.model.state.meridianToggle()):(m=this.model.options.timePicker[y].step,_=this.model.PersianDate.date(this.model.state.selected.unixDate).add(y,m).valueOf()),this.model.state.setViewDateTime("unix",_),this.model.state.setSelectedDateTime("unix",_),this.model.view.renderTimePartial(),clearTimeout(this.scrollDelayTimeDown),this.scrollDelayTimeUp=setTimeout(function(){b.model.view.markSelectedDay()},300)}}},{key:"timeDown",value:function(y){if(null!=this.model.options.timePicker[y]){var m=void 0,_=void 0,b=this;"meridian"==y?(m=12,_="AM"==this.model.state.view.meridian?this.model.PersianDate.date(this.model.state.selected.unixDate).add("hour",m).valueOf():this.model.PersianDate.date(this.model.state.selected.unixDate).subtract("hour",m).valueOf(),this.model.state.meridianToggle()):(m=this.model.options.timePicker[y].step,_=this.model.PersianDate.date(this.model.state.selected.unixDate).subtract(y,m).valueOf()),this.model.state.setViewDateTime("unix",_),this.model.state.setSelectedDateTime("unix",_),this.model.view.renderTimePartial(),clearTimeout(this.scrollDelayTimeDown),this.scrollDelayTimeDown=setTimeout(function(){b.model.view.markSelectedDay()},300)}}},{key:"_attachEvents",value:function(){var y=this;this.model.options.navigator.enabled&&$(document).on("click","#"+y.model.view.id+" .pwt-btn",function(){$(this).is(".pwt-btn-next")?(y.model.state.navigate("next"),y.model.view.render(),y.model.options.navigator.onNext(y.model)):$(this).is(".pwt-btn-switch")?(y.model.state.switchViewMode(),y.model.view.render(),y.model.options.navigator.onSwitch(y.model)):$(this).is(".pwt-btn-prev")&&(y.model.state.navigate("prev"),y.model.view.render(),y.model.options.navigator.onPrev(y.model))}),this.model.options.timePicker.enabled&&($(document).on("click","#"+y.model.view.id+" .up-btn",function(){var m=$(this).data("time-key");y.timeUp(m),y.model.options.onSelect(y.model.state.selected.unixDate)}),$(document).on("click","#"+y.model.view.id+" .down-btn",function(){var m=$(this).data("time-key");y.timeDown(m),y.model.options.onSelect(y.model.state.selected.unixDate)})),this.model.options.dayPicker.enabled&&$(document).on("click","#"+y.model.view.id+" .datepicker-day-view td:not(.disabled)",function(){var _,m=$(this).data("unix");y.model.state.setSelectedDateTime("unix",m),_=y.model.state.selected.month!==y.model.state.view.month,y.model.state.setViewDateTime("unix",y.model.state.selected.unixDate),y.model.options.autoClose&&(y.model.view.hide(),y.model.options.onHide(y)),_?y.model.view.render():y.model.view.markSelectedDay(),y.model.options.dayPicker.onSelect(m),y.model.options.onSelect(m)}),this.model.options.monthPicker.enabled&&$(document).on("click","#"+y.model.view.id+" .datepicker-month-view .month-item:not(.month-item-disable)",function(){var m=$(this).data("month"),_=$(this).data("year");y.model.state.switchViewModeTo("day"),y.model.options.onlySelectOnDate||(y.model.state.setSelectedDateTime("year",_),y.model.state.setSelectedDateTime("month",m),y.model.options.autoClose&&(y.model.view.hide(),y.model.options.onHide(y))),y.model.state.setViewDateTime("month",m),y.model.view.render(),y.model.options.monthPicker.onSelect(m),y.model.options.onSelect(y.model.state.selected.unixDate)}),this.model.options.yearPicker.enabled&&$(document).on("click","#"+y.model.view.id+" .datepicker-year-view .year-item:not(.year-item-disable)",function(){var m=$(this).data("year");y.model.state.switchViewModeTo("month"),y.model.options.onlySelectOnDate||(y.model.state.setSelectedDateTime("year",m),y.model.options.autoClose&&(y.model.view.hide(),y.model.options.onHide(y))),y.model.state.setViewDateTime("year",m),y.model.view.render(),y.model.options.yearPicker.onSelect(m),y.model.options.onSelect(y.model.state.selected.unixDate)})}}]),h}();V.exports=M},function(V,qt,lt){"use strict";var x=function(){function y(m,_){for(var b=0;b<_.length;b++){var T=_[b];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(m,T.key,T)}}return function(m,_,b){return _&&y(m.prototype,_),b&&y(m,b),m}}(),g=lt(4),M=lt(1),h=function(){function y(m,_){return function W(y,m){if(!(y instanceof m))throw new TypeError("Cannot call a class as a function")}(this,y),this.model=_,this._compatibility($.extend(!0,this,g,m))}return x(y,[{key:"_compatibility",value:function(m){m.inline&&(m.toolbox.submitButton.enabled=!1),m.template||(m.template=M),persianDate.toCalendar(m.calendarType),persianDate.toLocale(m.calendar[m.calendarType].locale),m.onlyTimePicker&&(m.dayPicker.enabled=!1,m.monthPicker.enabled=!1,m.yearPicker.enabled=!1,m.navigator.enabled=!1,m.toolbox.enabled=!1,m.timePicker.enabled=!0),null===m.timePicker.hour.step&&(m.timePicker.hour.step=m.timePicker.step),null===m.timePicker.minute.step&&(m.timePicker.minute.step=m.timePicker.step),null===m.timePicker.second.step&&(m.timePicker.second.step=m.timePicker.step),!1===m.dayPicker.enabled&&(m.onlySelectOnDate=!1),m._viewModeList=[],m.dayPicker.enabled&&m._viewModeList.push("day"),m.monthPicker.enabled&&m._viewModeList.push("month"),m.yearPicker.enabled&&m._viewModeList.push("year")}}]),y}();V.exports=h},function(V,qt,lt){"use strict";var x=function(){function M(h,y){for(var m=0;m<y.length;m++){var _=y[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}return function(h,y,m){return y&&M(h.prototype,y),m&&M(h,m),h}}(),g=function(){function M(){(function W(M,h){if(!(M instanceof h))throw new TypeError("Cannot call a class as a function")})(this,M),this.pattern={iso:/^(-?(?:[1-9][0-9]*)?[0-9]{4})-(1[0-2]|0[1-9])-(3[01]|0[1-9]|[12][0-9])T(2[0-3]|[01][0-9]):([0-5][0-9]):([0-5][0-9])(\\.[0-9]+)?(Z)?$/g,jalali:/^[1-4]\d{3}(\/|-|\.)((0?[1-6](\/|-|\.)((3[0-1])|([1-2][0-9])|(0?[1-9])))|((1[0-2]|(0?[7-9]))(\/|-|\.)(30|([1-2][0-9])|(0?[1-9]))))$/g}}return x(M,[{key:"parse",value:function(h){var m=new RegExp(this.pattern.iso),_=new RegExp(this.pattern.jalali);return String.prototype.toEnglishDigits=function(){var b="\u06f0".charCodeAt(0);return this.replace(/[\u06f0-\u06f9]/g,function(T){return T.charCodeAt(0)-b})},h=h.toEnglishDigits(),_.test(h)?h.split(/\/|-|\,|\./).map(Number):m.test(h)?h.split(/\/|-|\,|\:|\T|\Z/g).map(Number):void 0}}]),M}();V.exports=g},function(V,qt,lt){"use strict";var x=function(){function M(h,y){for(var m=0;m<y.length;m++){var _=y[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}return function(h,y,m){return y&&M(h.prototype,y),m&&M(h,m),h}}(),g=function(){function M(h){return function W(M,h){if(!(M instanceof h))throw new TypeError("Cannot call a class as a function")}(this,M),this.model=h,this.model.options.calendar_=this.model.options.calendarType,this.model.options.locale_=this.model.options.calendar[this.model.options.calendarType].locale,this}return x(M,[{key:"date",value:function(h){window.inspdCount||0===window.inspdCount?window.inspdCount++:window.inspdCount=0;var _=void 0;return _=persianDate.toCalendar(this.model.options.calendar_),this.model.options.calendar[this.model.options.calendarType].leapYearMode&&_.toLeapYearMode(this.model.options.calendar[this.model.options.calendarType].leapYearMode),new _(h).toLocale(this.model.options.locale_)}}]),M}();V.exports=g},function(V,qt,lt){"use strict";var x=function(){function M(h,y){for(var m=0;m<y.length;m++){var _=y[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}return function(h,y,m){return y&&M(h.prototype,y),m&&M(h,m),h}}(),g=function(){function M(h){return function W(M,h){if(!(M instanceof h))throw new TypeError("Cannot call a class as a function")}(this,M),this.model=h,this.filetredDate=this.model.options.minDate||this.model.options.maxDate,this.viewModeList=this.model.options._viewModeList,this.viewMode=this.viewModeList.indexOf(h.options.viewMode)>0?h.options.viewMode:this.viewModeList[0],this.viewModeIndex=this.viewModeList.indexOf(h.options.viewMode)>0?this.viewModeList.indexOf(h.options.viewMode):0,this.filterDate={start:{year:0,month:0,date:0,hour:0,minute:0,second:0,unixDate:0},end:{year:0,month:0,date:0,hour:0,minute:0,second:0,unixDate:0}},this.view={year:0,month:0,date:0,hour:0,minute:0,second:0,unixDate:0,dateObject:null,meridian:"AM"},this.selected={year:0,month:0,date:0,hour:0,hour12:0,minute:0,second:0,unixDate:0,dateObject:null},this.ui={isOpen:!1,isInline:this.model.options.inline},this._setFilterDate(this.model.options.minDate,this.model.options.maxDate),this}return x(M,[{key:"_setFilterDate",value:function(h,y){var m=this;h||(h=-2e15),y||(y=2e15);var _=m.model.PersianDate.date(h);m.filterDate.start.unixDate=h,m.filterDate.start.hour=_.hour(),m.filterDate.start.minute=_.minute(),m.filterDate.start.second=_.second(),m.filterDate.start.month=_.month(),m.filterDate.start.date=_.date(),m.filterDate.start.year=_.year();var b=m.model.PersianDate.date(y);m.filterDate.end.unixDate=y,m.filterDate.end.hour=b.hour(),m.filterDate.end.minute=b.minute(),m.filterDate.end.second=b.second(),m.filterDate.end.month=b.month(),m.filterDate.end.date=b.date(),m.filterDate.end.year=b.year()}},{key:"navigate",value:function(h){if("next"==h){if("year"==this.viewMode&&this.setViewDateTime("year",this.view.year+12),"month"==this.viewMode){var y=this.view.year+1;0===y&&(y=1),this.setViewDateTime("year",y)}if("day"==this.viewMode){var m=this.view.year+1;0===m&&(m=1),this.view.month+1==13?(this.setViewDateTime("year",m),this.setViewDateTime("month",1)):this.setViewDateTime("month",this.view.month+1)}}else{if("year"==this.viewMode&&this.setViewDateTime("year",this.view.year-12),"month"==this.viewMode){var _=this.view.year-1;0===_&&(_=-1),this.setViewDateTime("year",_)}if("day"==this.viewMode)if(this.view.month-1<=0){var b=this.view.year-1;0===b&&(b=-1),this.setViewDateTime("year",b),this.setViewDateTime("month",12)}else this.setViewDateTime("month",this.view.month-1)}}},{key:"switchViewMode",value:function(){return this.viewModeIndex=this.viewModeIndex+1>=this.viewModeList.length?0:this.viewModeIndex+1,this.viewMode=this.viewModeList[this.viewModeIndex]?this.viewModeList[this.viewModeIndex]:this.viewModeList[0],this._setViewDateTimeUnix(),this}},{key:"switchViewModeTo",value:function(h){this.viewModeList.indexOf(h)>=0&&(this.viewMode=h,this.viewModeIndex=this.viewModeList.indexOf(h))}},{key:"setSelectedDateTime",value:function(h,y){var m=this;switch(h){case"unix":m.selected.unixDate=y;var _=this.model.PersianDate.date(y);m.selected.year=_.year(),m.selected.month=_.month(),m.selected.date=_.date(),m.selected.hour=_.hour(),m.selected.hour12=_.format("hh"),m.selected.minute=_.minute(),m.selected.second=_.second();break;case"year":this.selected.year=y;break;case"month":this.selected.month=y;break;case"date":this.selected.date=y;break;case"hour":this.selected.hour=y;break;case"minute":this.selected.minute=y;break;case"second":this.selected.second=y}return m._updateSelectedUnix(),this}},{key:"_updateSelectedUnix",value:function(){return this.selected.dateObject=this.model.PersianDate.date([this.selected.year,this.selected.month,this.selected.date,this.view.hour,this.view.minute,this.view.second]),this.selected.unixDate=this.selected.dateObject.valueOf(),this.model.updateInput(this.selected.unixDate),this}},{key:"_setViewDateTimeUnix",value:function(){var h=(new persianDate).daysInMonth(this.view.year,this.view.month);return this.view.date>h&&(this.view.date=h),this.view.dateObject=this.model.PersianDate.date([this.view.year,this.view.month,this.view.date,this.view.hour,this.view.minute,this.view.second]),this.view.year=this.view.dateObject.year(),this.view.month=this.view.dateObject.month(),this.view.date=this.view.dateObject.date(),this.view.hour=this.view.dateObject.hour(),this.view.hour12=this.view.dateObject.format("hh"),this.view.minute=this.view.dateObject.minute(),this.view.second=this.view.dateObject.second(),this.view.unixDate=this.view.dateObject.valueOf(),this}},{key:"setViewDateTime",value:function(h,y){var m=this;switch(h){case"unix":var _=this.model.PersianDate.date(y);m.view.year=_.year(),m.view.month=_.month(),m.view.date=_.date(),m.view.hour=_.hour(),m.view.minute=_.minute(),m.view.second=_.second();break;case"year":this.view.year=y;break;case"month":this.view.month=y;break;case"date":this.view.date=y;break;case"hour":this.view.hour=y;break;case"minute":this.view.minute=y;break;case"second":this.view.second=y}return this._setViewDateTimeUnix(),this}},{key:"meridianToggle",value:function(){var h=this;"AM"===h.view.meridian?h.view.meridian="PM":"PM"===h.view.meridian&&(h.view.meridian="AM")}}]),M}();V.exports=g},function(V,qt,lt){"use strict";var x=function(){function M(h,y){for(var m=0;m<y.length;m++){var _=y[m];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(h,_.key,_)}}return function(h,y,m){return y&&M(h.prototype,y),m&&M(h,m),h}}(),g=function(){function M(h){return function W(M,h){if(!(M instanceof h))throw new TypeError("Cannot call a class as a function")}(this,M),this.model=h,this._attachEvents(),this}return x(M,[{key:"_toggleCalendartype",value:function(){var h=this;"persian"==h.model.options.calendar_?(h.model.options.calendar_="gregorian",h.model.options.locale_=this.model.options.calendar.gregorian.locale):(h.model.options.calendar_="persian",h.model.options.locale_=this.model.options.calendar.persian.locale)}},{key:"_attachEvents",value:function(){var h=this;$(document).on("click","#"+h.model.view.id+" .pwt-btn-today",function(){h.model.state.setSelectedDateTime("unix",(new Date).valueOf()),h.model.state.setViewDateTime("unix",(new Date).valueOf()),h.model.view.reRender(),h.model.options.toolbox.onToday(h.model),h.model.options.toolbox.todayButton.onToday(h.model)}),$(document).on("click","#"+h.model.view.id+" .pwt-btn-calendar",function(){h._toggleCalendartype(),h.model.state.setSelectedDateTime("unix",h.model.state.selected.unixDate),h.model.state.setViewDateTime("unix",h.model.state.view.unixDate),h.model.view.render(),h.model.options.toolbox.calendarSwitch.onSwitch(h.model)}),$(document).on("click","#"+h.model.view.id+" .pwt-btn-submit",function(){h.model.view.hide(),h.model.options.toolbox.submitButton.onSubmit(h.model),h.model.options.onHide(this)})}}]),M}();V.exports=g},function(V,qt,lt){"use strict";var g=function(T,C){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return function b(T,C){var k=[],A=!0,I=!1,D=void 0;try{for(var L,U=T[Symbol.iterator]();!(A=(L=U.next()).done)&&(k.push(L.value),!C||k.length!==C);A=!0);}catch(S){I=!0,D=S}finally{try{!A&&U.return&&U.return()}finally{if(I)throw D}}return k}(T,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")},M=function(){function b(T,C){for(var k=0;k<C.length;k++){var A=C[k];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(T,A.key,A)}}return function(T,C,k){return C&&b(T.prototype,C),k&&b(T,k),T}}(),h=lt(1),y=lt(0),m=lt(15),_=function(){function b(T){(function x(b,T){if(!(b instanceof T))throw new TypeError("Cannot call a class as a function")})(this,b),this.yearsViewCount=12,this.model=T,this.rendered=null,this.$container=null,this.id="persianDateInstance-"+parseInt(1e3*Math.random(100));return this.model.state.ui.isInline?this.$container=$('<div  id="'+this.id+'" class="datepicker-container-inline"></div>').appendTo(this.model.inputElement):(this.$container=$('<div  id="'+this.id+'" class="datepicker-container"></div>').appendTo("body"),this.hide(),this.setPickerBoxPosition(),this.addCompatibilityClass()),this}return M(b,[{key:"addCompatibilityClass",value:function(){y.isMobile&&this.model.options.responsive&&this.$container.addClass("pwt-mobile-view")}},{key:"destroy",value:function(){this.$container.remove()}},{key:"setPickerBoxPosition",value:function(){var T=this.model.input.getInputPosition(),C=this.model.input.getInputSize();if(y.isMobile&&this.model.options.responsive)return!1;"auto"===this.model.options.position?this.$container.css({left:T.left+"px",top:C.height+T.top+"px"}):this.$container.css({left:this.model.options.position[1]+T.left+"px",top:this.model.options.position[0]+T.top+"px"})}},{key:"show",value:function(){this.$container.removeClass("pwt-hide"),this.setPickerBoxPosition()}},{key:"hide",value:function(){this.$container.addClass("pwt-hide")}},{key:"toggle",value:function(){this.$container.toggleClass("pwt-hide")}},{key:"_getNavSwitchText",value:function(T){var C=void 0;return"day"==this.model.state.viewMode?C=this.model.options.dayPicker.titleFormatter.call(this,T.year,T.month):"month"==this.model.state.viewMode?C=this.model.options.monthPicker.titleFormatter.call(this,T.dateObject.valueOf()):"year"==this.model.state.viewMode&&(C=this.model.options.yearPicker.titleFormatter.call(this,T.year)),C}},{key:"checkYearAccess",value:function(T){if(this.model.state.filetredDate){var C=this.model.state.filterDate.start.year,k=this.model.state.filterDate.end.year;if(C&&T<C||k&&T>k)return!1}return this.model.options.checkYear(T)}},{key:"_getYearViewModel",value:function(T){var C=this,k=this.model.options.yearPicker.enabled;if(!k)return{enabled:!1};var A=[].concat(function W(b){if(Array.isArray(b)){for(var T=0,C=Array(b.length);T<b.length;T++)C[T]=b[T];return C}return Array.from(b)}(Array(this.yearsViewCount).keys())).map(function(tt){return tt+parseInt(T.year/C.yearsViewCount)*C.yearsViewCount}),I=[],D=this.model.PersianDate.date(),L=!0,U=!1,S=void 0;try{for(var G,Y=A[Symbol.iterator]();!(L=(G=Y.next()).done);L=!0){var q=G.value;D.year([q]),I.push({title:D.format("YYYY"),enabled:this.checkYearAccess(q),dataYear:q,selected:this.model.state.selected.year==q})}}catch(tt){U=!0,S=tt}finally{try{!L&&Y.return&&Y.return()}finally{if(U)throw S}}return{enabled:k,viewMode:"year"==this.model.state.viewMode,list:I}}},{key:"checkMonthAccess",value:function(T){T+=1;var C=this.model.state.view.year;if(this.model.state.filetredDate){var k=this.model.state.filterDate.start.month,A=this.model.state.filterDate.end.month,I=this.model.state.filterDate.start.year,D=this.model.state.filterDate.end.year;if(k&&A&&(C==D&&T>A||C>D)||C==I&&T<k||C<I||A&&(C==D&&T>A||C>D)||k&&(C==I&&T<k||C<I))return!1}return this.model.options.checkMonth(T,C)}},{key:"_getMonthViewModel",value:function(){var T=this.model.options.monthPicker.enabled;if(!T)return{enabled:!1};var C=[],A=!0,I=!1,D=void 0;try{for(var L,U=this.model.PersianDate.date().rangeName().months.entries()[Symbol.iterator]();!(A=(L=U.next()).done);A=!0){var S=g(L.value,2),G=S[0],Y=S[1];C.push({title:Y,enabled:this.checkMonthAccess(G),year:this.model.state.view.year,dataMonth:G+1,selected:this.model.state.selected.year==this.model.state.view.year&&this.model.state.selected.month==G+1})}}catch(q){I=!0,D=q}finally{try{!A&&U.return&&U.return()}finally{if(I)throw D}}return{enabled:T,viewMode:"month"==this.model.state.viewMode,list:C}}},{key:"checkDayAccess",value:function(T){var C=this;if(C.minDate=this.model.options.minDate,C.maxDate=this.model.options.maxDate,C.model.state.filetredDate)if(C.minDate&&C.maxDate){if(C.minDate=C.model.PersianDate.date(C.minDate).startOf("day").valueOf(),C.maxDate=C.model.PersianDate.date(C.maxDate).endOf("day").valueOf(),!(T>=C.minDate&&T<=C.maxDate))return!1}else if(C.minDate){if(C.minDate=C.model.PersianDate.date(C.minDate).startOf("day").valueOf(),T<=C.minDate)return!1}else if(C.maxDate&&(C.maxDate=C.model.PersianDate.date(C.maxDate).endOf("day").valueOf(),T>=C.maxDate))return!1;return C.model.options.checkDate(T)}},{key:"_getDayViewModel",value:function(){if("day"!=this.model.state.viewMode)return[];var T=this.model.options.dayPicker.enabled;if(!T)return{enabled:!1};var C=this.model.state.view.month,k=this.model.state.view.year,A=this.model.PersianDate.date(),I=A.daysInMonth(k,C),D=A.getFirstWeekDayOfMonth(k,C)-1,L=[],U=0,S=0,Y=this._getAnotherCalendar(),q=!0,tt=!1,ht=void 0;try{for(var ut,bt=[["null","null","null","null","null","null","null"],["null","null","null","null","null","null","null"],["null","null","null","null","null","null","null"],["null","null","null","null","null","null","null"],["null","null","null","null","null","null","null"],["null","null","null","null","null","null","null"]].entries()[Symbol.iterator]();!(q=(ut=bt.next()).done);q=!0){var F=g(ut.value,2),B=F[0],X=F[1];L[B]=[];var J=!0,K=!1,at=void 0;try{for(var Q,gt=X.entries()[Symbol.iterator]();!(J=(Q=gt.next()).done);J=!0){var Ot=g(Q.value,1)[0],yt=void 0,Et=void 0;0===B&&Ot<D?(yt=this.model.state.view.dateObject.startOf("month").hour(12).subtract("days",D-Ot),Et=!0):0===B&&Ot>=D||B<=5&&U<I?(U+=1,yt=new persianDate([this.model.state.view.year,this.model.state.view.month,U]),Et=!1):(S+=1,yt=this.model.state.view.dateObject.endOf("month").hour(12).add("days",S),Et=!0),L[B].push({title:yt.format("D"),alterCalTitle:new persianDate(yt.valueOf()).toCalendar(Y[0]).toLocale(Y[1]).format("D"),dataDate:[yt.year(),yt.month(),yt.date()].join(","),dataUnix:yt.hour(12).valueOf(),otherMonth:Et,enabled:this.checkDayAccess(yt.valueOf())})}}catch(Mt){K=!0,at=Mt}finally{try{!J&&gt.return&&gt.return()}finally{if(K)throw at}}}}catch(Mt){tt=!0,ht=Mt}finally{try{!q&&bt.return&&bt.return()}finally{if(tt)throw ht}}return{enabled:T,viewMode:"day"==this.model.state.viewMode,list:L}}},{key:"markSelectedDay",value:function(){var T=this.model.state.selected;this.$container.find(".table-days td").each(function(){$(this).data("date")==[T.year,T.month,T.date].join(",")?$(this).addClass("selected"):$(this).removeClass("selected")})}},{key:"markToday",value:function(){var T=new persianDate;this.$container.find(".table-days td").each(function(){$(this).data("date")==[T.year(),T.month(),T.date()].join(",")?$(this).addClass("today"):$(this).removeClass("today")})}},{key:"_getTimeViewModel",value:function(){var T=this.model.options.timePicker.enabled;if(!T)return{enabled:!1};return{enabled:T,hour:{title:this.model.options.timePicker.meridian.enabled?this.model.state.view.dateObject.format("hh"):this.model.state.view.dateObject.format("HH"),enabled:this.model.options.timePicker.hour.enabled},minute:{title:this.model.state.view.dateObject.format("mm"),enabled:this.model.options.timePicker.minute.enabled},second:{title:this.model.state.view.dateObject.format("ss"),enabled:this.model.options.timePicker.second.enabled},meridian:{title:this.model.state.view.dateObject.format("a"),enabled:this.model.options.timePicker.meridian.enabled}}}},{key:"_getWeekViewModel",value:function(){return{enabled:!0,list:this.model.PersianDate.date().rangeName().weekdaysMin}}},{key:"getCssClass",value:function(){return[this.model.state.ui.isInline?"datepicker-plot-area-inline-view":"",this.model.options.timePicker.meridian.enabled?"":"datepicker-state-no-meridian",this.model.options.onlyTimePicker?"datepicker-state-only-time":"",this.model.options.timePicker.second.enabled?"":"datepicker-state-no-second","gregorian"==this.model.options.calendar_?"datepicker-gregorian":"datepicker-persian"].join(" ")}},{key:"getViewModel",value:function(T){var C=this._getAnotherCalendar();return{plotId:"",navigator:{enabled:this.model.options.navigator.enabled,switch:{enabled:!0,text:this._getNavSwitchText(T)},text:this.model.options.navigator.text},selected:this.model.state.selected,time:this._getTimeViewModel(T),days:this._getDayViewModel(T),weekdays:this._getWeekViewModel(T),month:this._getMonthViewModel(T),year:this._getYearViewModel(T),toolbox:this.model.options.toolbox,cssClass:this.getCssClass(),onlyTimePicker:this.model.options.onlyTimePicker,altCalendarShowHint:this.model.options.calendar[C[0]].showHint,calendarSwitchText:this.model.state.view.dateObject.toCalendar(C[0]).toLocale(C[1]).format(this.model.options.toolbox.calendarSwitch.format),todayButtonText:this._getButtonText().todayButtontext,submitButtonText:this._getButtonText().submitButtonText}}},{key:"_getButtonText",value:function(){var T={};return"fa"==this.model.options.locale_?(T.todayButtontext=this.model.options.toolbox.todayButton.text.fa,T.submitButtonText=this.model.options.toolbox.submitButton.text.fa):"en"==this.model.options.locale_&&(T.todayButtontext=this.model.options.toolbox.todayButton.text.en,T.submitButtonText=this.model.options.toolbox.submitButton.text.en),T}},{key:"_getAnotherCalendar",value:function(){var T=this,C=void 0,k=void 0;return"persian"==T.model.options.calendar_?(C="gregorian",k=T.model.options.calendar.gregorian.locale):(C="persian",k=T.model.options.calendar.persian.locale),[C,k]}},{key:"renderTimePartial",value:function(){var T=this._getTimeViewModel(this.model.state.view);this.$container.find('[data-time-key="hour"] input').val(T.hour.title),this.$container.find('[data-time-key="minute"] input').val(T.minute.title),this.$container.find('[data-time-key="second"] input').val(T.second.title),this.$container.find('[data-time-key="meridian"] input').val(T.meridian.title)}},{key:"render",value:function(T){T||(T=this.model.state.view),y.debug(this,"render"),m.parse(h),this.rendered=$(m.render(this.model.options.template,this.getViewModel(T))),this.$container.empty().append(this.rendered),this.markSelectedDay(),this.markToday(),this.afterRender()}},{key:"reRender",value:function(){var T=this.model.state.view;this.render(T)}},{key:"afterRender",value:function(){this.model.navigator&&this.model.navigator.liveAttach()}}]),b}();V.exports=_},function(V,qt,lt){!function(W,x){"use strict";var M,h,g=function(y){return new g.Instance(y)};g.SUPPORT="wheel",g.ADD_EVENT="addEventListener",g.REMOVE_EVENT="removeEventListener",g.PREFIX="",g.READY=!1,g.Instance=function(y){return g.READY||(g.normalise.browser(),g.READY=!0),this.element=y,this.handlers=[],this},g.Instance.prototype={wheel:function(y,m){return g.event.add(this,g.SUPPORT,y,m),"DOMMouseScroll"===g.SUPPORT&&g.event.add(this,"MozMousePixelScroll",y,m),this},unwheel:function(y,m){return void 0===y&&(y=this.handlers.slice(-1)[0])&&(y=y.original),g.event.remove(this,g.SUPPORT,y,m),"DOMMouseScroll"===g.SUPPORT&&g.event.remove(this,"MozMousePixelScroll",y,m),this}},g.event={add:function(y,m,_,b){var T=_;_=function(C){C||(C=W.event);var k=g.normalise.event(C),A=g.normalise.delta(C);return T(k,A[0],A[1],A[2])},y.element[g.ADD_EVENT](g.PREFIX+m,_,b||!1),y.handlers.push({original:T,normalised:_})},remove:function(y,m,_,b){for(var T,C=_,k={},A=0,I=y.handlers.length;A<I;++A)k[y.handlers[A].original]=y.handlers[A];for(var D in _=(T=k[C]).normalised,y.element[g.REMOVE_EVENT](g.PREFIX+m,_,b||!1),y.handlers)if(y.handlers[D]==T){y.handlers.splice(D,1);break}}},g.normalise={browser:function(){"onwheel"in x||x.documentMode>=9||(g.SUPPORT=void 0!==x.onmousewheel?"mousewheel":"DOMMouseScroll"),W.addEventListener||(g.ADD_EVENT="attachEvent",g.REMOVE_EVENT="detachEvent",g.PREFIX="on")},event:function(y){var m={originalEvent:y,target:y.target||y.srcElement,type:"wheel",deltaMode:"MozMousePixelScroll"===y.type?0:1,deltaX:0,deltaZ:0,preventDefault:function(){y.preventDefault?y.preventDefault():y.returnValue=!1},stopPropagation:function(){y.stopPropagation?y.stopPropagation():y.cancelBubble=!1}};return y.wheelDelta&&(m.deltaY=-.025*y.wheelDelta),y.wheelDeltaX&&(m.deltaX=-.025*y.wheelDeltaX),y.detail&&(m.deltaY=y.detail),m},delta:function(y){var m,_=0,b=0,T=0,C=0,k=0;return y.deltaY&&(_=T=-1*y.deltaY),y.deltaX&&(_=-1*(b=y.deltaX)),y.wheelDelta&&(_=y.wheelDelta),y.wheelDeltaY&&(T=y.wheelDeltaY),y.wheelDeltaX&&(b=-1*y.wheelDeltaX),y.detail&&(_=-1*y.detail),0===_?[0,0,0]:(C=Math.abs(_),(!M||C<M)&&(M=C),k=Math.max(Math.abs(T),Math.abs(b)),(!h||k<h)&&(h=k),m=_>0?"floor":"ceil",[_=Math[m](_/M),b=Math[m](b/h),T=Math[m](T/h)])}},"function"==typeof W.define&&W.define.amd?W.define("hamster",[],function(){return g}):V.exports=g}(window,window.document)},function(V,qt,lt){var W,x,g,h;h=function(M){function h(K){return"function"==typeof K}function m(K){return K.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}function _(K,at){return null!=K&&"object"==typeof K&&at in K}function b(K,at){return null!=K&&"object"!=typeof K&&K.hasOwnProperty&&K.hasOwnProperty(at)}function C(K){return!function T(K,at){return q.call(K,at)}(tt,K)}function L(K){this.string=K,this.tail=K,this.pos=0}function U(K,at){this.view=K,this.cache={".":this.view},this.parent=at}function S(){this.cache={}}var G=Object.prototype.toString,Y=Array.isArray||function(K){return"[object Array]"===G.call(K)},q=RegExp.prototype.test,tt=/\S/,ht={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;","`":"&#x60;","=":"&#x3D;"},ut=/\s*/,bt=/\s+/,F=/\s*=/,B=/\s*\}/,X=/#|\^|\/|>|\{|&|=|!/;L.prototype.eos=function(){return""===this.tail},L.prototype.scan=function(K){var at=this.tail.match(K);if(!at||0!==at.index)return"";var Q=at[0];return this.tail=this.tail.substring(Q.length),this.pos+=Q.length,Q},L.prototype.scanUntil=function(K){var at,Q=this.tail.search(K);switch(Q){case-1:at=this.tail,this.tail="";break;case 0:at="";break;default:at=this.tail.substring(0,Q),this.tail=this.tail.substring(Q)}return this.pos+=at.length,at},U.prototype.push=function(K){return new U(K,this)},U.prototype.lookup=function(K){var at,Q=this.cache;if(Q.hasOwnProperty(K))at=Q[K];else{for(var gt,ot,Ot,yt=this,Et=!1;yt;){if(K.indexOf(".")>0)for(gt=yt.view,ot=K.split("."),Ot=0;null!=gt&&Ot<ot.length;)Ot===ot.length-1&&(Et=_(gt,ot[Ot])||b(gt,ot[Ot])),gt=gt[ot[Ot++]];else gt=yt.view[K],Et=_(yt.view,K);if(Et){at=gt;break}yt=yt.parent}Q[K]=at}return h(at)&&(at=at.call(this.view)),at},S.prototype.clearCache=function(){this.cache={}},S.prototype.parse=function(K,at){var Q=this.cache,gt=K+":"+(at||M.tags).join(":"),ot=Q[gt];return null==ot&&(ot=Q[gt]=function A(K,at){function Q(fe){if("string"==typeof fe&&(fe=fe.split(bt,2)),!Y(fe)||2!==fe.length)throw new Error("Invalid tags: "+fe);gt=new RegExp(m(fe[0])+"\\s*"),ot=new RegExp("\\s*"+m(fe[1])),Ot=new RegExp("\\s*"+m("}"+fe[1]))}if(!K)return[];var gt,ot,Ot,yt=[],Et=[],Mt=[],jt=!1,Ut=!1;Q(at||M.tags);for(var le,Zt,ie,Ht,_t,Xt,Gt=new L(K);!Gt.eos();){if(le=Gt.pos,ie=Gt.scanUntil(gt))for(var Pt=0,he=ie.length;Pt<he;++Pt)C(Ht=ie.charAt(Pt))?Mt.push(Et.length):Ut=!0,Et.push(["text",Ht,le,le+1]),le+=1,"\n"===Ht&&function(){if(jt&&!Ut)for(;Mt.length;)delete Et[Mt.pop()];else Mt=[];jt=!1,Ut=!1}();if(!Gt.scan(gt))break;if(jt=!0,Zt=Gt.scan(X)||"name",Gt.scan(ut),"="===Zt?(ie=Gt.scanUntil(F),Gt.scan(F),Gt.scanUntil(ot)):"{"===Zt?(ie=Gt.scanUntil(Ot),Gt.scan(B),Gt.scanUntil(ot),Zt="&"):ie=Gt.scanUntil(ot),!Gt.scan(ot))throw new Error("Unclosed tag at "+Gt.pos);if(_t=[Zt,ie,le,Gt.pos],Et.push(_t),"#"===Zt||"^"===Zt)yt.push(_t);else if("/"===Zt){if(!(Xt=yt.pop()))throw new Error('Unopened section "'+ie+'" at '+le);if(Xt[1]!==ie)throw new Error('Unclosed section "'+Xt[1]+'" at '+le)}else"name"===Zt||"{"===Zt||"&"===Zt?Ut=!0:"="===Zt&&Q(ie)}if(Xt=yt.pop())throw new Error('Unclosed section "'+Xt[1]+'" at '+Gt.pos);return function D(K){for(var at,gt=[],ot=gt,Ot=[],yt=0,Et=K.length;yt<Et;++yt)switch(at=K[yt],at[0]){case"#":case"^":ot.push(at),Ot.push(at),ot=at[4]=[];break;case"/":Ot.pop()[5]=at[2],ot=Ot.length>0?Ot[Ot.length-1][4]:gt;break;default:ot.push(at)}return gt}(function I(K){for(var at,Q,gt=[],ot=0,Ot=K.length;ot<Ot;++ot)(at=K[ot])&&("text"===at[0]&&Q&&"text"===Q[0]?(Q[1]+=at[1],Q[3]=at[3]):(gt.push(at),Q=at));return gt}(Et))}(K,at)),ot},S.prototype.render=function(K,at,Q,gt){var ot=this.parse(K,gt),Ot=at instanceof U?at:new U(at);return this.renderTokens(ot,Ot,Q,K,gt)},S.prototype.renderTokens=function(K,at,Q,gt,ot){for(var Ot,yt,Et,Mt="",jt=0,Ut=K.length;jt<Ut;++jt)Et=void 0,"#"===(yt=(Ot=K[jt])[0])?Et=this.renderSection(Ot,at,Q,gt):"^"===yt?Et=this.renderInverted(Ot,at,Q,gt):">"===yt?Et=this.renderPartial(Ot,at,Q,ot):"&"===yt?Et=this.unescapedValue(Ot,at):"name"===yt?Et=this.escapedValue(Ot,at):"text"===yt&&(Et=this.rawValue(Ot)),void 0!==Et&&(Mt+=Et);return Mt},S.prototype.renderSection=function(K,at,Q,gt){var Ot=this,yt="",Et=at.lookup(K[1]);if(Et){if(Y(Et))for(var Mt=0,jt=Et.length;Mt<jt;++Mt)yt+=this.renderTokens(K[4],at.push(Et[Mt]),Q,gt);else if("object"==typeof Et||"string"==typeof Et||"number"==typeof Et)yt+=this.renderTokens(K[4],at.push(Et),Q,gt);else if(h(Et)){if("string"!=typeof gt)throw new Error("Cannot use higher-order sections without the original template");null!=(Et=Et.call(at.view,gt.slice(K[3],K[5]),function ot(Ut){return Ot.render(Ut,at,Q)}))&&(yt+=Et)}else yt+=this.renderTokens(K[4],at,Q,gt);return yt}},S.prototype.renderInverted=function(K,at,Q,gt){var ot=at.lookup(K[1]);if(!ot||Y(ot)&&0===ot.length)return this.renderTokens(K[4],at,Q,gt)},S.prototype.renderPartial=function(K,at,Q,gt){if(Q){var ot=h(Q)?Q(K[1]):Q[K[1]];return null!=ot?this.renderTokens(this.parse(ot,gt),at,Q,ot):void 0}},S.prototype.unescapedValue=function(K,at){var Q=at.lookup(K[1]);if(null!=Q)return Q},S.prototype.escapedValue=function(K,at){var Q=at.lookup(K[1]);if(null!=Q)return M.escape(Q)},S.prototype.rawValue=function(K){return K[1]},M.name="mustache.js",M.version="3.0.1",M.tags=["{{","}}"];var J=new S;return M.clearCache=function(){return J.clearCache()},M.parse=function(K,at){return J.parse(K,at)},M.render=function(K,at,Q,gt){if("string"!=typeof K)throw new TypeError('Invalid template! Template should be a "string" but "'+function y(K){return Y(K)?"array":typeof K}(K)+'" was given as the first argument for mustache#render(template, view, partials)');return J.render(K,at,Q,gt)},M.to_html=function(K,at,Q,gt){var ot=M.render(K,at,Q);if(!h(gt))return ot;gt(ot)},M.escape=function k(K){return String(K).replace(/[&<>"'`=\/]/g,function(at){return ht[at]})},M.Scanner=L,M.Context=U,M.Writer=S,M},"object"==typeof qt&&qt&&"string"!=typeof qt.nodeName?h(qt):(x=[qt],void 0!==(g="function"==typeof(W=h)?W.apply(qt,x):W)&&(V.exports=g))}])}),function(V){"function"==typeof define&&define.amd?define(["jquery"],V):"object"==typeof module&&module.exports?module.exports=function(qt,lt){return void 0===lt&&(lt=typeof window<"u"?require("jquery"):require("jquery")(qt)),V(lt),lt}:V(jQuery)}(function(V){var qt=function(){if(V&&V.fn&&V.fn.select2&&V.fn.select2.amd)var W=V.fn.select2.amd;var x,g,M;return W&&W.requirejs||(W?g=W:W={},function(h){function y(F,B){return ht.call(F,B)}function m(F,B){var X,J,K,at,Q,gt,ot,Ot,yt,Et,Mt,Ut=B&&B.split("/"),le=q.map,Zt=le&&le["*"]||{};if(F){for(Q=(F=F.split("/")).length-1,q.nodeIdCompat&&bt.test(F[Q])&&(F[Q]=F[Q].replace(bt,"")),"."===F[0].charAt(0)&&Ut&&(F=Ut.slice(0,Ut.length-1).concat(F)),yt=0;yt<F.length;yt++)if("."===(Mt=F[yt]))F.splice(yt,1),yt-=1;else if(".."===Mt){if(0===yt||1===yt&&".."===F[2]||".."===F[yt-1])continue;yt>0&&(F.splice(yt-1,2),yt-=2)}F=F.join("/")}if((Ut||Zt)&&le){for(yt=(X=F.split("/")).length;yt>0;yt-=1){if(J=X.slice(0,yt).join("/"),Ut)for(Et=Ut.length;Et>0;Et-=1)if((K=le[Ut.slice(0,Et).join("/")])&&(K=K[J])){at=K,gt=yt;break}if(at)break;!ot&&Zt&&Zt[J]&&(ot=Zt[J],Ot=yt)}!at&&ot&&(at=ot,gt=Ot),at&&(X.splice(0,gt,at),F=X.join("/"))}return F}function _(F,B){return function(){var X=ut.call(arguments,0);return"string"!=typeof X[0]&&1===X.length&&X.push(null),L.apply(h,X.concat([F,B]))}}function T(F){return function(B){G[F]=B}}function C(F){if(y(Y,F)){var B=Y[F];delete Y[F],tt[F]=!0,D.apply(h,B)}if(!y(G,F)&&!y(tt,F))throw new Error("No "+F);return G[F]}function k(F){var B,X=F?F.indexOf("!"):-1;return X>-1&&(B=F.substring(0,X),F=F.substring(X+1,F.length)),[B,F]}function A(F){return F?k(F):[]}function I(F){return function(){return q&&q.config&&q.config[F]||{}}}var D,L,U,S,G={},Y={},q={},tt={},ht=Object.prototype.hasOwnProperty,ut=[].slice,bt=/\.js$/;U=function(F,B){var X,J=k(F),K=J[0],at=B[1];return F=J[1],K&&(X=C(K=m(K,at))),K?F=X&&X.normalize?X.normalize(F,function b(F){return function(B){return m(B,F)}}(at)):m(F,at):(K=(J=k(F=m(F,at)))[0],F=J[1],K&&(X=C(K))),{f:K?K+"!"+F:F,n:F,pr:K,p:X}},S={require:function(F){return _(F)},exports:function(F){var B=G[F];return void 0!==B?B:G[F]={}},module:function(F){return{id:F,uri:"",exports:G[F],config:I(F)}}},D=function(F,B,X,J){var K,at,Q,gt,ot,Ot,yt,Et=[],Mt=typeof X;if(Ot=A(J=J||F),"undefined"===Mt||"function"===Mt){for(B=!B.length&&X.length?["require","exports","module"]:B,ot=0;ot<B.length;ot+=1)if("require"===(at=(gt=U(B[ot],Ot)).f))Et[ot]=S.require(F);else if("exports"===at)Et[ot]=S.exports(F),yt=!0;else if("module"===at)K=Et[ot]=S.module(F);else if(y(G,at)||y(Y,at)||y(tt,at))Et[ot]=C(at);else{if(!gt.p)throw new Error(F+" missing "+at);gt.p.load(gt.n,_(J,!0),T(at),{}),Et[ot]=G[at]}Q=X?X.apply(G[F],Et):void 0,F&&(K&&K.exports!==h&&K.exports!==G[F]?G[F]=K.exports:Q===h&&yt||(G[F]=Q))}else F&&(G[F]=X)},x=g=L=function(F,B,X,J,K){if("string"==typeof F)return S[F]?S[F](B):C(U(F,A(B)).f);if(!F.splice){if((q=F).deps&&L(q.deps,q.callback),!B)return;B.splice?(F=B,B=X,X=null):F=h}return B=B||function(){},"function"==typeof X&&(X=J,J=K),J?D(h,F,B,X):setTimeout(function(){D(h,F,B,X)},4),L},L.config=function(F){return L(F)},x._defined=G,(M=function(F,B,X){if("string"!=typeof F)throw new Error("See almond README: incorrect module build, no module name");B.splice||(X=B,B=[]),y(G,F)||y(Y,F)||(Y[F]=[F,B,X])}).amd={jQuery:!0}}(),W.requirejs=x,W.require=g,W.define=M),W.define("almond",function(){}),W.define("jquery",[],function(){var x=V||$;return null==x&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),x}),W.define("select2/utils",["jquery"],function(x){function g(m){var _=m.prototype,b=[];for(var T in _)"function"==typeof _[T]&&"constructor"!==T&&b.push(T);return b}var M={Extend:function(m,_){function b(){this.constructor=m}var T={}.hasOwnProperty;for(var C in _)T.call(_,C)&&(m[C]=_[C]);return b.prototype=_.prototype,m.prototype=new b,m.__super__=_.prototype,m},Decorate:function(m,_){function b(){var S=Array.prototype.unshift,G=_.prototype.constructor.length,Y=m.prototype.constructor;G>0&&(S.call(arguments,m.prototype.constructor),Y=_.prototype.constructor),Y.apply(this,arguments)}var C=g(_),k=g(m);_.displayName=m.displayName,b.prototype=new function T(){this.constructor=b};for(var A=0;A<k.length;A++){var I=k[A];b.prototype[I]=m.prototype[I]}for(var D=function(S){var G=function(){};S in b.prototype&&(G=b.prototype[S]);var Y=_.prototype[S];return function(){return Array.prototype.unshift.call(arguments,G),Y.apply(this,arguments)}},L=0;L<C.length;L++){var U=C[L];b.prototype[U]=D(U)}return b}},h=function(){this.listeners={}};h.prototype.on=function(m,_){this.listeners=this.listeners||{},m in this.listeners?this.listeners[m].push(_):this.listeners[m]=[_]},h.prototype.trigger=function(m){var _=Array.prototype.slice,b=_.call(arguments,1);this.listeners=this.listeners||{},null==b&&(b=[]),0===b.length&&b.push({}),b[0]._type=m,m in this.listeners&&this.invoke(this.listeners[m],_.call(arguments,1)),"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},h.prototype.invoke=function(m,_){for(var b=0,T=m.length;b<T;b++)m[b].apply(this,_)},M.Observable=h,M.generateChars=function(m){for(var _="",b=0;b<m;b++)_+=Math.floor(36*Math.random()).toString(36);return _},M.bind=function(m,_){return function(){m.apply(_,arguments)}},M._convertData=function(m){for(var _ in m){var b=_.split("-"),T=m;if(1!==b.length){for(var C=0;C<b.length;C++){var k=b[C];(k=k.substring(0,1).toLowerCase()+k.substring(1))in T||(T[k]={}),C==b.length-1&&(T[k]=m[_]),T=T[k]}delete m[_]}}return m},M.hasScroll=function(m,_){var b=x(_),T=_.style.overflowX,C=_.style.overflowY;return(T!==C||"hidden"!==C&&"visible"!==C)&&("scroll"===T||"scroll"===C||b.innerHeight()<_.scrollHeight||b.innerWidth()<_.scrollWidth)},M.escapeMarkup=function(m){var _={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return"string"!=typeof m?m:String(m).replace(/[&<>"'\/\\]/g,function(b){return _[b]})},M.appendMany=function(m,_){if("1.7"===x.fn.jquery.substr(0,3)){var b=x();x.map(_,function(T){b=b.add(T)}),_=b}m.append(_)},M.__cache={};var y=0;return M.GetUniqueElementId=function(m){var _=m.getAttribute("data-select2-id");return null==_&&(m.id?(_=m.id,m.setAttribute("data-select2-id",_)):(m.setAttribute("data-select2-id",++y),_=y.toString())),_},M.StoreData=function(m,_,b){var T=M.GetUniqueElementId(m);M.__cache[T]||(M.__cache[T]={}),M.__cache[T][_]=b},M.GetData=function(m,_){var b=M.GetUniqueElementId(m);return _?M.__cache[b]&&null!=M.__cache[b][_]?M.__cache[b][_]:x(m).data(_):M.__cache[b]},M.RemoveData=function(m){var _=M.GetUniqueElementId(m);null!=M.__cache[_]&&delete M.__cache[_]},M}),W.define("select2/results",["jquery","./utils"],function(x,g){function M(h,y,m){this.$element=h,this.data=m,this.options=y,M.__super__.constructor.call(this)}return g.Extend(M,g.Observable),M.prototype.render=function(){var h=x('<ul class="select2-results__options" role="tree"></ul>');return this.options.get("multiple")&&h.attr("aria-multiselectable","true"),this.$results=h,h},M.prototype.clear=function(){this.$results.empty()},M.prototype.displayMessage=function(h){var y=this.options.get("escapeMarkup");this.clear(),this.hideLoading();var m=x('<li role="treeitem" aria-live="assertive" class="select2-results__option"></li>'),_=this.options.get("translations").get(h.message);m.append(y(_(h.args))),m[0].className+=" select2-results__message",this.$results.append(m)},M.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},M.prototype.append=function(h){this.hideLoading();var y=[];if(null!=h.results&&0!==h.results.length){h.results=this.sort(h.results);for(var m=0;m<h.results.length;m++){var _=h.results[m],b=this.option(_);y.push(b)}this.$results.append(y)}else 0===this.$results.children().length&&this.trigger("results:message",{message:"noResults"})},M.prototype.position=function(h,y){y.find(".select2-results").append(h)},M.prototype.sort=function(h){return this.options.get("sorter")(h)},M.prototype.highlightFirstItem=function(){var h=this.$results.find(".select2-results__option[aria-selected]"),y=h.filter("[aria-selected=true]");y.length>0?y.first().trigger("mouseenter"):h.first().trigger("mouseenter"),this.ensureHighlightVisible()},M.prototype.setClasses=function(){var h=this;this.data.current(function(y){var m=x.map(y,function(_){return _.id.toString()});h.$results.find(".select2-results__option[aria-selected]").each(function(){var _=x(this),b=g.GetData(this,"data"),T=""+b.id;null!=b.element&&b.element.selected||null==b.element&&x.inArray(T,m)>-1?_.attr("aria-selected","true"):_.attr("aria-selected","false")})})},M.prototype.showLoading=function(h){this.hideLoading();var m={disabled:!0,loading:!0,text:this.options.get("translations").get("searching")(h)},_=this.option(m);_.className+=" loading-results",this.$results.prepend(_)},M.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},M.prototype.option=function(h){var y=document.createElement("li");y.className="select2-results__option";var m={role:"treeitem","aria-selected":"false"};for(var _ in h.disabled&&(delete m["aria-selected"],m["aria-disabled"]="true"),null==h.id&&delete m["aria-selected"],null!=h._resultId&&(y.id=h._resultId),h.title&&(y.title=h.title),h.children&&(m.role="group",m["aria-label"]=h.text,delete m["aria-selected"]),m){var b=m[_];y.setAttribute(_,b)}if(h.children){var T=x(y),C=document.createElement("strong");C.className="select2-results__group",x(C),this.template(h,C);for(var k=[],A=0;A<h.children.length;A++){var I=h.children[A],D=this.option(I);k.push(D)}var L=x("<ul></ul>",{class:"select2-results__options select2-results__options--nested"});L.append(k),T.append(C),T.append(L)}else this.template(h,y);return g.StoreData(y,"data",h),y},M.prototype.bind=function(h,y){var m=this,_=h.id+"-results";this.$results.attr("id",_),h.on("results:all",function(b){m.clear(),m.append(b.data),h.isOpen()&&(m.setClasses(),m.highlightFirstItem())}),h.on("results:append",function(b){m.append(b.data),h.isOpen()&&m.setClasses()}),h.on("query",function(b){m.hideMessages(),m.showLoading(b)}),h.on("select",function(){h.isOpen()&&(m.setClasses(),m.options.get("scrollAfterSelect")&&m.highlightFirstItem())}),h.on("unselect",function(){h.isOpen()&&(m.setClasses(),m.options.get("scrollAfterSelect")&&m.highlightFirstItem())}),h.on("open",function(){m.$results.attr("aria-expanded","true"),m.$results.attr("aria-hidden","false"),m.setClasses(),m.ensureHighlightVisible()}),h.on("close",function(){m.$results.attr("aria-expanded","false"),m.$results.attr("aria-hidden","true"),m.$results.removeAttr("aria-activedescendant")}),h.on("results:toggle",function(){var b=m.getHighlightedResults();0!==b.length&&b.trigger("mouseup")}),h.on("results:select",function(){var b=m.getHighlightedResults();if(0!==b.length){var T=g.GetData(b[0],"data");"true"==b.attr("aria-selected")?m.trigger("close",{}):m.trigger("select",{data:T})}}),h.on("results:previous",function(){var b=m.getHighlightedResults(),T=m.$results.find("[aria-selected]"),C=T.index(b);if(!(C<=0)){var k=C-1;0===b.length&&(k=0);var A=T.eq(k);A.trigger("mouseenter");var I=m.$results.offset().top,D=A.offset().top,L=m.$results.scrollTop()+(D-I);0===k?m.$results.scrollTop(0):D-I<0&&m.$results.scrollTop(L)}}),h.on("results:next",function(){var b=m.getHighlightedResults(),T=m.$results.find("[aria-selected]"),k=T.index(b)+1;if(!(k>=T.length)){var A=T.eq(k);A.trigger("mouseenter");var I=m.$results.offset().top+m.$results.outerHeight(!1),D=A.offset().top+A.outerHeight(!1),L=m.$results.scrollTop()+D-I;0===k?m.$results.scrollTop(0):D>I&&m.$results.scrollTop(L)}}),h.on("results:focus",function(b){b.element.addClass("select2-results__option--highlighted")}),h.on("results:message",function(b){m.displayMessage(b)}),x.fn.mousewheel&&this.$results.on("mousewheel",function(b){var T=m.$results.scrollTop(),C=m.$results.get(0).scrollHeight-T+b.deltaY,k=b.deltaY>0&&T-b.deltaY<=0,A=b.deltaY<0&&C<=m.$results.height();k?(m.$results.scrollTop(0),b.preventDefault(),b.stopPropagation()):A&&(m.$results.scrollTop(m.$results.get(0).scrollHeight-m.$results.height()),b.preventDefault(),b.stopPropagation())}),this.$results.on("mouseup",".select2-results__option[aria-selected]",function(b){var T=x(this),C=g.GetData(this,"data");"true"!==T.attr("aria-selected")?m.trigger("select",{originalEvent:b,data:C}):m.options.get("multiple")?m.trigger("unselect",{originalEvent:b,data:C}):m.trigger("close",{})}),this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(b){var T=g.GetData(this,"data");m.getHighlightedResults().removeClass("select2-results__option--highlighted"),m.trigger("results:focus",{data:T,element:x(this)})})},M.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},M.prototype.destroy=function(){this.$results.remove()},M.prototype.ensureHighlightVisible=function(){var h=this.getHighlightedResults();if(0!==h.length){var m=this.$results.find("[aria-selected]").index(h),_=this.$results.offset().top,b=h.offset().top,T=this.$results.scrollTop()+(b-_),C=b-_;T-=2*h.outerHeight(!1),m<=2?this.$results.scrollTop(0):(C>this.$results.outerHeight()||C<0)&&this.$results.scrollTop(T)}},M.prototype.template=function(h,y){var m=this.options.get("templateResult"),_=this.options.get("escapeMarkup"),b=m(h,y);null==b?y.style.display="none":"string"==typeof b?y.innerHTML=_(b):x(y).append(b)},M}),W.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),W.define("select2/selection/base",["jquery","../utils","../keys"],function(x,g,M){function h(y,m){this.$element=y,this.options=m,h.__super__.constructor.call(this)}return g.Extend(h,g.Observable),h.prototype.render=function(){var y=x('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"></span>');return this._tabindex=0,null!=g.GetData(this.$element[0],"old-tabindex")?this._tabindex=g.GetData(this.$element[0],"old-tabindex"):null!=this.$element.attr("tabindex")&&(this._tabindex=this.$element.attr("tabindex")),y.attr("title",this.$element.attr("title")),y.attr("tabindex",this._tabindex),this.$selection=y,y},h.prototype.bind=function(y,m){var _=this,b=(y.id,y.id+"-results");this.container=y,this.$selection.on("focus",function(T){_.trigger("focus",T)}),this.$selection.on("blur",function(T){_._handleBlur(T)}),this.$selection.on("keydown",function(T){_.trigger("keypress",T),T.which===M.SPACE&&T.preventDefault()}),y.on("results:focus",function(T){_.$selection.attr("aria-activedescendant",T.data._resultId)}),y.on("selection:update",function(T){_.update(T.data)}),y.on("open",function(){_.$selection.attr("aria-expanded","true"),_.$selection.attr("aria-owns",b),_._attachCloseHandler(y)}),y.on("close",function(){_.$selection.attr("aria-expanded","false"),_.$selection.removeAttr("aria-activedescendant"),_.$selection.removeAttr("aria-owns"),window.setTimeout(function(){_.$selection.focus()},0),_._detachCloseHandler(y)}),y.on("enable",function(){_.$selection.attr("tabindex",_._tabindex)}),y.on("disable",function(){_.$selection.attr("tabindex","-1")})},h.prototype._handleBlur=function(y){var m=this;window.setTimeout(function(){document.activeElement==m.$selection[0]||x.contains(m.$selection[0],document.activeElement)||m.trigger("blur",y)},1)},h.prototype._attachCloseHandler=function(y){x(document.body).on("mousedown.select2."+y.id,function(m){var b=x(m.target).closest(".select2");x(".select2.select2-container--open").each(function(){x(this),this!=b[0]&&g.GetData(this,"element").select2("close")})})},h.prototype._detachCloseHandler=function(y){x(document.body).off("mousedown.select2."+y.id)},h.prototype.position=function(y,m){m.find(".selection").append(y)},h.prototype.destroy=function(){this._detachCloseHandler(this.container)},h.prototype.update=function(y){throw new Error("The `update` method must be defined in child classes.")},h}),W.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(x,g,M,h){function y(){y.__super__.constructor.apply(this,arguments)}return M.Extend(y,g),y.prototype.render=function(){var m=y.__super__.render.call(this);return m.addClass("select2-selection--single"),m.html('<span class="select2-selection__rendered"></span><span class="select2-selection__arrow" role="presentation"><b role="presentation"></b></span>'),m},y.prototype.bind=function(m,_){var b=this;y.__super__.bind.apply(this,arguments);var T=m.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",T).attr("role","textbox").attr("aria-readonly","true"),this.$selection.attr("aria-labelledby",T),this.$selection.on("mousedown",function(C){1===C.which&&b.trigger("toggle",{originalEvent:C})}),this.$selection.on("focus",function(C){}),this.$selection.on("blur",function(C){}),m.on("focus",function(C){m.isOpen()||b.$selection.focus()})},y.prototype.clear=function(){var m=this.$selection.find(".select2-selection__rendered");m.empty(),m.removeAttr("title")},y.prototype.display=function(m,_){var b=this.options.get("templateSelection");return this.options.get("escapeMarkup")(b(m,_))},y.prototype.selectionContainer=function(){return x("<span></span>")},y.prototype.update=function(m){if(0!==m.length){var _=m[0],b=this.$selection.find(".select2-selection__rendered"),T=this.display(_,b);b.empty().append(T),b.attr("title",_.title||_.text)}else this.clear()},y}),W.define("select2/selection/multiple",["jquery","./base","../utils"],function(x,g,M){function h(y,m){h.__super__.constructor.apply(this,arguments)}return M.Extend(h,g),h.prototype.render=function(){var y=h.__super__.render.call(this);return y.addClass("select2-selection--multiple"),y.html('<ul class="select2-selection__rendered"></ul>'),y},h.prototype.bind=function(y,m){var _=this;h.__super__.bind.apply(this,arguments),this.$selection.on("click",function(b){_.trigger("toggle",{originalEvent:b})}),this.$selection.on("click",".select2-selection__choice__remove",function(b){if(!_.options.get("disabled")){var C=x(this).parent(),k=M.GetData(C[0],"data");_.trigger("unselect",{originalEvent:b,data:k})}})},h.prototype.clear=function(){var y=this.$selection.find(".select2-selection__rendered");y.empty(),y.removeAttr("title")},h.prototype.display=function(y,m){var _=this.options.get("templateSelection");return this.options.get("escapeMarkup")(_(y,m))},h.prototype.selectionContainer=function(){return x('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;</span></li>')},h.prototype.update=function(y){if(this.clear(),0!==y.length){for(var m=[],_=0;_<y.length;_++){var b=y[_],T=this.selectionContainer(),C=this.display(b,T);T.append(C),T.attr("title",b.title||b.text),M.StoreData(T[0],"data",b),m.push(T)}var k=this.$selection.find(".select2-selection__rendered");M.appendMany(k,m)}},h}),W.define("select2/selection/placeholder",["../utils"],function(x){function g(M,h,y){this.placeholder=this.normalizePlaceholder(y.get("placeholder")),M.call(this,h,y)}return g.prototype.normalizePlaceholder=function(M,h){return"string"==typeof h&&(h={id:"",text:h}),h},g.prototype.createPlaceholder=function(M,h){var y=this.selectionContainer();return y.html(this.display(h)),y.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),y},g.prototype.update=function(M,h){var y=1==h.length&&h[0].id!=this.placeholder.id;if(h.length>1||y)return M.call(this,h);this.clear();var m=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(m)},g}),W.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(x,g,M){function h(){}return h.prototype.bind=function(y,m,_){var b=this;y.call(this,m,_),null==this.placeholder&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option."),this.$selection.on("mousedown",".select2-selection__clear",function(T){b._handleClear(T)}),m.on("keypress",function(T){b._handleKeyboardClear(T,m)})},h.prototype._handleClear=function(y,m){if(!this.options.get("disabled")){var _=this.$selection.find(".select2-selection__clear");if(0!==_.length){m.stopPropagation();var b=M.GetData(_[0],"data"),T=this.$element.val();this.$element.val(this.placeholder.id);var C={data:b};if(this.trigger("clear",C),C.prevented)return void this.$element.val(T);for(var k=0;k<b.length;k++)if(C={data:b[k]},this.trigger("unselect",C),C.prevented)return void this.$element.val(T);this.$element.trigger("change"),this.trigger("toggle",{})}}},h.prototype._handleKeyboardClear=function(y,m,_){_.isOpen()||m.which!=g.DELETE&&m.which!=g.BACKSPACE||this._handleClear(m)},h.prototype.update=function(y,m){if(y.call(this,m),!(this.$selection.find(".select2-selection__placeholder").length>0||0===m.length)){var _=this.options.get("translations").get("removeAllItems"),b=x('<span class="select2-selection__clear" title="'+_()+'">&times;</span>');M.StoreData(b[0],"data",m),this.$selection.find(".select2-selection__rendered").prepend(b)}},h}),W.define("select2/selection/search",["jquery","../utils","../keys"],function(x,g,M){function h(y,m,_){y.call(this,m,_)}return h.prototype.render=function(y){var m=x('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" aria-autocomplete="list" /></li>');this.$searchContainer=m,this.$search=m.find("input");var _=y.call(this);return this._transferTabIndex(),_},h.prototype.bind=function(y,m,_){var b=this;y.call(this,m,_),m.on("open",function(){b.$search.trigger("focus")}),m.on("close",function(){b.$search.val(""),b.$search.removeAttr("aria-activedescendant"),b.$search.trigger("focus")}),m.on("enable",function(){b.$search.prop("disabled",!1),b._transferTabIndex()}),m.on("disable",function(){b.$search.prop("disabled",!0)}),m.on("focus",function(k){b.$search.trigger("focus")}),m.on("results:focus",function(k){b.$search.attr("aria-activedescendant",k.id)}),this.$selection.on("focusin",".select2-search--inline",function(k){b.trigger("focus",k)}),this.$selection.on("focusout",".select2-search--inline",function(k){b._handleBlur(k)}),this.$selection.on("keydown",".select2-search--inline",function(k){if(k.stopPropagation(),b.trigger("keypress",k),b._keyUpPrevented=k.isDefaultPrevented(),k.which===M.BACKSPACE&&""===b.$search.val()){var A=b.$searchContainer.prev(".select2-selection__choice");if(A.length>0){var I=g.GetData(A[0],"data");b.searchRemoveChoice(I),k.preventDefault()}}});var T=document.documentMode,C=T&&T<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(k){C?b.$selection.off("input.search input.searchcheck"):b.$selection.off("keyup.search")}),this.$selection.on("keyup.search input.search",".select2-search--inline",function(k){if(C&&"input"===k.type)b.$selection.off("input.search input.searchcheck");else{var A=k.which;A!=M.SHIFT&&A!=M.CTRL&&A!=M.ALT&&A!=M.TAB&&b.handleSearch(k)}})},h.prototype._transferTabIndex=function(y){this.$search.attr("tabindex",this.$selection.attr("tabindex")),this.$selection.attr("tabindex","-1")},h.prototype.createPlaceholder=function(y,m){this.$search.attr("placeholder",m.text)},h.prototype.update=function(y,m){var _=this.$search[0]==document.activeElement;this.$search.attr("placeholder",""),y.call(this,m),this.$selection.find(".select2-selection__rendered").append(this.$searchContainer),this.resizeSearch(),_&&(this.$element.find("[data-select2-tag]").length?this.$element.focus():this.$search.focus())},h.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var y=this.$search.val();this.trigger("query",{term:y})}this._keyUpPrevented=!1},h.prototype.searchRemoveChoice=function(y,m){this.trigger("unselect",{data:m}),this.$search.val(m.text),this.handleSearch()},h.prototype.resizeSearch=function(){this.$search.css("width","25px");var y="";y=""!==this.$search.attr("placeholder")?this.$selection.find(".select2-selection__rendered").innerWidth():.75*(this.$search.val().length+1)+"em",this.$search.css("width",y)},h}),W.define("select2/selection/eventRelay",["jquery"],function(x){function g(){}return g.prototype.bind=function(M,h,y){var m=this,_=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],b=["opening","closing","selecting","unselecting","clearing"];M.call(this,h,y),h.on("*",function(T,C){if(-1!==x.inArray(T,_)){C=C||{};var k=x.Event("select2:"+T,{params:C});m.$element.trigger(k),-1!==x.inArray(T,b)&&(C.prevented=k.isDefaultPrevented())}})},g}),W.define("select2/translation",["jquery","require"],function(x,g){function M(h){this.dict=h||{}}return M.prototype.all=function(){return this.dict},M.prototype.get=function(h){return this.dict[h]},M.prototype.extend=function(h){this.dict=x.extend({},h.all(),this.dict)},M._cache={},M.loadPath=function(h){if(!(h in M._cache)){var y=g(h);M._cache[h]=y}return new M(M._cache[h])},M}),W.define("select2/diacritics",[],function(){return{"\u24b6":"A",\uff21:"A",\u00c0:"A",\u00c1:"A",\u00c2:"A",\u1ea6:"A",\u1ea4:"A",\u1eaa:"A",\u1ea8:"A",\u00c3:"A",\u0100:"A",\u0102:"A",\u1eb0:"A",\u1eae:"A",\u1eb4:"A",\u1eb2:"A",\u0226:"A",\u01e0:"A",\u00c4:"A",\u01de:"A",\u1ea2:"A",\u00c5:"A",\u01fa:"A",\u01cd:"A",\u0200:"A",\u0202:"A",\u1ea0:"A",\u1eac:"A",\u1eb6:"A",\u1e00:"A",\u0104:"A",\u023a:"A",\u2c6f:"A",\ua732:"AA",\u00c6:"AE",\u01fc:"AE",\u01e2:"AE",\ua734:"AO",\ua736:"AU",\ua738:"AV",\ua73a:"AV",\ua73c:"AY","\u24b7":"B",\uff22:"B",\u1e02:"B",\u1e04:"B",\u1e06:"B",\u0243:"B",\u0182:"B",\u0181:"B","\u24b8":"C",\uff23:"C",\u0106:"C",\u0108:"C",\u010a:"C",\u010c:"C",\u00c7:"C",\u1e08:"C",\u0187:"C",\u023b:"C",\ua73e:"C","\u24b9":"D",\uff24:"D",\u1e0a:"D",\u010e:"D",\u1e0c:"D",\u1e10:"D",\u1e12:"D",\u1e0e:"D",\u0110:"D",\u018b:"D",\u018a:"D",\u0189:"D",\ua779:"D",\u01f1:"DZ",\u01c4:"DZ",\u01f2:"Dz",\u01c5:"Dz","\u24ba":"E",\uff25:"E",\u00c8:"E",\u00c9:"E",\u00ca:"E",\u1ec0:"E",\u1ebe:"E",\u1ec4:"E",\u1ec2:"E",\u1ebc:"E",\u0112:"E",\u1e14:"E",\u1e16:"E",\u0114:"E",\u0116:"E",\u00cb:"E",\u1eba:"E",\u011a:"E",\u0204:"E",\u0206:"E",\u1eb8:"E",\u1ec6:"E",\u0228:"E",\u1e1c:"E",\u0118:"E",\u1e18:"E",\u1e1a:"E",\u0190:"E",\u018e:"E","\u24bb":"F",\uff26:"F",\u1e1e:"F",\u0191:"F",\ua77b:"F","\u24bc":"G",\uff27:"G",\u01f4:"G",\u011c:"G",\u1e20:"G",\u011e:"G",\u0120:"G",\u01e6:"G",\u0122:"G",\u01e4:"G",\u0193:"G",\ua7a0:"G",\ua77d:"G",\ua77e:"G","\u24bd":"H",\uff28:"H",\u0124:"H",\u1e22:"H",\u1e26:"H",\u021e:"H",\u1e24:"H",\u1e28:"H",\u1e2a:"H",\u0126:"H",\u2c67:"H",\u2c75:"H",\ua78d:"H","\u24be":"I",\uff29:"I",\u00cc:"I",\u00cd:"I",\u00ce:"I",\u0128:"I",\u012a:"I",\u012c:"I",\u0130:"I",\u00cf:"I",\u1e2e:"I",\u1ec8:"I",\u01cf:"I",\u0208:"I",\u020a:"I",\u1eca:"I",\u012e:"I",\u1e2c:"I",\u0197:"I","\u24bf":"J",\uff2a:"J",\u0134:"J",\u0248:"J","\u24c0":"K",\uff2b:"K",\u1e30:"K",\u01e8:"K",\u1e32:"K",\u0136:"K",\u1e34:"K",\u0198:"K",\u2c69:"K",\ua740:"K",\ua742:"K",\ua744:"K",\ua7a2:"K","\u24c1":"L",\uff2c:"L",\u013f:"L",\u0139:"L",\u013d:"L",\u1e36:"L",\u1e38:"L",\u013b:"L",\u1e3c:"L",\u1e3a:"L",\u0141:"L",\u023d:"L",\u2c62:"L",\u2c60:"L",\ua748:"L",\ua746:"L",\ua780:"L",\u01c7:"LJ",\u01c8:"Lj","\u24c2":"M",\uff2d:"M",\u1e3e:"M",\u1e40:"M",\u1e42:"M",\u2c6e:"M",\u019c:"M","\u24c3":"N",\uff2e:"N",\u01f8:"N",\u0143:"N",\u00d1:"N",\u1e44:"N",\u0147:"N",\u1e46:"N",\u0145:"N",\u1e4a:"N",\u1e48:"N",\u0220:"N",\u019d:"N",\ua790:"N",\ua7a4:"N",\u01ca:"NJ",\u01cb:"Nj","\u24c4":"O",\uff2f:"O",\u00d2:"O",\u00d3:"O",\u00d4:"O",\u1ed2:"O",\u1ed0:"O",\u1ed6:"O",\u1ed4:"O",\u00d5:"O",\u1e4c:"O",\u022c:"O",\u1e4e:"O",\u014c:"O",\u1e50:"O",\u1e52:"O",\u014e:"O",\u022e:"O",\u0230:"O",\u00d6:"O",\u022a:"O",\u1ece:"O",\u0150:"O",\u01d1:"O",\u020c:"O",\u020e:"O",\u01a0:"O",\u1edc:"O",\u1eda:"O",\u1ee0:"O",\u1ede:"O",\u1ee2:"O",\u1ecc:"O",\u1ed8:"O",\u01ea:"O",\u01ec:"O",\u00d8:"O",\u01fe:"O",\u0186:"O",\u019f:"O",\ua74a:"O",\ua74c:"O",\u0152:"OE",\u01a2:"OI",\ua74e:"OO",\u0222:"OU","\u24c5":"P",\uff30:"P",\u1e54:"P",\u1e56:"P",\u01a4:"P",\u2c63:"P",\ua750:"P",\ua752:"P",\ua754:"P","\u24c6":"Q",\uff31:"Q",\ua756:"Q",\ua758:"Q",\u024a:"Q","\u24c7":"R",\uff32:"R",\u0154:"R",\u1e58:"R",\u0158:"R",\u0210:"R",\u0212:"R",\u1e5a:"R",\u1e5c:"R",\u0156:"R",\u1e5e:"R",\u024c:"R",\u2c64:"R",\ua75a:"R",\ua7a6:"R",\ua782:"R","\u24c8":"S",\uff33:"S",\u1e9e:"S",\u015a:"S",\u1e64:"S",\u015c:"S",\u1e60:"S",\u0160:"S",\u1e66:"S",\u1e62:"S",\u1e68:"S",\u0218:"S",\u015e:"S",\u2c7e:"S",\ua7a8:"S",\ua784:"S","\u24c9":"T",\uff34:"T",\u1e6a:"T",\u0164:"T",\u1e6c:"T",\u021a:"T",\u0162:"T",\u1e70:"T",\u1e6e:"T",\u0166:"T",\u01ac:"T",\u01ae:"T",\u023e:"T",\ua786:"T",\ua728:"TZ","\u24ca":"U",\uff35:"U",\u00d9:"U",\u00da:"U",\u00db:"U",\u0168:"U",\u1e78:"U",\u016a:"U",\u1e7a:"U",\u016c:"U",\u00dc:"U",\u01db:"U",\u01d7:"U",\u01d5:"U",\u01d9:"U",\u1ee6:"U",\u016e:"U",\u0170:"U",\u01d3:"U",\u0214:"U",\u0216:"U",\u01af:"U",\u1eea:"U",\u1ee8:"U",\u1eee:"U",\u1eec:"U",\u1ef0:"U",\u1ee4:"U",\u1e72:"U",\u0172:"U",\u1e76:"U",\u1e74:"U",\u0244:"U","\u24cb":"V",\uff36:"V",\u1e7c:"V",\u1e7e:"V",\u01b2:"V",\ua75e:"V",\u0245:"V",\ua760:"VY","\u24cc":"W",\uff37:"W",\u1e80:"W",\u1e82:"W",\u0174:"W",\u1e86:"W",\u1e84:"W",\u1e88:"W",\u2c72:"W","\u24cd":"X",\uff38:"X",\u1e8a:"X",\u1e8c:"X","\u24ce":"Y",\uff39:"Y",\u1ef2:"Y",\u00dd:"Y",\u0176:"Y",\u1ef8:"Y",\u0232:"Y",\u1e8e:"Y",\u0178:"Y",\u1ef6:"Y",\u1ef4:"Y",\u01b3:"Y",\u024e:"Y",\u1efe:"Y","\u24cf":"Z",\uff3a:"Z",\u0179:"Z",\u1e90:"Z",\u017b:"Z",\u017d:"Z",\u1e92:"Z",\u1e94:"Z",\u01b5:"Z",\u0224:"Z",\u2c7f:"Z",\u2c6b:"Z",\ua762:"Z","\u24d0":"a",\uff41:"a",\u1e9a:"a",\u00e0:"a",\u00e1:"a",\u00e2:"a",\u1ea7:"a",\u1ea5:"a",\u1eab:"a",\u1ea9:"a",\u00e3:"a",\u0101:"a",\u0103:"a",\u1eb1:"a",\u1eaf:"a",\u1eb5:"a",\u1eb3:"a",\u0227:"a",\u01e1:"a",\u00e4:"a",\u01df:"a",\u1ea3:"a",\u00e5:"a",\u01fb:"a",\u01ce:"a",\u0201:"a",\u0203:"a",\u1ea1:"a",\u1ead:"a",\u1eb7:"a",\u1e01:"a",\u0105:"a",\u2c65:"a",\u0250:"a",\ua733:"aa",\u00e6:"ae",\u01fd:"ae",\u01e3:"ae",\ua735:"ao",\ua737:"au",\ua739:"av",\ua73b:"av",\ua73d:"ay","\u24d1":"b",\uff42:"b",\u1e03:"b",\u1e05:"b",\u1e07:"b",\u0180:"b",\u0183:"b",\u0253:"b","\u24d2":"c",\uff43:"c",\u0107:"c",\u0109:"c",\u010b:"c",\u010d:"c",\u00e7:"c",\u1e09:"c",\u0188:"c",\u023c:"c",\ua73f:"c",\u2184:"c","\u24d3":"d",\uff44:"d",\u1e0b:"d",\u010f:"d",\u1e0d:"d",\u1e11:"d",\u1e13:"d",\u1e0f:"d",\u0111:"d",\u018c:"d",\u0256:"d",\u0257:"d",\ua77a:"d",\u01f3:"dz",\u01c6:"dz","\u24d4":"e",\uff45:"e",\u00e8:"e",\u00e9:"e",\u00ea:"e",\u1ec1:"e",\u1ebf:"e",\u1ec5:"e",\u1ec3:"e",\u1ebd:"e",\u0113:"e",\u1e15:"e",\u1e17:"e",\u0115:"e",\u0117:"e",\u00eb:"e",\u1ebb:"e",\u011b:"e",\u0205:"e",\u0207:"e",\u1eb9:"e",\u1ec7:"e",\u0229:"e",\u1e1d:"e",\u0119:"e",\u1e19:"e",\u1e1b:"e",\u0247:"e",\u025b:"e",\u01dd:"e","\u24d5":"f",\uff46:"f",\u1e1f:"f",\u0192:"f",\ua77c:"f","\u24d6":"g",\uff47:"g",\u01f5:"g",\u011d:"g",\u1e21:"g",\u011f:"g",\u0121:"g",\u01e7:"g",\u0123:"g",\u01e5:"g",\u0260:"g",\ua7a1:"g",\u1d79:"g",\ua77f:"g","\u24d7":"h",\uff48:"h",\u0125:"h",\u1e23:"h",\u1e27:"h",\u021f:"h",\u1e25:"h",\u1e29:"h",\u1e2b:"h",\u1e96:"h",\u0127:"h",\u2c68:"h",\u2c76:"h",\u0265:"h",\u0195:"hv","\u24d8":"i",\uff49:"i",\u00ec:"i",\u00ed:"i",\u00ee:"i",\u0129:"i",\u012b:"i",\u012d:"i",\u00ef:"i",\u1e2f:"i",\u1ec9:"i",\u01d0:"i",\u0209:"i",\u020b:"i",\u1ecb:"i",\u012f:"i",\u1e2d:"i",\u0268:"i",\u0131:"i","\u24d9":"j",\uff4a:"j",\u0135:"j",\u01f0:"j",\u0249:"j","\u24da":"k",\uff4b:"k",\u1e31:"k",\u01e9:"k",\u1e33:"k",\u0137:"k",\u1e35:"k",\u0199:"k",\u2c6a:"k",\ua741:"k",\ua743:"k",\ua745:"k",\ua7a3:"k","\u24db":"l",\uff4c:"l",\u0140:"l",\u013a:"l",\u013e:"l",\u1e37:"l",\u1e39:"l",\u013c:"l",\u1e3d:"l",\u1e3b:"l",\u017f:"l",\u0142:"l",\u019a:"l",\u026b:"l",\u2c61:"l",\ua749:"l",\ua781:"l",\ua747:"l",\u01c9:"lj","\u24dc":"m",\uff4d:"m",\u1e3f:"m",\u1e41:"m",\u1e43:"m",\u0271:"m",\u026f:"m","\u24dd":"n",\uff4e:"n",\u01f9:"n",\u0144:"n",\u00f1:"n",\u1e45:"n",\u0148:"n",\u1e47:"n",\u0146:"n",\u1e4b:"n",\u1e49:"n",\u019e:"n",\u0272:"n",\u0149:"n",\ua791:"n",\ua7a5:"n",\u01cc:"nj","\u24de":"o",\uff4f:"o",\u00f2:"o",\u00f3:"o",\u00f4:"o",\u1ed3:"o",\u1ed1:"o",\u1ed7:"o",\u1ed5:"o",\u00f5:"o",\u1e4d:"o",\u022d:"o",\u1e4f:"o",\u014d:"o",\u1e51:"o",\u1e53:"o",\u014f:"o",\u022f:"o",\u0231:"o",\u00f6:"o",\u022b:"o",\u1ecf:"o",\u0151:"o",\u01d2:"o",\u020d:"o",\u020f:"o",\u01a1:"o",\u1edd:"o",\u1edb:"o",\u1ee1:"o",\u1edf:"o",\u1ee3:"o",\u1ecd:"o",\u1ed9:"o",\u01eb:"o",\u01ed:"o",\u00f8:"o",\u01ff:"o",\u0254:"o",\ua74b:"o",\ua74d:"o",\u0275:"o",\u0153:"oe",\u01a3:"oi",\u0223:"ou",\ua74f:"oo","\u24df":"p",\uff50:"p",\u1e55:"p",\u1e57:"p",\u01a5:"p",\u1d7d:"p",\ua751:"p",\ua753:"p",\ua755:"p","\u24e0":"q",\uff51:"q",\u024b:"q",\ua757:"q",\ua759:"q","\u24e1":"r",\uff52:"r",\u0155:"r",\u1e59:"r",\u0159:"r",\u0211:"r",\u0213:"r",\u1e5b:"r",\u1e5d:"r",\u0157:"r",\u1e5f:"r",\u024d:"r",\u027d:"r",\ua75b:"r",\ua7a7:"r",\ua783:"r","\u24e2":"s",\uff53:"s",\u00df:"s",\u015b:"s",\u1e65:"s",\u015d:"s",\u1e61:"s",\u0161:"s",\u1e67:"s",\u1e63:"s",\u1e69:"s",\u0219:"s",\u015f:"s",\u023f:"s",\ua7a9:"s",\ua785:"s",\u1e9b:"s","\u24e3":"t",\uff54:"t",\u1e6b:"t",\u1e97:"t",\u0165:"t",\u1e6d:"t",\u021b:"t",\u0163:"t",\u1e71:"t",\u1e6f:"t",\u0167:"t",\u01ad:"t",\u0288:"t",\u2c66:"t",\ua787:"t",\ua729:"tz","\u24e4":"u",\uff55:"u",\u00f9:"u",\u00fa:"u",\u00fb:"u",\u0169:"u",\u1e79:"u",\u016b:"u",\u1e7b:"u",\u016d:"u",\u00fc:"u",\u01dc:"u",\u01d8:"u",\u01d6:"u",\u01da:"u",\u1ee7:"u",\u016f:"u",\u0171:"u",\u01d4:"u",\u0215:"u",\u0217:"u",\u01b0:"u",\u1eeb:"u",\u1ee9:"u",\u1eef:"u",\u1eed:"u",\u1ef1:"u",\u1ee5:"u",\u1e73:"u",\u0173:"u",\u1e77:"u",\u1e75:"u",\u0289:"u","\u24e5":"v",\uff56:"v",\u1e7d:"v",\u1e7f:"v",\u028b:"v",\ua75f:"v",\u028c:"v",\ua761:"vy","\u24e6":"w",\uff57:"w",\u1e81:"w",\u1e83:"w",\u0175:"w",\u1e87:"w",\u1e85:"w",\u1e98:"w",\u1e89:"w",\u2c73:"w","\u24e7":"x",\uff58:"x",\u1e8b:"x",\u1e8d:"x","\u24e8":"y",\uff59:"y",\u1ef3:"y",\u00fd:"y",\u0177:"y",\u1ef9:"y",\u0233:"y",\u1e8f:"y",\u00ff:"y",\u1ef7:"y",\u1e99:"y",\u1ef5:"y",\u01b4:"y",\u024f:"y",\u1eff:"y","\u24e9":"z",\uff5a:"z",\u017a:"z",\u1e91:"z",\u017c:"z",\u017e:"z",\u1e93:"z",\u1e95:"z",\u01b6:"z",\u0225:"z",\u0240:"z",\u2c6c:"z",\ua763:"z",\u0386:"\u0391",\u0388:"\u0395",\u0389:"\u0397",\u038a:"\u0399",\u03aa:"\u0399",\u038c:"\u039f",\u038e:"\u03a5",\u03ab:"\u03a5",\u038f:"\u03a9",\u03ac:"\u03b1",\u03ad:"\u03b5",\u03ae:"\u03b7",\u03af:"\u03b9",\u03ca:"\u03b9",\u0390:"\u03b9",\u03cc:"\u03bf",\u03cd:"\u03c5",\u03cb:"\u03c5",\u03b0:"\u03c5",\u03ce:"\u03c9",\u03c2:"\u03c3","\u2019":"'"}}),W.define("select2/data/base",["../utils"],function(x){function g(M,h){g.__super__.constructor.call(this)}return x.Extend(g,x.Observable),g.prototype.current=function(M){throw new Error("The `current` method must be defined in child classes.")},g.prototype.query=function(M,h){throw new Error("The `query` method must be defined in child classes.")},g.prototype.bind=function(M,h){},g.prototype.destroy=function(){},g.prototype.generateResultId=function(M,h){var y=M.id+"-result-";return y+=x.generateChars(4),null!=h.id?y+="-"+h.id.toString():y+="-"+x.generateChars(4),y},g}),W.define("select2/data/select",["./base","../utils","jquery"],function(x,g,M){function h(y,m){this.$element=y,this.options=m,h.__super__.constructor.call(this)}return g.Extend(h,x),h.prototype.current=function(y){var m=[],_=this;this.$element.find(":selected").each(function(){var b=M(this),T=_.item(b);m.push(T)}),y(m)},h.prototype.select=function(y){var m=this;if(y.selected=!0,M(y.element).is("option"))return y.element.selected=!0,void this.$element.trigger("change");if(this.$element.prop("multiple"))this.current(function(b){var T=[];(y=[y]).push.apply(y,b);for(var C=0;C<y.length;C++){var k=y[C].id;-1===M.inArray(k,T)&&T.push(k)}m.$element.val(T),m.$element.trigger("change")});else{var _=y.id;this.$element.val(_),this.$element.trigger("change")}},h.prototype.unselect=function(y){var m=this;if(this.$element.prop("multiple")){if(y.selected=!1,M(y.element).is("option"))return y.element.selected=!1,void this.$element.trigger("change");this.current(function(_){for(var b=[],T=0;T<_.length;T++){var C=_[T].id;C!==y.id&&-1===M.inArray(C,b)&&b.push(C)}m.$element.val(b),m.$element.trigger("change")})}},h.prototype.bind=function(y,m){var _=this;this.container=y,y.on("select",function(b){_.select(b.data)}),y.on("unselect",function(b){_.unselect(b.data)})},h.prototype.destroy=function(){this.$element.find("*").each(function(){g.RemoveData(this)})},h.prototype.query=function(y,m){var _=[],b=this;this.$element.children().each(function(){var T=M(this);if(T.is("option")||T.is("optgroup")){var C=b.item(T),k=b.matches(y,C);null!==k&&_.push(k)}}),m({results:_})},h.prototype.addOptions=function(y){g.appendMany(this.$element,y)},h.prototype.option=function(y){var m;y.children?(m=document.createElement("optgroup")).label=y.text:void 0!==(m=document.createElement("option")).textContent?m.textContent=y.text:m.innerText=y.text,void 0!==y.id&&(m.value=y.id),y.disabled&&(m.disabled=!0),y.selected&&(m.selected=!0),y.title&&(m.title=y.title);var _=M(m),b=this._normalizeItem(y);return b.element=m,g.StoreData(m,"data",b),_},h.prototype.item=function(y){var m={};if(null!=(m=g.GetData(y[0],"data")))return m;if(y.is("option"))m={id:y.val(),text:y.text(),disabled:y.prop("disabled"),selected:y.prop("selected"),title:y.prop("title")};else if(y.is("optgroup")){m={text:y.prop("label"),children:[],title:y.prop("title")};for(var _=y.children("option"),b=[],T=0;T<_.length;T++){var C=M(_[T]),k=this.item(C);b.push(k)}m.children=b}return(m=this._normalizeItem(m)).element=y[0],g.StoreData(y[0],"data",m),m},h.prototype._normalizeItem=function(y){y!==Object(y)&&(y={id:y,text:y});return null!=(y=M.extend({},{text:""},y)).id&&(y.id=y.id.toString()),null!=y.text&&(y.text=y.text.toString()),null==y._resultId&&y.id&&null!=this.container&&(y._resultId=this.generateResultId(this.container,y)),M.extend({},{selected:!1,disabled:!1},y)},h.prototype.matches=function(y,m){return this.options.get("matcher")(y,m)},h}),W.define("select2/data/array",["./select","../utils","jquery"],function(x,g,M){function h(y,m){var _=m.get("data")||[];h.__super__.constructor.call(this,y,m),this.addOptions(this.convertToOptions(_))}return g.Extend(h,x),h.prototype.select=function(y){var m=this.$element.find("option").filter(function(_,b){return b.value==y.id.toString()});0===m.length&&(m=this.option(y),this.addOptions(m)),h.__super__.select.call(this,y)},h.prototype.convertToOptions=function(y){function m(Y){return function(){return M(this).val()==Y.id}}for(var _=this,b=this.$element.find("option"),T=b.map(function(){return _.item(M(this)).id}).get(),C=[],k=0;k<y.length;k++){var A=this._normalizeItem(y[k]);if(M.inArray(A.id,T)>=0){var I=b.filter(m(A)),D=this.item(I),L=M.extend(!0,{},A,D),U=this.option(L);I.replaceWith(U)}else{var S=this.option(A);if(A.children){var G=this.convertToOptions(A.children);g.appendMany(S,G)}C.push(S)}}return C},h}),W.define("select2/data/ajax",["./array","../utils","jquery"],function(x,g,M){function h(y,m){this.ajaxOptions=this._applyDefaults(m.get("ajax")),null!=this.ajaxOptions.processResults&&(this.processResults=this.ajaxOptions.processResults),h.__super__.constructor.call(this,y,m)}return g.Extend(h,x),h.prototype._applyDefaults=function(y){var m={data:function(_){return M.extend({},_,{q:_.term})},transport:function(_,b,T){var C=M.ajax(_);return C.then(b),C.fail(T),C}};return M.extend({},m,y,!0)},h.prototype.processResults=function(y){return y},h.prototype.query=function(y,m){function _(){var C=T.transport(T,function(k){var A=b.processResults(k,y);b.options.get("debug")&&window.console&&console.error&&(A&&A.results&&M.isArray(A.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response.")),m(A)},function(){"status"in C&&(0===C.status||"0"===C.status)||b.trigger("results:message",{message:"errorLoading"})});b._request=C}var b=this;null!=this._request&&(M.isFunction(this._request.abort)&&this._request.abort(),this._request=null);var T=M.extend({type:"GET"},this.ajaxOptions);"function"==typeof T.url&&(T.url=T.url.call(this.$element,y)),"function"==typeof T.data&&(T.data=T.data.call(this.$element,y)),this.ajaxOptions.delay&&null!=y.term?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(_,this.ajaxOptions.delay)):_()},h}),W.define("select2/data/tags",["jquery"],function(x){function g(M,h,y){var m=y.get("tags"),_=y.get("createTag");void 0!==_&&(this.createTag=_);var b=y.get("insertTag");if(void 0!==b&&(this.insertTag=b),M.call(this,h,y),x.isArray(m))for(var T=0;T<m.length;T++){var C=m[T],k=this._normalizeItem(C),A=this.option(k);this.$element.append(A)}}return g.prototype.query=function(M,h,y){var _=this;this._removeOldTags(),null!=h.term&&null==h.page?M.call(this,h,function m(b,T){for(var C=b.results,k=0;k<C.length;k++){var A=C[k],I=null!=A.children&&!m({results:A.children},!0);if((A.text||"").toUpperCase()===(h.term||"").toUpperCase()||I)return!T&&(b.data=C,void y(b))}if(T)return!0;var D=_.createTag(h);if(null!=D){var L=_.option(D);L.attr("data-select2-tag",!0),_.addOptions([L]),_.insertTag(C,D)}b.results=C,y(b)}):M.call(this,h,y)},g.prototype.createTag=function(M,h){var y=x.trim(h.term);return""===y?null:{id:y,text:y}},g.prototype.insertTag=function(M,h,y){h.unshift(y)},g.prototype._removeOldTags=function(M){this._lastTag,this.$element.find("option[data-select2-tag]").each(function(){this.selected||x(this).remove()})},g}),W.define("select2/data/tokenizer",["jquery"],function(x){function g(M,h,y){var m=y.get("tokenizer");void 0!==m&&(this.tokenizer=m),M.call(this,h,y)}return g.prototype.bind=function(M,h,y){M.call(this,h,y),this.$search=h.dropdown.$search||h.selection.$search||y.find(".select2-search__field")},g.prototype.query=function(M,h,y){var b=this;h.term=h.term||"";var T=this.tokenizer(h,this.options,function m(C){var k=b._normalizeItem(C);if(!b.$element.find("option").filter(function(){return x(this).val()===k.id}).length){var A=b.option(k);A.attr("data-select2-tag",!0),b._removeOldTags(),b.addOptions([A])}!function _(C){b.trigger("select",{data:C})}(k)});T.term!==h.term&&(this.$search.length&&(this.$search.val(T.term),this.$search.focus()),h.term=T.term),M.call(this,h,y)},g.prototype.tokenizer=function(M,h,y,m){for(var _=y.get("tokenSeparators")||[],b=h.term,T=0,C=this.createTag||function(L){return{id:L.term,text:L.term}};T<b.length;){var k=b[T];if(-1!==x.inArray(k,_)){var A=b.substr(0,T),D=C(x.extend({},h,{term:A}));null!=D?(m(D),b=b.substr(T+1)||"",T=0):T++}else T++}return{term:b}},g}),W.define("select2/data/minimumInputLength",[],function(){function x(g,M,h){this.minimumInputLength=h.get("minimumInputLength"),g.call(this,M,h)}return x.prototype.query=function(g,M,h){M.term=M.term||"",M.term.length<this.minimumInputLength?this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:M.term,params:M}}):g.call(this,M,h)},x}),W.define("select2/data/maximumInputLength",[],function(){function x(g,M,h){this.maximumInputLength=h.get("maximumInputLength"),g.call(this,M,h)}return x.prototype.query=function(g,M,h){M.term=M.term||"",this.maximumInputLength>0&&M.term.length>this.maximumInputLength?this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:M.term,params:M}}):g.call(this,M,h)},x}),W.define("select2/data/maximumSelectionLength",[],function(){function x(g,M,h){this.maximumSelectionLength=h.get("maximumSelectionLength"),g.call(this,M,h)}return x.prototype.query=function(g,M,h){var y=this;this.current(function(m){var _=null!=m?m.length:0;y.maximumSelectionLength>0&&_>=y.maximumSelectionLength?y.trigger("results:message",{message:"maximumSelected",args:{maximum:y.maximumSelectionLength}}):g.call(y,M,h)})},x}),W.define("select2/dropdown",["jquery","./utils"],function(x,g){function M(h,y){this.$element=h,this.options=y,M.__super__.constructor.call(this)}return g.Extend(M,g.Observable),M.prototype.render=function(){var h=x('<span class="select2-dropdown"><span class="select2-results"></span></span>');return h.attr("dir",this.options.get("dir")),this.$dropdown=h,h},M.prototype.bind=function(){},M.prototype.position=function(h,y){},M.prototype.destroy=function(){this.$dropdown.remove()},M}),W.define("select2/dropdown/search",["jquery","../utils"],function(x,g){function M(){}return M.prototype.render=function(h){var y=h.call(this),m=x('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="textbox" /></span>');return this.$searchContainer=m,this.$search=m.find("input"),y.prepend(m),y},M.prototype.bind=function(h,y,m){var _=this;h.call(this,y,m),this.$search.on("keydown",function(b){_.trigger("keypress",b),_._keyUpPrevented=b.isDefaultPrevented()}),this.$search.on("input",function(b){x(this).off("keyup")}),this.$search.on("keyup input",function(b){_.handleSearch(b)}),y.on("open",function(){_.$search.attr("tabindex",0),_.$search.focus(),window.setTimeout(function(){_.$search.focus()},0)}),y.on("close",function(){_.$search.attr("tabindex",-1),_.$search.val(""),_.$search.blur()}),y.on("focus",function(){y.isOpen()||_.$search.focus()}),y.on("results:all",function(b){(null==b.query.term||""===b.query.term)&&(_.showSearch(b)?_.$searchContainer.removeClass("select2-search--hide"):_.$searchContainer.addClass("select2-search--hide"))})},M.prototype.handleSearch=function(h){if(!this._keyUpPrevented){var y=this.$search.val();this.trigger("query",{term:y})}this._keyUpPrevented=!1},M.prototype.showSearch=function(h,y){return!0},M}),W.define("select2/dropdown/hidePlaceholder",[],function(){function x(g,M,h,y){this.placeholder=this.normalizePlaceholder(h.get("placeholder")),g.call(this,M,h,y)}return x.prototype.append=function(g,M){M.results=this.removePlaceholder(M.results),g.call(this,M)},x.prototype.normalizePlaceholder=function(g,M){return"string"==typeof M&&(M={id:"",text:M}),M},x.prototype.removePlaceholder=function(g,M){for(var h=M.slice(0),y=M.length-1;y>=0;y--){var m=M[y];this.placeholder.id===m.id&&h.splice(y,1)}return h},x}),W.define("select2/dropdown/infiniteScroll",["jquery"],function(x){function g(M,h,y,m){this.lastParams={},M.call(this,h,y,m),this.$loadingMore=this.createLoadingMore(),this.loading=!1}return g.prototype.append=function(M,h){this.$loadingMore.remove(),this.loading=!1,M.call(this,h),this.showLoadingMore(h)&&this.$results.append(this.$loadingMore)},g.prototype.bind=function(M,h,y){var m=this;M.call(this,h,y),h.on("query",function(_){m.lastParams=_,m.loading=!0}),h.on("query:append",function(_){m.lastParams=_,m.loading=!0}),this.$results.on("scroll",function(){var _=x.contains(document.documentElement,m.$loadingMore[0]);!m.loading&&_&&m.$results.offset().top+m.$results.outerHeight(!1)+50>=m.$loadingMore.offset().top+m.$loadingMore.outerHeight(!1)&&m.loadMore()})},g.prototype.loadMore=function(){this.loading=!0;var M=x.extend({},{page:1},this.lastParams);M.page++,this.trigger("query:append",M)},g.prototype.showLoadingMore=function(M,h){return h.pagination&&h.pagination.more},g.prototype.createLoadingMore=function(){var M=x('<li class="select2-results__option select2-results__option--load-more"role="treeitem" aria-disabled="true"></li>'),h=this.options.get("translations").get("loadingMore");return M.html(h(this.lastParams)),M},g}),W.define("select2/dropdown/attachBody",["jquery","../utils"],function(x,g){function M(h,y,m){this.$dropdownParent=m.get("dropdownParent")||x(document.body),h.call(this,y,m)}return M.prototype.bind=function(h,y,m){var _=this,b=!1;h.call(this,y,m),y.on("open",function(){_._showDropdown(),_._attachPositioningHandler(y),b||(b=!0,y.on("results:all",function(){_._positionDropdown(),_._resizeDropdown()}),y.on("results:append",function(){_._positionDropdown(),_._resizeDropdown()}))}),y.on("close",function(){_._hideDropdown(),_._detachPositioningHandler(y)}),this.$dropdownContainer.on("mousedown",function(T){T.stopPropagation()})},M.prototype.destroy=function(h){h.call(this),this.$dropdownContainer.remove()},M.prototype.position=function(h,y,m){y.attr("class",m.attr("class")),y.removeClass("select2"),y.addClass("select2-container--open"),y.css({position:"absolute",top:-999999}),this.$container=m},M.prototype.render=function(h){var y=x("<span></span>"),m=h.call(this);return y.append(m),this.$dropdownContainer=y,y},M.prototype._hideDropdown=function(h){this.$dropdownContainer.detach()},M.prototype._attachPositioningHandler=function(h,y){var m=this,_="scroll.select2."+y.id,b="resize.select2."+y.id,T="orientationchange.select2."+y.id,C=this.$container.parents().filter(g.hasScroll);C.each(function(){g.StoreData(this,"select2-scroll-position",{x:x(this).scrollLeft(),y:x(this).scrollTop()})}),C.on(_,function(k){var A=g.GetData(this,"select2-scroll-position");x(this).scrollTop(A.y)}),x(window).on(_+" "+b+" "+T,function(k){m._positionDropdown(),m._resizeDropdown()})},M.prototype._detachPositioningHandler=function(h,y){var m="scroll.select2."+y.id,_="resize.select2."+y.id,b="orientationchange.select2."+y.id;this.$container.parents().filter(g.hasScroll).off(m),x(window).off(m+" "+_+" "+b)},M.prototype._positionDropdown=function(){var h=x(window),y=this.$dropdown.hasClass("select2-dropdown--above"),m=this.$dropdown.hasClass("select2-dropdown--below"),_=null,b=this.$container.offset();b.bottom=b.top+this.$container.outerHeight(!1);var T={height:this.$container.outerHeight(!1)};T.top=b.top,T.bottom=b.top+T.height;var C_height=this.$dropdown.outerHeight(!1),k_top=h.scrollTop(),k_bottom=h.scrollTop()+h.height(),A=k_top<b.top-C_height,I=k_bottom>b.bottom+C_height,D={left:b.left,top:T.bottom},L=this.$dropdownParent;"static"===L.css("position")&&(L=L.offsetParent());var U=L.offset();D.top-=U.top,D.left-=U.left,y||m||(_="below"),I||!A||y?!A&&I&&y&&(_="below"):_="above",("above"==_||y&&"below"!==_)&&(D.top=T.top-U.top-C_height),null!=_&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+_),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+_)),this.$dropdownContainer.css(D)},M.prototype._resizeDropdown=function(){var h={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(h.minWidth=h.width,h.position="relative",h.width="auto"),this.$dropdown.css(h)},M.prototype._showDropdown=function(h){this.$dropdownContainer.appendTo(this.$dropdownParent),this._positionDropdown(),this._resizeDropdown()},M}),W.define("select2/dropdown/minimumResultsForSearch",[],function(){function x(M){for(var h=0,y=0;y<M.length;y++){var m=M[y];m.children?h+=x(m.children):h++}return h}function g(M,h,y,m){this.minimumResultsForSearch=y.get("minimumResultsForSearch"),this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=1/0),M.call(this,h,y,m)}return g.prototype.showSearch=function(M,h){return!(x(h.data.results)<this.minimumResultsForSearch)&&M.call(this,h)},g}),W.define("select2/dropdown/selectOnClose",["../utils"],function(x){function g(){}return g.prototype.bind=function(M,h,y){var m=this;M.call(this,h,y),h.on("close",function(_){m._handleSelectOnClose(_)})},g.prototype._handleSelectOnClose=function(M,h){if(h&&null!=h.originalSelect2Event){var y=h.originalSelect2Event;if("select"===y._type||"unselect"===y._type)return}var m=this.getHighlightedResults();if(!(m.length<1)){var _=x.GetData(m[0],"data");null!=_.element&&_.element.selected||null==_.element&&_.selected||this.trigger("select",{data:_})}},g}),W.define("select2/dropdown/closeOnSelect",[],function(){function x(){}return x.prototype.bind=function(g,M,h){var y=this;g.call(this,M,h),M.on("select",function(m){y._selectTriggered(m)}),M.on("unselect",function(m){y._selectTriggered(m)})},x.prototype._selectTriggered=function(g,M){var h=M.originalEvent;h&&(h.ctrlKey||h.metaKey)||this.trigger("close",{originalEvent:h,originalSelect2Event:M})},x}),W.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(x){var g=x.input.length-x.maximum,M="Please delete "+g+" character";return 1!=g&&(M+="s"),M},inputTooShort:function(x){return"Please enter "+(x.minimum-x.input.length)+" or more characters"},loadingMore:function(){return"Loading more results\u2026"},maximumSelected:function(x){var g="You can only select "+x.maximum+" item";return 1!=x.maximum&&(g+="s"),g},noResults:function(){return"No results found"},searching:function(){return"Searching\u2026"},removeAllItems:function(){return"Remove all items"}}}),W.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(x,g,M,h,y,m,_,b,T,C,k,A,I,D,L,U,S,G,Y,q,tt,ht,ut,bt,F,B,X,J,K){function at(){this.reset()}return at.prototype.apply=function(Q){if(null==(Q=x.extend(!0,{},this.defaults,Q)).dataAdapter){if(null!=Q.ajax?Q.dataAdapter=L:null!=Q.data?Q.dataAdapter=D:Q.dataAdapter=I,Q.minimumInputLength>0&&(Q.dataAdapter=C.Decorate(Q.dataAdapter,G)),Q.maximumInputLength>0&&(Q.dataAdapter=C.Decorate(Q.dataAdapter,Y)),Q.maximumSelectionLength>0&&(Q.dataAdapter=C.Decorate(Q.dataAdapter,q)),Q.tags&&(Q.dataAdapter=C.Decorate(Q.dataAdapter,U)),null==Q.tokenSeparators&&null==Q.tokenizer||(Q.dataAdapter=C.Decorate(Q.dataAdapter,S)),null!=Q.query){var gt=g(Q.amdBase+"compat/query");Q.dataAdapter=C.Decorate(Q.dataAdapter,gt)}if(null!=Q.initSelection){var ot=g(Q.amdBase+"compat/initSelection");Q.dataAdapter=C.Decorate(Q.dataAdapter,ot)}}if(null==Q.resultsAdapter&&(Q.resultsAdapter=M,null!=Q.ajax&&(Q.resultsAdapter=C.Decorate(Q.resultsAdapter,bt)),null!=Q.placeholder&&(Q.resultsAdapter=C.Decorate(Q.resultsAdapter,ut)),Q.selectOnClose&&(Q.resultsAdapter=C.Decorate(Q.resultsAdapter,X))),null==Q.dropdownAdapter){if(Q.multiple)Q.dropdownAdapter=tt;else{var Ot=C.Decorate(tt,ht);Q.dropdownAdapter=Ot}if(0!==Q.minimumResultsForSearch&&(Q.dropdownAdapter=C.Decorate(Q.dropdownAdapter,B)),Q.closeOnSelect&&(Q.dropdownAdapter=C.Decorate(Q.dropdownAdapter,J)),null!=Q.dropdownCssClass||null!=Q.dropdownCss||null!=Q.adaptDropdownCssClass){var yt=g(Q.amdBase+"compat/dropdownCss");Q.dropdownAdapter=C.Decorate(Q.dropdownAdapter,yt)}Q.dropdownAdapter=C.Decorate(Q.dropdownAdapter,F)}if(null==Q.selectionAdapter){if(Q.multiple?Q.selectionAdapter=y:Q.selectionAdapter=h,null!=Q.placeholder&&(Q.selectionAdapter=C.Decorate(Q.selectionAdapter,m)),Q.allowClear&&(Q.selectionAdapter=C.Decorate(Q.selectionAdapter,_)),Q.multiple&&(Q.selectionAdapter=C.Decorate(Q.selectionAdapter,b)),null!=Q.containerCssClass||null!=Q.containerCss||null!=Q.adaptContainerCssClass){var Et=g(Q.amdBase+"compat/containerCss");Q.selectionAdapter=C.Decorate(Q.selectionAdapter,Et)}Q.selectionAdapter=C.Decorate(Q.selectionAdapter,T)}if("string"==typeof Q.language)if(Q.language.indexOf("-")>0){var jt=Q.language.split("-")[0];Q.language=[Q.language,jt]}else Q.language=[Q.language];if(x.isArray(Q.language)){var Ut=new k;Q.language.push("en");for(var le=Q.language,Zt=0;Zt<le.length;Zt++){var ie=le[Zt],Ht={};try{Ht=k.loadPath(ie)}catch{try{ie=this.defaults.amdLanguageBase+ie,Ht=k.loadPath(ie)}catch{Q.debug&&window.console&&console.warn&&console.warn('Select2: The language file for "'+ie+'" could not be automatically loaded. A fallback will be used instead.');continue}}Ut.extend(Ht)}Q.translations=Ut}else{var _t=k.loadPath(this.defaults.amdLanguageBase+"en"),Xt=new k(Q.language);Xt.extend(_t),Q.translations=Xt}return Q},at.prototype.reset=function(){function Q(ot){return ot.replace(/[^\u0000-\u007E]/g,function Ot(yt){return A[yt]||yt})}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:C.escapeMarkup,language:K,matcher:function gt(ot,Ot){if(""===x.trim(ot.term))return Ot;if(Ot.children&&Ot.children.length>0){for(var yt=x.extend(!0,{},Ot),Et=Ot.children.length-1;Et>=0;Et--)null==gt(ot,Ot.children[Et])&&yt.children.splice(Et,1);return yt.children.length>0?yt:gt(ot,yt)}var Mt=Q(Ot.text).toUpperCase(),jt=Q(ot.term).toUpperCase();return Mt.indexOf(jt)>-1?Ot:null},minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(ot){return ot},templateResult:function(ot){return ot.text},templateSelection:function(ot){return ot.text},theme:"default",width:"resolve"}},at.prototype.set=function(Q,gt){var Ot={};Ot[x.camelCase(Q)]=gt;var yt=C._convertData(Ot);x.extend(!0,this.defaults,yt)},new at}),W.define("select2/options",["require","jquery","./defaults","./utils"],function(x,g,M,h){function y(m,_){if(this.options=m,null!=_&&this.fromElement(_),this.options=M.apply(this.options),_&&_.is("input")){var b=x(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=h.Decorate(this.options.dataAdapter,b)}}return y.prototype.fromElement=function(m){function _(S,G){return G.toUpperCase()}var b=["select2"];null==this.options.multiple&&(this.options.multiple=m.prop("multiple")),null==this.options.disabled&&(this.options.disabled=m.prop("disabled")),null==this.options.language&&(m.prop("lang")?this.options.language=m.prop("lang").toLowerCase():m.closest("[lang]").prop("lang")&&(this.options.language=m.closest("[lang]").prop("lang"))),null==this.options.dir&&(m.prop("dir")?this.options.dir=m.prop("dir"):m.closest("[dir]").prop("dir")?this.options.dir=m.closest("[dir]").prop("dir"):this.options.dir="ltr"),m.prop("disabled",this.options.disabled),m.prop("multiple",this.options.multiple),h.GetData(m[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),h.StoreData(m[0],"data",h.GetData(m[0],"select2Tags")),h.StoreData(m[0],"tags",!0)),h.GetData(m[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),m.attr("ajax--url",h.GetData(m[0],"ajaxUrl")),h.StoreData(m[0],"ajax-Url",h.GetData(m[0],"ajaxUrl")));for(var T={},C=0;C<m[0].attributes.length;C++){var k=m[0].attributes[C].name,A="data-";if(k.substr(0,A.length)==A){var I=k.substring(A.length),D=h.GetData(m[0],I);T[I.replace(/-([a-z])/g,_)]=D}}g.fn.jquery&&"1."==g.fn.jquery.substr(0,2)&&m[0].dataset&&(T=g.extend(!0,{},m[0].dataset,T));var L=g.extend(!0,{},h.GetData(m[0]),T);for(var U in L=h._convertData(L))g.inArray(U,b)>-1||(g.isPlainObject(this.options[U])?g.extend(this.options[U],L[U]):this.options[U]=L[U]);return this},y.prototype.get=function(m){return this.options[m]},y.prototype.set=function(m,_){this.options[m]=_},y}),W.define("select2/core",["jquery","./options","./utils","./keys"],function(x,g,M,h){var y=function(m,_){null!=M.GetData(m[0],"select2")&&M.GetData(m[0],"select2").destroy(),this.$element=m,this.id=this._generateId(m),_=_||{},this.options=new g(_,m),y.__super__.constructor.call(this);var b=m.attr("tabindex")||0;M.StoreData(m[0],"old-tabindex",b),m.attr("tabindex","-1");var T=this.options.get("dataAdapter");this.dataAdapter=new T(m,this.options);var C=this.render();this._placeContainer(C);var k=this.options.get("selectionAdapter");this.selection=new k(m,this.options),this.$selection=this.selection.render(),this.selection.position(this.$selection,C);var A=this.options.get("dropdownAdapter");this.dropdown=new A(m,this.options),this.$dropdown=this.dropdown.render(),this.dropdown.position(this.$dropdown,C);var I=this.options.get("resultsAdapter");this.results=new I(m,this.options,this.dataAdapter),this.$results=this.results.render(),this.results.position(this.$results,this.$dropdown);var D=this;this._bindAdapters(),this._registerDomEvents(),this._registerDataEvents(),this._registerSelectionEvents(),this._registerDropdownEvents(),this._registerResultsEvents(),this._registerEvents(),this.dataAdapter.current(function(L){D.trigger("selection:update",{data:L})}),m.addClass("select2-hidden-accessible"),m.attr("aria-hidden","true"),this._syncAttributes(),M.StoreData(m[0],"select2",this),m.data("select2",this)};return M.Extend(y,M.Observable),y.prototype._generateId=function(m){return"select2-"+(null!=m.attr("id")?m.attr("id"):null!=m.attr("name")?m.attr("name")+"-"+M.generateChars(2):M.generateChars(4)).replace(/(:|\.|\[|\]|,)/g,"")},y.prototype._placeContainer=function(m){m.insertAfter(this.$element);var _=this._resolveWidth(this.$element,this.options.get("width"));null!=_&&m.css("width",_)},y.prototype._resolveWidth=function(m,_){var b=/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i;if("resolve"==_)return this._resolveWidth(m,"style")??this._resolveWidth(m,"element");if("element"==_){var C=m.outerWidth(!1);return C<=0?"auto":C+"px"}if("style"==_){var k=m.attr("style");if("string"!=typeof k)return null;for(var A=k.split(";"),I=0,D=A.length;I<D;I+=1){var U=A[I].replace(/\s/g,"").match(b);if(null!==U&&U.length>=1)return U[1]}return null}return _},y.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container),this.selection.bind(this,this.$container),this.dropdown.bind(this,this.$container),this.results.bind(this,this.$container)},y.prototype._registerDomEvents=function(){var m=this;this.$element.on("change.select2",function(){m.dataAdapter.current(function(b){m.trigger("selection:update",{data:b})})}),this.$element.on("focus.select2",function(b){m.trigger("focus",b)}),this._syncA=M.bind(this._syncAttributes,this),this._syncS=M.bind(this._syncSubtree,this),this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);var _=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;null!=_?(this._observer=new _(function(b){x.each(b,m._syncA),x.each(b,m._syncS)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",m._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",m._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",m._syncS,!1))},y.prototype._registerDataEvents=function(){var m=this;this.dataAdapter.on("*",function(_,b){m.trigger(_,b)})},y.prototype._registerSelectionEvents=function(){var m=this,_=["toggle","focus"];this.selection.on("toggle",function(){m.toggleDropdown()}),this.selection.on("focus",function(b){m.focus(b)}),this.selection.on("*",function(b,T){-1===x.inArray(b,_)&&m.trigger(b,T)})},y.prototype._registerDropdownEvents=function(){var m=this;this.dropdown.on("*",function(_,b){m.trigger(_,b)})},y.prototype._registerResultsEvents=function(){var m=this;this.results.on("*",function(_,b){m.trigger(_,b)})},y.prototype._registerEvents=function(){var m=this;this.on("open",function(){m.$container.addClass("select2-container--open")}),this.on("close",function(){m.$container.removeClass("select2-container--open")}),this.on("enable",function(){m.$container.removeClass("select2-container--disabled")}),this.on("disable",function(){m.$container.addClass("select2-container--disabled")}),this.on("blur",function(){m.$container.removeClass("select2-container--focus")}),this.on("query",function(_){m.isOpen()||m.trigger("open",{}),this.dataAdapter.query(_,function(b){m.trigger("results:all",{data:b,query:_})})}),this.on("query:append",function(_){this.dataAdapter.query(_,function(b){m.trigger("results:append",{data:b,query:_})})}),this.on("keypress",function(_){var b=_.which;m.isOpen()?b===h.ESC||b===h.TAB||b===h.UP&&_.altKey?(m.close(),_.preventDefault()):b===h.ENTER?(m.trigger("results:select",{}),_.preventDefault()):b===h.SPACE&&_.ctrlKey?(m.trigger("results:toggle",{}),_.preventDefault()):b===h.UP?(m.trigger("results:previous",{}),_.preventDefault()):b===h.DOWN&&(m.trigger("results:next",{}),_.preventDefault()):(b===h.ENTER||b===h.SPACE||b===h.DOWN&&_.altKey)&&(m.open(),_.preventDefault())})},y.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled")),this.options.get("disabled")?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},y.prototype._syncSubtree=function(m,_){var b=!1,T=this;if(!m||!m.target||"OPTION"===m.target.nodeName||"OPTGROUP"===m.target.nodeName){if(_)if(_.addedNodes&&_.addedNodes.length>0)for(var C=0;C<_.addedNodes.length;C++){_.addedNodes[C].selected&&(b=!0)}else _.removedNodes&&_.removedNodes.length>0&&(b=!0);else b=!0;b&&this.dataAdapter.current(function(A){T.trigger("selection:update",{data:A})})}},y.prototype.trigger=function(m,_){var b=y.__super__.trigger,T={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"};if(void 0===_&&(_={}),m in T){var C=T[m],k={prevented:!1,name:m,args:_};if(b.call(this,C,k),k.prevented)return void(_.prevented=!0)}b.call(this,m,_)},y.prototype.toggleDropdown=function(){this.options.get("disabled")||(this.isOpen()?this.close():this.open())},y.prototype.open=function(){this.isOpen()||this.trigger("query",{})},y.prototype.close=function(){this.isOpen()&&this.trigger("close",{})},y.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},y.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},y.prototype.focus=function(m){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},y.prototype.enable=function(m){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.'),null!=m&&0!==m.length||(m=[!0]);var _=!m[0];this.$element.prop("disabled",_)},y.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var m=[];return this.dataAdapter.current(function(_){m=_}),m},y.prototype.val=function(m){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),null==m||0===m.length)return this.$element.val();var _=m[0];x.isArray(_)&&(_=x.map(_,function(b){return b.toString()})),this.$element.val(_).trigger("change")},y.prototype.destroy=function(){this.$container.remove(),this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA),null!=this._observer?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1)),this._syncA=null,this._syncS=null,this.$element.off(".select2"),this.$element.attr("tabindex",M.GetData(this.$element[0],"old-tabindex")),this.$element.removeClass("select2-hidden-accessible"),this.$element.attr("aria-hidden","false"),M.RemoveData(this.$element[0]),this.$element.removeData("select2"),this.dataAdapter.destroy(),this.selection.destroy(),this.dropdown.destroy(),this.results.destroy(),this.dataAdapter=null,this.selection=null,this.dropdown=null,this.results=null},y.prototype.render=function(){var m=x('<span class="select2 select2-container"><span class="selection"></span><span class="dropdown-wrapper" aria-hidden="true"></span></span>');return m.attr("dir",this.options.get("dir")),this.$container=m,this.$container.addClass("select2-container--"+this.options.get("theme")),M.StoreData(m[0],"element",this.$element),m},y}),W.define("jquery-mousewheel",["jquery"],function(x){return x}),W.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(x,g,M,h,y){if(null==x.fn.select2){var m=["open","close","destroy"];x.fn.select2=function(_){if("object"==typeof(_=_||{}))return this.each(function(){var C=x.extend(!0,{},_);new M(x(this),C)}),this;if("string"==typeof _){var b,T=Array.prototype.slice.call(arguments,1);return this.each(function(){var C=y.GetData(this,"select2");null==C&&window.console&&console.error&&console.error("The select2('"+_+"') method was called on an element that is not using Select2."),b=C[_].apply(C,T)}),x.inArray(_,m)>-1?this:b}throw new Error("Invalid arguments for Select2: "+_)}}return null==x.fn.select2.defaults&&(x.fn.select2.defaults=h),M}),{define:W.define,require:W.require}}(),lt=qt.require("jquery.select2");return V.fn.select2.amd=qt,lt}),function(V){"function"==typeof define&&define.amd?define(["jquery"],V):V("object"==typeof exports?require("jquery"):jQuery)}(function(V){var x,qt=0,lt=Array.prototype.slice;V.cleanData=(x=V.cleanData,function(g){var M,h,y;for(y=0;null!=(h=g[y]);y++)try{(M=V._data(h,"events"))&&M.remove&&V(h).triggerHandler("remove")}catch{}x(g)}),V.widget=function(x,g,M){var h,y,m,_,b={},T=x.split(".")[0];return x=x.split(".")[1],h=T+"-"+x,M||(M=g,g=V.Widget),V.expr[":"][h.toLowerCase()]=function(C){return!!V.data(C,h)},V[T]=V[T]||{},y=V[T][x],m=V[T][x]=function(C,k){if(!this._createWidget)return new m(C,k);arguments.length&&this._createWidget(C,k)},V.extend(m,y,{version:M.version,_proto:V.extend({},M),_childConstructors:[]}),(_=new g).options=V.widget.extend({},_.options),V.each(M,function(C,k){var A,I;V.isFunction(k)?b[C]=(A=function(){return g.prototype[C].apply(this,arguments)},I=function(D){return g.prototype[C].apply(this,D)},function(){var U,D=this._super,L=this._superApply;return this._super=A,this._superApply=I,U=k.apply(this,arguments),this._super=D,this._superApply=L,U}):b[C]=k}),m.prototype=V.widget.extend(_,{widgetEventPrefix:y&&_.widgetEventPrefix||x},b,{constructor:m,namespace:T,widgetName:x,widgetFullName:h}),y?(V.each(y._childConstructors,function(C,k){var A=k.prototype;V.widget(A.namespace+"."+A.widgetName,m,k._proto)}),delete y._childConstructors):g._childConstructors.push(m),V.widget.bridge(x,m),m},V.widget.extend=function(x){for(var y,m,g=lt.call(arguments,1),M=0,h=g.length;M<h;M++)for(y in g[M])m=g[M][y],g[M].hasOwnProperty(y)&&void 0!==m&&(V.isPlainObject(m)?x[y]=V.isPlainObject(x[y])?V.widget.extend({},x[y],m):V.widget.extend({},m):x[y]=m);return x},V.widget.bridge=function(x,g){var M=g.prototype.widgetFullName||x;V.fn[x]=function(h){var y="string"==typeof h,m=lt.call(arguments,1),_=this;return y?this.each(function(){var b,T=V.data(this,M);return"instance"===h?(_=T,!1):T?V.isFunction(T[h])&&"_"!==h.charAt(0)?(b=T[h].apply(T,m))!==T&&void 0!==b?(_=b&&b.jquery?_.pushStack(b.get()):b,!1):void 0:V.error("no such method '"+h+"' for "+x+" widget instance"):V.error("cannot call methods on "+x+" prior to initialization; attempted to call method '"+h+"'")}):(m.length&&(h=V.widget.extend.apply(null,[h].concat(m))),this.each(function(){var b=V.data(this,M);b?(b.option(h||{}),b._init&&b._init()):V.data(this,M,new g(h,this))})),_}},V.Widget=function(){},V.Widget._childConstructors=[],V.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(x,g){g=V(g||this.defaultElement||this)[0],this.element=V(g),this.uuid=qt++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=V(),this.hoverable=V(),this.focusable=V(),g!==this&&(V.data(g,this.widgetFullName,this),this._on(!0,this.element,{remove:function(M){M.target===g&&this.destroy()}}),this.document=V(g.style?g.ownerDocument:g.document||g),this.window=V(this.document[0].defaultView||this.document[0].parentWindow)),this.options=V.widget.extend({},this.options,this._getCreateOptions(),x),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:V.noop,_getCreateEventData:V.noop,_create:V.noop,_init:V.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(V.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:V.noop,widget:function(){return this.element},option:function(x,g){var h,y,m,M=x;if(0===arguments.length)return V.widget.extend({},this.options);if("string"==typeof x)if(M={},h=x.split("."),x=h.shift(),h.length){for(y=M[x]=V.widget.extend({},this.options[x]),m=0;m<h.length-1;m++)y[h[m]]=y[h[m]]||{},y=y[h[m]];if(x=h.pop(),1===arguments.length)return void 0===y[x]?null:y[x];y[x]=g}else{if(1===arguments.length)return void 0===this.options[x]?null:this.options[x];M[x]=g}return this._setOptions(M),this},_setOptions:function(x){var g;for(g in x)this._setOption(g,x[g]);return this},_setOption:function(x,g){return this.options[x]=g,"disabled"===x&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!g),g&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(x,g,M){var h,y=this;"boolean"!=typeof x&&(M=g,g=x,x=!1),M?(g=h=V(g),this.bindings=this.bindings.add(g)):(M=g,g=this.element,h=this.widget()),V.each(M,function(m,_){function b(){if(x||!0!==y.options.disabled&&!V(this).hasClass("ui-state-disabled"))return("string"==typeof _?y[_]:_).apply(y,arguments)}"string"!=typeof _&&(b.guid=_.guid=_.guid||b.guid||V.guid++);var T=m.match(/^([\w:-]*)\s*(.*)$/),C=T[1]+y.eventNamespace,k=T[2];k?h.delegate(k,C,b):g.bind(C,b)})},_off:function(x,g){g=(g||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,x.unbind(g).undelegate(g),this.bindings=V(this.bindings.not(x).get()),this.focusable=V(this.focusable.not(x).get()),this.hoverable=V(this.hoverable.not(x).get())},_delay:function(x,g){var h=this;return setTimeout(function M(){return("string"==typeof x?h[x]:x).apply(h,arguments)},g||0)},_hoverable:function(x){this.hoverable=this.hoverable.add(x),this._on(x,{mouseenter:function(g){V(g.currentTarget).addClass("ui-state-hover")},mouseleave:function(g){V(g.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(x){this.focusable=this.focusable.add(x),this._on(x,{focusin:function(g){V(g.currentTarget).addClass("ui-state-focus")},focusout:function(g){V(g.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(x,g,M){var h,y,m=this.options[x];if(M=M||{},(g=V.Event(g)).type=(x===this.widgetEventPrefix?x:this.widgetEventPrefix+x).toLowerCase(),g.target=this.element[0],y=g.originalEvent)for(h in y)h in g||(g[h]=y[h]);return this.element.trigger(g,M),!(V.isFunction(m)&&!1===m.apply(this.element[0],[g].concat(M))||g.isDefaultPrevented())}},V.each({show:"fadeIn",hide:"fadeOut"},function(x,g){V.Widget.prototype["_"+x]=function(M,h,y){"string"==typeof h&&(h={effect:h});var m,_=h?!0===h||"number"==typeof h?g:h.effect||g:x;"number"==typeof(h=h||{})&&(h={duration:h}),m=!V.isEmptyObject(h),h.complete=y,h.delay&&M.delay(h.delay),m&&V.effects&&V.effects.effect[_]?M[x](h):_!==x&&M[_]?M[_](h.duration,h.easing,y):M.queue(function(b){V(this)[x](),y&&y.call(M[0]),b()})}});V.widget}),function(V){"use strict";"function"==typeof define&&define.amd?define(["jquery","jquery-ui/ui/widget"],V):"object"==typeof exports?V(require("jquery"),require("./vendor/jquery.ui.widget")):V(window.jQuery)}(function(V){"use strict";function qt(lt){var W="dragover"===lt;return function(x){x.dataTransfer=x.originalEvent&&x.originalEvent.dataTransfer;var g=x.dataTransfer;g&&-1!==V.inArray("Files",g.types)&&!1!==this._trigger(lt,V.Event(lt,{delegatedEvent:x}))&&(x.preventDefault(),W&&(g.dropEffect="copy"))}}V.support.fileInput=!(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent)||V('<input type="file">').prop("disabled")),V.support.xhrFileUpload=!(!window.ProgressEvent||!window.FileReader),V.support.xhrFormDataFileUpload=!!window.FormData,V.support.blobSlice=window.Blob&&(Blob.prototype.slice||Blob.prototype.webkitSlice||Blob.prototype.mozSlice),V.widget("blueimp.fileupload",{options:{dropZone:V(document),pasteZone:void 0,fileInput:void 0,replaceFileInput:!0,paramName:void 0,singleFileUploads:!0,limitMultiFileUploads:void 0,limitMultiFileUploadSize:void 0,limitMultiFileUploadSizeOverhead:512,sequentialUploads:!1,limitConcurrentUploads:void 0,forceIframeTransport:!1,redirect:void 0,redirectParamName:void 0,postMessage:void 0,multipart:!0,maxChunkSize:void 0,uploadedBytes:void 0,recalculateProgress:!0,progressInterval:100,bitrateInterval:500,autoUpload:!0,messages:{uploadedBytes:"Uploaded bytes exceed file size"},i18n:function(lt,W){return lt=this.messages[lt]||lt.toString(),W&&V.each(W,function(x,g){lt=lt.replace("{"+x+"}",g)}),lt},formData:function(lt){return lt.serializeArray()},add:function(lt,W){if(lt.isDefaultPrevented())return!1;(W.autoUpload||!1!==W.autoUpload&&V(this).fileupload("option","autoUpload"))&&W.process().done(function(){W.submit()})},processData:!1,contentType:!1,cache:!1,timeout:0},_specialOptions:["fileInput","dropZone","pasteZone","multipart","forceIframeTransport"],_blobSlice:V.support.blobSlice&&function(){return(this.slice||this.webkitSlice||this.mozSlice).apply(this,arguments)},_BitrateTimer:function(){this.timestamp=Date.now?Date.now():(new Date).getTime(),this.loaded=0,this.bitrate=0,this.getBitrate=function(lt,W,x){var g=lt-this.timestamp;return(!this.bitrate||!x||g>x)&&(this.bitrate=(W-this.loaded)*(1e3/g)*8,this.loaded=W,this.timestamp=lt),this.bitrate}},_isXHRUpload:function(lt){return!lt.forceIframeTransport&&(!lt.multipart&&V.support.xhrFileUpload||V.support.xhrFormDataFileUpload)},_getFormData:function(lt){var W;return"function"===V.type(lt.formData)?lt.formData(lt.form):V.isArray(lt.formData)?lt.formData:"object"===V.type(lt.formData)?(W=[],V.each(lt.formData,function(x,g){W.push({name:x,value:g})}),W):[]},_getTotal:function(lt){var W=0;return V.each(lt,function(x,g){W+=g.size||1}),W},_initProgressObject:function(lt){var W={loaded:0,total:0,bitrate:0};lt._progress?V.extend(lt._progress,W):lt._progress=W},_initResponseObject:function(lt){var W;if(lt._response)for(W in lt._response)lt._response.hasOwnProperty(W)&&delete lt._response[W];else lt._response={}},_onProgress:function(lt,W){if(lt.lengthComputable){var g,x=Date.now?Date.now():(new Date).getTime();if(W._time&&W.progressInterval&&x-W._time<W.progressInterval&&lt.loaded!==lt.total)return;W._time=x,g=Math.floor(lt.loaded/lt.total*(W.chunkSize||W._progress.total))+(W.uploadedBytes||0),this._progress.loaded+=g-W._progress.loaded,this._progress.bitrate=this._bitrateTimer.getBitrate(x,this._progress.loaded,W.bitrateInterval),W._progress.loaded=W.loaded=g,W._progress.bitrate=W.bitrate=W._bitrateTimer.getBitrate(x,g,W.bitrateInterval),this._trigger("progress",V.Event("progress",{delegatedEvent:lt}),W),this._trigger("progressall",V.Event("progressall",{delegatedEvent:lt}),this._progress)}},_initProgressListener:function(lt){var W=this,x=lt.xhr?lt.xhr():V.ajaxSettings.xhr();x.upload&&(V(x.upload).bind("progress",function(g){var M=g.originalEvent;g.lengthComputable=M.lengthComputable,g.loaded=M.loaded,g.total=M.total,W._onProgress(g,lt)}),lt.xhr=function(){return x})},_isInstanceOf:function(lt,W){return Object.prototype.toString.call(W)==="[object "+lt+"]"},_initXHRData:function(lt){var x,W=this,g=lt.files[0],M=lt.multipart||!V.support.xhrFileUpload,h="array"===V.type(lt.paramName)?lt.paramName[0]:lt.paramName;lt.headers=V.extend({},lt.headers),lt.contentRange&&(lt.headers["Content-Range"]=lt.contentRange),(!M||lt.blob||!this._isInstanceOf("File",g))&&(lt.headers["Content-Disposition"]='attachment; filename="'+encodeURI(g.name)+'"'),M?V.support.xhrFormDataFileUpload&&(lt.postMessage?(x=this._getFormData(lt),lt.blob?x.push({name:h,value:lt.blob}):V.each(lt.files,function(y,m){x.push({name:"array"===V.type(lt.paramName)&&lt.paramName[y]||h,value:m})})):(W._isInstanceOf("FormData",lt.formData)?x=lt.formData:(x=new FormData,V.each(this._getFormData(lt),function(y,m){x.append(m.name,m.value)})),lt.blob?x.append(h,lt.blob,g.name):V.each(lt.files,function(y,m){(W._isInstanceOf("File",m)||W._isInstanceOf("Blob",m))&&x.append("array"===V.type(lt.paramName)&&lt.paramName[y]||h,m,m.uploadName||m.name)})),lt.data=x):(lt.contentType=g.type||"application/octet-stream",lt.data=lt.blob||g),lt.blob=null},_initIframeSettings:function(lt){var W=V("<a></a>").prop("href",lt.url).prop("host");lt.dataType="iframe "+(lt.dataType||""),lt.formData=this._getFormData(lt),lt.redirect&&W&&W!==location.host&&lt.formData.push({name:lt.redirectParamName||"redirect",value:lt.redirect})},_initDataSettings:function(lt){this._isXHRUpload(lt)?(this._chunkedUpload(lt,!0)||(lt.data||this._initXHRData(lt),this._initProgressListener(lt)),lt.postMessage&&(lt.dataType="postmessage "+(lt.dataType||""))):this._initIframeSettings(lt)},_getParamName:function(lt){var W=V(lt.fileInput),x=lt.paramName;return x?V.isArray(x)||(x=[x]):(x=[],W.each(function(){for(var g=V(this),M=g.prop("name")||"files[]",h=(g.prop("files")||[1]).length;h;)x.push(M),h-=1}),x.length||(x=[W.prop("name")||"files[]"])),x},_initFormSettings:function(lt){(!lt.form||!lt.form.length)&&(lt.form=V(lt.fileInput.prop("form")),lt.form.length||(lt.form=V(this.options.fileInput.prop("form")))),lt.paramName=this._getParamName(lt),lt.url||(lt.url=lt.form.prop("action")||location.href),lt.type=(lt.type||"string"===V.type(lt.form.prop("method"))&&lt.form.prop("method")||"").toUpperCase(),"POST"!==lt.type&&"PUT"!==lt.type&&"PATCH"!==lt.type&&(lt.type="POST"),lt.formAcceptCharset||(lt.formAcceptCharset=lt.form.attr("accept-charset"))},_getAJAXSettings:function(lt){var W=V.extend({},this.options,lt);return this._initFormSettings(W),this._initDataSettings(W),W},_getDeferredState:function(lt){return lt.state?lt.state():lt.isResolved()?"resolved":lt.isRejected()?"rejected":"pending"},_enhancePromise:function(lt){return lt.success=lt.done,lt.error=lt.fail,lt.complete=lt.always,lt},_getXHRPromise:function(lt,W,x){var g=V.Deferred(),M=g.promise();return W=W||this.options.context||M,!0===lt?g.resolveWith(W,x):!1===lt&&g.rejectWith(W,x),M.abort=g.promise,this._enhancePromise(M)},_addConvenienceMethods:function(lt,W){var x=this,g=function(M){return V.Deferred().resolveWith(x,M).promise()};W.process=function(M,h){return(M||h)&&(W._processQueue=this._processQueue=(this._processQueue||g([this])).then(function(){return W.errorThrown?V.Deferred().rejectWith(x,[W]).promise():g(arguments)}).then(M,h)),this._processQueue||g([this])},W.submit=function(){return"pending"!==this.state()&&(W.jqXHR=this.jqXHR=!1!==x._trigger("submit",V.Event("submit",{delegatedEvent:lt}),this)&&x._onSend(lt,this)),this.jqXHR||x._getXHRPromise()},W.abort=function(){return this.jqXHR?this.jqXHR.abort():(this.errorThrown="abort",x._trigger("fail",null,this),x._getXHRPromise(!1))},W.state=function(){return this.jqXHR?x._getDeferredState(this.jqXHR):this._processQueue?x._getDeferredState(this._processQueue):void 0},W.processing=function(){return!this.jqXHR&&this._processQueue&&"pending"===x._getDeferredState(this._processQueue)},W.progress=function(){return this._progress},W.response=function(){return this._response}},_getUploadedBytes:function(lt){var W=lt.getResponseHeader("Range"),x=W&&W.split("-"),g=x&&x.length>1&&parseInt(x[1],10);return g&&g+1},_chunkedUpload:function(lt,W){lt.uploadedBytes=lt.uploadedBytes||0;var T,C,x=this,g=lt.files[0],M=g.size,h=lt.uploadedBytes,y=lt.maxChunkSize||M,m=this._blobSlice,_=V.Deferred(),b=_.promise();return!(!(this._isXHRUpload(lt)&&m&&(h||("function"===V.type(y)?y(lt):y)<M))||lt.data)&&(!!W||(h>=M?(g.error=lt.i18n("uploadedBytes"),this._getXHRPromise(!1,lt.context,[null,"error",g.error])):(C=function(){var k=V.extend({},lt),A=k._progress.loaded;k.blob=m.call(g,h,h+("function"===V.type(y)?y(k):y),g.type),k.chunkSize=k.blob.size,k.contentRange="bytes "+h+"-"+(h+k.chunkSize-1)+"/"+M,x._initXHRData(k),x._initProgressListener(k),T=(!1!==x._trigger("chunksend",null,k)&&V.ajax(k)||x._getXHRPromise(!1,k.context)).done(function(I,D,L){h=x._getUploadedBytes(L)||h+k.chunkSize,A+k.chunkSize-k._progress.loaded&&x._onProgress(V.Event("progress",{lengthComputable:!0,loaded:h-k.uploadedBytes,total:h-k.uploadedBytes}),k),lt.uploadedBytes=k.uploadedBytes=h,k.result=I,k.textStatus=D,k.jqXHR=L,x._trigger("chunkdone",null,k),x._trigger("chunkalways",null,k),h<M?C():_.resolveWith(k.context,[I,D,L])}).fail(function(I,D,L){k.jqXHR=I,k.textStatus=D,k.errorThrown=L,x._trigger("chunkfail",null,k),x._trigger("chunkalways",null,k),_.rejectWith(k.context,[I,D,L])})},this._enhancePromise(b),b.abort=function(){return T.abort()},C(),b)))},_beforeSend:function(lt,W){0===this._active&&(this._trigger("start"),this._bitrateTimer=new this._BitrateTimer,this._progress.loaded=this._progress.total=0,this._progress.bitrate=0),this._initResponseObject(W),this._initProgressObject(W),W._progress.loaded=W.loaded=W.uploadedBytes||0,W._progress.total=W.total=this._getTotal(W.files)||1,W._progress.bitrate=W.bitrate=0,this._active+=1,this._progress.loaded+=W.loaded,this._progress.total+=W.total},_onDone:function(lt,W,x,g){var M=g._progress.total,h=g._response;g._progress.loaded<M&&this._onProgress(V.Event("progress",{lengthComputable:!0,loaded:M,total:M}),g),h.result=g.result=lt,h.textStatus=g.textStatus=W,h.jqXHR=g.jqXHR=x,this._trigger("done",null,g)},_onFail:function(lt,W,x,g){var M=g._response;g.recalculateProgress&&(this._progress.loaded-=g._progress.loaded,this._progress.total-=g._progress.total),M.jqXHR=g.jqXHR=lt,M.textStatus=g.textStatus=W,M.errorThrown=g.errorThrown=x,this._trigger("fail",null,g)},_onAlways:function(lt,W,x,g){this._trigger("always",null,g)},_onSend:function(lt,W){W.submit||this._addConvenienceMethods(lt,W);var g,M,h,y,x=this,m=x._getAJAXSettings(W),_=function(){return x._sending+=1,m._bitrateTimer=new x._BitrateTimer,g=g||((M||!1===x._trigger("send",V.Event("send",{delegatedEvent:lt}),m))&&x._getXHRPromise(!1,m.context,M)||x._chunkedUpload(m)||V.ajax(m)).done(function(b,T,C){x._onDone(b,T,C,m)}).fail(function(b,T,C){x._onFail(b,T,C,m)}).always(function(b,T,C){if(x._onAlways(b,T,C,m),x._sending-=1,x._active-=1,m.limitConcurrentUploads&&m.limitConcurrentUploads>x._sending)for(var k=x._slots.shift();k;){if("pending"===x._getDeferredState(k)){k.resolve();break}k=x._slots.shift()}0===x._active&&x._trigger("stop")})};return this._beforeSend(lt,m),this.options.sequentialUploads||this.options.limitConcurrentUploads&&this.options.limitConcurrentUploads<=this._sending?(this.options.limitConcurrentUploads>1?(h=V.Deferred(),this._slots.push(h),y=h.then(_)):(this._sequence=this._sequence.then(_,_),y=this._sequence),y.abort=function(){return M=[void 0,"abort","abort"],g?g.abort():(h&&h.rejectWith(m.context,M),_())},this._enhancePromise(y)):_()},_onAdd:function(lt,W){var k,A,I,D,x=this,g=!0,M=V.extend({},this.options,W),h=W.files,y=h.length,m=M.limitMultiFileUploads,_=M.limitMultiFileUploadSize,b=M.limitMultiFileUploadSizeOverhead,T=0,C=this._getParamName(M),L=0;if(!y)return!1;if(_&&void 0===h[0].size&&(_=void 0),(M.singleFileUploads||m||_)&&this._isXHRUpload(M))if(M.singleFileUploads||_||!m)if(!M.singleFileUploads&&_)for(I=[],k=[],D=0;D<y;D+=1)T+=h[D].size+b,(D+1===y||T+h[D+1].size+b>_||m&&D+1-L>=m)&&(I.push(h.slice(L,D+1)),(A=C.slice(L,D+1)).length||(A=C),k.push(A),L=D+1,T=0);else k=C;else for(I=[],k=[],D=0;D<y;D+=m)I.push(h.slice(D,D+m)),(A=C.slice(D,D+m)).length||(A=C),k.push(A);else I=[h],k=[C];return W.originalFiles=h,V.each(I||h,function(U,S){var G=V.extend({},W);return G.files=I?S:[S],G.paramName=k[U],x._initResponseObject(G),x._initProgressObject(G),x._addConvenienceMethods(lt,G),g=x._trigger("add",V.Event("add",{delegatedEvent:lt}),G)}),g},_replaceFileInput:function(lt){var W=lt.fileInput,x=W.clone(!0),g=W.is(document.activeElement);lt.fileInputClone=x,V("<form></form>").append(x)[0].reset(),W.after(x).detach(),g&&x.focus(),V.cleanData(W.unbind("remove")),this.options.fileInput=this.options.fileInput.map(function(M,h){return h===W[0]?x[0]:h}),W[0]===this.element[0]&&(this.element=x)},_handleFileTreeEntry:function(lt,W){var h,x=this,g=V.Deferred(),M=[],y=function(b){b&&!b.entry&&(b.entry=lt),g.resolve([b])},_=function(){h.readEntries(function(b){b.length?(M=M.concat(b),_()):function(b){x._handleFileTreeEntries(b,W+lt.name+"/").done(function(T){g.resolve(T)}).fail(y)}(M)},y)};return W=W||"",lt.isFile?lt._file?(lt._file.relativePath=W,g.resolve(lt._file)):lt.file(function(b){b.relativePath=W,g.resolve(b)},y):lt.isDirectory?(h=lt.createReader(),_()):g.resolve([]),g.promise()},_handleFileTreeEntries:function(lt,W){var x=this;return V.when.apply(V,V.map(lt,function(g){return x._handleFileTreeEntry(g,W)})).then(function(){return Array.prototype.concat.apply([],arguments)})},_getDroppedFiles:function(lt){var W=(lt=lt||{}).items;return W&&W.length&&(W[0].webkitGetAsEntry||W[0].getAsEntry)?this._handleFileTreeEntries(V.map(W,function(x){var g;return x.webkitGetAsEntry?((g=x.webkitGetAsEntry())&&(g._file=x.getAsFile()),g):x.getAsEntry()})):V.Deferred().resolve(V.makeArray(lt.files)).promise()},_getSingleFileInputFiles:function(lt){var x,g,W=(lt=V(lt)).prop("webkitEntries")||lt.prop("entries");if(W&&W.length)return this._handleFileTreeEntries(W);if((x=V.makeArray(lt.prop("files"))).length)void 0===x[0].name&&x[0].fileName&&V.each(x,function(M,h){h.name=h.fileName,h.size=h.fileSize});else{if(!(g=lt.prop("value")))return V.Deferred().resolve([]).promise();x=[{name:g.replace(/^.*\\/,"")}]}return V.Deferred().resolve(x).promise()},_getFileInputFiles:function(lt){return lt instanceof V&&1!==lt.length?V.when.apply(V,V.map(lt,this._getSingleFileInputFiles)).then(function(){return Array.prototype.concat.apply([],arguments)}):this._getSingleFileInputFiles(lt)},_onChange:function(lt){var W=this,x={fileInput:V(lt.target),form:V(lt.target.form)};this._getFileInputFiles(x.fileInput).always(function(g){x.files=g,W.options.replaceFileInput&&W._replaceFileInput(x),!1!==W._trigger("change",V.Event("change",{delegatedEvent:lt}),x)&&W._onAdd(lt,x)})},_onPaste:function(lt){var W=lt.originalEvent&&lt.originalEvent.clipboardData&&lt.originalEvent.clipboardData.items,x={files:[]};W&&W.length&&(V.each(W,function(g,M){var h=M.getAsFile&&M.getAsFile();h&&x.files.push(h)}),!1!==this._trigger("paste",V.Event("paste",{delegatedEvent:lt}),x)&&this._onAdd(lt,x))},_onDrop:function(lt){lt.dataTransfer=lt.originalEvent&&lt.originalEvent.dataTransfer;var W=this,x=lt.dataTransfer,g={};x&&x.files&&x.files.length&&(lt.preventDefault(),this._getDroppedFiles(x).always(function(M){g.files=M,!1!==W._trigger("drop",V.Event("drop",{delegatedEvent:lt}),g)&&W._onAdd(lt,g)}))},_onDragOver:qt("dragover"),_onDragEnter:qt("dragenter"),_onDragLeave:qt("dragleave"),_initEventHandlers:function(){this._isXHRUpload(this.options)&&(this._on(this.options.dropZone,{dragover:this._onDragOver,drop:this._onDrop,dragenter:this._onDragEnter,dragleave:this._onDragLeave}),this._on(this.options.pasteZone,{paste:this._onPaste})),V.support.fileInput&&this._on(this.options.fileInput,{change:this._onChange})},_destroyEventHandlers:function(){this._off(this.options.dropZone,"dragenter dragleave dragover drop"),this._off(this.options.pasteZone,"paste"),this._off(this.options.fileInput,"change")},_destroy:function(){this._destroyEventHandlers()},_setOption:function(lt,W){var x=-1!==V.inArray(lt,this._specialOptions);x&&this._destroyEventHandlers(),this._super(lt,W),x&&(this._initSpecialOptions(),this._initEventHandlers())},_initSpecialOptions:function(){var lt=this.options;void 0===lt.fileInput?lt.fileInput=this.element.is('input[type="file"]')?this.element:this.element.find('input[type="file"]'):lt.fileInput instanceof V||(lt.fileInput=V(lt.fileInput)),lt.dropZone instanceof V||(lt.dropZone=V(lt.dropZone)),lt.pasteZone instanceof V||(lt.pasteZone=V(lt.pasteZone))},_getRegExp:function(lt){var W=lt.split("/"),x=W.pop();return W.shift(),new RegExp(W.join("/"),x)},_isRegExpOption:function(lt,W){return"url"!==lt&&"string"===V.type(W)&&/^\/.*\/[igm]{0,3}$/.test(W)},_initDataAttributes:function(){var lt=this,W=this.options,x=this.element.data();V.each(this.element[0].attributes,function(g,M){var y,h=M.name.toLowerCase();/^data-/.test(h)&&(h=h.slice(5).replace(/-[a-z]/g,function(m){return m.charAt(1).toUpperCase()}),y=x[h],lt._isRegExpOption(h,y)&&(y=lt._getRegExp(y)),W[h]=y)})},_create:function(){this._initDataAttributes(),this._initSpecialOptions(),this._slots=[],this._sequence=this._getXHRPromise(!0),this._sending=this._active=0,this._initProgressObject(this),this._initEventHandlers()},active:function(){return this._active},progress:function(){return this._progress},add:function(lt){var W=this;!lt||this.options.disabled||(lt.fileInput&&!lt.files?this._getFileInputFiles(lt.fileInput).always(function(x){lt.files=x,W._onAdd(null,lt)}):(lt.files=V.makeArray(lt.files),this._onAdd(null,lt)))},send:function(lt){if(lt&&!this.options.disabled){if(lt.fileInput&&!lt.files){var M,h,W=this,x=V.Deferred(),g=x.promise();return g.abort=function(){return h=!0,M?M.abort():(x.reject(null,"abort","abort"),g)},this._getFileInputFiles(lt.fileInput).always(function(y){if(!h){if(!y.length)return void x.reject();lt.files=y,(M=W._onSend(null,lt)).then(function(m,_,b){x.resolve(m,_,b)},function(m,_,b){x.reject(m,_,b)})}}),this._enhancePromise(g)}if(lt.files=V.makeArray(lt.files),lt.files.length)return this._onSend(null,lt)}return this._getXHRPromise(!1,lt&&lt.context)}})}),function(V){"use strict";"function"==typeof define&&define.amd?define(["jquery"],V):V("object"==typeof exports?require("jquery"):window.jQuery)}(function(V){"use strict";var qt=0,lt=V,W="parseJSON";"JSON"in window&&"parse"in JSON&&(lt=JSON,W="parse"),V.ajaxTransport("iframe",function(x){if(x.async){var M,h,y,g=x.initialIframeSrc||"javascript:false;";return{send:function(m,_){(M=V('<form style="display:none;"></form>')).attr("accept-charset",x.formAcceptCharset),y=/\?/.test(x.url)?"&":"?","DELETE"===x.type?(x.url=x.url+y+"_method=DELETE",x.type="POST"):"PUT"===x.type?(x.url=x.url+y+"_method=PUT",x.type="POST"):"PATCH"===x.type&&(x.url=x.url+y+"_method=PATCH",x.type="POST"),h=V('<iframe src="'+g+'" name="iframe-transport-'+(qt+=1)+'"></iframe>').bind("load",function(){var b,T=V.isArray(x.paramName)?x.paramName:[x.paramName];h.unbind("load").bind("load",function(){var C;try{if(!(C=h.contents()).length||!C[0].firstChild)throw new Error}catch{C=void 0}_(200,"success",{iframe:C}),V('<iframe src="'+g+'"></iframe>').appendTo(M),window.setTimeout(function(){M.remove()},0)}),M.prop("target",h.prop("name")).prop("action",x.url).prop("method",x.type),x.formData&&V.each(x.formData,function(C,k){V('<input type="hidden"/>').prop("name",k.name).val(k.value).appendTo(M)}),x.fileInput&&x.fileInput.length&&"POST"===x.type&&(b=x.fileInput.clone(),x.fileInput.after(function(C){return b[C]}),x.paramName&&x.fileInput.each(function(C){V(this).prop("name",T[C]||x.paramName)}),M.append(x.fileInput).prop("enctype","multipart/form-data").prop("encoding","multipart/form-data"),x.fileInput.removeAttr("form")),M.submit(),b&&b.length&&x.fileInput.each(function(C,k){var A=V(b[C]);V(k).prop("name",A.prop("name")).attr("form",A.attr("form")),A.replaceWith(k)})}),M.append(h).appendTo(document.body)},abort:function(){h&&h.unbind("load").prop("src",g),M&&M.remove()}}}}),V.ajaxSetup({converters:{"iframe text":function(x){return x&&V(x[0].body).text()},"iframe json":function(x){return x&&lt[W](V(x[0].body).text())},"iframe html":function(x){return x&&V(x[0].body).html()},"iframe xml":function(x){var g=x&&x[0];return g&&V.isXMLDoc(g)?g:V.parseXML(g.XMLDocument&&g.XMLDocument.xml||V(g.body).html())},"iframe script":function(x){return x&&V.globalEval(V(x[0].body).text())}}})}),function(V){var qt=function(M){var h={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return M.replace(/[&<>"']/g,function(y){return h[y]})},lt=function(M){var h=Array.prototype.slice.call(arguments,1);return M.replace(/{(\d+)}/g,function(y,m){return typeof h[m]<"u"?h[m]:y})},W=function(M,h,y){if(0==M)return"0 Bytes";if(1==M)return"1 Byte";var m,_;M=Math.abs(M),y&&"iec_formal"===y.toLowerCase()?(m=Math.pow(2,10),_=["Bytes","KiB","MiB","GiB","TiB","PiB","EiB","ZiB","YiB"]):y&&"si"===y.toLowerCase()?(m=Math.pow(10,3),_=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"]):(m=Math.pow(2,10),_=["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"]);var b=Math.floor(Math.log(M)/Math.log(m)),T=M/Math.pow(m,b);return(0==b||h&&T>=99.995?T.toFixed(0):T.toFixed(2))+" "+_[b]};V.fn.FancyFileUpload=function(M){if(this.each(function(){var D=V(this);if(D.data("fancy-fileupload")&&"object"==typeof D.data("fancy-fileupload")){D.removeClass("ff_fileupload_hidden");var L=D.data("fancy-fileupload");L.form.find("input[type=file]").fileupload("destroy"),L.form.remove(),L.fileuploadwrap.remove()}}),V(".ff_fileupload_hidden").length||(V(document).off("drop.fancy_fileupload dragover.fancy_fileupload"),V(window).off("beforeunload.fancy_fileupload")),"string"==typeof M&&"destroy"===M)return this;var h=V.extend({},V.fn.FancyFileUpload.defaults,M);h.preinit&&h.preinit(h),V(document).off("drop.fancy_fileupload dragover.fancy_fileupload"),V(document).on("drop.fancy_fileupload dragover.fancy_fileupload",function(D){D.preventDefault()});var y=function(D){return h.langmap[D]?h.langmap[D]:D};V(window).on("beforeunload.fancy_fileupload",function(D){var L=V(".ff_fileupload_uploading, .ff_fileupload_starting"),U=V(".ff_fileupload_queued");if(L.length||U.length){if(L.removeClass("ff_fileupload_bounce"),setTimeout(function(){L.addClass("ff_fileupload_bounce")},250),U.removeClass("ff_fileupload_bounce"),setTimeout(function(){U.addClass("ff_fileupload_bounce")},250),L.length)return y("There is a file upload still in progress.  Leaving the page will cancel the upload.\n\nAre you sure you want to leave this page?");if(U.length)return y("There is a file that was added to the queue but the upload has not been started.  Leaving the page will clear the queue and not upload the file.\n\nAre you sure you want to leave this page?")}});var m=document.createElement("audio"),_=document.createElement("video"),b=function(D,L,U){var S=V('<tr><td class="ff_fileupload_preview"><button class="ff_fileupload_preview_image" type="button"><span class="ff_fileupload_preview_text"></span></button><div class="ff_fileupload_actions_mobile"></div></td><td class="ff_fileupload_summary"><div class="ff_fileupload_filename"></div><div class="ff_fileupload_fileinfo"></div><div class="ff_fileupload_buttoninfo ff_fileupload_hidden"></div><div class="ff_fileupload_errors ff_fileupload_hidden"></div><div class="ff_fileupload_progress_background ff_fileupload_hidden"><div class="ff_fileupload_progress_bar"></div></div></td><td class="ff_fileupload_actions"></td></tr>'),G=U.files[0].name.lastIndexOf("."),Y=G>-1?U.files[0].name.substring(0,G):U.files[0].name,q=G>-1?U.files[0].name.substring(G+1).toLowerCase():"",tt="abcdefghijklmnopqrstuvwxyz0123456789";G=""==q?-1:tt.indexOf(q.charAt(0));var ht=tt.charAt(G>-1?G:Math.floor(Math.random()*tt.length));U.ff_info={},U.ff_info.errors=[],U.ff_info.retries=0,U.ff_info.retrydelay=h.retrydelay,U.ff_info.removewidget=!1,U.ff_info.inforow=S,U.ff_info.displayfilesize=W(U.files[0].size,h.adjustprecision,h.displayunits),U.context=S;var ut=function(Q){if(Q.preventDefault(),h.edit&&!U.ff_info.errors.length){var gt=S.find(".ff_fileupload_filename input");if(gt.length){var ot=gt.val();""!=q&&(ot+="."+q),S.find(".ff_fileupload_filename").text(ot),U.files[0].uploadName=ot}}S.find("button.ff_fileupload_start_upload").remove(),S.find(".ff_fileupload_fileinfo").removeClass("ff_fileupload_hidden"),S.find(".ff_fileupload_buttoninfo").addClass("ff_fileupload_hidden"),S.find(".ff_fileupload_fileinfo").text(U.ff_info.displayfilesize+" | "+y("Starting upload...")),S.find(".ff_fileupload_progress_background").removeClass("ff_fileupload_hidden"),S.find("button.ff_fileupload_remove_file").attr("aria-label",y("Cancel upload and remove from list")),S.removeClass("ff_fileupload_queued"),S.addClass("ff_fileupload_starting");var Ot=function(){S.removeClass("ff_fileupload_starting"),S.addClass("ff_fileupload_uploading"),U.submit()};h.startupload?h.startupload.call(S,Ot,Q,U):Ot()},bt=function(Q){if(Q.preventDefault(),h.uploadcancelled.call(null,null,null),S.hasClass("ff_fileupload_uploading")){if(!confirm(y("This file is currently being uploaded.\n\nStop the upload and remove the file from the list?")))return;U.ff_info.removewidget=!0,U.abort()}else{if(S.hasClass("ff_fileupload_starting")){if(!confirm(y("This file is waiting to start.\n\nCancel the operation and remove the file from the list?")))return;h.uploadcancelled&&h.uploadcancelled.call(U.ff_info.inforow,Q,U)}S.remove(),delete U.ff_info}};U.ff_info.RemoveFile=function(){S.hasClass("ff_fileupload_uploading")?(U.ff_info.removewidget=!0,U.abort()):(S.hasClass("ff_fileupload_starting")&&h.uploadcancelled&&h.uploadcancelled.call(U.ff_info.inforow,L,U),S.remove(),delete U.ff_info)};var B,F=!1,X=!1;if(URL&&URL.createObjectURL){var J=URL.createObjectURL(U.files[0]);J&&("image/gif"===U.files[0].type||"image/jpeg"===U.files[0].type||"image/png"===U.files[0].type?(S.find(".ff_fileupload_preview_image").css("background-image",'url("'+J+'")'),F=!0,B=V("<img>").attr("src",J),X=!0):U.files[0].type.lastIndexOf("audio/",0)>-1&&m.canPlayType&&m.canPlayType(U.files[0].type)?(F=!0,B=V("<audio>").attr("src",J).prop("controls",!0)):U.files[0].type.lastIndexOf("video/",0)>-1&&_.canPlayType&&_.canPlayType(U.files[0].type)&&(F=!0,B=V("<video>").attr("src",J).prop("controls",!0)))}if(F?S.find(".ff_fileupload_preview_image").addClass("ff_fileupload_preview_image_has_preview").attr("aria-label",y("\u067e\u06cc\u0634 \u0646\u0645\u0627\u06cc\u0634")).click(function(Q){Q.preventDefault(),this.blur(),function(M,h,y,m,_){var b=V("<div>").addClass("ff_fileupload_dialog_background"),T=M.clone(!0,!0).click(function(A){A.stopPropagation()}),C=V("<div>").addClass("ff_fileupload_dialog_main").append(T),k=function(){V(document).off("keyup.fancy_fileupload"),b.remove(),h.focus(),_.hidepreview&&_.hidepreview.call(y,m,M,T)};V(document).on("keyup.fancy_fileupload",function(A){27==A.keyCode&&k()}),b.append(C).click(function(){k()}),V("body").append(b),T.focus(),_.showpreview&&_.showpreview.call(y,m,M,T)}(B,this,S,U,h)}):S.find(".ff_fileupload_preview_image").prop("disabled",!0).attr("aria-label",y("No preview available")).click(function(Q){Q.preventDefault()}),X||S.find(".ff_fileupload_preview_image").addClass("ff_fileupload_preview_text_with_color").addClass("ff_fileupload_preview_text_"+ht).text(q),h.accept){for(var K=!1,at=0;at<h.accept.length&&!K;at++)(h.accept[at]===q||h.accept[at]===U.files[0].type)&&(K=!0);K||U.ff_info.errors.push(y("\u0641\u0631\u0645\u062a \u0641\u0627\u06cc\u0644 \u0646\u0627\u062f\u0631\u0633\u062a \u0627\u0633\u062a!"))}h.maxfilesize>-1&&U.files[0].size>h.maxfilesize&&U.ff_info.errors.push(lt(y("\u062d\u062c\u0645 \u0641\u0627\u06cc\u0644 \u0632\u06cc\u0627\u062f \u0627\u0633\u062a \u062d\u062f\u0627\u06a9\u062b\u0631 \u062d\u062c\u0645 \u0645\u062c\u0627\u0632 {0} \u0627\u0633\u062a"),W(h.maxfilesize,h.adjustprecision,h.displayunits))),h.edit&&!U.ff_info.errors.length?S.find(".ff_fileupload_filename").append(V("<input>").attr("type","text").val(Y).keydown(function(Q){13==Q.keyCode&&ut(Q)})):S.find(".ff_fileupload_filename").text(U.files[0].name),S.find(".ff_fileupload_fileinfo").text(U.ff_info.displayfilesize+(X&&h.edit&&!U.ff_info.errors.length?" | ."+q:"")),U.ff_info.errors.length&&S.find(".ff_fileupload_errors").html(U.ff_info.errors.join("<br>")).removeClass("ff_fileupload_hidden"),U.ff_info.errors.length||(S.find(".ff_fileupload_actions").append(V("<button>").addClass("ff_fileupload_start_upload").attr("type","button").attr("aria-label",y("\u0634\u0631\u0648\u0639 \u0627\u067e\u0644\u0648\u062f \u0641\u0627\u06cc\u0644")).click(ut)),S.find(".ff_fileupload_actions_mobile").append(V("<button>").addClass("ff_fileupload_start_upload").attr("type","button").attr("aria-label",y("\u0634\u0631\u0648\u0639 \u0627\u067e\u0644\u0648\u062f \u0641\u0627\u06cc\u0644")).click(ut)),S.addClass("ff_fileupload_queued")),S.find(".ff_fileupload_actions").append(V("<button>").addClass("ff_fileupload_remove_file").attr("type","button").attr("aria-label",y("\u062d\u0630\u0641 \u0641\u0627\u06cc\u0644")).click(bt)),S.find(".ff_fileupload_actions_mobile").append(V("<button>").addClass("ff_fileupload_remove_file").attr("type","button").attr("aria-label",y("\u062d\u0630\u0641 \u0641\u0627\u06cc\u0644")).click(bt)),function(M){M.find("button").hover(function(){var h=V(this).attr("aria-label");h&&(M.find(".ff_fileupload_buttoninfo").text(h).removeClass("ff_fileupload_hidden"),M.find(".ff_fileupload_fileinfo").addClass("ff_fileupload_hidden"))},function(){M.find(".ff_fileupload_fileinfo").removeClass("ff_fileupload_hidden"),M.find(".ff_fileupload_buttoninfo").addClass("ff_fileupload_hidden")})}(S),U.ff_info.fileinfo=S.find(".ff_fileupload_fileinfo"),U.ff_info.progressbar=S.find(".ff_fileupload_progress_bar"),D.append(S),h.added&&h.added.call(S,L,U)},T=function(D,L){var U=L.total<1?0:L.loaded/L.total*100;L.ff_info.fileinfo.text(lt(y("{0} of {1} | {2}%"),W(L.loaded,h.adjustprecision,h.displayunits),L.ff_info.displayfilesize,U.toFixed(0))),L.ff_info.progressbar.css("width",U+"%"),h.continueupload&&!1===h.continueupload.call(L.ff_info.inforow,D,L)&&L.abort()},C=function(D,L){if(L.ff_info.lastresult&&!L.ff_info.lastresult.success&&(L.result=L.ff_info.lastresult,L.errorThrown="failed_with_msg"),"abort"!==L.errorThrown&&"failed_with_msg"!==L.errorThrown&&L.uploadedBytes<L.files[0].size&&L.ff_info.retries<h.retries)return L.ff_info.fileinfo.text(lt(y("{0} | Network error, retrying in a moment... ({1})"),L.ff_info.displayfilesize,L.errorThrown)),L.ff_info.inforow.removeClass("ff_fileupload_uploading"),L.ff_info.inforow.addClass("ff_fileupload_starting"),setTimeout(function(){L.ff_info.inforow.removeClass("ff_fileupload_starting"),L.ff_info.inforow.addClass("ff_fileupload_uploading"),L.data=null,L.submit()},L.ff_info.retrydelay),L.ff_info.retries++,void(L.ff_info.retrydelay*=2);L.ff_info.inforow.removeClass("ff_fileupload_uploading"),h.uploadcancelled&&h.uploadcancelled.call(L.ff_info.inforow,D,L),L.ff_info.removewidget?(L.ff_info.inforow.remove(),delete L.ff_info):("abort"===L.errorThrown?L.ff_info.errors.push(y("The upload was cancelled.")):"failed_with_msg"===L.errorThrown?L.ff_info.errors.push(lt(y("\u062e\u0637\u0627 \u062f\u0631 \u0627\u067e\u0644\u0648\u062f \u0641\u0627\u06cc\u0644.  {0} ({1})"),qt(L.result.error),qt(L.result.errorcode))):L.ff_info.errors.push(y("\u062e\u0637\u0627 \u062f\u0631 \u0627\u067e\u0644\u0648\u062f \u0641\u0627\u06cc\u0644")),L.ff_info.inforow.find(".ff_fileupload_errors").html(L.ff_info.errors.join("<br>")).removeClass("ff_fileupload_hidden"),L.ff_info.inforow.find(".ff_fileupload_progress_background").addClass("ff_fileupload_hidden"),L.ff_info.inforow.find("button.ff_fileupload_remove_file").attr("aria-label",y("Remove from list")))},k=function(D,L){if(!L.result.success)return"string"!=typeof L.result.error&&(L.result.error=y("The server indicated that the upload was not successful.  No additional information available.")),"string"!=typeof L.result.errorcode&&(L.result.errorcode="server_response"),L.errorThrown="failed_with_msg",L.ff_info.removewidget=!1,void C(D,L);L.ff_info.inforow.removeClass("ff_fileupload_uploading"),h.uploadcompleted&&h.uploadcompleted.call(L.ff_info.inforow,D,L),L.ff_info.removewidget?(L.ff_info.inforow.remove(),delete L.ff_info):(L.ff_info.inforow.find(".ff_fileupload_fileinfo").text(L.ff_info.displayfilesize+" | "+y("\u0641\u0627\u06cc\u0644 \u0627\u067e\u0644\u0648\u062f \u0634\u062f")),L.ff_info.inforow.find(".ff_fileupload_progress_background").addClass("ff_fileupload_hidden"),L.ff_info.inforow.find("button.ff_fileupload_remove_file").attr("aria-label",y("Remove from list")))},A=function(D,L){if(L.ff_info&&(h.continueupload&&!1===h.continueupload.call(L.ff_info.inforow,D,L)&&(!L.ff_info.lastresult||L.ff_info.lastresult.success)&&(L.ff_info.lastresult={success:!1}),L.ff_info.lastresult&&!L.ff_info.lastresult.success))return L.result=L.ff_info.lastresult,"string"!=typeof L.ff_info.lastresult.error&&(L.ff_info.lastresult.error=y("The server indicated that the upload was not successful.  No additional information available.")),"string"!=typeof L.ff_info.lastresult.errorcode&&(L.ff_info.lastresult.errorcode="server_response"),L.ff_info.removewidget=!1,!1},I=function(D,L){L.ff_info.retries=0,L.ff_info.retrydelay=h.retrydelay,L.ff_info.lastresult=L.result};return this.each(function(){var D=V(this);if(""===h.url){var L=D.closest("form").attr("action");L&&(h.url=L)}var U=V("<form>").addClass("ff_fileupload_hidden").attr({action:h.url,method:"post",enctype:"multipart/form-data"});for(var S in V("body").append(U),h.params)if(h.params.hasOwnProperty(S)){var G=V("<input>").attr({type:"hidden",name:S,value:h.params[S]});U.append(G)}var Y=D.attr("name"),q=V("<input>").attr({type:"file",name:Y||"file"});if(D.prop("multiple")&&q.prop("multiple",!0),D.attr("accept")&&(q.attr("accept",D.attr("accept")),!h.accept)){var tt=D.attr("accept").split(",");h.accept=[];for(S=0;S<tt.length;S++){var ht=V.trim(tt[S]).toLowerCase();h.accept.push(ht.indexOf("/")<0&&ht.lastIndexOf(".")>-1?ht.substring(ht.lastIndexOf(".")+1):ht)}}U.append(q);var ut=V("<div>").addClass("ff_fileupload_wrap");D.after(ut);var bt=V("<div>").addClass("ff_fileupload_dropzone_wrap"),F=V("<button>").addClass("ff_fileupload_dropzone").attr("type","button").attr("aria-label",y("Browse, drag-and-drop, or paste files to upload"));bt.append(F),ut.append(bt),F.on("click.fancy_fileupload",function(Mt){Mt.preventDefault(),U.find("input[type=file]").click()});var B=V("<div>").addClass("ff_fileupload_dropzone_tools");if(bt.append(B),h.recordaudio&&navigator.mediaDevices&&window.MediaRecorder){var X=V("<button>").addClass("ff_fileupload_dropzone_tool").addClass("ff_fileupload_recordaudio").attr("type","button").attr("aria-label",y("Record audio using a microphone"));B.append(X);var J=null,K=[];X.click(function(Mt){Mt.preventDefault(),J?J.stop():navigator.mediaDevices.getUserMedia({audio:!0}).then(function(jt){(J=new MediaRecorder(jt,h.audiosettings)).addEventListener("dataavailable",function(Ut){if(Ut.data.size>0&&K.push(Ut.data),"inactive"===J.state){var le=new Blob(K,{type:"audio/mp3"});le.lastModifiedDate=new Date,le.lastModified=Math.floor(le.lastModifiedDate.getTime()/1e3),le.name=lt(y("Audio recording - {0}.mp3"),le.lastModifiedDate.toLocaleString()),q.fileupload("add",{files:[le]}),X.removeClass("ff_fileupload_recording"),K=[],J=null}}),J.start(),X.addClass("ff_fileupload_recording")}).catch(function(jt){alert(y("Unable to record audio.  Either a microphone was not found or access was denied."))})})}if(h.recordvideo&&navigator.mediaDevices&&window.MediaRecorder){var at=V("<button>").addClass("ff_fileupload_dropzone_tool").addClass("ff_fileupload_recordvideo").attr("type","button").attr("aria-label",y("Record video using a camera"));B.append(at);var Q=V("<video>").prop("muted",!0).prop("autoplay",!0).addClass("ff_fileupload_recordvideo_preview").addClass("ff_fileupload_hidden");bt.append(Q);var gt=null,ot=[];at.click(function(Mt){if(Mt.preventDefault(),gt)gt.stop();else{var jt=function(Ut){(gt=new MediaRecorder(Ut,h.videosettings)).addEventListener("dataavailable",function(le){if(le.data.size>0&&ot.push(le.data),"inactive"===gt.state){var Zt=new Blob(ot,{type:"video/mp4"});Zt.lastModifiedDate=new Date,Zt.lastModified=Math.floor(Zt.lastModifiedDate.getTime()/1e3),Zt.name=lt(y("Video recording - {0}.mp4"),Zt.lastModifiedDate.toLocaleString()),q.fileupload("add",{files:[Zt]}),at.removeClass("ff_fileupload_recording"),Q.addClass("ff_fileupload_hidden"),""!==Q[0].src&&(Q[0].src=""),Q[0].srcObject=null,ot=[],gt=null}}),gt.start(),at.addClass("ff_fileupload_recording");try{Q[0].src=URL.createObjectURL(Ut)}catch{Q[0].srcObject=Ut}Q.removeClass("ff_fileupload_hidden")};navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then(jt).catch(function(Ut){navigator.mediaDevices.getUserMedia({video:!0}).then(jt).catch(function(le){alert(y("Unable to record video.  Either a camera was not found or access was denied."))})})}})}var Ot=V("<table>").addClass("ff_fileupload_uploads");ut.append(Ot),D.addClass("ff_fileupload_hidden");var yt={url:h.url,dataType:"json",pasteZone:bt,limitConcurrentUploads:2},Et={singleFileUploads:!0,dropZone:F,add:function(Mt,jt){b(Ot,Mt,jt)},progress:T,fail:C,done:k,chunksend:A,chunkdone:I};q.fileupload(V.extend(yt,h.fileupload,Et)),D.data("fancy-fileupload",{fileuploadwrap:ut,form:U})})},V.fn.FancyFileUpload.defaults={url:"",params:{},edit:!0,maxfilesize:-1,accept:null,displayunits:"iec_windows",adjustprecision:!0,retries:5,retrydelay:500,recordaudio:!1,audiosettings:{},recordvideo:!1,videosettings:{},preinit:null,added:null,showpreview:null,hidepreview:null,startupload:null,continueupload:null,uploadcancelled:null,uploadcompleted:null,fileupload:{},langmap:{}}}(jQuery),function(V){"function"==typeof define&&define.amd?define(["jquery"],V):V("object"==typeof exports?require("jquery"):jQuery)}(function(V){"use strict";function qt(F){return V(F).attr("data-src")?V(F).attr("data-src"):V(F).attr("href")}function y(F,B,X,J){var K=J?F.h:F.w,at=J?F.w:F.h;(at>B.h||K>B.w)&&X.addClass("is-grab"),at<=B.h&&K<=B.w&&X.removeClass("is-grab")}function m(){return!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch)}function _(){return"Microsoft Internet Explorer"==navigator.appName&&navigator.appVersion.indexOf("MSIE 8.0")>0||"Microsoft Internet Explorer"==navigator.appName&&navigator.appVersion.indexOf("MSIE 7.0")>0}var ht,ut,bt,b=V(window),T=V(document),C="click",k="resize",A="keydown",I="wheel mousewheel DOMMouseScroll",D=m()?"touchstart":"mousedown",L=m()?"touchmove":"mousemove",U=m()?"touchend":"mouseup",S=".magnify",G={draggable:!0,resizable:!0,movable:!0,keyboard:!0,title:!0,modalWidth:320,modalHeight:320,fixedContent:!0,fixedModalSize:!1,initMaximized:!1,gapThreshold:.02,ratioThreshold:.1,minRatio:.05,maxRatio:16,headToolbar:["maximize","close"],footToolbar:["zoomIn","zoomOut","prev","fullscreen","next","actualSize","rotateRight"],icons:{minimize:'<svg viewBox="0 0 1024 1024" class="svg-inline-icon">          <path fill="currentColor" d="M1024 749.714v109.714c0 50.286-41.143 91.429-91.429 91.429          h-841.143c-50.286 0-91.429-41.143-91.429-91.429v-109.714c0-50.286 41.143-91.429 91.429          -91.429h841.143c50.286 0 91.429 41.143 91.429 91.429z"></path>        </svg>',maximize:'<svg viewBox="0 0 1024 1024" class="svg-inline-icon">          <path fill="currentColor" d="M146.286 804.571h731.429v-438.857h-731.429v438.857z          M1024 164.571v694.857c0 50.286-41.143 91.429-91.429 91.429h-841.143c-50.286 0          -91.429-41.143-91.429-91.429v-694.857c0-50.286 41.143-91.429 91.429-91.429          h841.143c50.286 0 91.429 41.143 91.429 91.429z"></path>        </svg>',close:'<svg viewBox="0 0 804.5714285714286 1024" class="svg-inline-icon">          <path fill="currentColor" d="M741.714 755.429c0 14.286-5.714 28.571-16 38.857          l-77.714 77.714c-10.286 10.286-24.571 16-38.857 16s-28.571-5.714-38.857-16l-168-168          -168 168c-10.286 10.286-24.571 16-38.857 16s-28.571-5.714-38.857-16l-77.714-77.714          c-10.286-10.286-16-24.571-16-38.857s5.714-28.571 16-38.857l168-168-168-168c-10.286-10.286          -16-24.571-16-38.857s5.714-28.571 16-38.857l77.714-77.714c10.286-10.286 24.571-16 38.857          -16s28.571 5.714 38.857 16l168 168 168-168c10.286-10.286 24.571-16 38.857-16          s28.571 5.714 38.857 16l77.714 77.714c10.286 10.286 16 24.571 16 38.857s-5.714 28.571          -16 38.857l-168 168 168 168c10.286 10.286 16 24.571 16 38.857z"></path>        </svg>',zoomIn:'<svg viewBox="0 0 950.8571428571428 1024" class="svg-inline-icon">          <path fill="currentColor" d="M585.143 457.143v36.571c0 9.714-8.571 18.286-18.286 18.286          h-128v128c0 9.714-8.571 18.286-18.286 18.286h-36.571c-9.714 0-18.286-8.571-18.286-18.286          v-128h-128c-9.714 0-18.286-8.571-18.286-18.286v-36.571c0-9.714 8.571-18.286 18.286-18.286          h128v-128c0-9.714 8.571-18.286 18.286-18.286h36.571c9.714 0 18.286 8.571 18.286 18.286          v128h128c9.714 0 18.286 8.571 18.286 18.286zM658.286 475.429c0-141.143-114.857-256-256          -256s-256 114.857-256 256 114.857 256 256 256 256-114.857 256-256zM950.857 950.857          c0 40.571-32.571 73.143-73.143 73.143-19.429 0-38.286-8-51.429-21.714l-196-195.429          c-66.857 46.286-146.857 70.857-228 70.857-222.286 0-402.286-180-402.286-402.286s180          -402.286 402.286-402.286 402.286 180 402.286 402.286c0 81.143-24.571 161.143-70.857 228          l196 196c13.143 13.143 21.143 32 21.143 51.429z"></path>        </svg>',zoomOut:'<svg viewBox="0 0 950.8571428571428 1024" class="svg-inline-icon">          <path fill="currentColor" d="M585.143 457.143v36.571c0 9.714-8.571 18.286-18.286 18.286          h-329.143c-9.714 0-18.286-8.571-18.286-18.286v-36.571c0-9.714 8.571-18.286 18.286-18.286          h329.143c9.714 0 18.286 8.571 18.286 18.286zM658.286 475.429c0-141.143-114.857-256-256          -256s-256 114.857-256 256 114.857 256 256 256 256-114.857 256-256zM950.857 950.857          c0 40.571-32.571 73.143-73.143 73.143-19.429 0-38.286-8-51.429-21.714l-196-195.429          c-66.857 46.286-146.857 70.857-228 70.857-222.286 0-402.286-180-402.286-402.286s180          -402.286 402.286-402.286 402.286 180 402.286 402.286c0 81.143-24.571 161.143-70.857 228          l196 196c13.143 13.143 21.143 32 21.143 51.429z"></path>        </svg>',prev:'<svg viewBox="0 0 914.2857142857142 1024" class="svg-inline-icon">          <path fill="currentColor" d="M877.714 512v73.143c0 38.857-25.714 73.143-66.857 73.143          h-402.286l167.429 168c13.714 13.143 21.714 32 21.714 51.429s-8 38.286-21.714 51.429          l-42.857 43.429c-13.143 13.143-32 21.143-51.429 21.143s-38.286-8-52-21.143l-372-372.571          c-13.143-13.143-21.143-32-21.143-51.429s8-38.286 21.143-52l372-371.429c13.714          -13.714 32.571-21.714 52-21.714s37.714 8 51.429 21.714l42.857 42.286          c13.714 13.714 21.714 32.571 21.714 52s-8 38.286-21.714 52l-167.429 167.429h402.286          c41.143 0 66.857 34.286 66.857 73.143z"></path>        </svg>',next:'<svg viewBox="0 0 841.1428571428571 1024" class="svg-inline-icon">          <path fill="currentColor" d="M841.143 548.571c0 19.429-7.429 38.286-21.143 52l-372 372          c-13.714 13.143-32.571 21.143-52 21.143s-37.714-8-51.429-21.143l-42.857-42.857c-13.714          -13.714-21.714-32.571-21.714-52s8-38.286 21.714-52l167.429-167.429h-402.286c-41.143 0          -66.857-34.286-66.857-73.143v-73.143c0-38.857 25.714-73.143 66.857-73.143h402.286          l-167.429-168c-13.714-13.143-21.714-32-21.714-51.429s8-38.286 21.714-51.429l42.857          -42.857c13.714-13.714 32-21.714 51.429-21.714s38.286 8 52 21.714l372 372          c13.714 13.143 21.143 32 21.143 51.429z"></path>        </svg>',fullscreen:'<svg viewBox="0 0 1097.142857142857 1024" class="svg-inline-icon">          <path fill="currentColor" d="M365.714 329.143c0 60.571-49.143 109.714-109.714 109.714          s-109.714-49.143-109.714-109.714 49.143-109.714 109.714          -109.714 109.714 49.143 109.714 109.714zM950.857 548.571v256h-804.571v-109.714l182.857          -182.857 91.429 91.429 292.571-292.571zM1005.714 146.286h-914.286c-9.714 0-18.286 8.571          -18.286 18.286v694.857c0 9.714 8.571 18.286 18.286 18.286h914.286c9.714 0 18.286          -8.571 18.286-18.286v-694.857c0-9.714-8.571-18.286-18.286-18.286zM1097.143 164.571          v694.857c0 50.286-41.143 91.429-91.429 91.429h-914.286c-50.286 0-91.429-41.143-91.429          -91.429v-694.857c0-50.286 41.143-91.429 91.429-91.429h914.286          c50.286 0 91.429 41.143 91.429 91.429z"></path>        </svg>',actualSize:'<svg viewBox="0 0 877.7142857142857 1024" class="svg-inline-icon">          <path fill="currentColor" d="M733.143 309.143l-202.857 202.857 202.857 202.857 82.286          -82.286c10.286-10.857 26.286-13.714 40-8 13.143 5.714 22.286 18.857 22.286 33.714v256          c0 20-16.571 36.571-36.571 36.571h-256c-14.857 0-28-9.143-33.714-22.857-5.714-13.143          -2.857-29.143 8-39.429l82.286-82.286-202.857-202.857-202.857 202.857 82.286 82.286          c10.857 10.286 13.714 26.286 8 39.429-5.714 13.714-18.857 22.857-33.714 22.857h-256          c-20 0-36.571-16.571-36.571-36.571v-256c0-14.857 9.143-28 22.857-33.714 13.143          -5.714 29.143-2.857 39.429 8l82.286 82.286 202.857-202.857-202.857-202.857-82.286 82.286          c-6.857 6.857-16 10.857-25.714 10.857-4.571 0-9.714-1.143-13.714-2.857-13.714-5.714          -22.857-18.857-22.857-33.714v-256c0-20 16.571-36.571 36.571-36.571h256          c14.857 0 28 9.143 33.714 22.857 5.714 13.143 2.857 29.143-8 39.429          l-82.286 82.286 202.857 202.857 202.857-202.857-82.286-82.286c-10.857-10.286-13.714          -26.286-8-39.429 5.714-13.714 18.857-22.857 33.714-22.857h256          c20 0 36.571 16.571 36.571 36.571v256c0 14.857-9.143 28-22.286 33.714-4.571 1.714          -9.714 2.857-14.286 2.857-9.714 0-18.857-4-25.714-10.857z"></path>        </svg>',rotateLeft:'<svg viewBox="0 0 877.7142857142857 1024" class="svg-inline-icon">          <path fill="currentColor" d="M877.714 512c0 241.714-197.143 438.857-438.857 438.857          -130.857 0-254.286-57.714-337.714-158.286-5.714-7.429-5.143-18.286 1.143-24.571l78.286          -78.857c4-3.429 9.143-5.143 14.286          -5.143 5.143 0.571 10.286 2.857 13.143 6.857 56 72.571 140 113.714 230.857 113.714 161.143 0 292.571          -131.429 292.571-292.571s-131.429-292.571-292.571-292.571c-74.857 0-145.714 28.571          -198.857 78.286l78.286 78.857c10.857 10.286 13.714 26.286 8 39.429-5.714 13.714          -18.857 22.857-33.714 22.857h-256c-20 0-36.571-16.571-36.571-36.571v-256          c0-14.857 9.143-28 22.857-33.714 13.143-5.714 29.143-2.857 39.429 8l74.286 73.714          c80.571-76 189.714-121.143 302.286-121.143 241.714 0 438.857 197.143 438.857 438.857z"></path>        </svg>',rotateRight:'<svg viewBox="0 0 877.7142857142857 1024" class="svg-inline-icon">          <path fill="currentColor" d="M877.714 146.286v256c0 20-16.571 36.571-36.571 36.571h-256          c-14.857 0-28-9.143-33.714-22.857-5.714-13.143-2.857-29.143 8-39.429l78.857-78.857          c-53.714-49.714-124.571-78.286-199.429-78.286-161.143 0-292.571 131.429-292.571 292.571          s131.429 292.571 292.571 292.571c90.857 0 174.857-41.143 230.857-113.714 2.857-4 8          -6.286 13.143-6.857 5.143 0 10.286 1.714 14.286 5.143l78.286 78.857          c6.857 6.286 6.857 17.143 1.143 24.571-83.429 100.571-206.857 158.286-337.714 158.286          -241.714 0-438.857-197.143-438.857-438.857s197.143-438.857 438.857-438.857          c112.571 0 221.714 45.143 302.286 121.143l74.286-73.714c10.286-10.857 26.286-13.714 40          -8 13.143 5.714 22.286 18.857 22.286 33.714z"></path>        </svg>'},i18n:{minimize:"minimize",maximize:"maximize",close:"close",zoomIn:"zoom-in(+)",zoomOut:"zoom-out(-)",prev:"prev(\u2190)",next:"next(\u2192)",fullscreen:"fullscreen",actualSize:"actual-size(Ctrl+Alt+0)",rotateLeft:"rotate-left(Ctrl+,)",rotateRight:"rotate-right(Ctrl+.)"},multiInstances:!0,initEvent:"click",initAnimation:!0,fixedModalPos:!1,zIndex:1e19,dragHandle:!1,callbacks:{beforeOpen:V.noop,opened:V.noop,beforeClose:V.noop,closed:V.noop,beforeChange:V.noop,changed:V.noop},progressiveLoading:!0},Y={isMoving:!1,isResizing:!1,zIndex:G.zIndex},q=null,tt=function(F,B){this.options=V.extend(!0,{},G,B),B&&V.isArray(B.footToolbar)&&(this.options.footToolbar=B.footToolbar),B&&V.isArray(B.headToolbar)&&(this.options.headToolbar=B.headToolbar),this.$el=V(F),this.isOpened=!1,this.isMaximized=!1,this.isRotated=!1,this.rotateAngle=0,this.isDoResize=!1,this.imageData={},this.modalData={width:null,height:null,left:null,top:null},this.init(F,this.options)};tt.prototype={init:function(F,B){var J,K,X=qt(F);this.groupName=null,J=V(F).attr("data-group"),K=T.find('[data-group="'+J+'"]'),void 0!==J?(this.groupName=J,this.getImgGroup(K,X)):this.getImgGroup(q.not("[data-group]"),X),this.open(),this.loadImg(X),B.draggable&&this.draggable(this.$magnify,this.dragHandle,".magnify-button"),B.movable&&this.movable(this.$stage,_()?".magnify-image":this.$image),B.resizable&&this.resizable(this.$magnify,this.$stage,_()?".magnify-image":this.$image,B.modalWidth,B.modalHeight)},_createBtns:function(F,B){var X="";return V.each(F,function(J,K){X+=B[K]}),X},_createTitle:function(){return this.options.title?'<div class="magnify-title"></div>':""},render:function(){var F={minimize:'<button class="magnify-button magnify-button-minimize" title="'+this.options.i18n.minimize+'">'+this.options.icons.minimize+"</button>",maximize:'<button class="magnify-button magnify-button-maximize" title="'+this.options.i18n.maximize+'">'+this.options.icons.maximize+"</button>",close:'<button class="magnify-button magnify-button-close" title="'+this.options.i18n.close+'">'+this.options.icons.close+"</button>",zoomIn:'<button class="magnify-button magnify-button-zoom-in" title="'+this.options.i18n.zoomIn+'">'+this.options.icons.zoomIn+"</button>",zoomOut:'<button class="magnify-button magnify-button-zoom-out" title="'+this.options.i18n.zoomOut+'">'+this.options.icons.zoomOut+"</button>",prev:'<button class="magnify-button magnify-button-prev" title="'+this.options.i18n.prev+'">'+this.options.icons.prev+"</button>",next:'<button class="magnify-button magnify-button-next" title="'+this.options.i18n.next+'">'+this.options.icons.next+"</button>",fullscreen:'<button class="magnify-button magnify-button-fullscreen" title="'+this.options.i18n.fullscreen+'">'+this.options.icons.fullscreen+"</button>",actualSize:'<button class="magnify-button magnify-button-actual-size" title="'+this.options.i18n.actualSize+'">'+this.options.icons.actualSize+"</button>",rotateLeft:'<button class="magnify-button magnify-button-rotate-left" title="'+this.options.i18n.rotateLeft+'">'+this.options.icons.rotateLeft+"</button>",rotateRight:'<button class="magnify-button magnify-button-rotate-right" title="'+this.options.i18n.rotateRight+'">'+this.options.icons.rotateRight+"</button>"};return'<div class="magnify-modal">        <div class="magnify-header">          <div class="magnify-toolbar magnify-head-toolbar">'+this._createBtns(this.options.headToolbar,F)+"          </div>"+this._createTitle()+'        </div>        <div class="magnify-stage">          <img class="magnify-image" src="" alt="" />        </div>        <div class="magnify-footer">          <div class="magnify-toolbar magnify-foot-toolbar">'+this._createBtns(this.options.footToolbar,F)+"          </div>        </div>      </div>"},build:function(){var F=this.render(),B=V(F);this.$magnify=B,this.$header=B.find(".magnify-header"),this.$headToolbar=B.find(".magnify-head-toolbar"),this.$footer=B.find(".magnify-footer"),this.$footToolbar=B.find(".magnify-foot-toolbar"),this.$stage=B.find(".magnify-stage"),this.$title=B.find(".magnify-title"),this.$image=B.find(".magnify-image"),this.$close=B.find(".magnify-button-close"),this.$maximize=B.find(".magnify-button-maximize"),this.$minimize=B.find(".magnify-button-minimize"),this.$zoomIn=B.find(".magnify-button-zoom-in"),this.$zoomOut=B.find(".magnify-button-zoom-out"),this.$actualSize=B.find(".magnify-button-actual-size"),this.$fullscreen=B.find(".magnify-button-fullscreen"),this.$rotateLeft=B.find(".magnify-button-rotate-left"),this.$rotateRight=B.find(".magnify-button-rotate-right"),this.$prev=B.find(".magnify-button-prev"),this.$next=B.find(".magnify-button-next"),this.$stage.addClass("stage-ready"),this.$image.addClass("image-ready"),this.$magnify.css("z-index",Y.zIndex),this.dragHandle=this.options.dragHandle&&".magnify-modal"!==this.options.dragHandle?this.$magnify.find(this.options.dragHandle):this.$magnify},open:function(){if(this.options.multiInstances||V(".magnify-modal").eq(0).remove(),!V(".magnify-modal").length&&this.options.fixedContent&&function M(){return document.body.scrollHeight>(window.innerHeight||document.documentElement.clientHeight)}())(function h(){var B,F=document.createElement("div");return F.style.cssText="width: 99px; height: 99px; overflow: scroll; position: absolute; top: -9999px;",document.body.appendChild(F),B=F.offsetWidth-F.clientWidth,document.body.removeChild(F),B})();this.build(),this._triggerHook("beforeOpen",this.$el),V("body").append(this.$magnify),this.addEvents(),this.setModalPos(this.$magnify),this._triggerHook("opened",this.$el)},close:function(){this._triggerHook("beforeClose",this.$el),this.$magnify.remove(),this.isOpened=!1,this.isMaximized=!1,this.isRotated=!1,this.rotateAngle=0;var F=!V(".magnify-modal").length;F&&this.options.fixedContent&&V("html").css({overflow:"","padding-right":""}),F&&this.options.multiInstances&&(Y.zIndex=this.options.zIndex),V(".magnify-modal").length||(T.off(A+S),b.off(k+S)),this._triggerHook("closed",this.$el)},setModalPos:function(F){var B=b.width(),X=b.height(),J=T.scrollLeft(),K=T.scrollTop(),at=this.options.modalWidth,Q=this.options.modalHeight;this.options.initMaximized?(F.addClass("magnify-maximize"),F.css({width:"100%",height:"100%",left:0,top:0}),this.isOpened=!0,this.isMaximized=!0):F.css({width:at,height:Q,left:(B-at)/2+J+"px",top:(X-Q)/2+K+"px"})},setModalSize:function(F){var jt,B=this,X=b.width(),J=b.height(),K=T.scrollLeft(),at=T.scrollTop(),Q={left:this.$stage.css("left"),right:this.$stage.css("right"),top:this.$stage.css("top"),bottom:this.$stage.css("bottom"),borderLeft:this.$stage.css("border-left-width"),borderRight:this.$stage.css("border-right-width"),borderTop:this.$stage.css("border-top-width"),borderBottom:this.$stage.css("border-bottom-width")},gt=F.width+parseFloat(Q.left)+parseFloat(Q.right)+parseFloat(Q.borderLeft)+parseFloat(Q.borderRight),ot=F.height+parseFloat(Q.top)+parseFloat(Q.bottom)+parseFloat(Q.borderTop)+parseFloat(Q.borderBottom),Ot=(this.options.gapThreshold>0?this.options.gapThreshold:0)+1,yt=Math.min(X/(gt*Ot),J/(ot*Ot),1),Et=Math.max(gt*yt,this.options.modalWidth),Mt=Math.max(ot*yt,this.options.modalHeight);jt={width:(Et=this.options.fixedModalSize?this.options.modalWidth:Math.round(Et))+"px",height:(Mt=this.options.fixedModalSize?this.options.modalHeight:Math.round(Mt))+"px",left:(X-Et)/2+K+"px",top:(J-Mt)/2+at+"px"},this.options.initAnimation?this.$magnify.animate(jt,function(){B.setImageSize(F)}):(this.$magnify.css(jt),this.setImageSize(F)),this.isOpened=!0},getImageScaleToStage:function(F,B){return this.isRotated?Math.min(F/this.img.height,B/this.img.width,1):Math.min(F/this.img.width,B/this.img.height,1)},setImageSize:function(F){var B=_()?this.$stage.find(".magnify-image"):this.$image,X={w:this.$stage.width(),h:this.$stage.height()},J=this.getImageScaleToStage(X.w,X.h);B.css({width:Math.ceil(F.width*J)+"px",height:Math.ceil(F.height*J)+"px",left:(X.w-Math.ceil(F.width*J))/2+"px",top:(X.h-Math.ceil(F.height*J))/2+"px"}),_()&&B.find("group").css({width:Math.floor(F.width*J)+"px",height:Math.floor(F.height*J)+"px"}),V.extend(this.imageData,{initWidth:F.width*J,initHeight:F.height*J,initLeft:(X.w-F.width*J)/2,initTop:(X.h-F.height*J)/2,width:F.width*J,height:F.height*J,left:(X.w-F.width*J)/2,top:(X.h-F.height*J)/2}),y({w:B.width(),h:B.height()},{w:this.$stage.width(),h:this.$stage.height()},this.$stage,this.isRotated),this.imgLoaded||(this.$magnify.find(".magnify-loader").remove(),this.$stage.removeClass("stage-ready"),this.$image.removeClass("image-ready"),this.options.initAnimation&&!this.options.progressiveLoading&&B.fadeIn(),this.imgLoaded=!0)},loadImg:function(F,B,X){var J=this;this.$image.removeAttr("style").attr("src",""),this.isRotated=!1,this.rotateAngle=0,this.imgLoaded=!1,this.$magnify.append('<div class="magnify-loader"></div>'),this.$stage.addClass("stage-ready"),this.$image.addClass("image-ready"),this.options.initAnimation&&!this.options.progressiveLoading&&this.$image.hide(),_()?this.$stage.html('<img class="magnify-image" id="magnify-image" src="'+F+'" alt="" />'):this.$image.attr("src",F),function W(F,B,X){var J=new Image;J.onload=function(){B(J)},J.onerror=function(){X(J)},J.src=F}(F,function(K){J.img=K,J.imageData={originalWidth:K.width,originalHeight:K.height},J.isMaximized||J.isOpened&&J.options.fixedModalPos?J.setImageSize(K):J.setModalSize(K),B&&B.call()},function(){J.$magnify.find(".magnify-loader").remove(),X&&X.call()}),this.options.title&&this.setImgTitle(F)},getImgGroup:function(F,B){var X=this;X.groupData=[],V(F).each(function(J){var K=qt(this);X.groupData.push({src:K,caption:V(this).attr("data-caption")}),B===K&&(X.groupIndex=J)})},setImgTitle:function(F){var B=this.groupData[this.groupIndex].caption||function g(F){return F.replace(/^.*?\/*([^/?]*)\.[a-z]+(\?.+|$)/gi,"$1")}(F);this.$title.html(B)},jump:function(F){this._triggerHook("beforeChange",this.groupIndex),this.groupIndex=this.groupIndex+F,this.jumpTo(this.groupIndex)},jumpTo:function(F){var B=this;(F%=this.groupData.length)>=0?F%=this.groupData.length:F<0&&(F=(this.groupData.length+F)%this.groupData.length),this.groupIndex=F,this.loadImg(this.groupData[F].src,function(){B._triggerHook("changed",F)},function(){B._triggerHook("changed",F)})},wheel:function(F){var B,X,J;F.preventDefault(),B=1,F.originalEvent.deltaY?B=F.originalEvent.deltaY>0?1:-1:F.originalEvent.wheelDelta?B=-F.originalEvent.wheelDelta/120:F.originalEvent.detail&&(B=F.originalEvent.detail>0?1:-1),X=-B*this.options.ratioThreshold,J={x:F.originalEvent.clientX-this.$stage.offset().left+T.scrollLeft(),y:F.originalEvent.clientY-this.$stage.offset().top+T.scrollTop()},this.zoom(X,J,F)},zoom:function(F,B,X){this.$image=_()?this.$stage.find(".magnify-image"):this.$image,F=F<0?1/(1-F):1+F,(F=this.$image.width()/this.imageData.originalWidth*F)>this.options.maxRatio||F<this.options.minRatio||this.zoomTo(F,B,X)},zoomTo:function(F,B){var X=_()?this.$stage.find(".magnify-image"):this.$image,J=this.$stage,K_w=this.imageData.width,K_h=this.imageData.height,K_x=this.imageData.left,K_y=this.imageData.top,at={w:J.width(),h:J.height(),x:J.offset().left,y:J.offset().top},Q=this.imageData.originalWidth*F,gt=this.imageData.originalHeight*F,ot=B.x-(B.x-K_x)/K_w*Q,Ot=B.y-(B.y-K_y)/K_h*gt,yt=this.isRotated?(Q-gt)/2:0,Et=this.isRotated?gt:Q,Mt=this.isRotated?Q:gt,jt=at.w-Q,Ut=at.h-gt;Ot=Mt<=at.h?(at.h-gt)/2:Ot>yt?yt:Ot>Ut-yt?Ot:Ut-yt,ot=Et<=at.w?(at.w-Q)/2:ot>-yt?-yt:ot>jt+yt?ot:jt+yt,Math.abs(this.imageData.initWidth-Q)<.05*this.imageData.initWidth?this.setImageSize(this.img):(X.css({width:Math.round(Q)+"px",height:Math.round(gt)+"px",left:Math.round(ot)+"px",top:Math.round(Ot)+"px"}),_()&&X.find("group").css({width:Math.ceil(Q)+"px",height:Math.ceil(gt)+"px"}),y({w:Math.round(Et),h:Math.round(Mt)},{w:at.w,h:at.h},this.$stage)),V.extend(this.imageData,{width:Q,height:gt,left:ot,top:Ot})},rotate:function(F){this.rotateAngle=this.rotateAngle+F,this.isRotated=this.rotateAngle/90%2!=0,this.rotateTo(this.rotateAngle)},rotateTo:function(F){(_()?this.$stage.find(".magnify-image"):this.$image).rotate({angle:F}),this.setImageSize({width:this.imageData.originalWidth,height:this.imageData.originalHeight}),this.$stage.removeClass("is-grab")},resize:function(){var F=this;return function lt(F,B){var X=null;return function(){var J=this,K=arguments;clearTimeout(X),X=setTimeout(function(){F.apply(J,K)},B)}}(function(){F.isOpened&&(F.isMaximized?F.setImageSize({width:F.imageData.originalWidth,height:F.imageData.originalHeight}):F.setModalSize({width:F.imageData.originalWidth,height:F.imageData.originalHeight}))},500)},maximize:function(){if(this.isMaximized){this.$magnify.removeClass("magnify-maximize");var F=(b.width()-this.options.modalWidth)/2+T.scrollLeft(),B=(b.height()-this.options.modalHeight)/2+T.scrollTop();this.$magnify.css({width:this.modalData.width?this.modalData.width:this.options.modalWidth,height:this.modalData.height?this.modalData.height:this.options.modalHeight,left:this.modalData.left?this.modalData.left:F,top:this.modalData.top?this.modalData.top:B}),this.isMaximized=!1}else this.modalData={width:this.$magnify.width(),height:this.$magnify.height(),left:this.$magnify.offset().left,top:this.$magnify.offset().top},this.$magnify.addClass("magnify-maximize"),this.$magnify.css({width:"100%",height:"100%",left:0,top:0}),this.isMaximized=!0;this.setImageSize({width:this.imageData.originalWidth,height:this.imageData.originalHeight})},fullscreen:function(){!function x(F){F.requestFullscreen?F.requestFullscreen():F.mozRequestFullScreen?F.mozRequestFullScreen():F.webkitRequestFullscreen?F.webkitRequestFullscreen():F.msRequestFullscreen&&F.msRequestFullscreen()}(this.$magnify[0])},keydown:function(F){var B=this;if(!this.options.keyboard)return!1;var X=F.keyCode||F.which||F.charCode,J=F.ctrlKey||F.metaKey,K=F.altKey||F.metaKey;switch(X){case 37:B.jump(-1);break;case 39:B.jump(1);break;case 187:case 61:B.zoom(3*B.options.ratioThreshold,{x:B.$stage.width()/2,y:B.$stage.height()/2},F);break;case 189:case 173:B.zoom(3*-B.options.ratioThreshold,{x:B.$stage.width()/2,y:B.$stage.height()/2},F);break;case 48:J&&K&&B.zoomTo(1,{x:B.$stage.width()/2,y:B.$stage.height()/2},F);break;case 188:J&&B.rotate(-90);break;case 190:J&&B.rotate(90);break;case 81:this.close()}},addEvents:function(){var F=this;this.$close.off(C+S).on(C+S,function(){F.close()}),this.$stage.off(I+S).on(I+S,function(B){F.wheel(B)}),this.$zoomIn.off(C+S).on(C+S,function(B){F.zoom(3*F.options.ratioThreshold,{x:F.$stage.width()/2,y:F.$stage.height()/2},B)}),this.$zoomOut.off(C+S).on(C+S,function(B){F.zoom(3*-F.options.ratioThreshold,{x:F.$stage.width()/2,y:F.$stage.height()/2},B)}),this.$actualSize.off(C+S).on(C+S,function(B){F.zoomTo(1,{x:F.$stage.width()/2,y:F.$stage.height()/2},B)}),this.$prev.off(C+S).on(C+S,function(){F.jump(-1)}),this.$fullscreen.off(C+S).on(C+S,function(){F.fullscreen()}),this.$next.off(C+S).on(C+S,function(){F.jump(1)}),this.$rotateLeft.off(C+S).on(C+S,function(){F.rotate(-90)}),this.$rotateRight.off(C+S).on(C+S,function(){F.rotate(90)}),this.$maximize.off(C+S).on(C+S,function(){F.maximize()}),T.off(A+S).on(A+S,function(B){F.keydown(B)}),b.on(k+S,F.resize())},_triggerHook:function(F,B){this.options.callbacks[F]&&this.options.callbacks[F].apply(this,V.isArray(B)?B:[B])}},V.fn.magnify=function(F){var B,X;for(B in q=V(this),F)"string"!=typeof F[B]||isNaN(F[B])||(F[B]=parseFloat(F[B]));return X=V.extend(!0,{},G,F),Y.zIndex=X.zIndex,"string"!=typeof F&&("dblclick"===X.initEvent&&q.off("click"+S).on("click"+S,function(J){J.preventDefault(),J.stopPropagation()}),q.off(X.initEvent+S).on(X.initEvent+S,function(J){J.preventDefault(),J.stopPropagation(),V(this).data("magnify",new tt(this,F))})),q},T.on(C+S,"[data-magnify]",function(F){q=V("[data-magnify]"),F.preventDefault(),V(this).data("magnify",new tt(this,G))}),ht=function(F,B,X){var J=this,K=!1,at=0,Q=0,gt=0,ot=0,yt=function(Mt){if((Mt=Mt||window.event).preventDefault(),K&&!Y.isMoving&&!Y.isResizing&&!J.isMaximized){var jt="touchmove"===Mt.type?Mt.originalEvent.targetTouches[0].pageX:Mt.clientX,Ut="touchmove"===Mt.type?Mt.originalEvent.targetTouches[0].pageY:Mt.clientY,le=jt-at,Zt=Ut-Q;V(F).css({left:le+gt+"px",top:Zt+ot+"px"})}},Et=function(){T.off(L+S,yt).off(U+S,Et),K=!1};V(B).on(D+S,function(Mt){if(Mt=Mt||window.event,V(Mt.target).closest(X).length)return!0;J.options.multiInstances&&F.css("z-index",++Y.zIndex),K=!0,at="touchstart"===Mt.type?Mt.originalEvent.targetTouches[0].pageX:Mt.clientX,Q="touchstart"===Mt.type?Mt.originalEvent.targetTouches[0].pageY:Mt.clientY,gt=V(F).offset().left,ot=V(F).offset().top,T.on(L+S,yt).on(U+S,Et)})},V.extend(tt.prototype,{draggable:ht}),ut=function(F,B){var X=this,J=!1,K=0,at=0,Q=0,gt=0,ot=0,Ot=0,yt=0,Mt=function(Ut){var le;if((Ut=Ut||window.event).preventDefault(),le=_()?V(F).find(B):V(B),J){var Zt="touchmove"===Ut.type?Ut.originalEvent.targetTouches[0].pageX:Ut.clientX,ie="touchmove"===Ut.type?Ut.originalEvent.targetTouches[0].pageY:Ut.clientY,Ht=Zt-K,_t=ie-at,Xt=Ht+Q,Gt=_t+gt;Ot>0?_t+gt>yt?Gt=yt:_t+gt<-Ot+yt&&(Gt=-Ot+yt):Gt=gt,ot>0?Ht+Q>-yt?Xt=-yt:Ht+Q<-ot-yt&&(Xt=-ot-yt):Xt=Q,le.css({left:Xt+"px",top:Gt+"px"}),V.extend(X.imageData,{left:Xt,top:Gt})}},jt=function(){T.off(L+S,Mt).off(U+S,jt),J=!1,Y.isMoving=!1,V("html, body, .magnify-modal, .magnify-stage, .magnify-button, .magnify-resizable-handle").removeClass("is-grabbing")};V(F).on(D+S,function(Ut){(Ut=Ut||window.event).preventDefault();var le=_()?V(F).find(B):V(B),Zt=le.width(),ie=le.height(),Ht=V(F).width(),_t=V(F).height();K="touchstart"===Ut.type?Ut.originalEvent.targetTouches[0].pageX:Ut.clientX,at="touchstart"===Ut.type?Ut.originalEvent.targetTouches[0].pageY:Ut.clientY,yt=X.isRotated?(Zt-ie)/2:0,ot=X.isRotated?ie-Ht:Zt-Ht,Ot=X.isRotated?Zt-_t:ie-_t,J=ot>0||Ot>0,Y.isMoving=ot>0||Ot>0,Q=le.position().left-(_()?0:yt),gt=le.position().top+(_()?0:yt),F.hasClass("is-grab")&&V("html, body, .magnify-modal, .magnify-stage, .magnify-button, .magnify-resizable-handle").addClass("is-grabbing"),T.on(L+S,Mt).on(U+S,jt)})},V.extend(tt.prototype,{movable:ut}),bt=function(F,B,X,J,K){var at=this,Q=V('<div class="magnify-resizable-handle magnify-resizable-handle-e"></div>'),gt=V('<div class="magnify-resizable-handle magnify-resizable-handle-w"></div>'),ot=V('<div class="magnify-resizable-handle magnify-resizable-handle-s"></div>'),Ot=V('<div class="magnify-resizable-handle magnify-resizable-handle-n"></div>'),yt=V('<div class="magnify-resizable-handle magnify-resizable-handle-se"></div>'),Et=V('<div class="magnify-resizable-handle magnify-resizable-handle-sw"></div>'),Mt=V('<div class="magnify-resizable-handle magnify-resizable-handle-ne"></div>'),jt=V('<div class="magnify-resizable-handle magnify-resizable-handle-nw"></div>'),Ut={e:Q,w:gt,s:ot,n:Ot,se:yt,sw:Et,ne:Mt,nw:jt};V(F).append(Q,gt,ot,Ot,yt,Et,Mt,jt);var le=!1,Zt=0,ie=0,Ht={w:0,h:0,l:0,t:0},_t={w:0,h:0,l:0,t:0},Xt={w:0,h:0,l:0,t:0},Gt=0,Pt=0,he=0,fe="",Ke=function(We){var Ye,Ne;if((We=We||window.event).preventDefault(),Ye=_()?V(B).find(X):V(X),le&&!at.isMaximized){var Qt="touchmove"===We.type?We.originalEvent.targetTouches[0].pageX:We.clientX,ae="touchmove"===We.type?We.originalEvent.targetTouches[0].pageY:We.clientY,rt=Qt-Zt,Tt=ae-ie,At=function(We,Ye,Ne){var Qt=-Ye+Ht.w>J?Ye+Ht.l:Ht.l+Ht.w-J,ae=-Ne+Ht.h>K?Ne+Ht.t:Ht.t+Ht.h-K;return{e:{width:Math.max(Ye+Ht.w,J)+"px"},s:{height:Math.max(Ne+Ht.h,K)+"px"},se:{width:Math.max(Ye+Ht.w,J)+"px",height:Math.max(Ne+Ht.h,K)+"px"},w:{width:Math.max(-Ye+Ht.w,J)+"px",left:Qt+"px"},n:{height:Math.max(-Ne+Ht.h,K)+"px",top:ae+"px"},nw:{width:Math.max(-Ye+Ht.w,J)+"px",height:Math.max(-Ne+Ht.h,K)+"px",top:ae+"px",left:Qt+"px"},ne:{width:Math.max(Ye+Ht.w,J)+"px",height:Math.max(-Ne+Ht.h,K)+"px",top:ae+"px"},sw:{width:Math.max(-Ye+Ht.w,J)+"px",height:Math.max(Ne+Ht.h,K)+"px",left:Qt+"px"}}[We]}(fe,rt,Tt);V(F).css(At),Ne=function(We,Ye,Ne){var Qt=_()?V(B).find(X):V(X),ae=_()?Qt.position().left+Gt:Qt.position().left,rt=_()?Qt.position().top-Gt:Qt.position().top,Tt=Ye+Ht.w>J?_t.w-Pt+Ye-Gt:J-(Ht.w-_t.w)-Pt-Gt,At=Ne+Ht.h>K?_t.h-he+Ne+Gt:K-(Ht.h-_t.h)-he+Gt,$t=-Ye+Ht.w>J?_t.w-Pt-Ye-Gt:J-(Ht.w-_t.w)-Pt-Gt,oe=-Ne+Ht.h>K?_t.h-he-Ne+Gt:K-(Ht.h-_t.h)-he+Gt,se=(Tt>0||ae<0?ae:0)-Gt,xe=(At>0||rt<0?rt:0)+Gt,Ue=($t>0||ae<0?ae:0)-Gt,$e=(oe>0||rt<0?rt:0)+Gt;return{e:{left:Tt>=-Gt?(Tt-Gt)/2+"px":se>Tt?se+"px":Tt+"px"},s:{top:At>=Gt?(At+Gt)/2+"px":xe>At?xe+"px":At+"px"},se:{top:At>=Gt?(At+Gt)/2+"px":xe>At?xe+"px":At+"px",left:Tt>=-Gt?(Tt-Gt)/2+"px":se>Tt?se+"px":Tt+"px"},w:{left:$t>=-Gt?($t-Gt)/2+"px":Ue>$t?Ue+"px":$t+"px"},n:{top:oe>=Gt?(oe+Gt)/2+"px":$e>oe?$e+"px":oe+"px"},nw:{top:oe>=Gt?(oe+Gt)/2+"px":$e>oe?$e+"px":oe+"px",left:$t>=-Gt?($t-Gt)/2+"px":Ue>$t?Ue+"px":$t+"px"},ne:{top:oe>=Gt?(oe+Gt)/2+"px":$e>oe?$e+"px":oe+"px",left:Tt>=-Gt?(Tt-Gt)/2+"px":se>Tt?se+"px":Tt+"px"},sw:{top:At>=Gt?(At+Gt)/2+"px":xe>At?xe+"px":At+"px",left:$t>=-Gt?($t-Gt)/2+"px":Ue>$t?Ue+"px":$t+"px"}}[We]}(fe,rt,Tt),Ye.css(Ne),at.isDoResize=!0}},pn=function(){T.off(L+S,Ke).off(U+S,pn),Y.isResizing&&y({w:Pt,h:he},{w:V(B).width(),h:V(B).height()},B),le=!1,Y.isResizing=!1,V("html, body, .magnify-modal, .magnify-stage, .magnify-button").css("cursor","");var We=at.getImageScaleToStage(V(B).width(),V(B).height());V.extend(at.imageData,{initWidth:at.img.width*We,initHeight:at.img.height*We,initLeft:(V(B).width()-at.img.width*We)/2,initTop:(V(B).height()-at.img.height*We)/2})};V.each(Ut,function(We,Ye){Ye.on(D+S,function(Ne){!function(We,Ye){(Ye=Ye||window.event).preventDefault();var Ne=_()?V(B).find(X):V(X);le=!0,Y.isResizing=!0,Zt="touchstart"===Ye.type?Ye.originalEvent.targetTouches[0].pageX:Ye.clientX,ie="touchstart"===Ye.type?Ye.originalEvent.targetTouches[0].pageY:Ye.clientY,Ht={w:V(F).width(),h:V(F).height(),l:V(F).offset().left,t:V(F).offset().top},_t={w:V(B).width(),h:V(B).height(),l:V(B).offset().left,t:V(B).offset().top},Xt={w:Ne.width(),h:Ne.height(),l:Ne.position().left,t:Ne.position().top},Gt=at.isRotated?(Xt.w-Xt.h)/2:0,Pt=at.isRotated?Xt.h:Xt.w,he=at.isRotated?Xt.w:Xt.h,fe=We,V("html,body,.magnify-modal,.magnify-stage,.magnify-button").css("cursor",We+"-resize"),T.on(L+S,Ke).on(U+S,pn)}(We,Ne)})})},V.extend(tt.prototype,{resizable:bt})}),function(n){for(var t,i,f=document.getElementsByTagName("head")[0].style,u="transformProperty WebkitTransform OTransform msTransform MozTransform".split(" "),r=0;r<u.length;r++)void 0!==f[u[r]]&&(t=u[r]);var V;t&&(i=t.replace(/[tT]ransform/,"TransformOrigin"),"T"==i[0]&&(i[0]="t")),eval('IE = "v"=="\v"'),jQuery.fn.extend({rotate:function(V){var qt,lt,W,x,g,M;if(0!==this.length&&typeof V<"u"){for("number"==typeof V&&(V={angle:V}),qt=[],lt=0,W=this.length;lt<W;lt++)(x=this.get(lt)).Wilq32&&x.Wilq32.PhotoEffect?x.Wilq32.PhotoEffect._handleRotation(V):(g=n.extend(!0,{},V),M=new Wilq32.PhotoEffect(x,g)._rootObj,qt.push(n(M)));return qt}},getRotateAngle:function(){for(var V,qt=[0],lt=0,W=this.length;lt<W;lt++)(V=this.get(lt)).Wilq32&&V.Wilq32.PhotoEffect&&(qt[lt]=V.Wilq32.PhotoEffect._angle);return qt},stopRotate:function(){for(var V,qt=0,lt=this.length;qt<lt;qt++)(V=this.get(qt)).Wilq32&&V.Wilq32.PhotoEffect&&clearTimeout(V.Wilq32.PhotoEffect._timer)}}),Wilq32=window.Wilq32||{},Wilq32.PhotoEffect=t?function(V,qt){V.Wilq32={PhotoEffect:this},this._img=this._rootObj=this._eventObj=V,this._handleRotation(qt)}:function(V,qt){if(this._img=V,this._onLoadDelegate=[qt],this._rootObj=document.createElement("span"),this._rootObj.style.display="inline-block",this._rootObj.Wilq32={PhotoEffect:this},V.parentNode.insertBefore(this._rootObj,V),V.complete)this._Loader();else{var lt=this;jQuery(this._img).bind("load",function(){lt._Loader()})}},Wilq32.PhotoEffect.prototype={_setupParameters:function(V){this._parameters=this._parameters||{},"number"!=typeof this._angle&&(this._angle=0),"number"==typeof V.angle&&(this._angle=V.angle),this._parameters.animateTo="number"==typeof V.animateTo?V.animateTo:this._angle,this._parameters.step=V.step||this._parameters.step||null,this._parameters.easing=V.easing||this._parameters.easing||this._defaultEasing,this._parameters.duration="duration"in V?V.duration:V.duration||this._parameters.duration||1e3,this._parameters.callback=V.callback||this._parameters.callback||this._emptyFunction,this._parameters.center=V.center||this._parameters.center||["50%","50%"],this._rotationCenterX="string"==typeof this._parameters.center[0]?parseInt(this._parameters.center[0],10)/100*this._imgWidth*this._aspectW:this._parameters.center[0],this._rotationCenterY="string"==typeof this._parameters.center[1]?parseInt(this._parameters.center[1],10)/100*this._imgHeight*this._aspectH:this._parameters.center[1],V.bind&&V.bind!=this._parameters.bind&&this._BindEvents(V.bind)},_emptyFunction:function(){},_defaultEasing:function(V,qt,lt,W,x){return-W*((qt=qt/x-1)*qt*qt*qt-1)+lt},_handleRotation:function(V,qt){t||this._img.complete||qt?(this._setupParameters(V),this._angle==this._parameters.animateTo?this._rotate(this._angle):this._animateStart()):this._onLoadDelegate.push(V)},_BindEvents:function(V){var qt,lt;if(V&&this._eventObj){if(this._parameters.bind)for(lt in qt=this._parameters.bind)qt.hasOwnProperty(lt)&&jQuery(this._eventObj).unbind(lt,qt[lt]);for(lt in this._parameters.bind=V,V)V.hasOwnProperty(lt)&&jQuery(this._eventObj).bind(lt,V[lt])}},_Loader:IE?function(){var lt,V=this._img.width,qt=this._img.height;for(this._imgWidth=V,this._imgHeight=qt,this._img.parentNode.removeChild(this._img),this._vimage=this.createVMLNode("image"),this._vimage.src=this._img.src,this._vimage.style.height=qt+"px",this._vimage.style.width=V+"px",this._vimage.style.position="absolute",this._vimage.style.top="0px",this._vimage.style.left="0px",this._aspectW=this._aspectH=1,this._container=this.createVMLNode("group"),this._container.style.width=V,this._container.style.height=qt,this._container.style.position="absolute",this._container.style.top="0px",this._container.style.left="0px",this._container.setAttribute("coordsize",V-1+","+(qt-1)),this._container.appendChild(this._vimage),this._rootObj.appendChild(this._container),this._rootObj.style.position="relative",this._rootObj.style.width=V+"px",this._rootObj.style.height=qt+"px",this._rootObj.setAttribute("id",this._img.getAttribute("id")),this._rootObj.className=this._img.className,this._eventObj=this._rootObj;lt=this._onLoadDelegate.shift();)this._handleRotation(lt,!0)}:function(){var V,qt;for(this._rootObj.setAttribute("id",this._img.getAttribute("id")),this._rootObj.className=this._img.className,this._imgWidth=this._img.naturalWidth,this._imgHeight=this._img.naturalHeight,V=Math.sqrt(this._imgHeight*this._imgHeight+this._imgWidth*this._imgWidth),this._width=3*V,this._height=3*V,this._aspectW=this._img.offsetWidth/this._img.naturalWidth,this._aspectH=this._img.offsetHeight/this._img.naturalHeight,this._img.parentNode.removeChild(this._img),this._canvas=document.createElement("canvas"),this._canvas.setAttribute("width",this._width),this._canvas.style.position="relative",this._canvas.style.left=-this._img.height*this._aspectW+"px",this._canvas.style.top=-this._img.width*this._aspectH+"px",this._canvas.Wilq32=this._rootObj.Wilq32,this._rootObj.appendChild(this._canvas),this._rootObj.style.width=this._img.width*this._aspectW+"px",this._rootObj.style.height=this._img.height*this._aspectH+"px",this._eventObj=this._canvas,this._cnv=this._canvas.getContext("2d");qt=this._onLoadDelegate.shift();)this._handleRotation(qt,!0)},_animateStart:function(){this._timer&&clearTimeout(this._timer),this._animateStartTime=+new Date,this._animateStartAngle=this._angle,this._animate()},_animate:function(){var lt,W,V=+new Date,qt=V-this._animateStartTime>this._parameters.duration;qt&&!this._parameters.animatedGif?clearTimeout(this._timer):((this._canvas||this._vimage||this._img)&&(lt=this._parameters.easing(0,V-this._animateStartTime,this._animateStartAngle,this._parameters.animateTo-this._animateStartAngle,this._parameters.duration),this._rotate(~~(10*lt)/10)),this._parameters.step&&this._parameters.step(this._angle),W=this,this._timer=setTimeout(function(){W._animate.call(W)},10)),this._parameters.callback&&qt&&(this._angle=this._parameters.animateTo,this._rotate(this._angle),this._parameters.callback.call(this._rootObj))},_rotate:(V=Math.PI/180,IE?function(qt){this._angle=qt,this._container.style.rotation=qt%360+"deg",this._vimage.style.top=-(this._rotationCenterY-this._imgHeight/2)+"px",this._vimage.style.left=-(this._rotationCenterX-this._imgWidth/2)+"px",this._container.style.top=this._rotationCenterY-this._imgHeight/2+"px",this._container.style.left=this._rotationCenterX-this._imgWidth/2+"px"}:t?function(qt){this._angle=qt,this._img.style[t]="rotate("+qt%360+"deg)",this._img.style[i]=this._parameters.center.join(" ")}:function(qt){this._angle=qt,qt=qt%360*V,this._canvas.width=this._width,this._canvas.height=this._height,this._cnv.translate(this._imgWidth*this._aspectW,this._imgHeight*this._aspectH),this._cnv.translate(this._rotationCenterX,this._rotationCenterY),this._cnv.rotate(qt),this._cnv.translate(-this._rotationCenterX,-this._rotationCenterY),this._cnv.scale(this._aspectW,this._aspectH),this._cnv.drawImage(this._img,0,0)})},IE&&(Wilq32.PhotoEffect.prototype.createVMLNode=function(){document.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)");try{return document.namespaces.rvml||document.namespaces.add("rvml","urn:schemas-microsoft-com:vml"),function(V){return document.createElement("<rvml:"+V+' class="rvml">')}}catch{return function(qt){return document.createElement("<"+qt+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}}())}(jQuery);var $jscomp=$jscomp||{};$jscomp.scope={},$jscomp.findInternal=function(V,qt,lt){V instanceof String&&(V=String(V));for(var W=V.length,x=0;x<W;x++){var g=V[x];if(qt.call(lt,g,x,V))return{i:x,v:g}}return{i:-1,v:void 0}},$jscomp.ASSUME_ES5=!1,$jscomp.ASSUME_NO_NATIVE_MAP=!1,$jscomp.ASSUME_NO_NATIVE_SET=!1,$jscomp.SIMPLE_FROUND_POLYFILL=!1,$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(V,qt,lt){V!=Array.prototype&&V!=Object.prototype&&(V[qt]=lt.value)},$jscomp.getGlobal=function(V){return typeof window<"u"&&window===V?V:typeof global<"u"&&null!=global?global:V},$jscomp.global=$jscomp.getGlobal(this),$jscomp.polyfill=function(V,qt,lt,W){if(qt){for(lt=$jscomp.global,V=V.split("."),W=0;W<V.length-1;W++){var x=V[W];x in lt||(lt[x]={}),lt=lt[x]}(qt=qt(W=lt[V=V[V.length-1]]))!=W&&null!=qt&&$jscomp.defineProperty(lt,V,{configurable:!0,writable:!0,value:qt})}},$jscomp.polyfill("Array.prototype.find",function(V){return V||function(qt,lt){return $jscomp.findInternal(this,qt,lt).v}},"es6","es3"),function(V,qt,lt){"function"==typeof define&&define.amd?define(["jquery"],V):"object"==typeof exports&&typeof Meteor>"u"?module.exports=V(require("jquery")):V(qt||lt)}(function(V){var qt=function(g,M,h){var y={invalid:[],getCaret:function(){try{var T=0,C=g.get(0),k=document.selection,A=C.selectionStart;if(k&&-1===navigator.appVersion.indexOf("MSIE 10")){var I=k.createRange();I.moveStart("character",-y.val().length),T=I.text.length}else(A||"0"===A)&&(T=A);return T}catch{}},setCaret:function(T){try{if(g.is(":focus")){var C=g.get(0);if(C.setSelectionRange)C.setSelectionRange(T,T);else{var k=C.createTextRange();k.collapse(!0),k.moveEnd("character",T),k.moveStart("character",T),k.select()}}}catch{}},events:function(){g.on("keydown.mask",function(T){g.data("mask-keycode",T.keyCode||T.which),g.data("mask-previus-value",g.val()),g.data("mask-previus-caret-pos",y.getCaret()),y.maskDigitPosMapOld=y.maskDigitPosMap}).on(V.jMaskGlobals.useInput?"input.mask":"keyup.mask",y.behaviour).on("paste.mask drop.mask",function(){setTimeout(function(){g.keydown().keyup()},100)}).on("change.mask",function(){g.data("changed",!0)}).on("blur.mask",function(){_===y.val()||g.data("changed")||g.trigger("change"),g.data("changed",!1)}).on("blur.mask",function(){_=y.val()}).on("focus.mask",function(T){!0===h.selectOnFocus&&V(T.target).select()}).on("focusout.mask",function(){h.clearIfNotMatch&&!b.test(y.val())&&y.val("")})},getRegexMask:function(){for(var C,k,A,I,T=[],D=0;D<M.length;D++)(C=m.translation[M.charAt(D)])?(k=C.pattern.toString().replace(/.{1}$|^.{1}/g,""),A=C.optional,(C=C.recursive)?(T.push(M.charAt(D)),I={digit:M.charAt(D),pattern:k}):T.push(A||C?k+"?":k)):T.push(M.charAt(D).replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&"));return T=T.join(""),I&&(T=T.replace(new RegExp("("+I.digit+"(.*"+I.digit+")?)"),"($1)?").replace(new RegExp(I.digit,"g"),I.pattern)),new RegExp(T)},destroyEvents:function(){g.off("input keydown keyup paste drop blur focusout ".split(" ").join(".mask "))},val:function(T){var C=g.is("input")?"val":"text";return 0<arguments.length?(g[C]()!==T&&g[C](T),C=g):C=g[C](),C},calculateCaretPosition:function(T){var C=y.getMasked(),k=y.getCaret();if(T!==C){var A=g.data("mask-previus-caret-pos")||0;C=C.length;var S,I=T.length,D=T=0,L=0,U=0;for(S=k;S<C&&y.maskDigitPosMap[S];S++)D++;for(S=k-1;0<=S&&y.maskDigitPosMap[S];S--)T++;for(S=k-1;0<=S;S--)y.maskDigitPosMap[S]&&L++;for(S=A-1;0<=S;S--)y.maskDigitPosMapOld[S]&&U++;k>I?k=10*C:A>=k&&A!==I?y.maskDigitPosMapOld[k]||(A=k,k=k-(U-L)-T,y.maskDigitPosMap[k]&&(k=A)):k>A&&(k=k+(L-U)+D)}return k},behaviour:function(T){T=T||window.event,y.invalid=[];var C=g.data("mask-keycode");if(-1===V.inArray(C,m.byPassKeys)){C=y.getMasked();var k=y.getCaret(),A=g.data("mask-previus-value")||"";return setTimeout(function(){y.setCaret(y.calculateCaretPosition(A))},V.jMaskGlobals.keyStrokeCompensation),y.val(C),y.setCaret(k),y.callbacks(T)}},getMasked:function(T,C){var ut,k=[],A=void 0===C?y.val():C+"",I=0,D=M.length,L=0,U=A.length,S=1,G="push",Y=-1,q=0;if(C=[],h.reverse){G="unshift",S=-1;var tt=0;I=D-1,L=U-1;var ht=function(){return-1<I&&-1<L}}else tt=D-1,ht=function(){return I<D&&L<U};for(;ht();){var bt=M.charAt(I),F=A.charAt(L),B=m.translation[bt];B?(F.match(B.pattern)?(k[G](F),B.recursive&&(-1===Y?Y=I:I===tt&&I!==Y&&(I=Y-S),tt===Y&&(I-=S)),I+=S):F===ut?(q--,ut=void 0):B.optional?(I+=S,L-=S):B.fallback?(k[G](B.fallback),I+=S,L-=S):y.invalid.push({p:L,v:F,e:B.pattern}),L+=S):(T||k[G](bt),F===bt?(C.push(L),L+=S):(ut=bt,C.push(L+q),q++),I+=S)}return T=M.charAt(tt),D!==U+1||m.translation[T]||k.push(T),k=k.join(""),y.mapMaskdigitPositions(k,C,U),k},mapMaskdigitPositions:function(T,C,k){for(T=h.reverse?T.length-k:0,y.maskDigitPosMap={},k=0;k<C.length;k++)y.maskDigitPosMap[C[k]+T]=1},callbacks:function(T){var C=y.val(),k=C!==_,A=[C,T,g,h],I=function(D,L,U){"function"==typeof h[D]&&L&&h[D].apply(this,U)};I("onChange",!0===k,A),I("onKeyPress",!0===k,A),I("onComplete",C.length===M.length,A),I("onInvalid",0<y.invalid.length,[C,T,g,y.invalid,h])}};g=V(g);var b,m=this,_=y.val();M="function"==typeof M?M(y.val(),void 0,g,h):M,m.mask=M,m.options=h,m.remove=function(){var T=y.getCaret();return m.options.placeholder&&g.removeAttr("placeholder"),g.data("mask-maxlength")&&g.removeAttr("maxlength"),y.destroyEvents(),y.val(m.getCleanVal()),y.setCaret(T),g},m.getCleanVal=function(){return y.getMasked(!0)},m.getMaskedVal=function(T){return y.getMasked(!1,T)},m.init=function(T){if(T=T||!1,h=h||{},m.clearIfNotMatch=V.jMaskGlobals.clearIfNotMatch,m.byPassKeys=V.jMaskGlobals.byPassKeys,m.translation=V.extend({},V.jMaskGlobals.translation,h.translation),m=V.extend(!0,{},m,h),b=y.getRegexMask(),T)y.events(),y.val(y.getMasked());else{h.placeholder&&g.attr("placeholder",h.placeholder),g.data("mask")&&g.attr("autocomplete","off"),T=0;for(var C=!0;T<M.length;T++){var k=m.translation[M.charAt(T)];if(k&&k.recursive){C=!1;break}}C&&g.attr("maxlength",M.length).data("mask-maxlength",!0),y.destroyEvents(),y.events(),T=y.getCaret(),y.val(y.getMasked()),y.setCaret(T)}},m.init(!g.is("input"))};V.maskWatchers={};var lt=function(){var g=V(this),M={},h=g.attr("data-mask");if(g.attr("data-mask-reverse")&&(M.reverse=!0),g.attr("data-mask-clearifnotmatch")&&(M.clearIfNotMatch=!0),"true"===g.attr("data-mask-selectonfocus")&&(M.selectOnFocus=!0),W(g,h,M))return g.data("mask",new qt(this,h,M))},W=function(g,M,h){h=h||{};var y=V(g).data("mask"),m=JSON.stringify;g=V(g).val()||V(g).text();try{return"function"==typeof M&&(M=M(g)),"object"!=typeof y||m(y.options)!==m(h)||y.mask!==M}catch{}},x=function(g){var M=document.createElement("div"),h=(g="on"+g)in M;return h||(M.setAttribute(g,"return;"),h="function"==typeof M[g]),h};V.fn.mask=function(g,M){M=M||{};var h=this.selector,y=V.jMaskGlobals,m=y.watchInterval;y=M.watchInputs||y.watchInputs;var _=function(){if(W(this,g,M))return V(this).data("mask",new qt(this,g,M))};return V(this).each(_),h&&""!==h&&y&&(clearInterval(V.maskWatchers[h]),V.maskWatchers[h]=setInterval(function(){V(document).find(h).each(_)},m)),this},V.fn.masked=function(g){return this.data("mask").getMaskedVal(g)},V.fn.unmask=function(){return clearInterval(V.maskWatchers[this.selector]),delete V.maskWatchers[this.selector],this.each(function(){var g=V(this).data("mask");g&&g.remove().removeData("mask")})},V.fn.cleanVal=function(){return this.data("mask").getCleanVal()},V.applyDataMask=function(g){((g=g||V.jMaskGlobals.maskElements)instanceof V?g:V(g)).filter(V.jMaskGlobals.dataMaskAttr).each(lt)},x={maskElements:"input,td,span,div",dataMaskAttr:"*[data-mask]",dataMask:!0,watchInterval:300,watchInputs:!0,keyStrokeCompensation:10,useInput:!/Chrome\/[2-4][0-9]|SamsungBrowser/.test(window.navigator.userAgent)&&x("input"),watchDataMask:!1,byPassKeys:[9,16,17,18,36,37,38,39,40,91],translation:{0:{pattern:/\d/},9:{pattern:/\d/,optional:!0},"#":{pattern:/\d/,recursive:!0},A:{pattern:/[a-zA-Z0-9]/},S:{pattern:/[a-zA-Z]/}}},V.jMaskGlobals=V.jMaskGlobals||{},(x=V.jMaskGlobals=V.extend(!0,{},x,V.jMaskGlobals)).dataMask&&V.applyDataMask(),setInterval(function(){V.jMaskGlobals.watchDataMask&&V.applyDataMask()},x.watchInterval)},window.jQuery,window.Zepto),function(V){"function"==typeof define&&define.amd?define(["jquery"],V):"object"==typeof module&&module.exports?module.exports=V(require("jquery")):V(jQuery)}(function(V){V.extend(V.fn,{validate:function(W){if(this.length){var x=V.data(this[0],"validator");return x||(this.attr("novalidate","novalidate"),x=new V.validator(W,this[0]),V.data(this[0],"validator",x),x.settings.onsubmit&&(this.on("click.validate",":submit",function(g){x.submitButton=g.currentTarget,V(this).hasClass("cancel")&&(x.cancelSubmit=!0),void 0!==V(this).attr("formnovalidate")&&(x.cancelSubmit=!0)}),this.on("submit.validate",function(g){function M(){var h,y;return x.submitButton&&(x.settings.submitHandler||x.formSubmitted)&&(h=V("<input type='hidden'/>").attr("name",x.submitButton.name).val(V(x.submitButton).val()).appendTo(x.currentForm)),!x.settings.submitHandler||(y=x.settings.submitHandler.call(x,x.currentForm,g),h&&h.remove(),void 0!==y&&y)}return x.settings.debug&&g.preventDefault(),x.cancelSubmit?(x.cancelSubmit=!1,M()):x.form()?x.pendingRequest?(x.formSubmitted=!0,!1):M():(x.focusInvalid(),!1)})),x)}W&&W.debug&&window.console&&console.warn("Nothing selected, can't validate, returning nothing.")},valid:function(){var W,x,g;return V(this[0]).is("form")?W=this.validate().form():(g=[],W=!0,x=V(this[0].form).validate(),this.each(function(){(W=x.element(this)&&W)||(g=g.concat(x.errorList))}),x.errorList=g),W},rules:function(W,x){var M,h,y,m,_,b,g=this[0];if(null!=g&&(!g.form&&g.hasAttribute("contenteditable")&&(g.form=this.closest("form")[0],g.name=this.attr("name")),null!=g.form)){if(W)switch(M=V.data(g.form,"validator").settings,h=M.rules,y=V.validator.staticRules(g),W){case"add":V.extend(y,V.validator.normalizeRule(x)),delete y.messages,h[g.name]=y,x.messages&&(M.messages[g.name]=V.extend(M.messages[g.name],x.messages));break;case"remove":return x?(b={},V.each(x.split(/\s/),function(T,C){b[C]=y[C],delete y[C]}),b):(delete h[g.name],y)}return(m=V.validator.normalizeRules(V.extend({},V.validator.classRules(g),V.validator.attributeRules(g),V.validator.dataRules(g),V.validator.staticRules(g)),g)).required&&(_=m.required,delete m.required,m=V.extend({required:_},m)),m.remote&&(_=m.remote,delete m.remote,m=V.extend(m,{remote:_})),m}}}),V.extend(V.expr.pseudos||V.expr[":"],{blank:function(W){return!V.trim(""+V(W).val())},filled:function(W){var x=V(W).val();return null!==x&&!!V.trim(""+x)},unchecked:function(W){return!V(W).prop("checked")}}),V.validator=function(W,x){this.settings=V.extend(!0,{},V.validator.defaults,W),this.currentForm=x,this.init()},V.validator.format=function(W,x){return 1===arguments.length?function(){var g=V.makeArray(arguments);return g.unshift(W),V.validator.format.apply(this,g)}:(void 0===x||(arguments.length>2&&x.constructor!==Array&&(x=V.makeArray(arguments).slice(1)),x.constructor!==Array&&(x=[x]),V.each(x,function(g,M){W=W.replace(new RegExp("\\{"+g+"\\}","g"),function(){return M})})),W)},V.extend(V.validator,{defaults:{messages:{},groups:{},rules:{},errorClass:"error",pendingClass:"pending",validClass:"valid",errorElement:"label",focusCleanup:!1,focusInvalid:!0,errorContainer:V([]),errorLabelContainer:V([]),onsubmit:!0,ignore:":hidden",ignoreTitle:!1,onfocusin:function(W){this.lastActive=W,this.settings.focusCleanup&&(this.settings.unhighlight&&this.settings.unhighlight.call(this,W,this.settings.errorClass,this.settings.validClass),this.hideThese(this.errorsFor(W)))},onfocusout:function(W){!this.checkable(W)&&(W.name in this.submitted||!this.optional(W))&&this.element(W)},onkeyup:function(W,x){9===x.which&&""===this.elementValue(W)||-1!==V.inArray(x.keyCode,[16,17,18,20,35,36,37,38,39,40,45,144,225])||(W.name in this.submitted||W.name in this.invalid)&&this.element(W)},onclick:function(W){W.name in this.submitted?this.element(W):W.parentNode.name in this.submitted&&this.element(W.parentNode)},highlight:function(W,x,g){"radio"===W.type?this.findByName(W.name).addClass(x).removeClass(g):V(W).addClass(x).removeClass(g)},unhighlight:function(W,x,g){"radio"===W.type?this.findByName(W.name).removeClass(x).addClass(g):V(W).removeClass(x).addClass(g)}},setDefaults:function(W){V.extend(V.validator.defaults,W)},messages:{required:"This field is required.",remote:"Please fix this field.",email:"Please enter a valid email address.",url:"Please enter a valid URL.",date:"Please enter a valid date.",dateISO:"Please enter a valid date (ISO).",number:"Please enter a valid number.",digits:"Please enter only digits.",equalTo:"Please enter the same value again.",maxlength:V.validator.format("Please enter no more than {0} characters."),minlength:V.validator.format("Please enter at least {0} characters."),rangelength:V.validator.format("Please enter a value between {0} and {1} characters long."),range:V.validator.format("Please enter a value between {0} and {1}."),max:V.validator.format("Please enter a value less than or equal to {0}."),min:V.validator.format("Please enter a value greater than or equal to {0}."),step:V.validator.format("Please enter a multiple of {0}.")},autoCreateRanges:!1,prototype:{init:function(){this.labelContainer=V(this.settings.errorLabelContainer),this.errorContext=this.labelContainer.length&&this.labelContainer||V(this.currentForm),this.containers=V(this.settings.errorContainer).add(this.settings.errorLabelContainer),this.submitted={},this.valueCache={},this.pendingRequest=0,this.pending={},this.invalid={},this.reset();var x,W=this.groups={};function g(M){!this.form&&this.hasAttribute("contenteditable")&&(this.form=V(this).closest("form")[0],this.name=V(this).attr("name"));var h=V.data(this.form,"validator"),y="on"+M.type.replace(/^validate/,""),m=h.settings;m[y]&&!V(this).is(m.ignore)&&m[y].call(h,this,M)}V.each(this.settings.groups,function(M,h){"string"==typeof h&&(h=h.split(/\s/)),V.each(h,function(y,m){W[m]=M})}),x=this.settings.rules,V.each(x,function(M,h){x[M]=V.validator.normalizeRule(h)}),V(this.currentForm).on("focusin.validate focusout.validate keyup.validate",":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'], [type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox'], [contenteditable], [type='button']",g).on("click.validate","select, option, [type='radio'], [type='checkbox']",g),this.settings.invalidHandler&&V(this.currentForm).on("invalid-form.validate",this.settings.invalidHandler)},form:function(){return this.checkForm(),V.extend(this.submitted,this.errorMap),this.invalid=V.extend({},this.errorMap),this.valid()||V(this.currentForm).triggerHandler("invalid-form",[this]),this.showErrors(),this.valid()},checkForm:function(){this.prepareForm();for(var W=0,x=this.currentElements=this.elements();x[W];W++)this.check(x[W]);return this.valid()},element:function(W){var y,m,x=this.clean(W),g=this.validationTargetFor(x),M=this,h=!0;return void 0===g?delete this.invalid[x.name]:(this.prepareElement(g),this.currentElements=V(g),(m=this.groups[g.name])&&V.each(this.groups,function(_,b){b===m&&_!==g.name&&((x=M.validationTargetFor(M.clean(M.findByName(_))))&&x.name in M.invalid&&(M.currentElements.push(x),h=M.check(x)&&h))}),y=!1!==this.check(g),h=h&&y,this.invalid[g.name]=!y,this.numberOfInvalids()||(this.toHide=this.toHide.add(this.containers)),this.showErrors(),V(W).attr("aria-invalid",!y)),h},showErrors:function(W){if(W){var x=this;V.extend(this.errorMap,W),this.errorList=V.map(this.errorMap,function(g,M){return{message:g,element:x.findByName(M)[0]}}),this.successList=V.grep(this.successList,function(g){return!(g.name in W)})}this.settings.showErrors?this.settings.showErrors.call(this,this.errorMap,this.errorList):this.defaultShowErrors()},resetForm:function(){V.fn.resetForm&&V(this.currentForm).resetForm(),this.invalid={},this.submitted={},this.prepareForm(),this.hideErrors();var W=this.elements().removeData("previousValue").removeAttr("aria-invalid");this.resetElements(W)},resetElements:function(W){var x;if(this.settings.unhighlight)for(x=0;W[x];x++)this.settings.unhighlight.call(this,W[x],this.settings.errorClass,""),this.findByName(W[x].name).removeClass(this.settings.validClass);else W.removeClass(this.settings.errorClass).removeClass(this.settings.validClass)},numberOfInvalids:function(){return this.objectLength(this.invalid)},objectLength:function(W){var g,x=0;for(g in W)void 0!==W[g]&&null!==W[g]&&!1!==W[g]&&x++;return x},hideErrors:function(){this.hideThese(this.toHide)},hideThese:function(W){W.not(this.containers).text(""),this.addWrapper(W).hide()},valid:function(){return 0===this.size()},size:function(){return this.errorList.length},focusInvalid:function(){if(this.settings.focusInvalid)try{V(this.findLastActive()||this.errorList.length&&this.errorList[0].element||[]).filter(":visible").focus().trigger("focusin")}catch{}},findLastActive:function(){var W=this.lastActive;return W&&1===V.grep(this.errorList,function(x){return x.element.name===W.name}).length&&W},elements:function(){var W=this,x={};return V(this.currentForm).find("input, select, textarea, [contenteditable]").not(":submit, :reset, :image, :disabled").not(this.settings.ignore).filter(function(){var g=this.name||V(this).attr("name");return!g&&W.settings.debug&&window.console&&console.error("%o has no name assigned",this),this.hasAttribute("contenteditable")&&(this.form=V(this).closest("form")[0],this.name=g),!(g in x||!W.objectLength(V(this).rules()))&&(x[g]=!0,!0)})},clean:function(W){return V(W)[0]},errors:function(){var W=this.settings.errorClass.split(" ").join(".");return V(this.settings.errorElement+"."+W,this.errorContext)},resetInternals:function(){this.successList=[],this.errorList=[],this.errorMap={},this.toShow=V([]),this.toHide=V([])},reset:function(){this.resetInternals(),this.currentElements=V([])},prepareForm:function(){this.reset(),this.toHide=this.errors().add(this.containers)},prepareElement:function(W){this.reset(),this.toHide=this.errorsFor(W)},elementValue:function(W){var M,h,x=V(W),g=W.type;return"radio"===g||"checkbox"===g?this.findByName(W.name).filter(":checked").val():"number"===g&&typeof W.validity<"u"?W.validity.badInput?"NaN":x.val():(M=W.hasAttribute("contenteditable")?x.text():x.val(),"file"===g?"C:\\fakepath\\"===M.substr(0,12)?M.substr(12):(h=M.lastIndexOf("/"))>=0||(h=M.lastIndexOf("\\"))>=0?M.substr(h+1):M:"string"==typeof M?M.replace(/\r/g,""):M)},check:function(W){W=this.validationTargetFor(this.clean(W));var y,m,_,b,x=V(W).rules(),g=V.map(x,function(T,C){return C}).length,M=!1,h=this.elementValue(W);if("function"==typeof x.normalizer?b=x.normalizer:"function"==typeof this.settings.normalizer&&(b=this.settings.normalizer),b){if("string"!=typeof(h=b.call(W,h)))throw new TypeError("The normalizer should return a string value.");delete x.normalizer}for(m in x){_={method:m,parameters:x[m]};try{if("dependency-mismatch"===(y=V.validator.methods[m].call(this,h,W,_.parameters))&&1===g){M=!0;continue}if(M=!1,"pending"===y)return void(this.toHide=this.toHide.not(this.errorsFor(W)));if(!y)return this.formatAndAdd(W,_),!1}catch(T){throw this.settings.debug&&window.console&&console.log("Exception occurred when checking element "+W.id+", check the '"+_.method+"' method.",T),T instanceof TypeError&&(T.message+=".  Exception occurred when checking element "+W.id+", check the '"+_.method+"' method."),T}}if(!M)return this.objectLength(x)&&this.successList.push(W),!0},customDataMessage:function(W,x){return V(W).data("msg"+x.charAt(0).toUpperCase()+x.substring(1).toLowerCase())||V(W).data("msg")},customMessage:function(W,x){var g=this.settings.messages[W];return g&&(g.constructor===String?g:g[x])},findDefined:function(){for(var W=0;W<arguments.length;W++)if(void 0!==arguments[W])return arguments[W]},defaultMessage:function(W,x){"string"==typeof x&&(x={method:x});var g=this.findDefined(this.customMessage(W.name,x.method),this.customDataMessage(W,x.method),!this.settings.ignoreTitle&&W.title||void 0,V.validator.messages[x.method],"<strong>Warning: No message defined for "+W.name+"</strong>"),M=/\$?\{(\d+)\}/g;return"function"==typeof g?g=g.call(this,x.parameters,W):M.test(g)&&(g=V.validator.format(g.replace(M,"{$1}"),x.parameters)),g},formatAndAdd:function(W,x){var g=this.defaultMessage(W,x);this.errorList.push({message:g,element:W,method:x.method}),this.errorMap[W.name]=g,this.submitted[W.name]=g},addWrapper:function(W){return this.settings.wrapper&&(W=W.add(W.parent(this.settings.wrapper))),W},defaultShowErrors:function(){var W,x,g;for(W=0;this.errorList[W];W++)g=this.errorList[W],this.settings.highlight&&this.settings.highlight.call(this,g.element,this.settings.errorClass,this.settings.validClass),this.showLabel(g.element,g.message);if(this.errorList.length&&(this.toShow=this.toShow.add(this.containers)),this.settings.success)for(W=0;this.successList[W];W++)this.showLabel(this.successList[W]);if(this.settings.unhighlight)for(W=0,x=this.validElements();x[W];W++)this.settings.unhighlight.call(this,x[W],this.settings.errorClass,this.settings.validClass);this.toHide=this.toHide.not(this.toShow),this.hideErrors(),this.addWrapper(this.toShow).show()},validElements:function(){return this.currentElements.not(this.invalidElements())},invalidElements:function(){return V(this.errorList).map(function(){return this.element})},showLabel:function(W,x){var g,M,h,y,m=this.errorsFor(W),_=this.idOrName(W),b=V(W).attr("aria-describedby");m.length?(m.removeClass(this.settings.validClass).addClass(this.settings.errorClass),m.html(x)):(g=m=V("<"+this.settings.errorElement+">").attr("id",_+"-error").addClass(this.settings.errorClass).html(x||""),this.settings.wrapper&&(g=m.hide().show().wrap("<"+this.settings.wrapper+"/>").parent()),this.labelContainer.length?this.labelContainer.append(g):this.settings.errorPlacement?this.settings.errorPlacement.call(this,g,V(W)):g.insertAfter(W),m.is("label")?m.attr("for",_):0===m.parents("label[for='"+this.escapeCssMeta(_)+"']").length&&(h=m.attr("id"),b?b.match(new RegExp("\\b"+this.escapeCssMeta(h)+"\\b"))||(b+=" "+h):b=h,V(W).attr("aria-describedby",b),(M=this.groups[W.name])&&(y=this,V.each(y.groups,function(T,C){C===M&&V("[name='"+y.escapeCssMeta(T)+"']",y.currentForm).attr("aria-describedby",m.attr("id"))})))),!x&&this.settings.success&&(m.text(""),"string"==typeof this.settings.success?m.addClass(this.settings.success):this.settings.success(m,W)),this.toShow=this.toShow.add(m)},errorsFor:function(W){var x=this.escapeCssMeta(this.idOrName(W)),g=V(W).attr("aria-describedby"),M="label[for='"+x+"'], label[for='"+x+"'] *";return g&&(M=M+", #"+this.escapeCssMeta(g).replace(/\s+/g,", #")),this.errors().filter(M)},escapeCssMeta:function(W){return W.replace(/([\\!"#$%&'()*+,./:;<=>?@\[\]^`{|}~])/g,"\\$1")},idOrName:function(W){return this.groups[W.name]||(this.checkable(W)?W.name:W.id||W.name)},validationTargetFor:function(W){return this.checkable(W)&&(W=this.findByName(W.name)),V(W).not(this.settings.ignore)[0]},checkable:function(W){return/radio|checkbox/i.test(W.type)},findByName:function(W){return V(this.currentForm).find("[name='"+this.escapeCssMeta(W)+"']")},getLength:function(W,x){switch(x.nodeName.toLowerCase()){case"select":return V("option:selected",x).length;case"input":if(this.checkable(x))return this.findByName(x.name).filter(":checked").length}return W.length},depend:function(W,x){return!this.dependTypes[typeof W]||this.dependTypes[typeof W](W,x)},dependTypes:{boolean:function(W){return W},string:function(W,x){return!!V(W,x.form).length},function:function(W,x){return W(x)}},optional:function(W){var x=this.elementValue(W);return!V.validator.methods.required.call(this,x,W)&&"dependency-mismatch"},startRequest:function(W){this.pending[W.name]||(this.pendingRequest++,V(W).addClass(this.settings.pendingClass),this.pending[W.name]=!0)},stopRequest:function(W,x){this.pendingRequest--,this.pendingRequest<0&&(this.pendingRequest=0),delete this.pending[W.name],V(W).removeClass(this.settings.pendingClass),x&&0===this.pendingRequest&&this.formSubmitted&&this.form()?(V(this.currentForm).submit(),this.submitButton&&V("input:hidden[name='"+this.submitButton.name+"']",this.currentForm).remove(),this.formSubmitted=!1):!x&&0===this.pendingRequest&&this.formSubmitted&&(V(this.currentForm).triggerHandler("invalid-form",[this]),this.formSubmitted=!1)},previousValue:function(W,x){return x="string"==typeof x&&x||"remote",V.data(W,"previousValue")||V.data(W,"previousValue",{old:null,valid:!0,message:this.defaultMessage(W,{method:x})})},destroy:function(){this.resetForm(),V(this.currentForm).off(".validate").removeData("validator").find(".validate-equalTo-blur").off(".validate-equalTo").removeClass("validate-equalTo-blur")}},classRuleSettings:{required:{required:!0},email:{email:!0},url:{url:!0},date:{date:!0},dateISO:{dateISO:!0},number:{number:!0},digits:{digits:!0},creditcard:{creditcard:!0}},addClassRules:function(W,x){W.constructor===String?this.classRuleSettings[W]=x:V.extend(this.classRuleSettings,W)},classRules:function(W){var x={},g=V(W).attr("class");return g&&V.each(g.split(" "),function(){this in V.validator.classRuleSettings&&V.extend(x,V.validator.classRuleSettings[this])}),x},normalizeAttributeRule:function(W,x,g,M){/min|max|step/.test(g)&&(null===x||/number|range|text/.test(x))&&(M=Number(M),isNaN(M)&&(M=void 0)),M||0===M?W[g]=M:x===g&&"range"!==x&&(W[g]=!0)},attributeRules:function(W){var h,y,x={},g=V(W),M=W.getAttribute("type");for(h in V.validator.methods)"required"===h?(""===(y=W.getAttribute(h))&&(y=!0),y=!!y):y=g.attr(h),this.normalizeAttributeRule(x,M,h,y);return x.maxlength&&/-1|2147483647|524288/.test(x.maxlength)&&delete x.maxlength,x},dataRules:function(W){var h,y,x={},g=V(W),M=W.getAttribute("type");for(h in V.validator.methods)y=g.data("rule"+h.charAt(0).toUpperCase()+h.substring(1).toLowerCase()),this.normalizeAttributeRule(x,M,h,y);return x},staticRules:function(W){var x={},g=V.data(W.form,"validator");return g.settings.rules&&(x=V.validator.normalizeRule(g.settings.rules[W.name])||{}),x},normalizeRules:function(W,x){return V.each(W,function(g,M){if(!1!==M){if(M.param||M.depends){var h=!0;switch(typeof M.depends){case"string":h=!!V(M.depends,x.form).length;break;case"function":h=M.depends.call(x,x)}h?W[g]=void 0===M.param||M.param:(V.data(x.form,"validator").resetElements(V(x)),delete W[g])}}else delete W[g]}),V.each(W,function(g,M){W[g]=V.isFunction(M)&&"normalizer"!==g?M(x):M}),V.each(["minlength","maxlength"],function(){W[this]&&(W[this]=Number(W[this]))}),V.each(["rangelength","range"],function(){var g;W[this]&&(V.isArray(W[this])?W[this]=[Number(W[this][0]),Number(W[this][1])]:"string"==typeof W[this]&&(g=W[this].replace(/[\[\]]/g,"").split(/[\s,]+/),W[this]=[Number(g[0]),Number(g[1])]))}),V.validator.autoCreateRanges&&(null!=W.min&&null!=W.max&&(W.range=[W.min,W.max],delete W.min,delete W.max),null!=W.minlength&&null!=W.maxlength&&(W.rangelength=[W.minlength,W.maxlength],delete W.minlength,delete W.maxlength)),W},normalizeRule:function(W){if("string"==typeof W){var x={};V.each(W.split(/\s/),function(){x[this]=!0}),W=x}return W},addMethod:function(W,x,g){V.validator.methods[W]=x,V.validator.messages[W]=void 0!==g?g:V.validator.messages[W],x.length<3&&V.validator.addClassRules(W,V.validator.normalizeRule(W))},methods:{required:function(W,x,g){if(!this.depend(g,x))return"dependency-mismatch";if("select"===x.nodeName.toLowerCase()){var M=V(x).val();return M&&M.length>0}return this.checkable(x)?this.getLength(W,x)>0:W.length>0},email:function(W,x){return this.optional(x)||/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(W)},url:function(W,x){return this.optional(x)||/^(?:(?:(?:https?|ftp):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(W)},date:function(W,x){return this.optional(x)||!/Invalid|NaN/.test(new Date(W).toString())},dateISO:function(W,x){return this.optional(x)||/^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(W)},number:function(W,x){return this.optional(x)||/^(?:-?\d+|-?\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(W)},digits:function(W,x){return this.optional(x)||/^\d+$/.test(W)},minlength:function(W,x,g){var M=V.isArray(W)?W.length:this.getLength(W,x);return this.optional(x)||M>=g},maxlength:function(W,x,g){var M=V.isArray(W)?W.length:this.getLength(W,x);return this.optional(x)||M<=g},rangelength:function(W,x,g){var M=V.isArray(W)?W.length:this.getLength(W,x);return this.optional(x)||M>=g[0]&&M<=g[1]},min:function(W,x,g){return this.optional(x)||W>=g},max:function(W,x,g){return this.optional(x)||W<=g},range:function(W,x,g){return this.optional(x)||W>=g[0]&&W<=g[1]},step:function(W,x,g){var k,M=V(x).attr("type"),h="Step attribute on input type "+M+" is not supported.",m=new RegExp("\\b"+M+"\\b"),b=function(A){var I=(""+A).match(/(?:\.(\d+))?$/);return I&&I[1]?I[1].length:0},T=function(A){return Math.round(A*Math.pow(10,k))},C=!0;if(M&&!m.test(["text","number","range"].join()))throw new Error(h);return k=b(g),(b(W)>k||T(W)%T(g)!=0)&&(C=!1),this.optional(x)||C},equalTo:function(W,x,g){var M=V(g);return this.settings.onfocusout&&M.not(".validate-equalTo-blur").length&&M.addClass("validate-equalTo-blur").on("blur.validate-equalTo",function(){V(x).valid()}),W===M.val()},remote:function(W,x,g,M){if(this.optional(x))return"dependency-mismatch";M="string"==typeof M&&M||"remote";var y,m,_,h=this.previousValue(x,M);return this.settings.messages[x.name]||(this.settings.messages[x.name]={}),h.originalMessage=h.originalMessage||this.settings.messages[x.name][M],this.settings.messages[x.name][M]=h.message,g="string"==typeof g&&{url:g}||g,_=V.param(V.extend({data:W},g.data)),h.old===_?h.valid:(h.old=_,y=this,this.startRequest(x),(m={})[x.name]=W,V.ajax(V.extend(!0,{mode:"abort",port:"validate"+x.name,dataType:"json",data:m,context:y.currentForm,success:function(b){var C,k,A,T=!0===b||"true"===b;y.settings.messages[x.name][M]=h.originalMessage,T?(A=y.formSubmitted,y.resetInternals(),y.toHide=y.errorsFor(x),y.formSubmitted=A,y.successList.push(x),y.invalid[x.name]=!1,y.showErrors()):(C={},k=b||y.defaultMessage(x,{method:M,parameters:W}),C[x.name]=h.message=k,y.invalid[x.name]=!0,y.showErrors(C)),h.valid=T,y.stopRequest(x,T)}},g)),"pending")}}});var lt,qt={};return V.ajaxPrefilter?V.ajaxPrefilter(function(W,x,g){var M=W.port;"abort"===W.mode&&(qt[M]&&qt[M].abort(),qt[M]=g)}):(lt=V.ajax,V.ajax=function(W){var x=("mode"in W?W:V.ajaxSettings).mode,g=("port"in W?W:V.ajaxSettings).port;return"abort"===x?(qt[g]&&qt[g].abort(),qt[g]=lt.apply(this,arguments),qt[g]):lt.apply(this,arguments)}),V}),function(V){var lt,qt=V.validator,W="unobtrusiveValidation";function x(T,C,k){T.rules[C]=k,T.message&&(T.messages[C]=T.message)}function M(T){return T.substr(0,T.lastIndexOf(".")+1)}function h(T,C){return 0===T.indexOf("*.")&&(T=T.replace("*.",C)),T}function y(T,C){var k=V(this).find("[data-valmsg-for='"+C[0].name+"']"),A=!1!==V.parseJSON(k.attr("data-valmsg-replace"));k.removeClass("field-validation-valid").addClass("field-validation-error"),T.data("unobtrusiveContainer",k),A?(k.empty(),T.removeClass("input-validation-error").appendTo(k)):T.hide()}function m(T,C){var k=V(this).find("[data-valmsg-summary=true]"),A=k.find("ul");A&&A.length&&C.errorList.length&&(A.empty(),k.addClass("validation-summary-errors").removeClass("validation-summary-valid"),V.each(C.errorList,function(){V("<li />").html(this.message).appendTo(A)}))}function _(T){var C=T.data("unobtrusiveContainer"),k=V.parseJSON(C.attr("data-valmsg-replace"));C&&(C.addClass("field-validation-valid").removeClass("field-validation-error"),T.removeData("unobtrusiveContainer"),k&&C.empty())}function b(T){var C=V(T),k=C.data(W);return k||(k={options:{errorClass:"input-validation-error",errorElement:"span",errorPlacement:V.proxy(y,T),invalidHandler:V.proxy(m,T),messages:{},rules:{},success:V.proxy(_,T)},attachValidation:function(){C.validate(this.options)},validate:function(){return C.validate(),C.valid()}},C.data(W,k)),k}qt.unobtrusive={adapters:[],parseElement:function(T,C){var I,D,L,k=V(T),A=k.parents("form")[0];A&&((I=b(A)).options.rules[T.name]=D={},I.options.messages[T.name]=L={},V.each(this.adapters,function(){var U="data-val-"+this.name,S=k.attr(U),G={};void 0!==S&&(U+="-",V.each(this.params,function(){G[this]=k.attr(U+this)}),this.adapt({element:T,form:A,message:S,params:G,rules:D,messages:L}))}),jQuery.extend(D,{__dummy__:!0}),!C&&I.attachValidation())},parse:function(T){V(T).find(":input[data-val=true]").each(function(){qt.unobtrusive.parseElement(this,!0)}),V("form").each(function(){var C=b(this);C&&C.attachValidation()})}},(lt=qt.unobtrusive.adapters).add=function(T,C,k){return k||(k=C,C=[]),this.push({name:T,params:C,adapt:k}),this},lt.addBool=function(T,C){return this.add(T,function(k){x(k,C||T,!0)})},lt.addMinMax=function(T,C,k,A,I,D){return this.add(T,[I||"min",D||"max"],function(L){var U=L.params.min,S=L.params.max;U&&S?x(L,A,[U,S]):U?x(L,C,U):S&&x(L,k,S)})},lt.addSingleVal=function(T,C,k){return this.add(T,[C||"val"],function(A){x(A,k||T,A.params[C])})},qt.addMethod("__dummy__",function(){return!0}),qt.addMethod("regex",function(T,C,k){var A;return!!this.optional(C)||(A=new RegExp(k).exec(T))&&0===A.index&&A[0].length===T.length}),lt.addSingleVal("accept","exts").addSingleVal("regex","pattern"),lt.addBool("creditcard").addBool("date").addBool("digits").addBool("email").addBool("number").addBool("url"),lt.addMinMax("length","minlength","maxlength","rangelength").addMinMax("range","min","max","range"),lt.add("equalto",["other"],function(T){var C=M(T.element.name),A=h(T.params.other,C);x(T,"equalTo",V(T.form).find(":input[name="+A+"]")[0])}),lt.add("required",function(T){("INPUT"!==T.element.tagName.toUpperCase()||"CHECKBOX"!==T.element.type.toUpperCase())&&x(T,"required",!0)}),lt.add("remote",["url","type","additionalfields"],function(T){var C={url:T.params.url,type:T.params.type||"GET",data:{}},k=M(T.element.name);V.each(function g(T){return T.replace(/^\s+|\s+$/g,"").split(/\s*,\s*/g)}(T.params.additionalfields||T.element.name),function(A,I){var D=h(I,k);C.data[D]=function(){return V(T.form).find(":input[name='"+D+"']").val()}}),x(T,"remote",C)}),V(function(){qt.unobtrusive.parse(document)})}(jQuery),function(V){V.validator.unobtrusive.parseDynamicContent=function(qt){V.validator.unobtrusive.parse(qt);var lt=V(qt).first().closest("form"),W=lt.data("unobtrusiveValidation"),x=lt.validate();V.each(W.options.rules,function(g,M){if(null==x.settings.rules[g]){var h={};V.extend(h,M),h.messages=W.options.messages[g],V("[name='"+g+"']").rules("add",h)}else V.each(M,function(y,m){if(null==x.settings.rules[g][y]){var _={};_[y]=m,_.messages=W.options.messages[g][y],V("[name='"+g+"']").rules("add",_)}})})}}($);var ff={behaviours:{},transforms:{}};function htmlDecode(V){return $("<div/>").html(V).text()}$(document).on("focus",".ff-behaviour",function(){var V=$(this).data("ff-behaviour");ff.behaviours[V]&&ff.behaviours[V](this)}),$(document).on("change",".ff-choices input.ff-choice-selector",function(){var V=$(this).closest(".ff-choice"),qt=V.closest(".ff-choices");qt.find("> .ff-choice").find(":input").not(qt.find(".ff-choice-selector").not(qt.find(".ff-choices .ff-choice-selector"))).attr("disabled","disabled").each(function(){$("span[data-valmsg-for='"+$(this).attr("name")+"']").css("display","none"),$.validator&&$.validator.defaults.unhighlight(this)}),V.find(":input").not(V.find(".ff-choice input")).attr("disabled",null).each(function(){$("span[data-valmsg-for='"+$(this).attr("name")+"']").css("display","").hasClass("field-validation-error")&&$.validator&&$.validator.defaults.highlight(this)});var W=V.find(".ff-choice").not(V.find(".ff-choice .ff-choice"));W.find(".ff-choice-selector").not(W.find(".ff-choices .ff-choice-selector")).attr("disabled",null).not("[checked!='checked']").trigger("change")}),$(document).on("click",".ff-choices .ff-choice",function(V){if($(V.target).parents().index($(this))>=0){var qt=$(this).find("> * > .ff-choice-selector[disabled!='disabled'][checked!='checked']");if(qt.length){var lt=$(this).closest(".ff-choices-area"),W=lt.find(".ff-choice-picker").not(lt.find(".ff-choices-area .ff-choice-picker"));W.length?W.find("option:eq("+$(this).index()+")").attr("selected","selected").trigger("change"):qt.attr("checked","checked").trigger("change"),V.stopPropagation(),$(V.target).click()}}}),$(document).on("change",".ff-choice-picker",function(){var V=$(this).closest(".ff-choices-area").find("> .ff-choices"),qt=V.find(".ff-choice-selector").not(V.find(".ff-choices .ff-choice-selector"));qt.closest(".ff-choice").hide(),$(qt[$(this).val()]).attr("checked","checked").trigger("change").closest(".ff-choice").show()}),$.extend(ff.behaviours,{},{datepicker:function(V){if(!$(V).hasClass("hasDatepicker")&&$.datepicker&&!$(V).attr("readonly")){var qt=$(V).data("ff-format");switch(qt){case"dd MMM yyyy":qt="dd M yy";break;case"dd/MM/yyyy":qt="dd/mm/yy"}return $(V).datepicker({showOn:"focus",dateFormat:qt}).focus(),!0}return!1},datetimepicker:function(V){return!($(V).hasClass("hasDatepicker")||!$.fn.datetimepicker||$(V).attr("readonly"))&&($(V).datetimepicker({showOn:"focus"}).focus(),!0)}}),$.extend(ff.transforms,{remove:function(V){V.remove()}},{swap:function(V,qt){V.before(qt)}}),$(document).ready(function(){function V(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(qt){var lt=16*Math.random()|0;return("x"==qt?lt:3&lt|8).toString(16)})}$(document).on("click",".ff-add-item",function(qt){var x=htmlDecode($(this).closest("li").find("div.new-ff-collection-outer-container").html()),g=$($("<div/>").html(x)),M=$(this).data("modelname"),h=$('<li draggable="true" id="listitem-'+V()+'">').append(g.children().clone());h.find("> *").css("display","");var y=V(),m=function(_,b){return b&&M+"["+y+"]."+b};return $(h).insertBefore($(this).closest(".ff-collection").find("> ul").children().last()),$(":input",h).attr("name",m).attr("id",m),$("input[type='hidden']",h).first().attr("name",M+".Index").val(y),$(h).find("[data-valmsg-for]").attr("data-valmsg-for",m),g.find(":input").val(null),$.validator&&$.validator.unobtrusive.parseDynamicContent&&$.validator.unobtrusive.parseDynamicContent(h),!1}),$(document).on("click",".ff-remove-parent",function(){return ff.transforms.remove($(this).closest("li")),!1}),$(document).on("click",".ff-move-up",function(){return ff.transforms.swap($(this).closest("li").prev(),$(this).closest("li")),!1}),$(document).on("click",".ff-move-down",function(){return ff.transforms.swap($(this).closest("li"),$(this).closest("li").next(":not(.ff-not-collection-item)")),!1}),$(document).on("dragstart",function(qt){$(this).addClass("ff-dragging"),qt.originalEvent.dataTransfer.setData("text",qt.srcElement?.id)}),$(document).on("dragover",function(qt){qt.preventDefault(),qt.stopPropagation()}),$(document).on("dragleave",function(qt){qt.preventDefault(),qt.stopPropagation(),$(this).removeClass("ff-dragging")}),$(document).on("drop",function(qt){qt.preventDefault(),qt.stopPropagation();var lt=$(document.getElementById(qt.originalEvent.dataTransfer.getData("text"))).closest("li[draggable=true]"),W=$(qt.target).closest("li[draggable=true]");if(W.length&&W[0]!==lt[0]&&W[0].parentElement===lt[0].parentElement){var x=lt.index()>W.index();lt.remove(),x?lt.insertBefore(W):lt.insertAfter(W),console.log("dropped")}})}),$.validator&&$.validator.setDefaults({highlight:function(V){$(V).closest(".form-group").addClass("error")},unhighlight:function(V){$(V).closest(".form-group").removeClass("error")}}),$(document).on("click keydown","input[type='checkbox']",function(){return!$(this).attr("readonly")}),function(V,qt){if("object"==typeof exports&&"object"==typeof module)module.exports=qt();else if("function"==typeof define&&define.amd)define([],qt);else{var lt=qt();for(var W in lt)("object"==typeof exports?exports:V)[W]=lt[W]}}(typeof globalThis<"u"?globalThis:typeof window<"u"?window:this,()=>(()=>{var V={410:(x,g,M)=>{var h,y,m;y=[M(50),M(316)],void 0===(m="function"==typeof(h=function(_,b){var T=Array.prototype.slice;function C(B,X,J){return J.length<=4?B.call(X,J[0],J[1],J[2],J[3]):B.apply(X,J)}function k(B,X){return T.call(B,X)}function A(B,X){return null!=B&&(_.isArray(X)||(X=k(arguments,1)),_.all(X,function(J){return J in B}))}var B,X,I=(B=!1,X=-1,function(){return B||function J(){X++,B=!0,_.defer(function(){B=!1})}(),X});function D(){this.registeredObjects=[],this.cidIndexes=[]}function L(B,X,J,K){for(var at,Q=0,gt=X.length;Q<gt;Q++)if(at=X[Q]){if("on"===B){if(!K.objectRegistry.register(at))continue}else if(!K.objectRegistry.unregister(at))continue;_.isFunction(at[B])&&at[B]("all",J,K)}}function U(B,X){var J=X.type,K=X.undoTypes,at=!K[J]||K[J][B];_.isFunction(at)&&at(X.object,X.before,X.after,X.options)}function S(B,X,J,K,at){if(!(J.isCurrentlyUndoRedoing||"undo"===B&&-1===J.pointer||"redo"===B&&J.pointer===J.length-1)){J.isCurrentlyUndoRedoing=!0;var Q,gt,ot="undo"===B;for(at?gt=ot&&J.pointer===J.length-1||!ot&&-1===J.pointer?_.clone(J.models):T.apply(J.models,ot?[0,J.pointer]:[J.pointer,J.length-1]):(Q=J.at(ot?J.pointer:J.pointer+1),gt=K?J.where({magicFusionIndex:Q.get("magicFusionIndex")}):[Q]),J.pointer+=(ot?-1:1)*gt.length;Q=ot?gt.pop():gt.shift();)Q[B]();J.isCurrentlyUndoRedoing=!1,X.trigger(B,X)}}function Y(B,X,J,K){if(B.track&&!B.isCurrentlyUndoRedoing&&X in K&&function G(B,X){var J=B.condition,K=typeof J;return"function"===K?!!C(J,B,X):"boolean"!==K||J}(K[X],J)){var at=C(K[X].on,K[X],J);if(A(at,"object","before","after")){if(at.type=X,at.magicFusionIndex=I(),at.undoTypes=K,B.pointer<B.length-1)for(var Q=B.length-B.pointer-1;Q--;)B.pop();B.pointer=B.length,B.add(at),B.length>B.maximumStackLength&&(B.shift(),B.pointer--)}}}D.prototype={isRegistered:function(B){return B&&B.cid?this.registeredObjects[B.cid]:_.contains(this.registeredObjects,B)},register:function(B){return!this.isRegistered(B)&&(B&&B.cid?(this.registeredObjects[B.cid]=B,this.cidIndexes.push(B.cid)):this.registeredObjects.push(B),!0)},unregister:function(B){if(this.isRegistered(B)){if(B&&B.cid)delete this.registeredObjects[B.cid],this.cidIndexes.splice(_.indexOf(this.cidIndexes,B.cid),1);else{var X=_.indexOf(this.registeredObjects,B);this.registeredObjects.splice(X,1)}return!0}return!1},get:function(){return _.map(this.cidIndexes,function(B){return this.registeredObjects[B]},this).concat(this.registeredObjects)}};var q={add:{undo:function(B,X,J,K){B.remove(J,K)},redo:function(B,X,J,K){K.index&&(K.at=K.index),B.add(J,K)},on:function(B,X,J){return{object:X,before:void 0,after:B,options:_.clone(J)}}},remove:{undo:function(B,X,J,K){"index"in K&&(K.at=K.index),B.add(X,K)},redo:function(B,X,J,K){B.remove(X,K)},on:function(B,X,J){return{object:X,before:B,after:void 0,options:_.clone(J)}}},change:{undo:function(B,X,J,K){_.isEmpty(X)?_.each(_.keys(J),B.unset,B):(B.set(X),K&&K.unsetData&&K.unsetData.before&&K.unsetData.before.length&&_.each(K.unsetData.before,B.unset,B))},redo:function(B,X,J,K){_.isEmpty(J)?_.each(_.keys(X),B.unset,B):(B.set(J),K&&K.unsetData&&K.unsetData.after&&K.unsetData.after.length&&_.each(K.unsetData.after,B.unset,B))},on:function(B,X){var J=B.changedAttributes(),K=_.keys(J),at=_.pick(B.previousAttributes(),K),Q=_.keys(at),gt=(X||(X={})).unsetData={after:[],before:[]};return K.length!=Q.length&&(K.length>Q.length?_.each(K,function(ot){ot in at||gt.before.push(ot)},this):_.each(Q,function(ot){ot in J||gt.after.push(ot)})),{object:B,before:at,after:J,options:_.clone(X)}}},reset:{undo:function(B,X,J){B.reset(X)},redo:function(B,X,J){B.reset(J)},on:function(B,X){return{object:B,before:X.previousModels,after:_.clone(B.models)}}}};function tt(){}function ht(B,X,J,K){if("object"==typeof X)return _.each(X,function(at,Q){2===B?ht(B,at,J,K):ht(B,Q,at,J)});switch(B){case 0:A(J,"undo","redo","on")&&_.all(_.pick(J,"undo","redo","on"),_.isFunction)&&(K[X]=J);break;case 1:K[X]&&_.isObject(J)&&(K[X]=_.extend({},K[X],J));break;case 2:delete K[X]}return this}tt.prototype=q;var ut=b.Model.extend({defaults:{type:null,object:null,before:null,after:null,magicFusionIndex:null},undo:function(B){U("undo",this.attributes)},redo:function(B){U("redo",this.attributes)}}),bt=b.Collection.extend({model:ut,pointer:-1,track:!1,isCurrentlyUndoRedoing:!1,maximumStackLength:1/0,setMaxLength:function(B){this.maximumStackLength=B}}),F=b.Model.extend({defaults:{maximumStackLength:1/0,track:!1},initialize:function(B){this.stack=new bt,this.objectRegistry=new D,this.undoTypes=new tt,this.stack.setMaxLength(this.get("maximumStackLength")),this.on("change:maximumStackLength",function(X,J){this.stack.setMaxLength(J)},this),B&&B.track&&this.startTracking(),B&&B.register&&(_.isArray(B.register)||_.isArguments(B.register)?C(this.register,this,B.register):this.register(B.register))},startTracking:function(){this.set("track",!0),this.stack.track=!0},stopTracking:function(){this.set("track",!1),this.stack.track=!1},isTracking:function(){return this.get("track")},_addToStack:function(B){Y(this.stack,B,k(arguments,1),this.undoTypes)},register:function(){L("on",arguments,this._addToStack,this)},unregister:function(){L("off",arguments,this._addToStack,this)},unregisterAll:function(){C(this.unregister,this,this.objectRegistry.get())},undo:function(B){S("undo",this,this.stack,B)},undoAll:function(){S("undo",this,this.stack,!1,!0)},redo:function(B){S("redo",this,this.stack,B)},redoAll:function(){S("redo",this,this.stack,!1,!0)},isAvailable:function(B){var X=this.stack,J=X.length;switch(B){case"undo":return J>0&&X.pointer>-1;case"redo":return J>0&&X.pointer<J-1;default:return!1}},merge:function(B){for(var X,J=_.isArray(B)?B:k(arguments);X=J.pop();)X instanceof F&&X.stack instanceof bt&&(X.stack=this.stack)},addUndoType:function(B,X){ht(0,B,X,this.undoTypes)},changeUndoType:function(B,X){ht(1,B,X,this.undoTypes)},removeUndoType:function(B){ht(2,B,void 0,this.undoTypes)},clear:function(){this.stack.reset(),this.stack.pointer=-1}});return _.extend(F,{defaults:function(B){_.extend(F.prototype.defaults,B)},addUndoType:function(B,X){ht(0,B,X,q)},changeUndoType:function(B,X){ht(1,B,X,q)},removeUndoType:function(B){ht(2,B,void 0,q)}}),b.UndoManager=F})?h.apply(g,y):h)||(x.exports=m)},316:(x,g,M)=>{var h,y,_;_="object"==typeof self&&self.self===self&&self||"object"==typeof M.g&&M.g.global===M.g&&M.g,h=[M(50),M(895),g],void 0===(y=function(b,T,C){_.Backbone=function(k,A,I,D){var L=k.Backbone,U=Array.prototype.slice;A.VERSION="1.4.1",A.$=D,A.noConflict=function(){return k.Backbone=L,this},A.emulateHTTP=!1,A.emulateJSON=!1;var S,G=A.Events={},Y=/\s+/,q=function(rt,Tt,At,$t,oe){var se,xe=0;if(At&&"object"==typeof At)for((void 0!==$t&&"context"in oe&&void 0===oe.context&&(oe.context=$t),se=I.keys(At));xe<se.length;xe++)Tt=q(rt,Tt,se[xe],At[se[xe]],oe);else if(At&&Y.test(At))for(se=At.split(Y);xe<se.length;xe++)Tt=rt(Tt,se[xe],$t,oe);else Tt=rt(Tt,At,$t,oe);return Tt};G.on=function(rt,Tt,At){return this._events=q(tt,this._events||{},rt,Tt,{context:At,ctx:this,listening:S}),S&&((this._listeners||(this._listeners={}))[S.id]=S,S.interop=!1),this},G.listenTo=function(rt,Tt,At){if(!rt)return this;var $t=rt._listenId||(rt._listenId=I.uniqueId("l")),oe=this._listeningTo||(this._listeningTo={}),se=S=oe[$t];se||(this._listenId||(this._listenId=I.uniqueId("l")),se=S=oe[$t]=new X(this,rt));var xe=ht(rt,Tt,At,this);if(S=void 0,xe)throw xe;return se.interop&&se.on(Tt,At),this};var tt=function(rt,Tt,At,$t){if(At){var oe=rt[Tt]||(rt[Tt]=[]),se=$t.context,xe=$t.ctx,Ue=$t.listening;Ue&&Ue.count++,oe.push({callback:At,context:se,ctx:se||xe,listening:Ue})}return rt},ht=function(rt,Tt,At,$t){try{rt.on(Tt,At,$t)}catch(oe){return oe}};G.off=function(rt,Tt,At){return this._events?(this._events=q(ut,this._events,rt,Tt,{context:At,listeners:this._listeners}),this):this},G.stopListening=function(rt,Tt,At){var $t=this._listeningTo;if(!$t)return this;for(var oe=rt?[rt._listenId]:I.keys($t),se=0;se<oe.length;se++){var xe=$t[oe[se]];if(!xe)break;xe.obj.off(Tt,At,this),xe.interop&&xe.off(Tt,At)}return I.isEmpty($t)&&(this._listeningTo=void 0),this};var ut=function(rt,Tt,At,$t){if(rt){var oe,se=$t.context,xe=$t.listeners,Ue=0;if(Tt||se||At){for(oe=Tt?[Tt]:I.keys(rt);Ue<oe.length;Ue++){var $e=rt[Tt=oe[Ue]];if(!$e)break;for(var on=[],bn=0;bn<$e.length;bn++){var Se=$e[bn];if(At&&At!==Se.callback&&At!==Se.callback._callback||se&&se!==Se.context)on.push(Se);else{var xt=Se.listening;xt&&xt.off(Tt,At)}}on.length?rt[Tt]=on:delete rt[Tt]}return rt}for(oe=I.keys(xe);Ue<oe.length;Ue++)xe[oe[Ue]].cleanup()}};G.once=function(rt,Tt,At){var $t=q(bt,{},rt,Tt,this.off.bind(this));return"string"==typeof rt&&null==At&&(Tt=void 0),this.on($t,Tt,At)},G.listenToOnce=function(rt,Tt,At){var $t=q(bt,{},Tt,At,this.stopListening.bind(this,rt));return this.listenTo(rt,$t)};var bt=function(rt,Tt,At,$t){if(At){var oe=rt[Tt]=I.once(function(){$t(Tt,oe),At.apply(this,arguments)});oe._callback=At}return rt};G.trigger=function(rt){if(!this._events)return this;for(var Tt=Math.max(0,arguments.length-1),At=Array(Tt),$t=0;$t<Tt;$t++)At[$t]=arguments[$t+1];return q(F,this._events,rt,void 0,At),this};var F=function(rt,Tt,At,$t){if(rt){var oe=rt[Tt],se=rt.all;oe&&se&&(se=se.slice()),oe&&B(oe,$t),se&&B(se,[Tt].concat($t))}return rt},B=function(rt,Tt){var At,$t=-1,oe=rt.length,se=Tt[0],xe=Tt[1],Ue=Tt[2];switch(Tt.length){case 0:for(;++$t<oe;)(At=rt[$t]).callback.call(At.ctx);return;case 1:for(;++$t<oe;)(At=rt[$t]).callback.call(At.ctx,se);return;case 2:for(;++$t<oe;)(At=rt[$t]).callback.call(At.ctx,se,xe);return;case 3:for(;++$t<oe;)(At=rt[$t]).callback.call(At.ctx,se,xe,Ue);return;default:for(;++$t<oe;)(At=rt[$t]).callback.apply(At.ctx,Tt);return}},X=function(rt,Tt){this.id=rt._listenId,this.listener=rt,this.obj=Tt,this.interop=!0,this.count=0,this._events=void 0};X.prototype.on=G.on,X.prototype.off=function(rt,Tt){var At;this.interop?(this._events=q(ut,this._events,rt,Tt,{context:void 0,listeners:void 0}),At=!this._events):(this.count--,At=0===this.count),At&&this.cleanup()},X.prototype.cleanup=function(){delete this.listener._listeningTo[this.obj._listenId],this.interop||delete this.obj._listeners[this.id]},G.bind=G.on,G.unbind=G.off,I.extend(A,G);var J=A.Model=function(rt,Tt){var At=rt||{};Tt||(Tt={}),this.preinitialize.apply(this,arguments),this.cid=I.uniqueId(this.cidPrefix),this.attributes={},Tt.collection&&(this.collection=Tt.collection),Tt.parse&&(At=this.parse(At,Tt)||{});var $t=I.result(this,"defaults");At=I.defaults(I.extend({},$t,At),$t),this.set(At,Tt),this.changed={},this.initialize.apply(this,arguments)};I.extend(J.prototype,G,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",preinitialize:function(){},initialize:function(){},toJSON:function(rt){return I.clone(this.attributes)},sync:function(){return A.sync.apply(this,arguments)},get:function(rt){return this.attributes[rt]},escape:function(rt){return I.escape(this.get(rt))},has:function(rt){return null!=this.get(rt)},matches:function(rt){return!!I.iteratee(rt,this)(this.attributes)},set:function(rt,Tt,At){if(null==rt)return this;var $t;if("object"==typeof rt?($t=rt,At=Tt):($t={})[rt]=Tt,At||(At={}),!this._validate($t,At))return!1;var oe=At.unset,se=At.silent,xe=[],Ue=this._changing;this._changing=!0,Ue||(this._previousAttributes=I.clone(this.attributes),this.changed={});var $e=this.attributes,on=this.changed,bn=this._previousAttributes;for(var Se in $t)Tt=$t[Se],I.isEqual($e[Se],Tt)||xe.push(Se),I.isEqual(bn[Se],Tt)?delete on[Se]:on[Se]=Tt,oe?delete $e[Se]:$e[Se]=Tt;if(this.idAttribute in $t){var xt=this.id;this.id=this.get(this.idAttribute),this.trigger("changeId",this,xt,At)}if(!se){xe.length&&(this._pending=At);for(var Bt=0;Bt<xe.length;Bt++)this.trigger("change:"+xe[Bt],this,$e[xe[Bt]],At)}if(Ue)return this;if(!se)for(;this._pending;)At=this._pending,this._pending=!1,this.trigger("change",this,At);return this._pending=!1,this._changing=!1,this},unset:function(rt,Tt){return this.set(rt,void 0,I.extend({},Tt,{unset:!0}))},clear:function(rt){var Tt={};for(var At in this.attributes)Tt[At]=void 0;return this.set(Tt,I.extend({},rt,{unset:!0}))},hasChanged:function(rt){return null==rt?!I.isEmpty(this.changed):I.has(this.changed,rt)},changedAttributes:function(rt){if(!rt)return!!this.hasChanged()&&I.clone(this.changed);var Tt,At=this._changing?this._previousAttributes:this.attributes,$t={};for(var oe in rt){var se=rt[oe];I.isEqual(At[oe],se)||($t[oe]=se,Tt=!0)}return!!Tt&&$t},previous:function(rt){return null!=rt&&this._previousAttributes?this._previousAttributes[rt]:null},previousAttributes:function(){return I.clone(this._previousAttributes)},fetch:function(rt){rt=I.extend({parse:!0},rt);var Tt=this,At=rt.success;return rt.success=function($t){var oe=rt.parse?Tt.parse($t,rt):$t;if(!Tt.set(oe,rt))return!1;At&&At.call(rt.context,Tt,$t,rt),Tt.trigger("sync",Tt,$t,rt)},ae(this,rt),this.sync("read",this,rt)},save:function(rt,Tt,At){var $t;null==rt||"object"==typeof rt?($t=rt,At=Tt):($t={})[rt]=Tt;var oe=(At=I.extend({validate:!0,parse:!0},At)).wait;if($t&&!oe){if(!this.set($t,At))return!1}else if(!this._validate($t,At))return!1;var se=this,xe=At.success,Ue=this.attributes;At.success=function(bn){se.attributes=Ue;var Se=At.parse?se.parse(bn,At):bn;if(oe&&(Se=I.extend({},$t,Se)),Se&&!se.set(Se,At))return!1;xe&&xe.call(At.context,se,bn,At),se.trigger("sync",se,bn,At)},ae(this,At),$t&&oe&&(this.attributes=I.extend({},Ue,$t));var $e=this.isNew()?"create":At.patch?"patch":"update";"patch"!==$e||At.attrs||(At.attrs=$t);var on=this.sync($e,this,At);return this.attributes=Ue,on},destroy:function(rt){rt=rt?I.clone(rt):{};var Tt=this,At=rt.success,$t=rt.wait,oe=function(){Tt.stopListening(),Tt.trigger("destroy",Tt,Tt.collection,rt)};rt.success=function(xe){$t&&oe(),At&&At.call(rt.context,Tt,xe,rt),Tt.isNew()||Tt.trigger("sync",Tt,xe,rt)};var se=!1;return this.isNew()?I.defer(rt.success):(ae(this,rt),se=this.sync("delete",this,rt)),$t||oe(),se},url:function(){var rt=I.result(this,"urlRoot")||I.result(this.collection,"url")||Qt();if(this.isNew())return rt;var Tt=this.get(this.idAttribute);return rt.replace(/[^\/]$/,"$&/")+encodeURIComponent(Tt)},parse:function(rt,Tt){return rt},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(rt){return this._validate({},I.extend({},rt,{validate:!0}))},_validate:function(rt,Tt){if(!Tt.validate||!this.validate)return!0;rt=I.extend({},this.attributes,rt);var At=this.validationError=this.validate(rt,Tt)||null;return!At||(this.trigger("invalid",this,At,I.extend(Tt,{validationError:At})),!1)}});var K=A.Collection=function(rt,Tt){Tt||(Tt={}),this.preinitialize.apply(this,arguments),Tt.model&&(this.model=Tt.model),void 0!==Tt.comparator&&(this.comparator=Tt.comparator),this._reset(),this.initialize.apply(this,arguments),rt&&this.reset(rt,I.extend({silent:!0},Tt))},at={add:!0,remove:!0,merge:!0},Q={add:!0,remove:!1},gt=function(rt,Tt,At){At=Math.min(Math.max(At,0),rt.length);var $t,oe=Array(rt.length-At),se=Tt.length;for($t=0;$t<oe.length;$t++)oe[$t]=rt[$t+At];for($t=0;$t<se;$t++)rt[$t+At]=Tt[$t];for($t=0;$t<oe.length;$t++)rt[$t+se+At]=oe[$t]};I.extend(K.prototype,G,{model:J,preinitialize:function(){},initialize:function(){},toJSON:function(rt){return this.map(function(Tt){return Tt.toJSON(rt)})},sync:function(){return A.sync.apply(this,arguments)},add:function(rt,Tt){return this.set(rt,I.extend({merge:!1},Tt,Q))},remove:function(rt,Tt){Tt=I.extend({},Tt);var At=!I.isArray(rt);rt=At?[rt]:rt.slice();var $t=this._removeModels(rt,Tt);return!Tt.silent&&$t.length&&(Tt.changes={added:[],merged:[],removed:$t},this.trigger("update",this,Tt)),At?$t[0]:$t},set:function(rt,Tt){if(null!=rt){(Tt=I.extend({},at,Tt)).parse&&!this._isModel(rt)&&(rt=this.parse(rt,Tt)||[]);var At=!I.isArray(rt);rt=At?[rt]:rt.slice();var $t=Tt.at;null!=$t&&($t=+$t),$t>this.length&&($t=this.length),$t<0&&($t+=this.length+1);var oe,se,xe=[],Ue=[],$e=[],on=[],bn={},Se=Tt.add,xt=Tt.merge,Bt=Tt.remove,Wt=!1,ee=this.comparator&&null==$t&&!1!==Tt.sort,Ae=I.isString(this.comparator)?this.comparator:null;for(se=0;se<rt.length;se++){oe=rt[se];var Le=this.get(oe);if(Le){if(xt&&oe!==Le){var dn=this._isModel(oe)?oe.attributes:oe;Tt.parse&&(dn=Le.parse(dn,Tt)),Le.set(dn,Tt),$e.push(Le),ee&&!Wt&&(Wt=Le.hasChanged(Ae))}bn[Le.cid]||(bn[Le.cid]=!0,xe.push(Le)),rt[se]=Le}else Se&&(oe=rt[se]=this._prepareModel(oe,Tt))&&(Ue.push(oe),this._addReference(oe,Tt),bn[oe.cid]=!0,xe.push(oe))}if(Bt){for(se=0;se<this.length;se++)bn[(oe=this.models[se]).cid]||on.push(oe);on.length&&this._removeModels(on,Tt)}var fn=!1,Ln=!ee&&Se&&Bt;if(xe.length&&Ln?(fn=this.length!==xe.length||I.some(this.models,function(nr,sn){return nr!==xe[sn]}),this.models.length=0,gt(this.models,xe,0),this.length=this.models.length):Ue.length&&(ee&&(Wt=!0),gt(this.models,Ue,$t??this.length),this.length=this.models.length),Wt&&this.sort({silent:!0}),!Tt.silent){for(se=0;se<Ue.length;se++)null!=$t&&(Tt.index=$t+se),(oe=Ue[se]).trigger("add",oe,this,Tt);(Wt||fn)&&this.trigger("sort",this,Tt),(Ue.length||on.length||$e.length)&&(Tt.changes={added:Ue,removed:on,merged:$e},this.trigger("update",this,Tt))}return At?rt[0]:rt}},reset:function(rt,Tt){Tt=Tt?I.clone(Tt):{};for(var At=0;At<this.models.length;At++)this._removeReference(this.models[At],Tt);return Tt.previousModels=this.models,this._reset(),rt=this.add(rt,I.extend({silent:!0},Tt)),Tt.silent||this.trigger("reset",this,Tt),rt},push:function(rt,Tt){return this.add(rt,I.extend({at:this.length},Tt))},pop:function(rt){var Tt=this.at(this.length-1);return this.remove(Tt,rt)},unshift:function(rt,Tt){return this.add(rt,I.extend({at:0},Tt))},shift:function(rt){var Tt=this.at(0);return this.remove(Tt,rt)},slice:function(){return U.apply(this.models,arguments)},get:function(rt){if(null!=rt)return this._byId[rt]||this._byId[this.modelId(this._isModel(rt)?rt.attributes:rt,rt.idAttribute)]||rt.cid&&this._byId[rt.cid]},has:function(rt){return null!=this.get(rt)},at:function(rt){return rt<0&&(rt+=this.length),this.models[rt]},where:function(rt,Tt){return this[Tt?"find":"filter"](rt)},findWhere:function(rt){return this.where(rt,!0)},sort:function(rt){var Tt=this.comparator;if(!Tt)throw new Error("Cannot sort a set without a comparator");rt||(rt={});var At=Tt.length;return I.isFunction(Tt)&&(Tt=Tt.bind(this)),1===At||I.isString(Tt)?this.models=this.sortBy(Tt):this.models.sort(Tt),rt.silent||this.trigger("sort",this,rt),this},pluck:function(rt){return this.map(rt+"")},fetch:function(rt){var Tt=(rt=I.extend({parse:!0},rt)).success,At=this;return rt.success=function($t){var oe=rt.reset?"reset":"set";At[oe]($t,rt),Tt&&Tt.call(rt.context,At,$t,rt),At.trigger("sync",At,$t,rt)},ae(this,rt),this.sync("read",this,rt)},create:function(rt,Tt){var At=(Tt=Tt?I.clone(Tt):{}).wait;if(!(rt=this._prepareModel(rt,Tt)))return!1;At||this.add(rt,Tt);var $t=this,oe=Tt.success;return Tt.success=function(se,xe,Ue){At&&$t.add(se,Ue),oe&&oe.call(Ue.context,se,xe,Ue)},rt.save(null,Tt),rt},parse:function(rt,Tt){return rt},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(rt,Tt){return rt[Tt||this.model.prototype.idAttribute||"id"]},values:function(){return new Ot(this,yt)},keys:function(){return new Ot(this,Et)},entries:function(){return new Ot(this,Mt)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(rt,Tt){return this._isModel(rt)?(rt.collection||(rt.collection=this),rt):((Tt=Tt?I.clone(Tt):{}).collection=this,(At=this.model.prototype?new this.model(rt,Tt):this.model(rt,Tt)).validationError?(this.trigger("invalid",this,At.validationError,Tt),!1):At);var At},_removeModels:function(rt,Tt){for(var At=[],$t=0;$t<rt.length;$t++){var oe=this.get(rt[$t]);if(oe){var se=this.indexOf(oe);this.models.splice(se,1),this.length--,delete this._byId[oe.cid];var xe=this.modelId(oe.attributes,oe.idAttribute);null!=xe&&delete this._byId[xe],Tt.silent||(Tt.index=se,oe.trigger("remove",oe,this,Tt)),At.push(oe),this._removeReference(oe,Tt)}}return At},_isModel:function(rt){return rt instanceof J},_addReference:function(rt,Tt){this._byId[rt.cid]=rt;var At=this.modelId(rt.attributes,rt.idAttribute);null!=At&&(this._byId[At]=rt),rt.on("all",this._onModelEvent,this)},_removeReference:function(rt,Tt){delete this._byId[rt.cid];var At=this.modelId(rt.attributes,rt.idAttribute);null!=At&&delete this._byId[At],this===rt.collection&&delete rt.collection,rt.off("all",this._onModelEvent,this)},_onModelEvent:function(rt,Tt,At,$t){if(Tt){if(("add"===rt||"remove"===rt)&&At!==this)return;if("destroy"===rt&&this.remove(Tt,$t),"changeId"===rt){var oe=this.modelId(Tt.previousAttributes(),Tt.idAttribute),se=this.modelId(Tt.attributes,Tt.idAttribute);null!=oe&&delete this._byId[oe],null!=se&&(this._byId[se]=Tt)}}this.trigger.apply(this,arguments)}});var ot="function"==typeof Symbol&&Symbol.iterator;ot&&(K.prototype[ot]=K.prototype.values);var Ot=function(rt,Tt){this._collection=rt,this._kind=Tt,this._index=0},yt=1,Et=2,Mt=3;ot&&(Ot.prototype[ot]=function(){return this}),Ot.prototype.next=function(){if(this._collection){if(this._index<this._collection.length){var rt,Tt=this._collection.at(this._index);if(this._index++,this._kind===yt)rt=Tt;else{var At=this._collection.modelId(Tt.attributes,Tt.idAttribute);rt=this._kind===Et?At:[At,Tt]}return{value:rt,done:!1}}this._collection=void 0}return{value:void 0,done:!0}};var jt=A.View=function(rt){this.cid=I.uniqueId("view"),this.preinitialize.apply(this,arguments),I.extend(this,I.pick(rt,le)),this._ensureElement(),this.initialize.apply(this,arguments)},Ut=/^(\S+)\s*(.*)$/,le=["model","collection","el","id","attributes","className","tagName","events"];I.extend(jt.prototype,G,{tagName:"div",$:function(rt){return this.$el.find(rt)},preinitialize:function(){},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(rt){return this.undelegateEvents(),this._setElement(rt),this.delegateEvents(),this},_setElement:function(rt){this.$el=rt instanceof A.$?rt:A.$(rt),this.el=this.$el[0]},delegateEvents:function(rt){if(rt||(rt=I.result(this,"events")),!rt)return this;for(var Tt in this.undelegateEvents(),rt){var At=rt[Tt];if(I.isFunction(At)||(At=this[At]),At){var $t=Tt.match(Ut);this.delegate($t[1],$t[2],At.bind(this))}}return this},delegate:function(rt,Tt,At){return this.$el.on(rt+".delegateEvents"+this.cid,Tt,At),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(rt,Tt,At){return this.$el.off(rt+".delegateEvents"+this.cid,Tt,At),this},_createElement:function(rt){return document.createElement(rt)},_ensureElement:function(){if(this.el)this.setElement(I.result(this,"el"));else{var rt=I.extend({},I.result(this,"attributes"));this.id&&(rt.id=I.result(this,"id")),this.className&&(rt.class=I.result(this,"className")),this.setElement(this._createElement(I.result(this,"tagName"))),this._setAttributes(rt)}},_setAttributes:function(rt){this.$el.attr(rt)}});var ie=function(rt,Tt,At,$t){I.each(At,function(oe,se){Tt[se]&&(rt.prototype[se]=function(rt,Tt,At,$t){switch(Tt){case 1:return function(){return rt[At](this[$t])};case 2:return function(oe){return rt[At](this[$t],oe)};case 3:return function(oe,se){return rt[At](this[$t],Ht(oe,this),se)};case 4:return function(oe,se,xe){return rt[At](this[$t],Ht(oe,this),se,xe)};default:return function(){var oe=U.call(arguments);return oe.unshift(this[$t]),rt[At].apply(rt,oe)}}}(Tt,oe,se,$t))})},Ht=function(rt,Tt){return I.isFunction(rt)?rt:I.isObject(rt)&&!Tt._isModel(rt)?_t(rt):I.isString(rt)?function(At){return At.get(rt)}:rt},_t=function(rt){var Tt=I.matches(rt);return function(At){return Tt(At.attributes)}};I.each([[K,{forEach:3,each:3,map:3,collect:3,reduce:0,foldl:0,inject:0,reduceRight:0,foldr:0,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3,findIndex:3,findLastIndex:3},"models"],[J,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes"]],function(rt){var Tt=rt[0],At=rt[1],$t=rt[2];Tt.mixin=function(oe){var se=I.reduce(I.functions(oe),function(xe,Ue){return xe[Ue]=0,xe},{});ie(Tt,oe,se,$t)},ie(Tt,I,At,$t)}),A.sync=function(rt,Tt,At){var $t=Pt[rt];I.defaults(At||(At={}),{emulateHTTP:A.emulateHTTP,emulateJSON:A.emulateJSON});var oe={type:$t,dataType:"json"};if(At.url||(oe.url=I.result(Tt,"url")||Qt()),null!=At.data||!Tt||"create"!==rt&&"update"!==rt&&"patch"!==rt||(oe.contentType="application/json",oe.data=JSON.stringify(At.attrs||Tt.toJSON(At))),At.emulateJSON&&(oe.contentType="application/x-www-form-urlencoded",oe.data=oe.data?{model:oe.data}:{}),At.emulateHTTP&&("PUT"===$t||"DELETE"===$t||"PATCH"===$t)){oe.type="POST",At.emulateJSON&&(oe.data._method=$t);var se=At.beforeSend;At.beforeSend=function($e){if($e.setRequestHeader("X-HTTP-Method-Override",$t),se)return se.apply(this,arguments)}}"GET"===oe.type||At.emulateJSON||(oe.processData=!1);var xe=At.error;At.error=function($e,on,bn){At.textStatus=on,At.errorThrown=bn,xe&&xe.call(At.context,$e,on,bn)};var Ue=At.xhr=A.ajax(I.extend(oe,At));return Tt.trigger("request",Tt,Ue,At),Ue};var Pt={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};A.ajax=function(){return A.$.ajax.apply(A.$,arguments)};var he=A.Router=function(rt){rt||(rt={}),this.preinitialize.apply(this,arguments),rt.routes&&(this.routes=rt.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},fe=/\((.*?)\)/g,Ce=/(\(\?)?:\w+/g,Ee=/\*\w+/g,Te=/[\-{}\[\]+?.,\\\^$|#\s]/g;I.extend(he.prototype,G,{preinitialize:function(){},initialize:function(){},route:function(rt,Tt,At){I.isRegExp(rt)||(rt=this._routeToRegExp(rt)),I.isFunction(Tt)&&(At=Tt,Tt=""),At||(At=this[Tt]);var $t=this;return A.history.route(rt,function(oe){var se=$t._extractParameters(rt,oe);!1!==$t.execute(At,se,Tt)&&($t.trigger.apply($t,["route:"+Tt].concat(se)),$t.trigger("route",Tt,se),A.history.trigger("route",$t,Tt,se))}),this},execute:function(rt,Tt,At){rt&&rt.apply(this,Tt)},navigate:function(rt,Tt){return A.history.navigate(rt,Tt),this},_bindRoutes:function(){if(this.routes){this.routes=I.result(this,"routes");for(var rt,Tt=I.keys(this.routes);null!=(rt=Tt.pop());)this.route(rt,this.routes[rt])}},_routeToRegExp:function(rt){return rt=rt.replace(Te,"\\$&").replace(fe,"(?:$1)?").replace(Ce,function(Tt,At){return At?Tt:"([^/?]+)"}).replace(Ee,"([^?]*?)"),new RegExp("^"+rt+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(rt,Tt){var At=rt.exec(Tt).slice(1);return I.map(At,function($t,oe){return oe===At.length-1?$t||null:$t?decodeURIComponent($t):null})}});var Ke=A.History=function(){this.handlers=[],this.checkUrl=this.checkUrl.bind(this),typeof window<"u"&&(this.location=window.location,this.history=window.history)},pn=/^[#\/]|\s+$/g,We=/^\/+|\/+$/g,Ye=/#.*$/;Ke.started=!1,I.extend(Ke.prototype,G,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root&&!this.getSearch()},matchRoot:function(){return this.decodeFragment(this.location.pathname).slice(0,this.root.length-1)+"/"===this.root},decodeFragment:function(rt){return decodeURI(rt.replace(/%25/g,"%2525"))},getSearch:function(){var rt=this.location.href.replace(/#.*/,"").match(/\?.+/);return rt?rt[0]:""},getHash:function(rt){var Tt=(rt||this).location.href.match(/#(.*)$/);return Tt?Tt[1]:""},getPath:function(){var rt=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===rt.charAt(0)?rt.slice(1):rt},getFragment:function(rt){return null==rt&&(rt=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),rt.replace(pn,"")},start:function(rt){if(Ke.started)throw new Error("Backbone.history has already been started");if(Ke.started=!0,this.options=I.extend({root:"/"},this.options,rt),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(We,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var Tt=this.root.slice(0,-1)||"/";return this.location.replace(Tt+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var At=document.body,$t=At.insertBefore(this.iframe,At.firstChild).contentWindow;$t.document.open(),$t.document.close(),$t.location.hash="#"+this.fragment}var oe=window.addEventListener||function(se,xe){return attachEvent("on"+se,xe)};if(this._usePushState?oe("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?oe("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var rt=window.removeEventListener||function(Tt,At){return detachEvent("on"+Tt,At)};this._usePushState?rt("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&rt("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),Ke.started=!1},route:function(rt,Tt){this.handlers.unshift({route:rt,callback:Tt})},checkUrl:function(rt){var Tt=this.getFragment();if(Tt===this.fragment&&this.iframe&&(Tt=this.getHash(this.iframe.contentWindow)),Tt===this.fragment)return!1;this.iframe&&this.navigate(Tt),this.loadUrl()},loadUrl:function(rt){return!!this.matchRoot()&&(rt=this.fragment=this.getFragment(rt),I.some(this.handlers,function(Tt){if(Tt.route.test(rt))return Tt.callback(rt),!0}))},navigate:function(rt,Tt){if(!Ke.started)return!1;Tt&&!0!==Tt||(Tt={trigger:!!Tt}),rt=this.getFragment(rt||"");var At=this.root;""!==rt&&"?"!==rt.charAt(0)||(At=At.slice(0,-1)||"/");var $t=At+rt;rt=rt.replace(Ye,"");var oe=this.decodeFragment(rt);if(this.fragment!==oe){if(this.fragment=oe,this._usePushState)this.history[Tt.replace?"replaceState":"pushState"]({},document.title,$t);else{if(!this._wantsHashChange)return this.location.assign($t);if(this._updateHash(this.location,rt,Tt.replace),this.iframe&&rt!==this.getHash(this.iframe.contentWindow)){var se=this.iframe.contentWindow;Tt.replace||(se.document.open(),se.document.close()),this._updateHash(se.location,rt,Tt.replace)}}return Tt.trigger?this.loadUrl(rt):void 0}},_updateHash:function(rt,Tt,At){if(At){var $t=rt.href.replace(/(javascript:|#).*$/,"");rt.replace($t+"#"+Tt)}else rt.hash="#"+Tt}}),A.history=new Ke,J.extend=K.extend=he.extend=jt.extend=Ke.extend=function(rt,Tt){var At,$t=this;return At=rt&&I.has(rt,"constructor")?rt.constructor:function(){return $t.apply(this,arguments)},I.extend(At,$t,Tt),At.prototype=I.create($t.prototype,rt),At.prototype.constructor=At,At.__super__=$t.prototype,At};var Qt=function(){throw new Error('A "url" property or function must be specified')},ae=function(rt,Tt){var At=Tt.error;Tt.error=function($t){At&&At.call(Tt.context,rt,$t,Tt),rt.trigger("error",rt,$t,Tt)}};return A}(_,C,b,T)}.apply(g,h))||(x.exports=y)},210:(x,g,M)=>{!function(h){h.extendMode("css",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(m,_){return/^[;{}]$/.test(_)}}),h.extendMode("javascript",{commentStart:"/*",commentEnd:"*/",newlineAfterToken:function(m,_,b,T){return this.jsonMode?/^[\[,{]$/.test(_)||/^}/.test(b):(";"!=_||!T.lexical||")"!=T.lexical.type)&&/^[;{}]$/.test(_)&&!/^;/.test(b)}});var y=/^(a|abbr|acronym|area|base|bdo|big|br|button|caption|cite|code|col|colgroup|dd|del|dfn|em|frame|hr|iframe|img|input|ins|kbd|label|legend|link|map|object|optgroup|option|param|q|samp|script|select|small|span|strong|sub|sup|textarea|tt|var)$/;h.extendMode("xml",{commentStart:"\x3c!--",commentEnd:"--\x3e",newlineAfterToken:function(m,_,b,T){var C=!1;return"html"==this.configuration&&(C=!!T.context&&y.test(T.context.tagName)),!C&&("tag"==m&&/>$/.test(_)&&T.context||/^</.test(b))}}),h.defineExtension("commentRange",function(m,_,b){var T=this,C=h.innerMode(T.getMode(),T.getTokenAt(_).state).mode;T.operation(function(){if(m)T.replaceRange(C.commentEnd,b),T.replaceRange(C.commentStart,_),_.line==b.line&&_.ch==b.ch&&T.setCursor(_.line,_.ch+C.commentStart.length);else{var k=T.getRange(_,b),A=k.indexOf(C.commentStart),I=k.lastIndexOf(C.commentEnd);A>-1&&I>-1&&I>A&&(k=k.substr(0,A)+k.substring(A+C.commentStart.length,I)+k.substr(I+C.commentEnd.length)),T.replaceRange(k,_,b)}})}),h.defineExtension("autoIndentRange",function(m,_){var b=this;this.operation(function(){for(var T=m.line;T<=_.line;T++)b.indentLine(T,"smart")})}),h.defineExtension("autoFormatRange",function(m,_){var b=this,T=b.getMode(),C=b.getRange(m,_).split("\n"),k=h.copyState(T,b.getTokenAt(m).state),A=b.getOption("tabSize"),I="",D=0,L=0===m.ch;function U(){I+="\n",L=!0,++D}for(var S=0;S<C.length;++S){for(var G=new h.StringStream(C[S],A);!G.eol();){var Y=h.innerMode(T,k),q=T.token(G,k),tt=G.current();G.start=G.pos,L&&!/\S/.test(tt)||(I+=tt,L=!1),!L&&Y.mode.newlineAfterToken&&Y.mode.newlineAfterToken(q,tt,G.string.slice(G.pos)||C[S+1]||"",Y.state)&&U()}!G.pos&&T.blankLine&&T.blankLine(k),!L&&S<C.length-1&&U()}b.operation(function(){b.replaceRange(I,m,_);for(var ht=m.line+1,ut=m.line+D;ht<=ut;++ht)b.indentLine(ht,"smart");b.setSelection(m,b.getCursor(!1))})})}(M(631))},631:function(x){x.exports=function(){"use strict";var g=navigator.userAgent,M=navigator.platform,h=/gecko\/\d/i.test(g),y=/MSIE \d/.test(g),m=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(g),_=/Edge\/(\d+)/.exec(g),b=y||m||_,T=b&&(y?document.documentMode||6:+(_||m)[1]),C=!_&&/WebKit\//.test(g),k=C&&/Qt\/\d+\.\d+/.test(g),A=!_&&/Chrome\/(\d+)/.exec(g),I=A&&+A[1],D=/Opera\//.test(g),L=/Apple Computer/.test(navigator.vendor),U=/Mac OS X 1\d\D([8-9]|\d\d)\D/.test(g),S=/PhantomJS/.test(g),G=L&&(/Mobile\/\w+/.test(g)||navigator.maxTouchPoints>2),Y=/Android/.test(g),q=G||Y||/webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(g),tt=G||/Mac/.test(M),ht=/\bCrOS\b/.test(g),ut=/win/i.test(M),bt=D&&g.match(/Version\/(\d*\.\d*)/);bt&&(bt=Number(bt[1])),bt&&bt>=15&&(D=!1,C=!0);var F=tt&&(k||D&&(null==bt||bt<12.11)),B=h||b&&T>=9;function X(l){return new RegExp("(^|\\s)"+l+"(?:$|\\s)\\s*")}var J,K=function(l,d){var E=l.className,w=X(d).exec(E);if(w){var O=E.slice(w.index+w[0].length);l.className=E.slice(0,w.index)+(O?w[1]+O:"")}};function at(l){for(var d=l.childNodes.length;d>0;--d)l.removeChild(l.firstChild);return l}function Q(l,d){return at(l).appendChild(d)}function gt(l,d,E,w){var O=document.createElement(l);if(E&&(O.className=E),w&&(O.style.cssText=w),"string"==typeof d)O.appendChild(document.createTextNode(d));else if(d)for(var j=0;j<d.length;++j)O.appendChild(d[j]);return O}function ot(l,d,E,w){var O=gt(l,d,E,w);return O.setAttribute("role","presentation"),O}function Ot(l,d){if(3==d.nodeType&&(d=d.parentNode),l.contains)return l.contains(d);do{if(11==d.nodeType&&(d=d.host),d==l)return!0}while(d=d.parentNode)}function yt(){var l;try{l=document.activeElement}catch{l=document.body||null}for(;l&&l.shadowRoot&&l.shadowRoot.activeElement;)l=l.shadowRoot.activeElement;return l}function Et(l,d){var E=l.className;X(d).test(E)||(l.className+=(E?" ":"")+d)}function Mt(l,d){for(var E=l.split(" "),w=0;w<E.length;w++)E[w]&&!X(E[w]).test(d)&&(d+=" "+E[w]);return d}J=document.createRange?function(l,d,E,w){var O=document.createRange();return O.setEnd(w||l,E),O.setStart(l,d),O}:function(l,d,E){var w=document.body.createTextRange();try{w.moveToElementText(l.parentNode)}catch{return w}return w.collapse(!0),w.moveEnd("character",E),w.moveStart("character",d),w};var jt=function(l){l.select()};function Ut(l){var d=Array.prototype.slice.call(arguments,1);return function(){return l.apply(null,d)}}function le(l,d,E){for(var w in d||(d={}),l)!l.hasOwnProperty(w)||!1===E&&d.hasOwnProperty(w)||(d[w]=l[w]);return d}function Zt(l,d,E,w,O){null==d&&-1==(d=l.search(/[^\s\u00a0]/))&&(d=l.length);for(var j=w||0,Z=O||0;;){var et=l.indexOf("\t",j);if(et<0||et>=d)return Z+(d-j);Z+=et-j,Z+=E-Z%E,j=et+1}}G?jt=function(l){l.selectionStart=0,l.selectionEnd=l.value.length}:b&&(jt=function(l){try{l.select()}catch{}});var ie=function(){this.id=null,this.f=null,this.time=0,this.handler=Ut(this.onTimeout,this)};function Ht(l,d){for(var E=0;E<l.length;++E)if(l[E]==d)return E;return-1}ie.prototype.onTimeout=function(l){l.id=0,l.time<=+new Date?l.f():setTimeout(l.handler,l.time-+new Date)},ie.prototype.set=function(l,d){this.f=d;var E=+new Date+l;(!this.id||E<this.time)&&(clearTimeout(this.id),this.id=setTimeout(this.handler,l),this.time=E)};var _t=50,Xt={toString:function(){return"CodeMirror.Pass"}},Gt={scroll:!1},Pt={origin:"*mouse"},he={origin:"+move"};function fe(l,d,E){for(var w=0,O=0;;){var j=l.indexOf("\t",w);-1==j&&(j=l.length);var Z=j-w;if(j==l.length||O+Z>=d)return w+Math.min(Z,d-O);if(O+=j-w,w=j+1,(O+=E-O%E)>=d)return w}}var Ce=[""];function Ee(l){for(;Ce.length<=l;)Ce.push(Te(Ce)+" ");return Ce[l]}function Te(l){return l[l.length-1]}function Ke(l,d){for(var E=[],w=0;w<l.length;w++)E[w]=d(l[w],w);return E}function We(){}function Ye(l,d){var E;return Object.create?E=Object.create(l):(We.prototype=l,E=new We),d&&le(d,E),E}var Ne=/[\u00df\u0587\u0590-\u05f4\u0600-\u06ff\u3040-\u309f\u30a0-\u30ff\u3400-\u4db5\u4e00-\u9fcc\uac00-\ud7af]/;function Qt(l){return/\w/.test(l)||l>"\x80"&&(l.toUpperCase()!=l.toLowerCase()||Ne.test(l))}function ae(l,d){return d?!!(d.source.indexOf("\\w")>-1&&Qt(l))||d.test(l):Qt(l)}function rt(l){for(var d in l)if(l.hasOwnProperty(d)&&l[d])return!1;return!0}var Tt=/[\u0300-\u036f\u0483-\u0489\u0591-\u05bd\u05bf\u05c1\u05c2\u05c4\u05c5\u05c7\u0610-\u061a\u064b-\u065e\u0670\u06d6-\u06dc\u06de-\u06e4\u06e7\u06e8\u06ea-\u06ed\u0711\u0730-\u074a\u07a6-\u07b0\u07eb-\u07f3\u0816-\u0819\u081b-\u0823\u0825-\u0827\u0829-\u082d\u0900-\u0902\u093c\u0941-\u0948\u094d\u0951-\u0955\u0962\u0963\u0981\u09bc\u09be\u09c1-\u09c4\u09cd\u09d7\u09e2\u09e3\u0a01\u0a02\u0a3c\u0a41\u0a42\u0a47\u0a48\u0a4b-\u0a4d\u0a51\u0a70\u0a71\u0a75\u0a81\u0a82\u0abc\u0ac1-\u0ac5\u0ac7\u0ac8\u0acd\u0ae2\u0ae3\u0b01\u0b3c\u0b3e\u0b3f\u0b41-\u0b44\u0b4d\u0b56\u0b57\u0b62\u0b63\u0b82\u0bbe\u0bc0\u0bcd\u0bd7\u0c3e-\u0c40\u0c46-\u0c48\u0c4a-\u0c4d\u0c55\u0c56\u0c62\u0c63\u0cbc\u0cbf\u0cc2\u0cc6\u0ccc\u0ccd\u0cd5\u0cd6\u0ce2\u0ce3\u0d3e\u0d41-\u0d44\u0d4d\u0d57\u0d62\u0d63\u0dca\u0dcf\u0dd2-\u0dd4\u0dd6\u0ddf\u0e31\u0e34-\u0e3a\u0e47-\u0e4e\u0eb1\u0eb4-\u0eb9\u0ebb\u0ebc\u0ec8-\u0ecd\u0f18\u0f19\u0f35\u0f37\u0f39\u0f71-\u0f7e\u0f80-\u0f84\u0f86\u0f87\u0f90-\u0f97\u0f99-\u0fbc\u0fc6\u102d-\u1030\u1032-\u1037\u1039\u103a\u103d\u103e\u1058\u1059\u105e-\u1060\u1071-\u1074\u1082\u1085\u1086\u108d\u109d\u135f\u1712-\u1714\u1732-\u1734\u1752\u1753\u1772\u1773\u17b7-\u17bd\u17c6\u17c9-\u17d3\u17dd\u180b-\u180d\u18a9\u1920-\u1922\u1927\u1928\u1932\u1939-\u193b\u1a17\u1a18\u1a56\u1a58-\u1a5e\u1a60\u1a62\u1a65-\u1a6c\u1a73-\u1a7c\u1a7f\u1b00-\u1b03\u1b34\u1b36-\u1b3a\u1b3c\u1b42\u1b6b-\u1b73\u1b80\u1b81\u1ba2-\u1ba5\u1ba8\u1ba9\u1c2c-\u1c33\u1c36\u1c37\u1cd0-\u1cd2\u1cd4-\u1ce0\u1ce2-\u1ce8\u1ced\u1dc0-\u1de6\u1dfd-\u1dff\u200c\u200d\u20d0-\u20f0\u2cef-\u2cf1\u2de0-\u2dff\u302a-\u302f\u3099\u309a\ua66f-\ua672\ua67c\ua67d\ua6f0\ua6f1\ua802\ua806\ua80b\ua825\ua826\ua8c4\ua8e0-\ua8f1\ua926-\ua92d\ua947-\ua951\ua980-\ua982\ua9b3\ua9b6-\ua9b9\ua9bc\uaa29-\uaa2e\uaa31\uaa32\uaa35\uaa36\uaa43\uaa4c\uaab0\uaab2-\uaab4\uaab7\uaab8\uaabe\uaabf\uaac1\uabe5\uabe8\uabed\udc00-\udfff\ufb1e\ufe00-\ufe0f\ufe20-\ufe26\uff9e\uff9f]/;function At(l){return l.charCodeAt(0)>=768&&Tt.test(l)}function $t(l,d,E){for(;(E<0?d>0:d<l.length)&&At(l.charAt(d));)d+=E;return d}function oe(l,d,E){for(var w=d>E?-1:1;;){if(d==E)return d;var O=(d+E)/2,j=w<0?Math.ceil(O):Math.floor(O);if(j==d)return l(j)?d:E;l(j)?E=j:d=j+w}}var xe=null;function Ue(l,d,E){var w;xe=null;for(var O=0;O<l.length;++O){var j=l[O];if(j.from<d&&j.to>d)return O;j.to==d&&(j.from!=j.to&&"before"==E?w=O:xe=O),j.from==d&&(j.from!=j.to&&"before"!=E?w=O:xe=O)}return w??xe}var $e=function(){var l="bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN",d="nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111";function E(mt){return mt<=247?l.charAt(mt):1424<=mt&&mt<=1524?"R":1536<=mt&&mt<=1785?d.charAt(mt-1536):1774<=mt&&mt<=2220?"r":8192<=mt&&mt<=8203?"w":8204==mt?"b":"L"}var w=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/,O=/[stwN]/,j=/[LRr]/,Z=/[Lb1n]/,et=/[1n]/;function dt(mt,Dt,Lt){this.level=mt,this.from=Dt,this.to=Lt}return function(mt,Dt){var Lt="ltr"==Dt?"L":"R";if(0==mt.length||"ltr"==Dt&&!w.test(mt))return!1;for(var Jt=mt.length,te=[],ce=0;ce<Jt;++ce)te.push(E(mt.charCodeAt(ce)));for(var be=0,Oe=Lt;be<Jt;++be){var He=te[be];"m"==He?te[be]=Oe:Oe=He}for(var Be=0,Me=Lt;Be<Jt;++Be){var Ge=te[Be];"1"==Ge&&"r"==Me?te[Be]="n":j.test(Ge)&&(Me=Ge,"r"==Ge&&(te[Be]="R"))}for(var qe=1,Ze=te[0];qe<Jt-1;++qe){var Fn=te[qe];"+"==Fn&&"1"==Ze&&"1"==te[qe+1]?te[qe]="1":","!=Fn||Ze!=te[qe+1]||"1"!=Ze&&"n"!=Ze||(te[qe]=Ze),Ze=Fn}for(var Bn=0;Bn<Jt;++Bn){var eo=te[Bn];if(","==eo)te[Bn]="N";else if("%"==eo){var Xn=void 0;for(Xn=Bn+1;Xn<Jt&&"%"==te[Xn];++Xn);for(var To=Bn&&"!"==te[Bn-1]||Xn<Jt&&"1"==te[Xn]?"1":"N",no=Bn;no<Xn;++no)te[no]=To;Bn=Xn-1}}for(var er=0,Yr=Lt;er<Jt;++er){var fr=te[er];"L"==Yr&&"1"==fr?te[er]="L":j.test(fr)&&(Yr=fr)}for(var ur=0;ur<Jt;++ur)if(O.test(te[ur])){var sr=void 0;for(sr=ur+1;sr<Jt&&O.test(te[sr]);++sr);for(var qn="L"==(ur?te[ur-1]:Lt),Xr=qn==("L"==(sr<Jt?te[sr]:Lt))?qn?"L":"R":Lt,bi=ur;bi<sr;++bi)te[bi]=Xr;ur=sr-1}for(var Mo,xr=[],gr=0;gr<Jt;)if(Z.test(te[gr])){var xc=gr;for(++gr;gr<Jt&&Z.test(te[gr]);++gr);xr.push(new dt(0,xc,gr))}else{var ti=gr,Ji=xr.length,Fo="rtl"==Dt?1:0;for(++gr;gr<Jt&&"L"!=te[gr];++gr);for(var Vr=ti;Vr<gr;)if(et.test(te[Vr])){ti<Vr&&(xr.splice(Ji,0,new dt(1,ti,Vr)),Ji+=Fo);var ks=Vr;for(++Vr;Vr<gr&&et.test(te[Vr]);++Vr);xr.splice(Ji,0,new dt(2,ks,Vr)),Ji+=Fo,ti=Vr}else++Vr;ti<gr&&xr.splice(Ji,0,new dt(1,ti,gr))}return"ltr"==Dt&&(1==xr[0].level&&(Mo=mt.match(/^\s+/))&&(xr[0].from=Mo[0].length,xr.unshift(new dt(0,0,Mo[0].length))),1==Te(xr).level&&(Mo=mt.match(/\s+$/))&&(Te(xr).to-=Mo[0].length,xr.push(new dt(0,Jt-Mo[0].length,Jt)))),"rtl"==Dt?xr.reverse():xr}}();function on(l,d){var E=l.order;return null==E&&(E=l.order=$e(l.text,d)),E}var bn=[],Se=function(l,d,E){if(l.addEventListener)l.addEventListener(d,E,!1);else if(l.attachEvent)l.attachEvent("on"+d,E);else{var w=l._handlers||(l._handlers={});w[d]=(w[d]||bn).concat(E)}};function xt(l,d){return l._handlers&&l._handlers[d]||bn}function Bt(l,d,E){if(l.removeEventListener)l.removeEventListener(d,E,!1);else if(l.detachEvent)l.detachEvent("on"+d,E);else{var w=l._handlers,O=w&&w[d];if(O){var j=Ht(O,E);j>-1&&(w[d]=O.slice(0,j).concat(O.slice(j+1)))}}}function Wt(l,d){var E=xt(l,d);if(E.length)for(var w=Array.prototype.slice.call(arguments,2),O=0;O<E.length;++O)E[O].apply(null,w)}function ee(l,d,E){return"string"==typeof d&&(d={type:d,preventDefault:function(){this.defaultPrevented=!0}}),Wt(l,E||d.type,l,d),nr(d)||d.codemirrorIgnore}function Ae(l){var d=l._handlers&&l._handlers.cursorActivity;if(d)for(var E=l.curOp.cursorActivityHandlers||(l.curOp.cursorActivityHandlers=[]),w=0;w<d.length;++w)-1==Ht(E,d[w])&&E.push(d[w])}function Le(l,d){return xt(l,d).length>0}function dn(l){l.prototype.on=function(d,E){Se(this,d,E)},l.prototype.off=function(d,E){Bt(this,d,E)}}function fn(l){l.preventDefault?l.preventDefault():l.returnValue=!1}function Ln(l){l.stopPropagation?l.stopPropagation():l.cancelBubble=!0}function nr(l){return null!=l.defaultPrevented?l.defaultPrevented:0==l.returnValue}function sn(l){fn(l),Ln(l)}function Qe(l){return l.target||l.srcElement}function In(l){var d=l.which;return null==d&&(1&l.button?d=1:2&l.button?d=3:4&l.button&&(d=2)),tt&&l.ctrlKey&&1==d&&(d=3),d}var mr,yn,kn=function(){if(b&&T<9)return!1;var l=gt("div");return"draggable"in l||"dragDrop"in l}();function Pn(l){if(null==mr){var d=gt("span","\u200b");Q(l,gt("span",[d,document.createTextNode("x")])),0!=l.firstChild.offsetHeight&&(mr=d.offsetWidth<=1&&d.offsetHeight>2&&!(b&&T<8))}var E=mr?gt("span","\u200b"):gt("span","\xa0",null,"display: inline-block; width: 1px; margin-right: -1px");return E.setAttribute("cm-text",""),E}function Wn(l){if(null!=yn)return yn;var d=Q(l,document.createTextNode("A\u062eA")),E=J(d,0,1).getBoundingClientRect(),w=J(d,1,2).getBoundingClientRect();return at(l),!(!E||E.left==E.right)&&(yn=w.right-E.right<3)}var $n,Tr=3!="\n\nb".split(/\n/).length?function(l){for(var d=0,E=[],w=l.length;d<=w;){var O=l.indexOf("\n",d);-1==O&&(O=l.length);var j=l.slice(d,"\r"==l.charAt(O-1)?O-1:O),Z=j.indexOf("\r");-1!=Z?(E.push(j.slice(0,Z)),d+=Z+1):(E.push(j),d=O+1)}return E}:function(l){return l.split(/\r\n?|\n/)},rr=window.getSelection?function(l){try{return l.selectionStart!=l.selectionEnd}catch{return!1}}:function(l){var d;try{d=l.ownerDocument.selection.createRange()}catch{}return!(!d||d.parentElement()!=l)&&0!=d.compareEndPoints("StartToEnd",d)},Ar="oncopy"in($n=gt("div"))||($n.setAttribute("oncopy","return;"),"function"==typeof $n.oncopy),dr=null;var Zn={},Sn={};function Rn(l,d){arguments.length>2&&(d.dependencies=Array.prototype.slice.call(arguments,2)),Zn[l]=d}function z(l){if("string"==typeof l&&Sn.hasOwnProperty(l))l=Sn[l];else if(l&&"string"==typeof l.name&&Sn.hasOwnProperty(l.name)){var d=Sn[l.name];"string"==typeof d&&(d={name:d}),(l=Ye(d,l)).name=d.name}else{if("string"==typeof l&&/^[\w\-]+\/[\w\-]+\+xml$/.test(l))return z("application/xml");if("string"==typeof l&&/^[\w\-]+\/[\w\-]+\+json$/.test(l))return z("application/json")}return"string"==typeof l?{name:l}:l||{name:"null"}}function st(l,d){d=z(d);var E=Zn[d.name];if(!E)return st(l,"text/plain");var w=E(l,d);if(nt.hasOwnProperty(d.name)){var O=nt[d.name];for(var j in O)O.hasOwnProperty(j)&&(w.hasOwnProperty(j)&&(w["_"+j]=w[j]),w[j]=O[j])}if(w.name=d.name,d.helperType&&(w.helperType=d.helperType),d.modeProps)for(var Z in d.modeProps)w[Z]=d.modeProps[Z];return w}var nt={};function kt(l,d){le(d,nt.hasOwnProperty(l)?nt[l]:nt[l]={})}function ne(l,d){if(!0===d)return d;if(l.copyState)return l.copyState(d);var E={};for(var w in d){var O=d[w];O instanceof Array&&(O=O.concat([])),E[w]=O}return E}function Xe(l,d){for(var E;l.innerMode&&(E=l.innerMode(d))&&E.mode!=l;)d=E.state,l=E.mode;return E||{mode:l,state:d}}function zn(l,d,E){return!l.startState||l.startState(d,E)}var Ve=function(l,d,E){this.pos=this.start=0,this.string=l,this.tabSize=d||8,this.lastColumnPos=this.lastColumnValue=0,this.lineStart=0,this.lineOracle=E};function ye(l,d){if((d-=l.first)<0||d>=l.size)throw new Error("There is no line "+(d+l.first)+" in the document.");for(var E=l;!E.lines;)for(var w=0;;++w){var O=E.children[w],j=O.chunkSize();if(d<j){E=O;break}d-=j}return E.lines[d]}function ct(l,d,E){var w=[],O=d.line;return l.iter(d.line,E.line+1,function(j){var Z=j.text;O==E.line&&(Z=Z.slice(0,E.ch)),O==d.line&&(Z=Z.slice(d.ch)),w.push(Z),++O}),w}function hn(l,d,E){var w=[];return l.iter(d,E,function(O){w.push(O.text)}),w}function Dn(l,d){var E=d-l.height;if(E)for(var w=l;w;w=w.parent)w.height+=E}function ln(l){if(null==l.parent)return null;for(var d=l.parent,E=Ht(d.lines,l),w=d.parent;w;d=w,w=w.parent)for(var O=0;w.children[O]!=d;++O)E+=w.children[O].chunkSize();return E+d.first}function An(l,d){var E=l.first;t:do{for(var w=0;w<l.children.length;++w){var O=l.children[w],j=O.height;if(d<j){l=O;continue t}d-=j,E+=O.chunkSize()}return E}while(!l.lines);for(var Z=0;Z<l.lines.length;++Z){var et=l.lines[Z].height;if(d<et)break;d-=et}return E+Z}function lr(l,d){return d>=l.first&&d<l.first+l.size}function kr(l,d){return String(l.lineNumberFormatter(d+l.firstLineNumber))}function we(l,d,E){if(void 0===E&&(E=null),!(this instanceof we))return new we(l,d,E);this.line=l,this.ch=d,this.sticky=E}function vt(l,d){return l.line-d.line||l.ch-d.ch}function It(l,d){return l.sticky==d.sticky&&0==vt(l,d)}function ge(l){return we(l.line,l.ch)}function Ie(l,d){return vt(l,d)<0?d:l}function Re(l,d){return vt(l,d)<0?l:d}function Cn(l,d){return Math.max(l.first,Math.min(d,l.first+l.size-1))}function Fe(l,d){if(d.line<l.first)return we(l.first,0);var E=l.first+l.size-1;return d.line>E?we(E,ye(l,E).text.length):function hr(l,d){var E=l.ch;return null==E||E>d?we(l.line,d):E<0?we(l.line,0):l}(d,ye(l,d.line).text.length)}function jr(l,d){for(var E=[],w=0;w<d.length;w++)E[w]=Fe(l,d[w]);return E}Ve.prototype.eol=function(){return this.pos>=this.string.length},Ve.prototype.sol=function(){return this.pos==this.lineStart},Ve.prototype.peek=function(){return this.string.charAt(this.pos)||void 0},Ve.prototype.next=function(){if(this.pos<this.string.length)return this.string.charAt(this.pos++)},Ve.prototype.eat=function(l){var d=this.string.charAt(this.pos);if("string"==typeof l?d==l:d&&(l.test?l.test(d):l(d)))return++this.pos,d},Ve.prototype.eatWhile=function(l){for(var d=this.pos;this.eat(l););return this.pos>d},Ve.prototype.eatSpace=function(){for(var l=this.pos;/[\s\u00a0]/.test(this.string.charAt(this.pos));)++this.pos;return this.pos>l},Ve.prototype.skipToEnd=function(){this.pos=this.string.length},Ve.prototype.skipTo=function(l){var d=this.string.indexOf(l,this.pos);if(d>-1)return this.pos=d,!0},Ve.prototype.backUp=function(l){this.pos-=l},Ve.prototype.column=function(){return this.lastColumnPos<this.start&&(this.lastColumnValue=Zt(this.string,this.start,this.tabSize,this.lastColumnPos,this.lastColumnValue),this.lastColumnPos=this.start),this.lastColumnValue-(this.lineStart?Zt(this.string,this.lineStart,this.tabSize):0)},Ve.prototype.indentation=function(){return Zt(this.string,null,this.tabSize)-(this.lineStart?Zt(this.string,this.lineStart,this.tabSize):0)},Ve.prototype.match=function(l,d,E){if("string"!=typeof l){var w=this.string.slice(this.pos).match(l);return w&&w.index>0?null:(w&&!1!==d&&(this.pos+=w[0].length),w)}var O=function(j){return E?j.toLowerCase():j};if(O(this.string.substr(this.pos,l.length))==O(l))return!1!==d&&(this.pos+=l.length),!0},Ve.prototype.current=function(){return this.string.slice(this.start,this.pos)},Ve.prototype.hideFirstChars=function(l,d){this.lineStart+=l;try{return d()}finally{this.lineStart-=l}},Ve.prototype.lookAhead=function(l){var d=this.lineOracle;return d&&d.lookAhead(l)},Ve.prototype.baseToken=function(){var l=this.lineOracle;return l&&l.baseToken(this.pos)};var _o=function(l,d){this.state=l,this.lookAhead=d},ao=function(l,d,E,w){this.state=d,this.doc=l,this.line=E,this.maxLookAhead=w||0,this.baseTokens=null,this.baseTokenPos=1};function Si(l,d,E,w){var O=[l.state.modeGen],j={};Uo(l,d.text,l.doc.mode,E,function(mt,Dt){return O.push(mt,Dt)},j,w);for(var Z=E.state,et=function(mt){E.baseTokens=O;var Dt=l.state.overlays[mt],Lt=1,Jt=0;E.state=!0,Uo(l,d.text,Dt.mode,E,function(te,ce){for(var be=Lt;Jt<te;){var Oe=O[Lt];Oe>te&&O.splice(Lt,1,te,O[Lt+1],Oe),Lt+=2,Jt=Math.min(te,Oe)}if(ce)if(Dt.opaque)O.splice(be,Lt-be,te,"overlay "+ce),Lt=be+2;else for(;be<Lt;be+=2){var He=O[be+1];O[be+1]=(He?He+" ":"")+"overlay "+ce}},j),E.state=Z,E.baseTokens=null,E.baseTokenPos=1},dt=0;dt<l.state.overlays.length;++dt)et(dt);return{styles:O,classes:j.bgClass||j.textClass?j:null}}function os(l,d,E){if(!d.styles||d.styles[0]!=l.state.modeGen){var w=Bo(l,ln(d)),O=d.text.length>l.options.maxHighlightLength&&ne(l.doc.mode,w.state),j=Si(l,d,w);O&&(w.state=O),d.stateAfter=w.save(!O),d.styles=j.styles,j.classes?d.styleClasses=j.classes:d.styleClasses&&(d.styleClasses=null),E===l.doc.highlightFrontier&&(l.doc.modeFrontier=Math.max(l.doc.modeFrontier,++l.doc.highlightFrontier))}return d.styles}function Bo(l,d,E){var w=l.doc,O=l.display;if(!w.mode.startState)return new ao(w,!0,d);var j=function La(l,d,E){for(var w,O,j=l.doc,Z=E?-1:d-(l.doc.mode.innerMode?1e3:100),et=d;et>Z;--et){if(et<=j.first)return j.first;var dt=ye(j,et-1),mt=dt.stateAfter;if(mt&&(!E||et+(mt instanceof _o?mt.lookAhead:0)<=j.modeFrontier))return et;var Dt=Zt(dt.text,null,l.options.tabSize);(null==O||w>Dt)&&(O=et-1,w=Dt)}return O}(l,d,E),Z=j>w.first&&ye(w,j-1).stateAfter,et=Z?ao.fromSaved(w,Z,j):new ao(w,zn(w.mode),j);return w.iter(j,d,function(dt){Cr(l,dt.text,et);var mt=et.line;dt.stateAfter=mt==d-1||mt%5==0||mt>=O.viewFrom&&mt<O.viewTo?et.save():null,et.nextLine()}),E&&(w.modeFrontier=et.line),et}function Cr(l,d,E,w){var O=l.doc.mode,j=new Ve(d,l.options.tabSize,E);for(j.start=j.pos=w||0,""==d&&Oi(O,E.state);!j.eol();)vr(O,j,E.state),j.start=j.pos}function Oi(l,d){if(l.blankLine)return l.blankLine(d);if(l.innerMode){var E=Xe(l,d);return E.mode.blankLine?E.mode.blankLine(E.state):void 0}}function vr(l,d,E,w){for(var O=0;O<10;O++){w&&(w[0]=Xe(l,E).mode);var j=l.token(d,E);if(d.pos>d.start)return j}throw new Error("Mode "+l.name+" failed to advance stream.")}ao.prototype.lookAhead=function(l){var d=this.doc.getLine(this.line+l);return null!=d&&l>this.maxLookAhead&&(this.maxLookAhead=l),d},ao.prototype.baseToken=function(l){if(!this.baseTokens)return null;for(;this.baseTokens[this.baseTokenPos]<=l;)this.baseTokenPos+=2;var d=this.baseTokens[this.baseTokenPos+1];return{type:d&&d.replace(/( |^)overlay .*/,""),size:this.baseTokens[this.baseTokenPos]-l}},ao.prototype.nextLine=function(){this.line++,this.maxLookAhead>0&&this.maxLookAhead--},ao.fromSaved=function(l,d,E){return d instanceof _o?new ao(l,ne(l.mode,d.state),E,d.lookAhead):new ao(l,ne(l.mode,d),E)},ao.prototype.save=function(l){var d=!1!==l?ne(this.doc.mode,this.state):this.state;return this.maxLookAhead>0?new _o(d,this.maxLookAhead):d};var qr=function(l,d,E){this.start=l.start,this.end=l.pos,this.string=l.current(),this.type=d||null,this.state=E};function is(l,d,E,w){var O,j,Z=l.doc,et=Z.mode,dt=ye(Z,(d=Fe(Z,d)).line),mt=Bo(l,d.line,E),Dt=new Ve(dt.text,l.options.tabSize,mt);for(w&&(j=[]);(w||Dt.pos<d.ch)&&!Dt.eol();)Dt.start=Dt.pos,O=vr(et,Dt,mt.state),w&&j.push(new qr(Dt,O,ne(Z.mode,mt.state)));return w?j:new qr(Dt,O,mt.state)}function Fs(l,d){if(l)for(;;){var E=l.match(/(?:^|\s+)line-(background-)?(\S+)/);if(!E)break;l=l.slice(0,E.index)+l.slice(E.index+E[0].length);var w=E[1]?"bgClass":"textClass";null==d[w]?d[w]=E[2]:new RegExp("(?:^|\\s)"+E[2]+"(?:$|\\s)").test(d[w])||(d[w]+=" "+E[2])}return l}function Uo(l,d,E,w,O,j,Z){var et=E.flattenSpans;null==et&&(et=l.options.flattenSpans);var dt,mt=0,Dt=null,Lt=new Ve(d,l.options.tabSize,w),Jt=l.options.addModeClass&&[null];for(""==d&&Fs(Oi(E,w.state),j);!Lt.eol();){if(Lt.pos>l.options.maxHighlightLength?(et=!1,Z&&Cr(l,d,w,Lt.pos),Lt.pos=d.length,dt=null):dt=Fs(vr(E,Lt,w.state,Jt),j),Jt){var te=Jt[0].name;te&&(dt="m-"+(dt?te+" "+dt:te))}if(!et||Dt!=dt){for(;mt<Lt.start;)O(mt=Math.min(Lt.start,mt+5e3),Dt);Dt=dt}Lt.start=Lt.pos}for(;mt<Lt.pos;){var ce=Math.min(Lt.pos,mt+5e3);O(ce,Dt),mt=ce}}var ki=!1,lo=!1;function ri(l,d,E){this.marker=l,this.from=d,this.to=E}function Lo(l,d){if(l)for(var E=0;E<l.length;++E){var w=l[E];if(w.marker==d)return w}}function So(l,d){for(var E,w=0;w<l.length;++w)l[w]!=d&&(E||(E=[])).push(l[w]);return E}function Mi(l,d){if(d.full)return null;var E=lr(l,d.from.line)&&ye(l,d.from.line).markedSpans,w=lr(l,d.to.line)&&ye(l,d.to.line).markedSpans;if(!E&&!w)return null;var O=d.from.ch,j=d.to.ch,Z=0==vt(d.from,d.to),et=function Pi(l,d,E){var w;if(l)for(var O=0;O<l.length;++O){var j=l[O],Z=j.marker;if(null==j.from||(Z.inclusiveLeft?j.from<=d:j.from<d)||j.from==d&&"bookmark"==Z.type&&(!E||!j.marker.insertLeft)){var et=null==j.to||(Z.inclusiveRight?j.to>=d:j.to>d);(w||(w=[])).push(new ri(Z,j.from,et?null:j.to))}}return w}(E,O,Z),dt=function Vo(l,d,E){var w;if(l)for(var O=0;O<l.length;++O){var j=l[O],Z=j.marker;if(null==j.to||(Z.inclusiveRight?j.to>=d:j.to>d)||j.from==d&&"bookmark"==Z.type&&(!E||j.marker.insertLeft)){var et=null==j.from||(Z.inclusiveLeft?j.from<=d:j.from<d);(w||(w=[])).push(new ri(Z,et?null:j.from-d,null==j.to?null:j.to-d))}}return w}(w,j,Z),mt=1==d.text.length,Dt=Te(d.text).length+(mt?O:0);if(et)for(var Lt=0;Lt<et.length;++Lt){var Jt=et[Lt];if(null==Jt.to){var te=Lo(dt,Jt.marker);te?mt&&(Jt.to=null==te.to?null:te.to+Dt):Jt.to=O}}if(dt)for(var ce=0;ce<dt.length;++ce){var be=dt[ce];null!=be.to&&(be.to+=Dt),null==be.from?Lo(et,be.marker)||(be.from=Dt,mt&&(et||(et=[])).push(be)):(be.from+=Dt,mt&&(et||(et=[])).push(be))}et&&(et=ss(et)),dt&&dt!=et&&(dt=ss(dt));var Oe=[et];if(!mt){var He,Be=d.text.length-2;if(Be>0&&et)for(var Me=0;Me<et.length;++Me)null==et[Me].to&&(He||(He=[])).push(new ri(et[Me].marker,null,null));for(var Ge=0;Ge<Be;++Ge)Oe.push(He);Oe.push(dt)}return Oe}function ss(l){for(var d=0;d<l.length;++d){var E=l[d];null!=E.from&&E.from==E.to&&!1!==E.marker.clearWhenEmpty&&l.splice(d--,1)}return l.length?l:null}function Ni(l){var d=l.markedSpans;if(d){for(var E=0;E<d.length;++E)d[E].marker.detachLine(l);l.markedSpans=null}}function Us(l,d){if(d){for(var E=0;E<d.length;++E)d[E].marker.attachLine(l);l.markedSpans=d}}function vn(l){return l.inclusiveLeft?-1:0}function br(l){return l.inclusiveRight?1:0}function Hr(l,d){var E=l.lines.length-d.lines.length;if(0!=E)return E;var w=l.find(),O=d.find(),j=vt(w.from,O.from)||vn(l)-vn(d);return j?-j:vt(w.to,O.to)||br(l)-br(d)||d.id-l.id}function Fr(l,d){var E,w=lo&&l.markedSpans;if(w)for(var O=void 0,j=0;j<w.length;++j)(O=w[j]).marker.collapsed&&null==(d?O.from:O.to)&&(!E||Hr(E,O.marker)<0)&&(E=O.marker);return E}function Io(l){return Fr(l,!0)}function or(l){return Fr(l,!1)}function Br(l,d){var E,w=lo&&l.markedSpans;if(w)for(var O=0;O<w.length;++O){var j=w[O];j.marker.collapsed&&(null==j.from||j.from<d)&&(null==j.to||j.to>d)&&(!E||Hr(E,j.marker)<0)&&(E=j.marker)}return E}function co(l,d,E,w,O){var j=ye(l,d),Z=lo&&j.markedSpans;if(Z)for(var et=0;et<Z.length;++et){var dt=Z[et];if(dt.marker.collapsed){var mt=dt.marker.find(0),Dt=vt(mt.from,E)||vn(dt.marker)-vn(O),Lt=vt(mt.to,w)||br(dt.marker)-br(O);if(!(Dt>=0&&Lt<=0||Dt<=0&&Lt>=0)&&(Dt<=0&&(dt.marker.inclusiveRight&&O.inclusiveLeft?vt(mt.to,E)>=0:vt(mt.to,E)>0)||Dt>=0&&(dt.marker.inclusiveRight&&O.inclusiveLeft?vt(mt.from,w)<=0:vt(mt.from,w)<0)))return!0}}}function Pr(l){for(var d;d=Io(l);)l=d.find(-1,!0).line;return l}function jn(l,d){var E=ye(l,d),w=Pr(E);return E==w?d:ln(w)}function Vs(l,d){if(d>l.lastLine())return d;var E,w=ye(l,d);if(!uo(l,w))return d;for(;E=or(w);)w=E.find(1,!0).line;return ln(w)+1}function uo(l,d){var E=lo&&d.markedSpans;if(E)for(var w=void 0,O=0;O<E.length;++O)if((w=E[O]).marker.collapsed&&(null==w.from||!w.marker.widgetNode&&0==w.from&&w.marker.inclusiveLeft&&Di(l,d,w)))return!0}function Di(l,d,E){if(null==E.to){var w=E.marker.find(1,!0);return Di(l,w.line,Lo(w.line.markedSpans,E.marker))}if(E.marker.inclusiveRight&&E.to==d.text.length)return!0;for(var O=void 0,j=0;j<d.markedSpans.length;++j)if((O=d.markedSpans[j]).marker.collapsed&&!O.marker.widgetNode&&O.from==E.to&&(null==O.to||O.to!=E.from)&&(O.marker.inclusiveLeft||E.marker.inclusiveRight)&&Di(l,d,O))return!0}function po(l){for(var d=0,E=(l=Pr(l)).parent,w=0;w<E.lines.length;++w){var O=E.lines[w];if(O==l)break;d+=O.height}for(var j=E.parent;j;j=(E=j).parent)for(var Z=0;Z<j.children.length;++Z){var et=j.children[Z];if(et==E)break;d+=et.height}return d}function Gr(l){if(0==l.height)return 0;for(var d,E=l.text.length,w=l;d=Io(w);){var O=d.find(0,!0);w=O.from.line,E+=O.from.ch-O.to.ch}for(w=l;d=or(w);){var j=d.find(0,!0);E-=w.text.length-j.from.ch,E+=(w=j.to.line).text.length-j.to.ch}return E}function zs(l){var d=l.display,E=l.doc;d.maxLine=ye(E,E.first),d.maxLineLength=Gr(d.maxLine),d.maxLineChanged=!0,E.iter(function(w){var O=Gr(w);O>d.maxLineLength&&(d.maxLineLength=O,d.maxLine=w)})}var Kn=function(l,d,E){this.text=l,Us(this,d),this.height=E?E(this):1};function ja(l){l.parent=null,Ni(l)}Kn.prototype.lineNo=function(){return ln(this)},dn(Kn);var Ha={},zo={};function Gs(l,d){if(!l||/^\s*$/.test(l))return null;var E=d.addModeClass?zo:Ha;return E[l]||(E[l]=l.replace(/\S+/g,"cm-$&"))}function Ws(l,d){var E=ot("span",null,null,C?"padding-right: .1px":null),w={pre:ot("pre",[E],"CodeMirror-line"),content:E,col:0,pos:0,cm:l,trailingSpace:!1,splitSpaces:l.getOption("lineWrapping")};d.measure={};for(var O=0;O<=(d.rest?d.rest.length:0);O++){var j=O?d.rest[O-1]:d.line,Z=void 0;w.pos=0,w.addToken=Ba,Wn(l.display.measure)&&(Z=on(j,l.doc.direction))&&(w.addToken=Ua(w.addToken,Z)),w.map=[],Va(j,w,os(l,j,d!=l.display.externalMeasured&&ln(j))),j.styleClasses&&(j.styleClasses.bgClass&&(w.bgClass=Mt(j.styleClasses.bgClass,w.bgClass||"")),j.styleClasses.textClass&&(w.textClass=Mt(j.styleClasses.textClass,w.textClass||""))),0==w.map.length&&w.map.push(0,0,w.content.appendChild(Pn(l.display.measure))),0==O?(d.measure.map=w.map,d.measure.cache={}):((d.measure.maps||(d.measure.maps=[])).push(w.map),(d.measure.caches||(d.measure.caches=[])).push({}))}if(C){var et=w.content.lastChild;(/\bcm-tab\b/.test(et.className)||et.querySelector&&et.querySelector(".cm-tab"))&&(w.content.className="cm-tab-wrap-hack")}return Wt(l,"renderLine",l,d.line,w.pre),w.pre.className&&(w.textClass=Mt(w.pre.className,w.textClass||"")),w}function Fa(l){var d=gt("span","\u2022","cm-invalidchar");return d.title="\\u"+l.charCodeAt(0).toString(16),d.setAttribute("aria-label",d.title),d}function Ba(l,d,E,w,O,j,Z){if(d){var et,dt=l.splitSpaces?function Li(l,d){if(l.length>1&&!/  /.test(l))return l;for(var E=d,w="",O=0;O<l.length;O++){var j=l.charAt(O);" "!=j||!E||O!=l.length-1&&32!=l.charCodeAt(O+1)||(j="\xa0"),w+=j,E=" "==j}return w}(d,l.trailingSpace):d,mt=l.cm.state.specialChars,Dt=!1;if(mt.test(d)){et=document.createDocumentFragment();for(var Lt=0;;){mt.lastIndex=Lt;var Jt=mt.exec(d),te=Jt?Jt.index-Lt:d.length-Lt;if(te){var ce=document.createTextNode(dt.slice(Lt,Lt+te));b&&T<9?et.appendChild(gt("span",[ce])):et.appendChild(ce),l.map.push(l.pos,l.pos+te,ce),l.col+=te,l.pos+=te}if(!Jt)break;Lt+=te+1;var be=void 0;if("\t"==Jt[0]){var Oe=l.cm.options.tabSize,He=Oe-l.col%Oe;(be=et.appendChild(gt("span",Ee(He),"cm-tab"))).setAttribute("role","presentation"),be.setAttribute("cm-text","\t"),l.col+=He}else"\r"==Jt[0]||"\n"==Jt[0]?((be=et.appendChild(gt("span","\r"==Jt[0]?"\u240d":"\u2424","cm-invalidchar"))).setAttribute("cm-text",Jt[0]),l.col+=1):((be=l.cm.options.specialCharPlaceholder(Jt[0])).setAttribute("cm-text",Jt[0]),b&&T<9?et.appendChild(gt("span",[be])):et.appendChild(be),l.col+=1);l.map.push(l.pos,l.pos+1,be),l.pos++}}else l.col+=d.length,et=document.createTextNode(dt),l.map.push(l.pos,l.pos+d.length,et),b&&T<9&&(Dt=!0),l.pos+=d.length;if(l.trailingSpace=32==dt.charCodeAt(d.length-1),E||w||O||Dt||j||Z){var Be=E||"";w&&(Be+=w),O&&(Be+=O);var Me=gt("span",[et],Be,j);if(Z)for(var Ge in Z)Z.hasOwnProperty(Ge)&&"style"!=Ge&&"class"!=Ge&&Me.setAttribute(Ge,Z[Ge]);return l.content.appendChild(Me)}l.content.appendChild(et)}}function Ua(l,d){return function(E,w,O,j,Z,et,dt){O=O?O+" cm-force-border":"cm-force-border";for(var mt=E.pos,Dt=mt+w.length;;){for(var Lt=void 0,Jt=0;Jt<d.length&&!((Lt=d[Jt]).to>mt&&Lt.from<=mt);Jt++);if(Lt.to>=Dt)return l(E,w,O,j,Z,et,dt);l(E,w.slice(0,Lt.to-mt),O,j,null,et,dt),j=null,w=w.slice(Lt.to-mt),mt=Lt.to}}}function ls(l,d,E,w){var O=!w&&E.widgetNode;O&&l.map.push(l.pos,l.pos+d,O),!w&&l.cm.display.input.needsContentAttribute&&(O||(O=l.content.appendChild(document.createElement("span"))),O.setAttribute("cm-marker",E.id)),O&&(l.cm.display.input.setUneditable(O),l.content.appendChild(O)),l.pos+=d,l.trailingSpace=!1}function Va(l,d,E){var w=l.markedSpans,O=l.text,j=0;if(w)for(var Z,et,dt,mt,Dt,Lt,Jt,te=O.length,ce=0,be=1,Oe="",He=0;;){if(He==ce){dt=mt=Dt=et="",Jt=null,Lt=null,He=1/0;for(var Be=[],Me=void 0,Ge=0;Ge<w.length;++Ge){var qe=w[Ge],Ze=qe.marker;if("bookmark"==Ze.type&&qe.from==ce&&Ze.widgetNode)Be.push(Ze);else if(qe.from<=ce&&(null==qe.to||qe.to>ce||Ze.collapsed&&qe.to==ce&&qe.from==ce)){if(null!=qe.to&&qe.to!=ce&&He>qe.to&&(He=qe.to,mt=""),Ze.className&&(dt+=" "+Ze.className),Ze.css&&(et=(et?et+";":"")+Ze.css),Ze.startStyle&&qe.from==ce&&(Dt+=" "+Ze.startStyle),Ze.endStyle&&qe.to==He&&(Me||(Me=[])).push(Ze.endStyle,qe.to),Ze.title&&((Jt||(Jt={})).title=Ze.title),Ze.attributes)for(var Fn in Ze.attributes)(Jt||(Jt={}))[Fn]=Ze.attributes[Fn];Ze.collapsed&&(!Lt||Hr(Lt.marker,Ze)<0)&&(Lt=qe)}else qe.from>ce&&He>qe.from&&(He=qe.from)}if(Me)for(var Bn=0;Bn<Me.length;Bn+=2)Me[Bn+1]==He&&(mt+=" "+Me[Bn]);if(!Lt||Lt.from==ce)for(var eo=0;eo<Be.length;++eo)ls(d,0,Be[eo]);if(Lt&&(Lt.from||0)==ce){if(ls(d,(null==Lt.to?te+1:Lt.to)-ce,Lt.marker,null==Lt.from),null==Lt.to)return;Lt.to==ce&&(Lt=!1)}}if(ce>=te)break;for(var Xn=Math.min(te,He);;){if(Oe){var To=ce+Oe.length;if(!Lt){var no=To>Xn?Oe.slice(0,Xn-ce):Oe;d.addToken(d,no,Z?Z+dt:dt,Dt,ce+no.length==He?mt:"",et,Jt)}if(To>=Xn){Oe=Oe.slice(Xn-ce),ce=Xn;break}ce=To,Dt=""}Oe=O.slice(j,j=E[be++]),Z=Gs(E[be++],d.cm.options)}}else for(var er=1;er<E.length;er+=2)d.addToken(d,O.slice(j,j=E[er]),Gs(E[er+1],d.cm.options))}function cs(l,d,E){this.line=d,this.rest=function as(l){for(var d,E;d=or(l);)l=d.find(1,!0).line,(E||(E=[])).push(l);return E}(d),this.size=this.rest?ln(Te(this.rest))-E+1:1,this.node=this.text=null,this.hidden=uo(l,d)}function Oo(l,d,E){for(var w,O=[],j=d;j<E;j=w){var Z=new cs(l.doc,ye(l.doc,j),j);w=j+Z.size,O.push(Z)}return O}var Mr=null;var qo=null;function Qn(l,d){var E=xt(l,d);if(E.length){var w,O=Array.prototype.slice.call(arguments,2);Mr?w=Mr.delayedCallbacks:qo?w=qo:(w=qo=[],setTimeout(Go,0));for(var j=function(et){w.push(function(){return E[et].apply(null,O)})},Z=0;Z<E.length;++Z)j(Z)}}function Go(){var l=qo;qo=null;for(var d=0;d<l.length;++d)l[d]()}function Ii(l,d,E,w){for(var O=0;O<d.changes.length;O++){var j=d.changes[O];"text"==j?Ga(l,d):"gutter"==j?$s(l,d,E,w):"class"==j?ps(l,d):"widget"==j&&Ks(l,d,w)}d.changes=null}function ii(l){return l.node==l.text&&(l.node=gt("div",null,null,"position: relative"),l.text.parentNode&&l.text.parentNode.replaceChild(l.node,l.text),l.node.appendChild(l.text),b&&T<8&&(l.node.style.zIndex=2)),l.node}function Ri(l,d){var E=l.display.externalMeasured;return E&&E.line==d.line?(l.display.externalMeasured=null,d.measure=E.measure,E.built):Ws(l,d)}function Ga(l,d){var E=d.text.className,w=Ri(l,d);d.text==d.node&&(d.node=w.pre),d.text.parentNode.replaceChild(w.pre,d.text),d.text=w.pre,w.bgClass!=d.bgClass||w.textClass!=d.textClass?(d.bgClass=w.bgClass,d.textClass=w.textClass,ps(l,d)):E&&(d.text.className=E)}function ps(l,d){(function Ro(l,d){var E=d.bgClass?d.bgClass+" "+(d.line.bgClass||""):d.line.bgClass;if(E&&(E+=" CodeMirror-linebackground"),d.background)E?d.background.className=E:(d.background.parentNode.removeChild(d.background),d.background=null);else if(E){var w=ii(d);d.background=w.insertBefore(gt("div",null,E),w.firstChild),l.display.input.setUneditable(d.background)}})(l,d),d.line.wrapClass?ii(d).className=d.line.wrapClass:d.node!=d.text&&(d.node.className="");var E=d.textClass?d.textClass+" "+(d.line.textClass||""):d.line.textClass;d.text.className=E||""}function $s(l,d,E,w){if(d.gutter&&(d.node.removeChild(d.gutter),d.gutter=null),d.gutterBackground&&(d.node.removeChild(d.gutterBackground),d.gutterBackground=null),d.line.gutterClass){var O=ii(d);d.gutterBackground=gt("div",null,"CodeMirror-gutter-background "+d.line.gutterClass,"left: "+(l.options.fixedGutter?w.fixedPos:-w.gutterTotalWidth)+"px; width: "+w.gutterTotalWidth+"px"),l.display.input.setUneditable(d.gutterBackground),O.insertBefore(d.gutterBackground,d.text)}var j=d.line.gutterMarkers;if(l.options.lineNumbers||j){var Z=ii(d),et=d.gutter=gt("div",null,"CodeMirror-gutter-wrapper","left: "+(l.options.fixedGutter?w.fixedPos:-w.gutterTotalWidth)+"px");if(et.setAttribute("aria-hidden","true"),l.display.input.setUneditable(et),Z.insertBefore(et,d.text),d.line.gutterClass&&(et.className+=" "+d.line.gutterClass),!l.options.lineNumbers||j&&j["CodeMirror-linenumbers"]||(d.lineNumber=et.appendChild(gt("div",kr(l.options,E),"CodeMirror-linenumber CodeMirror-gutter-elt","left: "+w.gutterLeft["CodeMirror-linenumbers"]+"px; width: "+l.display.lineNumInnerWidth+"px"))),j)for(var dt=0;dt<l.display.gutterSpecs.length;++dt){var mt=l.display.gutterSpecs[dt].className,Dt=j.hasOwnProperty(mt)&&j[mt];Dt&&et.appendChild(gt("div",[Dt],"CodeMirror-gutter-elt","left: "+w.gutterLeft[mt]+"px; width: "+w.gutterWidth[mt]+"px"))}}}function Ks(l,d,E){d.alignable&&(d.alignable=null);for(var w=X("CodeMirror-linewidget"),O=d.node.firstChild,j=void 0;O;O=j)j=O.nextSibling,w.test(O.className)&&d.node.removeChild(O);Wa(l,d,E)}function Ys(l,d,E,w){var O=Ri(l,d);return d.text=d.node=O.pre,O.bgClass&&(d.bgClass=O.bgClass),O.textClass&&(d.textClass=O.textClass),ps(l,d),$s(l,d,E,w),Wa(l,d,w),d.node}function Wa(l,d,E){if(Wo(l,d.line,d,E,!0),d.rest)for(var w=0;w<d.rest.length;w++)Wo(l,d.rest[w],d,E,!1)}function Wo(l,d,E,w,O){if(d.widgets)for(var j=ii(E),Z=0,et=d.widgets;Z<et.length;++Z){var dt=et[Z],mt=gt("div",[dt.node],"CodeMirror-linewidget"+(dt.className?" "+dt.className:""));dt.handleMouseEvents||mt.setAttribute("cm-ignore-events","true"),Xs(dt,mt,E,w),l.display.input.setUneditable(mt),O&&dt.above?j.insertBefore(mt,E.gutter||E.text):j.appendChild(mt),Qn(dt,"redraw")}}function Xs(l,d,E,w){if(l.noHScroll){(E.alignable||(E.alignable=[])).push(d);var O=w.wrapperWidth;d.style.left=w.fixedPos+"px",l.coverGutter||(O-=w.gutterTotalWidth,d.style.paddingLeft=w.gutterTotalWidth+"px"),d.style.width=O+"px"}l.coverGutter&&(d.style.zIndex=5,d.style.position="relative",l.noHScroll||(d.style.marginLeft=-w.gutterTotalWidth+"px"))}function pt(l){if(null!=l.height)return l.height;var d=l.doc.cm;if(!d)return 0;if(!Ot(document.body,l.node)){var E="position: relative;";l.coverGutter&&(E+="margin-left: -"+d.display.gutters.offsetWidth+"px;"),l.noHScroll&&(E+="width: "+d.display.wrapper.clientWidth+"px;"),Q(d.display.measure,gt("div",[l.node],null,E))}return l.height=l.node.parentNode.offsetHeight}function wt(l,d){for(var E=Qe(d);E!=l.wrapper;E=E.parentNode)if(!E||1==E.nodeType&&"true"==E.getAttribute("cm-ignore-events")||E.parentNode==l.sizer&&E!=l.mover)return!0}function Rt(l){return l.lineSpace.offsetTop}function Vt(l){return l.mover.offsetHeight-l.lineSpace.offsetHeight}function re(l){if(l.cachedPaddingH)return l.cachedPaddingH;var d=Q(l.measure,gt("pre","x","CodeMirror-line-like")),E=window.getComputedStyle?window.getComputedStyle(d):d.currentStyle,w={left:parseInt(E.paddingLeft),right:parseInt(E.paddingRight)};return isNaN(w.left)||isNaN(w.right)||(l.cachedPaddingH=w),w}function Yt(l){return _t-l.display.nativeBarWidth}function me(l){return l.display.scroller.clientWidth-Yt(l)-l.display.barWidth}function Pe(l){return l.display.scroller.clientHeight-Yt(l)-l.display.barHeight}function mn(l,d,E){if(l.line==d)return{map:l.measure.map,cache:l.measure.cache};if(l.rest){for(var w=0;w<l.rest.length;w++)if(l.rest[w]==d)return{map:l.measure.maps[w],cache:l.measure.caches[w]};for(var O=0;O<l.rest.length;O++)if(ln(l.rest[O])>E)return{map:l.measure.maps[O],cache:l.measure.caches[O],before:!0}}}function ho(l,d,E,w){return fo(l,$o(l,d),E,w)}function ds(l,d){if(d>=l.display.viewFrom&&d<l.display.viewTo)return l.display.view[Ui(l,d)];var E=l.display.externalMeasured;return E&&d>=E.lineN&&d<E.lineN+E.size?E:void 0}function $o(l,d){var E=ln(d),w=ds(l,E);w&&!w.text?w=null:w&&w.changes&&(Ii(l,w,E,ai(l)),l.curOp.forceUpdate=!0),w||(w=function Jn(l,d){var E=ln(d=Pr(d)),w=l.display.externalMeasured=new cs(l.doc,d,E);w.lineN=E;var O=w.built=Ws(l,w);return w.text=O.pre,Q(l.display.lineMeasure,O.pre),w}(l,d));var O=mn(w,d,E);return{line:d,view:w,rect:null,map:O.map,cache:O.cache,before:O.before,hasHeights:!1}}function fo(l,d,E,w,O){d.before&&(E=-1);var j,Z=E+(w||"");return d.cache.hasOwnProperty(Z)?j=d.cache[Z]:(d.rect||(d.rect=d.view.text.getBoundingClientRect()),d.hasHeights||(function an(l,d,E){var w=l.options.lineWrapping,O=w&&me(l);if(!d.measure.heights||w&&d.measure.width!=O){var j=d.measure.heights=[];if(w){d.measure.width=O;for(var Z=d.text.firstChild.getClientRects(),et=0;et<Z.length-1;et++){var dt=Z[et],mt=Z[et+1];Math.abs(dt.bottom-mt.bottom)>2&&j.push((dt.bottom+mt.top)/2-E.top)}}j.push(E.bottom-E.top)}}(l,d.view,d.rect),d.hasHeights=!0),(j=function Hl(l,d,E,w){var O,j=Gc(d.map,E,w),Z=j.node,et=j.start,dt=j.end,mt=j.collapse;if(3==Z.nodeType){for(var Dt=0;Dt<4;Dt++){for(;et&&At(d.line.text.charAt(j.coverStart+et));)--et;for(;j.coverStart+dt<j.coverEnd&&At(d.line.text.charAt(j.coverStart+dt));)++dt;if((O=b&&T<9&&0==et&&dt==j.coverEnd-j.coverStart?Z.parentNode.getBoundingClientRect():$a(J(Z,et,dt).getClientRects(),w)).left||O.right||0==et)break;dt=et,et-=1,mt="right"}b&&T<11&&(O=function kp(l,d){if(!window.screen||null==screen.logicalXDPI||screen.logicalXDPI==screen.deviceXDPI||!function _n(l){if(null!=dr)return dr;var d=Q(l,gt("span","x")),E=d.getBoundingClientRect(),w=J(d,0,1).getBoundingClientRect();return dr=Math.abs(E.left-w.left)>1}(l))return d;var E=screen.logicalXDPI/screen.deviceXDPI,w=screen.logicalYDPI/screen.deviceYDPI;return{left:d.left*E,right:d.right*E,top:d.top*w,bottom:d.bottom*w}}(l.display.measure,O))}else{var Lt;et>0&&(mt=w="right"),O=l.options.lineWrapping&&(Lt=Z.getClientRects()).length>1?Lt["right"==w?Lt.length-1:0]:Z.getBoundingClientRect()}if(b&&T<9&&!et&&(!O||!O.left&&!O.right)){var Jt=Z.parentNode.getClientRects()[0];O=Jt?{left:Jt.left,right:Jt.left+si(l.display),top:Jt.top,bottom:Jt.bottom}:qc}for(var te=O.top-d.rect.top,ce=O.bottom-d.rect.top,be=(te+ce)/2,Oe=d.view.measure.heights,He=0;He<Oe.length-1&&!(be<Oe[He]);He++);var Be=He?Oe[He-1]:0,Me=Oe[He],Ge={left:("right"==mt?O.right:O.left)-d.rect.left,right:("left"==mt?O.left:O.right)-d.rect.left,top:Be,bottom:Me};return O.left||O.right||(Ge.bogus=!0),l.options.singleCursorHeightPerLine||(Ge.rtop=te,Ge.rbottom=ce),Ge}(l,d,E,w)).bogus||(d.cache[Z]=j)),{left:j.left,right:j.right,top:O?j.rtop:j.top,bottom:O?j.rbottom:j.bottom}}var ji,qc={left:0,right:0,top:0,bottom:0};function Gc(l,d,E){for(var w,O,j,Z,et,dt,mt=0;mt<l.length;mt+=3)if(et=l[mt],dt=l[mt+1],d<et?(O=0,j=1,Z="left"):d<dt?j=1+(O=d-et):(mt==l.length-3||d==dt&&l[mt+3]>d)&&(O=(j=dt-et)-1,d>=dt&&(Z="right")),null!=O){if(w=l[mt+2],et==dt&&E==(w.insertLeft?"left":"right")&&(Z=E),"left"==E&&0==O)for(;mt&&l[mt-2]==l[mt-3]&&l[mt-1].insertLeft;)w=l[2+(mt-=3)],Z="left";if("right"==E&&O==dt-et)for(;mt<l.length-3&&l[mt+3]==l[mt+4]&&!l[mt+5].insertLeft;)w=l[(mt+=3)+2],Z="right";break}return{node:w,start:O,end:j,collapse:Z,coverStart:et,coverEnd:dt}}function $a(l,d){var E=qc;if("left"==d)for(var w=0;w<l.length&&(E=l[w]).left==E.right;w++);else for(var O=l.length-1;O>=0&&(E=l[O]).left==E.right;O--);return E}function Zs(l){if(l.measure&&(l.measure.cache={},l.measure.heights=null,l.rest))for(var d=0;d<l.rest.length;d++)l.measure.caches[d]={}}function Fl(l){l.display.externalMeasure=null,at(l.display.lineMeasure);for(var d=0;d<l.display.view.length;d++)Zs(l.display.view[d])}function Qs(l){Fl(l),l.display.cachedCharWidth=l.display.cachedTextHeight=l.display.cachedPaddingH=null,l.options.lineWrapping||(l.display.maxLineChanged=!0),l.display.lineNumChars=null}function Wc(){return A&&Y?-(document.body.getBoundingClientRect().left-parseInt(getComputedStyle(document.body).marginLeft)):window.pageXOffset||(document.documentElement||document.body).scrollLeft}function $c(){return A&&Y?-(document.body.getBoundingClientRect().top-parseInt(getComputedStyle(document.body).marginTop)):window.pageYOffset||(document.documentElement||document.body).scrollTop}function Hi(l){var d=Pr(l).widgets,E=0;if(d)for(var w=0;w<d.length;++w)d[w].above&&(E+=pt(d[w]));return E}function Fi(l,d,E,w,O){if(!O){var j=Hi(d);E.top+=j,E.bottom+=j}if("line"==w)return E;w||(w="local");var Z=po(d);if("local"==w?Z+=Rt(l.display):Z-=l.display.viewOffset,"page"==w||"window"==w){var et=l.display.lineSpace.getBoundingClientRect();Z+=et.top+("window"==w?0:$c());var dt=et.left+("window"==w?0:Wc());E.left+=dt,E.right+=dt}return E.top+=Z,E.bottom+=Z,E}function Js(l,d,E){if("div"==E)return d;var w=d.left,O=d.top;if("page"==E)w-=Wc(),O-=$c();else if("local"==E||!E){var j=l.display.sizer.getBoundingClientRect();w+=j.left,O+=j.top}var Z=l.display.lineSpace.getBoundingClientRect();return{left:w-Z.left,top:O-Z.top}}function Ka(l,d,E,w,O){return w||(w=ye(l.doc,d.line)),Fi(l,w,ho(l,w,d.ch,O),E)}function wo(l,d,E,w,O,j){function Z(ce,be){var Oe=fo(l,O,ce,be?"right":"left",j);return be?Oe.left=Oe.right:Oe.right=Oe.left,Fi(l,w,Oe,E)}w=w||ye(l.doc,d.line),O||(O=$o(l,w));var et=on(w,l.doc.direction),dt=d.ch,mt=d.sticky;if(dt>=w.text.length?(dt=w.text.length,mt="before"):dt<=0&&(dt=0,mt="after"),!et)return Z("before"==mt?dt-1:dt,"before"==mt);function Dt(ce,be,Oe){return Z(Oe?ce-1:ce,1==et[be].level!=Oe)}var Lt=Ue(et,dt,mt),Jt=xe,te=Dt(dt,Lt,"before"==mt);return null!=Jt&&(te.other=Dt(dt,Jt,"before"!=mt)),te}function Kc(l,d){var E=0;d=Fe(l.doc,d),l.options.lineWrapping||(E=si(l.display)*d.ch);var w=ye(l.doc,d.line),O=po(w)+Rt(l.display);return{left:E,right:E,top:O,bottom:O+w.height}}function Ya(l,d,E,w,O){var j=we(l,d,E);return j.xRel=O,w&&(j.outside=w),j}function Bl(l,d,E){var w=l.doc;if((E+=l.display.viewOffset)<0)return Ya(w.first,0,null,-1,-1);var O=An(w,E),j=w.first+w.size-1;if(O>j)return Ya(w.first+w.size-1,ye(w,j).text.length,null,1,1);d<0&&(d=0);for(var Z=ye(w,O);;){var et=Pp(l,Z,O,d,E),dt=Br(Z,et.ch+(et.xRel>0||et.outside>0?1:0));if(!dt)return et;var mt=dt.find(1);if(mt.line==O)return mt;Z=ye(w,O=mt.line)}}function ta(l,d,E,w){w-=Hi(d);var O=d.text.length,j=oe(function(Z){return fo(l,E,Z-1).bottom<=w},O,0);return{begin:j,end:O=oe(function(Z){return fo(l,E,Z).top>w},j,O)}}function Xa(l,d,E,w){return E||(E=$o(l,d)),ta(l,d,E,Fi(l,d,fo(l,E,w),"line").top)}function Ul(l,d,E,w){return!(l.bottom<=E)&&(l.top>E||(w?l.left:l.right)>d)}function Pp(l,d,E,w,O){O-=po(d);var j=$o(l,d),Z=Hi(d),et=0,dt=d.text.length,mt=!0,Dt=on(d,l.doc.direction);if(Dt){var Lt=(l.options.lineWrapping?Np:Mp)(l,d,E,j,Dt,w,O);et=(mt=1!=Lt.level)?Lt.from:Lt.to-1,dt=mt?Lt.to:Lt.from-1}var Jt,te,ce=null,be=null,Oe=oe(function(qe){var Ze=fo(l,j,qe);return Ze.top+=Z,Ze.bottom+=Z,!!Ul(Ze,w,O,!1)&&(Ze.top<=O&&Ze.left<=w&&(ce=qe,be=Ze),!0)},et,dt),He=!1;if(be){var Be=w-be.left<be.right-w,Me=Be==mt;Oe=ce+(Me?0:1),te=Me?"after":"before",Jt=Be?be.left:be.right}else{mt||Oe!=dt&&Oe!=et||Oe++,te=0==Oe?"after":Oe==d.text.length?"before":fo(l,j,Oe-(mt?1:0)).bottom+Z<=O==mt?"after":"before";var Ge=wo(l,we(E,Oe,te),"line",d,j);Jt=Ge.left,He=O<Ge.top?-1:O>=Ge.bottom?1:0}return Ya(E,Oe=$t(d.text,Oe,1),te,He,w-Jt)}function Mp(l,d,E,w,O,j,Z){var et=oe(function(Lt){var Jt=O[Lt],te=1!=Jt.level;return Ul(wo(l,we(E,te?Jt.to:Jt.from,te?"before":"after"),"line",d,w),j,Z,!0)},0,O.length-1),dt=O[et];if(et>0){var mt=1!=dt.level,Dt=wo(l,we(E,mt?dt.from:dt.to,mt?"after":"before"),"line",d,w);Ul(Dt,j,Z,!0)&&Dt.top>Z&&(dt=O[et-1])}return dt}function Np(l,d,E,w,O,j,Z){var et=ta(l,d,w,Z),dt=et.begin,mt=et.end;/\s/.test(d.text.charAt(mt-1))&&mt--;for(var Dt=null,Lt=null,Jt=0;Jt<O.length;Jt++){var te=O[Jt];if(!(te.from>=mt||te.to<=dt)){var ce=fo(l,w,1!=te.level?Math.min(mt,te.to)-1:Math.max(dt,te.from)).right,be=ce<j?j-ce+1e9:ce-j;(!Dt||Lt>be)&&(Dt=te,Lt=be)}}return Dt||(Dt=O[O.length-1]),Dt.from<dt&&(Dt={from:dt,to:Dt.to,level:Dt.level}),Dt.to>mt&&(Dt={from:Dt.from,to:mt,level:Dt.level}),Dt}function Ko(l){if(null!=l.cachedTextHeight)return l.cachedTextHeight;if(null==ji){ji=gt("pre",null,"CodeMirror-line-like");for(var d=0;d<49;++d)ji.appendChild(document.createTextNode("x")),ji.appendChild(gt("br"));ji.appendChild(document.createTextNode("x"))}Q(l.measure,ji);var E=ji.offsetHeight/50;return E>3&&(l.cachedTextHeight=E),at(l.measure),E||1}function si(l){if(null!=l.cachedCharWidth)return l.cachedCharWidth;var d=gt("span","xxxxxxxxxx"),E=gt("pre",[d],"CodeMirror-line-like");Q(l.measure,E);var w=d.getBoundingClientRect(),O=(w.right-w.left)/10;return O>2&&(l.cachedCharWidth=O),O||10}function ai(l){for(var d=l.display,E={},w={},O=d.gutters.clientLeft,j=d.gutters.firstChild,Z=0;j;j=j.nextSibling,++Z){var et=l.display.gutterSpecs[Z].className;E[et]=j.offsetLeft+j.clientLeft+O,w[et]=j.clientWidth}return{fixedPos:li(d),gutterTotalWidth:d.gutters.offsetWidth,gutterLeft:E,gutterWidth:w,wrapperWidth:d.wrapper.clientWidth}}function li(l){return l.scroller.getBoundingClientRect().left-l.sizer.getBoundingClientRect().left}function Bi(l){var d=Ko(l.display),E=l.options.lineWrapping,w=E&&Math.max(5,l.display.scroller.clientWidth/si(l.display)-3);return function(O){if(uo(l.doc,O))return 0;var j=0;if(O.widgets)for(var Z=0;Z<O.widgets.length;Z++)O.widgets[Z].height&&(j+=O.widgets[Z].height);return E?j+(Math.ceil(O.text.length/w)||1)*d:j+d}}function Za(l){var d=l.doc,E=Bi(l);d.iter(function(w){var O=E(w);O!=w.height&&Dn(w,O)})}function Yo(l,d,E,w){var O=l.display;if(!E&&"true"==Qe(d).getAttribute("cm-not-content"))return null;var j,Z,et=O.lineSpace.getBoundingClientRect();try{j=d.clientX-et.left,Z=d.clientY-et.top}catch{return null}var dt,mt=Bl(l,j,Z);if(w&&mt.xRel>0&&(dt=ye(l.doc,mt.line).text).length==mt.ch){var Dt=Zt(dt,dt.length,l.options.tabSize)-dt.length;mt=we(mt.line,Math.max(0,Math.round((j-re(l.display).left)/si(l.display))-Dt))}return mt}function Ui(l,d){if(d>=l.display.viewTo||(d-=l.display.viewFrom)<0)return null;for(var E=l.display.view,w=0;w<E.length;w++)if((d-=E[w].size)<0)return w}function Wr(l,d,E,w){null==d&&(d=l.doc.first),null==E&&(E=l.doc.first+l.doc.size),w||(w=0);var O=l.display;if(w&&E<O.viewTo&&(null==O.updateLineNumbers||O.updateLineNumbers>d)&&(O.updateLineNumbers=d),l.curOp.viewChanged=!0,d>=O.viewTo)lo&&jn(l.doc,d)<O.viewTo&&ui(l);else if(E<=O.viewFrom)lo&&Vs(l.doc,E+w)>O.viewFrom?ui(l):(O.viewFrom+=w,O.viewTo+=w);else if(d<=O.viewFrom&&E>=O.viewTo)ui(l);else if(d<=O.viewFrom){var j=Qa(l,E,E+w,1);j?(O.view=O.view.slice(j.index),O.viewFrom=j.lineN,O.viewTo+=w):ui(l)}else if(E>=O.viewTo){var Z=Qa(l,d,d,-1);Z?(O.view=O.view.slice(0,Z.index),O.viewTo=Z.lineN):ui(l)}else{var et=Qa(l,d,d,-1),dt=Qa(l,E,E+w,1);et&&dt?(O.view=O.view.slice(0,et.index).concat(Oo(l,et.lineN,dt.lineN)).concat(O.view.slice(dt.index)),O.viewTo+=w):ui(l)}var mt=O.externalMeasured;mt&&(E<mt.lineN?mt.lineN+=w:d<mt.lineN+mt.size&&(O.externalMeasured=null))}function ci(l,d,E){l.curOp.viewChanged=!0;var w=l.display,O=l.display.externalMeasured;if(O&&d>=O.lineN&&d<O.lineN+O.size&&(w.externalMeasured=null),!(d<w.viewFrom||d>=w.viewTo)){var j=w.view[Ui(l,d)];if(null!=j.node){var Z=j.changes||(j.changes=[]);-1==Ht(Z,E)&&Z.push(E)}}}function ui(l){l.display.viewFrom=l.display.viewTo=l.doc.first,l.display.view=[],l.display.viewOffset=0}function Qa(l,d,E,w){var O,j=Ui(l,d),Z=l.display.view;if(!lo||E==l.doc.first+l.doc.size)return{index:j,lineN:E};for(var et=l.display.viewFrom,dt=0;dt<j;dt++)et+=Z[dt].size;if(et!=d){if(w>0){if(j==Z.length-1)return null;O=et+Z[j].size-d,j++}else O=et-d;d+=O,E+=O}for(;jn(l.doc,E)!=E;){if(j==(w<0?0:Z.length-1))return null;E+=w*Z[j-(w<0?1:0)].size,j+=w}return{index:j,lineN:E}}function ea(l){for(var d=l.display.view,E=0,w=0;w<d.length;w++){var O=d[w];O.hidden||O.node&&!O.changes||++E}return E}function pi(l){l.display.input.showSelection(l.display.input.prepareSelection())}function Yc(l,d){void 0===d&&(d=!0);var E=l.doc,w={},O=w.cursors=document.createDocumentFragment(),j=w.selection=document.createDocumentFragment(),Z=l.options.$customCursor;Z&&(d=!0);for(var et=0;et<E.sel.ranges.length;et++)if(d||et!=E.sel.primIndex){var dt=E.sel.ranges[et];if(!(dt.from().line>=l.display.viewTo||dt.to().line<l.display.viewFrom)){var mt=dt.empty();if(Z){var Dt=Z(l,dt);Dt&&Vl(l,Dt,O)}else(mt||l.options.showCursorWhenSelecting)&&Vl(l,dt.head,O);mt||Lp(l,dt,j)}}return w}function Vl(l,d,E){var w=wo(l,d,"div",null,null,!l.options.singleCursorHeightPerLine),O=E.appendChild(gt("div","\xa0","CodeMirror-cursor"));if(O.style.left=w.left+"px",O.style.top=w.top+"px",O.style.height=Math.max(0,w.bottom-w.top)*l.options.cursorHeight+"px",/\bcm-fat-cursor\b/.test(l.getWrapperElement().className)){var j=Ka(l,d,"div",null,null),Z=j.right-j.left;O.style.width=(Z>0?Z:l.defaultCharWidth())+"px"}if(w.other){var et=E.appendChild(gt("div","\xa0","CodeMirror-cursor CodeMirror-secondarycursor"));et.style.display="",et.style.left=w.other.left+"px",et.style.top=w.other.top+"px",et.style.height=.85*(w.other.bottom-w.other.top)+"px"}}function Ja(l,d){return l.top-d.top||l.left-d.left}function Lp(l,d,E){var w=l.display,O=l.doc,j=document.createDocumentFragment(),Z=re(l.display),et=Z.left,dt=Math.max(w.sizerWidth,me(l)-w.sizer.offsetLeft)-Z.right,mt="ltr"==O.direction;function Dt(Me,Ge,qe,Ze){Ge<0&&(Ge=0),Ge=Math.round(Ge),Ze=Math.round(Ze),j.appendChild(gt("div",null,"CodeMirror-selected","position: absolute; left: "+Me+"px;\n                             top: "+Ge+"px; width: "+(qe??dt-Me)+"px;\n                             height: "+(Ze-Ge)+"px"))}function Lt(Me,Ge,qe){var Ze,Fn,Bn=ye(O,Me),eo=Bn.text.length;function Xn(er,Yr){return Ka(l,we(Me,er),"div",Bn,Yr)}function To(er,Yr,fr){var ur=Xa(l,Bn,null,er),sr="ltr"==Yr==("after"==fr)?"left":"right";return Xn("after"==fr?ur.begin:ur.end-(/\s/.test(Bn.text.charAt(ur.end-1))?2:1),sr)[sr]}var no=on(Bn,O.direction);return function se(l,d,E,w){if(!l)return w(d,E,"ltr",0);for(var O=!1,j=0;j<l.length;++j){var Z=l[j];(Z.from<E&&Z.to>d||d==E&&Z.to==d)&&(w(Math.max(Z.from,d),Math.min(Z.to,E),1==Z.level?"rtl":"ltr",j),O=!0)}O||w(d,E,"ltr")}(no,Ge||0,qe??eo,function(er,Yr,fr,ur){var sr="ltr"==fr,qn=Xn(er,sr?"left":"right"),Xr=Xn(Yr-1,sr?"right":"left"),bi=null==Ge&&0==er,Mo=null==qe&&Yr==eo,xr=0==ur,gr=!no||ur==no.length-1;if(Xr.top-qn.top<=3){var xc=(mt?Mo:bi)&&gr,ti=(mt?bi:Mo)&&xr?et:(sr?qn:Xr).left,Ji=xc?dt:(sr?Xr:qn).right;Dt(ti,qn.top,Ji-ti,qn.bottom)}else{var Fo,Vr,ks,Sc;sr?(Fo=mt&&bi&&xr?et:qn.left,Vr=mt?dt:To(er,fr,"before"),ks=mt?et:To(Yr,fr,"after"),Sc=mt&&Mo&&gr?dt:Xr.right):(Fo=mt?To(er,fr,"before"):et,Vr=!mt&&bi&&xr?dt:qn.right,ks=!mt&&Mo&&gr?et:Xr.left,Sc=mt?To(Yr,fr,"after"):dt),Dt(Fo,qn.top,Vr-Fo,qn.bottom),qn.bottom<Xr.top&&Dt(et,qn.bottom,null,Xr.top),Dt(ks,Xr.top,Sc-ks,Xr.bottom)}(!Ze||Ja(qn,Ze)<0)&&(Ze=qn),Ja(Xr,Ze)<0&&(Ze=Xr),(!Fn||Ja(qn,Fn)<0)&&(Fn=qn),Ja(Xr,Fn)<0&&(Fn=Xr)}),{start:Ze,end:Fn}}var Jt=d.from(),te=d.to();if(Jt.line==te.line)Lt(Jt.line,Jt.ch,te.ch);else{var ce=ye(O,Jt.line),be=ye(O,te.line),Oe=Pr(ce)==Pr(be),He=Lt(Jt.line,Jt.ch,Oe?ce.text.length+1:null).end,Be=Lt(te.line,Oe?0:null,te.ch).start;Oe&&(He.top<Be.top-2?(Dt(He.right,He.top,null,He.bottom),Dt(et,Be.top,Be.left,Be.bottom)):Dt(He.right,He.top,Be.left-He.right,He.bottom)),He.bottom<Be.top&&Dt(et,He.bottom,null,Be.top)}E.appendChild(j)}function zl(l){if(l.state.focused){var d=l.display;clearInterval(d.blinker);var E=!0;d.cursorDiv.style.visibility="",l.options.cursorBlinkRate>0?d.blinker=setInterval(function(){l.hasFocus()||hs(l),d.cursorDiv.style.visibility=(E=!E)?"":"hidden"},l.options.cursorBlinkRate):l.options.cursorBlinkRate<0&&(d.cursorDiv.style.visibility="hidden")}}function na(l){l.hasFocus()||(l.display.input.focus(),l.state.focused||tl(l))}function ra(l){l.state.delayingBlurEvent=!0,setTimeout(function(){l.state.delayingBlurEvent&&(l.state.delayingBlurEvent=!1,l.state.focused&&hs(l))},100)}function tl(l,d){l.state.delayingBlurEvent&&!l.state.draggingText&&(l.state.delayingBlurEvent=!1),"nocursor"!=l.options.readOnly&&(l.state.focused||(Wt(l,"focus",l,d),l.state.focused=!0,Et(l.display.wrapper,"CodeMirror-focused"),l.curOp||l.display.selForContextMenu==l.doc.sel||(l.display.input.reset(),C&&setTimeout(function(){return l.display.input.reset(!0)},20)),l.display.input.receivedFocus()),zl(l))}function hs(l,d){l.state.delayingBlurEvent||(l.state.focused&&(Wt(l,"blur",l,d),l.state.focused=!1,K(l.display.wrapper,"CodeMirror-focused")),clearInterval(l.display.blinker),setTimeout(function(){l.state.focused||(l.display.shift=!1)},150))}function Vi(l){for(var d=l.display,E=d.lineDiv.offsetTop,w=Math.max(0,d.scroller.getBoundingClientRect().top),O=d.lineDiv.getBoundingClientRect().top,j=0,Z=0;Z<d.view.length;Z++){var et=d.view[Z],dt=l.options.lineWrapping,mt=void 0,Dt=0;if(!et.hidden){if(O+=et.line.height,b&&T<8){var Lt=et.node.offsetTop+et.node.offsetHeight;mt=Lt-E,E=Lt}else{var Jt=et.node.getBoundingClientRect();mt=Jt.bottom-Jt.top,!dt&&et.text.firstChild&&(Dt=et.text.firstChild.getBoundingClientRect().right-Jt.left-1)}var te=et.line.height-mt;if((te>.005||te<-.005)&&(O<w&&(j-=te),Dn(et.line,mt),Xc(et.line),et.rest))for(var ce=0;ce<et.rest.length;ce++)Xc(et.rest[ce]);if(Dt>l.display.sizerWidth){var be=Math.ceil(Dt/si(l.display));be>l.display.maxLineLength&&(l.display.maxLineLength=be,l.display.maxLine=et.line,l.display.maxLineChanged=!0)}}}Math.abs(j)>2&&(d.scroller.scrollTop+=j)}function Xc(l){if(l.widgets)for(var d=0;d<l.widgets.length;++d){var E=l.widgets[d],w=E.node.parentNode;w&&(E.height=w.offsetHeight)}}function el(l,d,E){var w=E&&null!=E.top?Math.max(0,E.top):l.scroller.scrollTop;w=Math.floor(w-Rt(l));var O=E&&null!=E.bottom?E.bottom:w+l.wrapper.clientHeight,j=An(d,w),Z=An(d,O);if(E&&E.ensure){var et=E.ensure.from.line,dt=E.ensure.to.line;et<j?(j=et,Z=An(d,po(ye(d,et))+l.wrapper.clientHeight)):Math.min(dt,d.lastLine())>=Z&&(j=An(d,po(ye(d,dt))-l.wrapper.clientHeight),Z=dt)}return{from:j,to:Math.max(Z,j+1)}}function fs(l,d){var E=l.display,w=Ko(l.display);d.top<0&&(d.top=0);var O=l.curOp&&null!=l.curOp.scrollTop?l.curOp.scrollTop:E.scroller.scrollTop,j=Pe(l),Z={};d.bottom-d.top>j&&(d.bottom=d.top+j);var et=l.doc.height+Vt(E),dt=d.top<w,mt=d.bottom>et-w;if(d.top<O)Z.scrollTop=dt?0:d.top;else if(d.bottom>O+j){var Dt=Math.min(d.top,(mt?et:d.bottom)-j);Dt!=O&&(Z.scrollTop=Dt)}var Lt=l.options.fixedGutter?0:E.gutters.offsetWidth,Jt=l.curOp&&null!=l.curOp.scrollLeft?l.curOp.scrollLeft:E.scroller.scrollLeft-Lt,te=me(l)-E.gutters.offsetWidth,ce=d.right-d.left>te;return ce&&(d.right=d.left+te),d.left<10?Z.scrollLeft=0:d.left<Jt?Z.scrollLeft=Math.max(0,d.left+Lt-(ce?0:10)):d.right>te+Jt-3&&(Z.scrollLeft=d.right+(ce?0:10)-te),Z}function nl(l,d){null!=d&&(rl(l),l.curOp.scrollTop=(null==l.curOp.scrollTop?l.doc.scrollTop:l.curOp.scrollTop)+d)}function gs(l){rl(l);var d=l.getCursor();l.curOp.scrollToPos={from:d,to:d,margin:l.options.cursorScrollMargin}}function zi(l,d,E){null==d&&null==E||rl(l),null!=d&&(l.curOp.scrollLeft=d),null!=E&&(l.curOp.scrollTop=E)}function rl(l){var d=l.curOp.scrollToPos;d&&(l.curOp.scrollToPos=null,ql(l,Kc(l,d.from),Kc(l,d.to),d.margin))}function ql(l,d,E,w){var O=fs(l,{left:Math.min(d.left,E.left),top:Math.min(d.top,E.top)-w,right:Math.max(d.right,E.right),bottom:Math.max(d.bottom,E.bottom)+w});zi(l,O.scrollLeft,O.scrollTop)}function oa(l,d){Math.abs(l.doc.scrollTop-d)<2||(h||Zo(l,{top:d}),Qc(l,d,!0),h&&Zo(l),sa(l,100))}function Qc(l,d,E){d=Math.max(0,Math.min(l.display.scroller.scrollHeight-l.display.scroller.clientHeight,d)),(l.display.scroller.scrollTop!=d||E)&&(l.doc.scrollTop=d,l.display.scrollbars.setScrollTop(d),l.display.scroller.scrollTop!=d&&(l.display.scroller.scrollTop=d))}function qi(l,d,E,w){d=Math.max(0,Math.min(d,l.display.scroller.scrollWidth-l.display.scroller.clientWidth)),(E?d==l.doc.scrollLeft:Math.abs(l.doc.scrollLeft-d)<2)&&!w||(l.doc.scrollLeft=d,ou(l),l.display.scroller.scrollLeft!=d&&(l.display.scroller.scrollLeft=d),l.display.scrollbars.setScrollLeft(d))}function di(l){var d=l.display,E=d.gutters.offsetWidth,w=Math.round(l.doc.height+Vt(l.display));return{clientHeight:d.scroller.clientHeight,viewHeight:d.wrapper.clientHeight,scrollWidth:d.scroller.scrollWidth,clientWidth:d.scroller.clientWidth,viewWidth:d.wrapper.clientWidth,barLeft:l.options.fixedGutter?E:0,docHeight:w,scrollHeight:w+Yt(l)+d.barHeight,nativeBarWidth:d.nativeBarWidth,gutterWidth:E}}var Gi=function(l,d,E){this.cm=E;var w=this.vert=gt("div",[gt("div",null,null,"min-width: 1px")],"CodeMirror-vscrollbar"),O=this.horiz=gt("div",[gt("div",null,null,"height: 100%; min-height: 1px")],"CodeMirror-hscrollbar");w.tabIndex=O.tabIndex=-1,l(w),l(O),Se(w,"scroll",function(){w.clientHeight&&d(w.scrollTop,"vertical")}),Se(O,"scroll",function(){O.clientWidth&&d(O.scrollLeft,"horizontal")}),this.checkedZeroWidth=!1,b&&T<8&&(this.horiz.style.minHeight=this.vert.style.minWidth="18px")};Gi.prototype.update=function(l){var d=l.scrollWidth>l.clientWidth+1,E=l.scrollHeight>l.clientHeight+1,w=l.nativeBarWidth;if(E){this.vert.style.display="block",this.vert.style.bottom=d?w+"px":"0";var O=l.viewHeight-(d?w:0);this.vert.firstChild.style.height=Math.max(0,l.scrollHeight-l.clientHeight+O)+"px"}else this.vert.scrollTop=0,this.vert.style.display="",this.vert.firstChild.style.height="0";if(d){this.horiz.style.display="block",this.horiz.style.right=E?w+"px":"0",this.horiz.style.left=l.barLeft+"px";var j=l.viewWidth-l.barLeft-(E?w:0);this.horiz.firstChild.style.width=Math.max(0,l.scrollWidth-l.clientWidth+j)+"px"}else this.horiz.style.display="",this.horiz.firstChild.style.width="0";return!this.checkedZeroWidth&&l.clientHeight>0&&(0==w&&this.zeroWidthHack(),this.checkedZeroWidth=!0),{right:E?w:0,bottom:d?w:0}},Gi.prototype.setScrollLeft=function(l){this.horiz.scrollLeft!=l&&(this.horiz.scrollLeft=l),this.disableHoriz&&this.enableZeroWidthBar(this.horiz,this.disableHoriz,"horiz")},Gi.prototype.setScrollTop=function(l){this.vert.scrollTop!=l&&(this.vert.scrollTop=l),this.disableVert&&this.enableZeroWidthBar(this.vert,this.disableVert,"vert")},Gi.prototype.zeroWidthHack=function(){var l=tt&&!U?"12px":"18px";this.horiz.style.height=this.vert.style.width=l,this.horiz.style.visibility=this.vert.style.visibility="hidden",this.disableHoriz=new ie,this.disableVert=new ie},Gi.prototype.enableZeroWidthBar=function(l,d,E){l.style.visibility="",d.set(1e3,function w(){var O=l.getBoundingClientRect();("vert"==E?document.elementFromPoint(O.right-1,(O.top+O.bottom)/2):document.elementFromPoint((O.right+O.left)/2,O.bottom-1))!=l?l.style.visibility="hidden":d.set(1e3,w)})},Gi.prototype.clear=function(){var l=this.horiz.parentNode;l.removeChild(this.horiz),l.removeChild(this.vert)};var ia=function(){};function Xo(l,d){d||(d=di(l));var E=l.display.barWidth,w=l.display.barHeight;ol(l,d);for(var O=0;O<4&&E!=l.display.barWidth||w!=l.display.barHeight;O++)E!=l.display.barWidth&&l.options.lineWrapping&&Vi(l),ol(l,di(l)),E=l.display.barWidth,w=l.display.barHeight}function ol(l,d){var E=l.display,w=E.scrollbars.update(d);E.sizer.style.paddingRight=(E.barWidth=w.right)+"px",E.sizer.style.paddingBottom=(E.barHeight=w.bottom)+"px",E.heightForcer.style.borderBottom=w.bottom+"px solid transparent",w.right&&w.bottom?(E.scrollbarFiller.style.display="block",E.scrollbarFiller.style.height=w.bottom+"px",E.scrollbarFiller.style.width=w.right+"px"):E.scrollbarFiller.style.display="",w.bottom&&l.options.coverGutterNextToScrollbar&&l.options.fixedGutter?(E.gutterFiller.style.display="block",E.gutterFiller.style.height=w.bottom+"px",E.gutterFiller.style.width=d.gutterWidth+"px"):E.gutterFiller.style.display=""}ia.prototype.update=function(){return{bottom:0,right:0}},ia.prototype.setScrollLeft=function(){},ia.prototype.setScrollTop=function(){},ia.prototype.clear=function(){};var Jc={native:Gi,null:ia};function tu(l){l.display.scrollbars&&(l.display.scrollbars.clear(),l.display.scrollbars.addClass&&K(l.display.wrapper,l.display.scrollbars.addClass)),l.display.scrollbars=new Jc[l.options.scrollbarStyle](function(d){l.display.wrapper.insertBefore(d,l.display.scrollbarFiller),Se(d,"mousedown",function(){l.state.focused&&setTimeout(function(){return l.display.input.focus()},0)}),d.setAttribute("cm-not-content","true")},function(d,E){"horizontal"==E?qi(l,d):oa(l,d)},l),l.display.scrollbars.addClass&&Et(l.display.wrapper,l.display.scrollbars.addClass)}var Hp=0;function Wi(l){l.curOp={cm:l,viewChanged:!1,startHeight:l.doc.height,forceUpdate:!1,updateInput:0,typing:!1,changeObjs:null,cursorActivityHandlers:null,cursorActivityCalled:0,selectionChanged:!1,updateMaxLine:!1,scrollLeft:null,scrollTop:null,scrollToPos:null,focus:!1,id:++Hp,markArrays:null},function us(l){Mr?Mr.ops.push(l):l.ownsGroup=Mr={ops:[l],delayedCallbacks:[]}}(l.curOp)}function Er(l){var d=l.curOp;d&&function qa(l,d){var E=l.ownsGroup;if(E)try{!function za(l){var d=l.delayedCallbacks,E=0;do{for(;E<d.length;E++)d[E].call(null);for(var w=0;w<l.ops.length;w++){var O=l.ops[w];if(O.cursorActivityHandlers)for(;O.cursorActivityCalled<O.cursorActivityHandlers.length;)O.cursorActivityHandlers[O.cursorActivityCalled++].call(null,O.cm)}}while(E<d.length)}(E)}finally{Mr=null,d(E)}}(d,function(E){for(var w=0;w<E.ops.length;w++)E.ops[w].cm.curOp=null;!function Fp(l){for(var d=l.ops,E=0;E<d.length;E++)Bp(d[E]);for(var w=0;w<d.length;w++)Up(d[w]);for(var O=0;O<d.length;O++)Vp(d[O]);for(var j=0;j<d.length;j++)zp(d[j]);for(var Z=0;Z<d.length;Z++)qp(d[Z])}(E)})}function Bp(l){var d=l.cm,E=d.display;(function eu(l){var d=l.display;!d.scrollbarsClipped&&d.scroller.offsetWidth&&(d.nativeBarWidth=d.scroller.offsetWidth-d.scroller.clientWidth,d.heightForcer.style.height=Yt(l)+"px",d.sizer.style.marginBottom=-d.nativeBarWidth+"px",d.sizer.style.borderRightWidth=Yt(l)+"px",d.scrollbarsClipped=!0)})(d),l.updateMaxLine&&zs(d),l.mustUpdate=l.viewChanged||l.forceUpdate||null!=l.scrollTop||l.scrollToPos&&(l.scrollToPos.from.line<E.viewFrom||l.scrollToPos.to.line>=E.viewTo)||E.maxLineChanged&&d.options.lineWrapping,l.update=l.mustUpdate&&new il(d,l.mustUpdate&&{top:l.scrollTop,ensure:l.scrollToPos},l.forceUpdate)}function Up(l){l.updatedDisplay=l.mustUpdate&&Wl(l.cm,l.update)}function Vp(l){var d=l.cm,E=d.display;l.updatedDisplay&&Vi(d),l.barMeasure=di(d),E.maxLineChanged&&!d.options.lineWrapping&&(l.adjustWidthTo=ho(d,E.maxLine,E.maxLine.text.length).left+3,d.display.sizerWidth=l.adjustWidthTo,l.barMeasure.scrollWidth=Math.max(E.scroller.clientWidth,E.sizer.offsetLeft+l.adjustWidthTo+Yt(d)+d.display.barWidth),l.maxScrollLeft=Math.max(0,E.sizer.offsetLeft+l.adjustWidthTo-me(d))),(l.updatedDisplay||l.selectionChanged)&&(l.preparedSelection=E.input.prepareSelection())}function zp(l){var d=l.cm;null!=l.adjustWidthTo&&(d.display.sizer.style.minWidth=l.adjustWidthTo+"px",l.maxScrollLeft<d.doc.scrollLeft&&qi(d,Math.min(d.display.scroller.scrollLeft,l.maxScrollLeft),!0),d.display.maxLineChanged=!1);var E=l.focus&&l.focus==yt();l.preparedSelection&&d.display.input.showSelection(l.preparedSelection,E),(l.updatedDisplay||l.startHeight!=d.doc.height)&&Xo(d,l.barMeasure),l.updatedDisplay&&Kl(d,l.barMeasure),l.selectionChanged&&zl(d),d.state.focused&&l.updateInput&&d.display.input.reset(l.typing),E&&na(l.cm)}function qp(l){var d=l.cm,E=d.display,w=d.doc;l.updatedDisplay&&ru(d,l.update),null==E.wheelStartX||null==l.scrollTop&&null==l.scrollLeft&&!l.scrollToPos||(E.wheelStartX=E.wheelStartY=null),null!=l.scrollTop&&Qc(d,l.scrollTop,l.forceScroll),null!=l.scrollLeft&&qi(d,l.scrollLeft,!0,!0),l.scrollToPos&&function Ip(l,d){if(!ee(l,"scrollCursorIntoView")){var E=l.display,w=E.sizer.getBoundingClientRect(),O=null;if(d.top+w.top<0?O=!0:d.bottom+w.top>(window.innerHeight||document.documentElement.clientHeight)&&(O=!1),null!=O&&!S){var j=gt("div","\u200b",null,"position: absolute;\n                         top: "+(d.top-E.viewOffset-Rt(l.display))+"px;\n                         height: "+(d.bottom-d.top+Yt(l)+E.barHeight)+"px;\n                         left: "+d.left+"px; width: "+Math.max(2,d.right-d.left)+"px;");l.display.lineSpace.appendChild(j),j.scrollIntoView(O),l.display.lineSpace.removeChild(j)}}}(d,function Zc(l,d,E,w){var O;null==w&&(w=0),l.options.lineWrapping||d!=E||(E="before"==d.sticky?we(d.line,d.ch+1,"before"):d,d=d.ch?we(d.line,"before"==d.sticky?d.ch-1:d.ch,"after"):d);for(var j=0;j<5;j++){var Z=!1,et=wo(l,d),dt=E&&E!=d?wo(l,E):et,mt=fs(l,O={left:Math.min(et.left,dt.left),top:Math.min(et.top,dt.top)-w,right:Math.max(et.left,dt.left),bottom:Math.max(et.bottom,dt.bottom)+w}),Dt=l.doc.scrollTop,Lt=l.doc.scrollLeft;if(null!=mt.scrollTop&&(oa(l,mt.scrollTop),Math.abs(l.doc.scrollTop-Dt)>1&&(Z=!0)),null!=mt.scrollLeft&&(qi(l,mt.scrollLeft),Math.abs(l.doc.scrollLeft-Lt)>1&&(Z=!0)),!Z)break}return O}(d,Fe(w,l.scrollToPos.from),Fe(w,l.scrollToPos.to),l.scrollToPos.margin));var O=l.maybeHiddenMarkers,j=l.maybeUnhiddenMarkers;if(O)for(var Z=0;Z<O.length;++Z)O[Z].lines.length||Wt(O[Z],"hide");if(j)for(var et=0;et<j.length;++et)j[et].lines.length&&Wt(j[et],"unhide");E.wrapper.offsetHeight&&(w.scrollTop=d.display.scroller.scrollTop),l.changeObjs&&Wt(d,"changes",d,l.changeObjs),l.update&&l.update.finish()}function to(l,d){if(l.curOp)return d();Wi(l);try{return d()}finally{Er(l)}}function _r(l,d){return function(){if(l.curOp)return d.apply(l,arguments);Wi(l);try{return d.apply(l,arguments)}finally{Er(l)}}}function Ur(l){return function(){if(this.curOp)return l.apply(this,arguments);Wi(this);try{return l.apply(this,arguments)}finally{Er(this)}}}function ir(l){return function(){var d=this.cm;if(!d||d.curOp)return l.apply(this,arguments);Wi(d);try{return l.apply(this,arguments)}finally{Er(d)}}}function sa(l,d){l.doc.highlightFrontier<l.display.viewTo&&l.state.highlight.set(d,Ut(Gl,l))}function Gl(l){var d=l.doc;if(!(d.highlightFrontier>=l.display.viewTo)){var E=+new Date+l.options.workTime,w=Bo(l,d.highlightFrontier),O=[];d.iter(w.line,Math.min(d.first+d.size,l.display.viewTo+500),function(j){if(w.line>=l.display.viewFrom){var Z=j.styles,et=j.text.length>l.options.maxHighlightLength?ne(d.mode,w.state):null,dt=Si(l,j,w,!0);et&&(w.state=et),j.styles=dt.styles;var mt=j.styleClasses,Dt=dt.classes;Dt?j.styleClasses=Dt:mt&&(j.styleClasses=null);for(var Lt=!Z||Z.length!=j.styles.length||mt!=Dt&&(!mt||!Dt||mt.bgClass!=Dt.bgClass||mt.textClass!=Dt.textClass),Jt=0;!Lt&&Jt<Z.length;++Jt)Lt=Z[Jt]!=j.styles[Jt];Lt&&O.push(w.line),j.stateAfter=w.save(),w.nextLine()}else j.text.length<=l.options.maxHighlightLength&&Cr(l,j.text,w),j.stateAfter=w.line%5==0?w.save():null,w.nextLine();if(+new Date>E)return sa(l,l.options.workDelay),!0}),d.highlightFrontier=w.line,d.modeFrontier=Math.max(d.modeFrontier,w.line),O.length&&to(l,function(){for(var j=0;j<O.length;j++)ci(l,O[j],"text")})}}var il=function(l,d,E){var w=l.display;this.viewport=d,this.visible=el(w,l.doc,d),this.editorIsHidden=!w.wrapper.offsetWidth,this.wrapperHeight=w.wrapper.clientHeight,this.wrapperWidth=w.wrapper.clientWidth,this.oldDisplayWidth=me(l),this.force=E,this.dims=ai(l),this.events=[]};function Wl(l,d){var E=l.display,w=l.doc;if(d.editorIsHidden)return ui(l),!1;if(!d.force&&d.visible.from>=E.viewFrom&&d.visible.to<=E.viewTo&&(null==E.updateLineNumbers||E.updateLineNumbers>=E.viewTo)&&E.renderedView==E.view&&0==ea(l))return!1;iu(l)&&(ui(l),d.dims=ai(l));var O=w.first+w.size,j=Math.max(d.visible.from-l.options.viewportMargin,w.first),Z=Math.min(O,d.visible.to+l.options.viewportMargin);E.viewFrom<j&&j-E.viewFrom<20&&(j=Math.max(w.first,E.viewFrom)),E.viewTo>Z&&E.viewTo-Z<20&&(Z=Math.min(O,E.viewTo)),lo&&(j=jn(l.doc,j),Z=Vs(l.doc,Z));var et=j!=E.viewFrom||Z!=E.viewTo||E.lastWrapHeight!=d.wrapperHeight||E.lastWrapWidth!=d.wrapperWidth;(function Dp(l,d,E){var w=l.display;0==w.view.length||d>=w.viewTo||E<=w.viewFrom?(w.view=Oo(l,d,E),w.viewFrom=d):(w.viewFrom>d?w.view=Oo(l,d,w.viewFrom).concat(w.view):w.viewFrom<d&&(w.view=w.view.slice(Ui(l,d))),w.viewFrom=d,w.viewTo<E?w.view=w.view.concat(Oo(l,w.viewTo,E)):w.viewTo>E&&(w.view=w.view.slice(0,Ui(l,E)))),w.viewTo=E})(l,j,Z),E.viewOffset=po(ye(l.doc,E.viewFrom)),l.display.mover.style.top=E.viewOffset+"px";var dt=ea(l);if(!et&&0==dt&&!d.force&&E.renderedView==E.view&&(null==E.updateLineNumbers||E.updateLineNumbers>=E.viewTo))return!1;var mt=function Gp(l){if(l.hasFocus())return null;var d=yt();if(!d||!Ot(l.display.lineDiv,d))return null;var E={activeElt:d};if(window.getSelection){var w=window.getSelection();w.anchorNode&&w.extend&&Ot(l.display.lineDiv,w.anchorNode)&&(E.anchorNode=w.anchorNode,E.anchorOffset=w.anchorOffset,E.focusNode=w.focusNode,E.focusOffset=w.focusOffset)}return E}(l);return dt>4&&(E.lineDiv.style.display="none"),function Wp(l,d,E){var w=l.display,O=l.options.lineNumbers,j=w.lineDiv,Z=j.firstChild;function et(ce){var be=ce.nextSibling;return C&&tt&&l.display.currentWheelTarget==ce?ce.style.display="none":ce.parentNode.removeChild(ce),be}for(var dt=w.view,mt=w.viewFrom,Dt=0;Dt<dt.length;Dt++){var Lt=dt[Dt];if(!Lt.hidden)if(Lt.node&&Lt.node.parentNode==j){for(;Z!=Lt.node;)Z=et(Z);var Jt=O&&null!=d&&d<=mt&&Lt.lineNumber;Lt.changes&&(Ht(Lt.changes,"gutter")>-1&&(Jt=!1),Ii(l,Lt,mt,E)),Jt&&(at(Lt.lineNumber),Lt.lineNumber.appendChild(document.createTextNode(kr(l.options,mt)))),Z=Lt.node.nextSibling}else{var te=Ys(l,Lt,mt,E);j.insertBefore(te,Z)}mt+=Lt.size}for(;Z;)Z=et(Z)}(l,E.updateLineNumbers,d.dims),dt>4&&(E.lineDiv.style.display=""),E.renderedView=E.view,function nu(l){if(l&&l.activeElt&&l.activeElt!=yt()&&(l.activeElt.focus(),!/^(INPUT|TEXTAREA)$/.test(l.activeElt.nodeName)&&l.anchorNode&&Ot(document.body,l.anchorNode)&&Ot(document.body,l.focusNode))){var d=window.getSelection(),E=document.createRange();E.setEnd(l.anchorNode,l.anchorOffset),E.collapse(!1),d.removeAllRanges(),d.addRange(E),d.extend(l.focusNode,l.focusOffset)}}(mt),at(E.cursorDiv),at(E.selectionDiv),E.gutters.style.height=E.sizer.style.minHeight=0,et&&(E.lastWrapHeight=d.wrapperHeight,E.lastWrapWidth=d.wrapperWidth,sa(l,400)),E.updateLineNumbers=null,!0}function ru(l,d){for(var E=d.viewport,w=!0;;w=!1){if(w&&l.options.lineWrapping&&d.oldDisplayWidth!=me(l))w&&(d.visible=el(l.display,l.doc,E));else if(E&&null!=E.top&&(E={top:Math.min(l.doc.height+Vt(l.display)-Pe(l),E.top)}),d.visible=el(l.display,l.doc,E),d.visible.from>=l.display.viewFrom&&d.visible.to<=l.display.viewTo)break;if(!Wl(l,d))break;Vi(l);var O=di(l);pi(l),Xo(l,O),Kl(l,O),d.force=!1}d.signal(l,"update",l),l.display.viewFrom==l.display.reportedViewFrom&&l.display.viewTo==l.display.reportedViewTo||(d.signal(l,"viewportChange",l,l.display.viewFrom,l.display.viewTo),l.display.reportedViewFrom=l.display.viewFrom,l.display.reportedViewTo=l.display.viewTo)}function Zo(l,d){var E=new il(l,d);if(Wl(l,E)){Vi(l),ru(l,E);var w=di(l);pi(l),Xo(l,w),Kl(l,w),E.finish()}}function $l(l){var d=l.gutters.offsetWidth;l.sizer.style.marginLeft=d+"px",Qn(l,"gutterChanged",l)}function Kl(l,d){l.display.sizer.style.minHeight=d.docHeight+"px",l.display.heightForcer.style.top=d.docHeight+"px",l.display.gutters.style.height=d.docHeight+l.display.barHeight+Yt(l)+"px"}function ou(l){var d=l.display,E=d.view;if(d.alignWidgets||d.gutters.firstChild&&l.options.fixedGutter){for(var w=li(d)-d.scroller.scrollLeft+l.doc.scrollLeft,O=d.gutters.offsetWidth,j=w+"px",Z=0;Z<E.length;Z++)if(!E[Z].hidden){l.options.fixedGutter&&(E[Z].gutter&&(E[Z].gutter.style.left=j),E[Z].gutterBackground&&(E[Z].gutterBackground.style.left=j));var et=E[Z].alignable;if(et)for(var dt=0;dt<et.length;dt++)et[dt].style.left=j}l.options.fixedGutter&&(d.gutters.style.left=w+O+"px")}}function iu(l){if(!l.options.lineNumbers)return!1;var d=l.doc,E=kr(l.options,d.first+d.size-1),w=l.display;if(E.length!=w.lineNumChars){var O=w.measure.appendChild(gt("div",[gt("div",E)],"CodeMirror-linenumber CodeMirror-gutter-elt")),j=O.firstChild.offsetWidth,Z=O.offsetWidth-j;return w.lineGutter.style.width="",w.lineNumInnerWidth=Math.max(j,w.lineGutter.offsetWidth-Z)+1,w.lineNumWidth=w.lineNumInnerWidth+Z,w.lineNumChars=w.lineNumInnerWidth?E.length:-1,w.lineGutter.style.width=w.lineNumWidth+"px",$l(l.display),!0}return!1}function sl(l,d){for(var E=[],w=!1,O=0;O<l.length;O++){var j=l[O],Z=null;if("string"!=typeof j&&(Z=j.style,j=j.className),"CodeMirror-linenumbers"==j){if(!d)continue;w=!0}E.push({className:j,style:Z})}return d&&!w&&E.push({className:"CodeMirror-linenumbers",style:null}),E}function su(l){var d=l.gutters,E=l.gutterSpecs;at(d),l.lineGutter=null;for(var w=0;w<E.length;++w){var O=E[w],j=O.className,Z=O.style,et=d.appendChild(gt("div",null,"CodeMirror-gutter "+j));Z&&(et.style.cssText=Z),"CodeMirror-linenumbers"==j&&(l.lineGutter=et,et.style.width=(l.lineNumWidth||1)+"px")}d.style.display=E.length?"":"none",$l(l)}function ms(l){su(l.display),Wr(l),ou(l)}function al(l,d,E,w){var O=this;this.input=E,O.scrollbarFiller=gt("div",null,"CodeMirror-scrollbar-filler"),O.scrollbarFiller.setAttribute("cm-not-content","true"),O.gutterFiller=gt("div",null,"CodeMirror-gutter-filler"),O.gutterFiller.setAttribute("cm-not-content","true"),O.lineDiv=ot("div",null,"CodeMirror-code"),O.selectionDiv=gt("div",null,null,"position: relative; z-index: 1"),O.cursorDiv=gt("div",null,"CodeMirror-cursors"),O.measure=gt("div",null,"CodeMirror-measure"),O.lineMeasure=gt("div",null,"CodeMirror-measure"),O.lineSpace=ot("div",[O.measure,O.lineMeasure,O.selectionDiv,O.cursorDiv,O.lineDiv],null,"position: relative; outline: none");var j=ot("div",[O.lineSpace],"CodeMirror-lines");O.mover=gt("div",[j],null,"position: relative"),O.sizer=gt("div",[O.mover],"CodeMirror-sizer"),O.sizerWidth=null,O.heightForcer=gt("div",null,null,"position: absolute; height: "+_t+"px; width: 1px;"),O.gutters=gt("div",null,"CodeMirror-gutters"),O.lineGutter=null,O.scroller=gt("div",[O.sizer,O.heightForcer,O.gutters],"CodeMirror-scroll"),O.scroller.setAttribute("tabIndex","-1"),O.wrapper=gt("div",[O.scrollbarFiller,O.gutterFiller,O.scroller],"CodeMirror"),O.wrapper.setAttribute("translate","no"),b&&T<8&&(O.gutters.style.zIndex=-1,O.scroller.style.paddingRight=0),C||h&&q||(O.scroller.draggable=!0),l&&(l.appendChild?l.appendChild(O.wrapper):l(O.wrapper)),O.viewFrom=O.viewTo=d.first,O.reportedViewFrom=O.reportedViewTo=d.first,O.view=[],O.renderedView=null,O.externalMeasured=null,O.viewOffset=0,O.lastWrapHeight=O.lastWrapWidth=0,O.updateLineNumbers=null,O.nativeBarWidth=O.barHeight=O.barWidth=0,O.scrollbarsClipped=!1,O.lineNumWidth=O.lineNumInnerWidth=O.lineNumChars=null,O.alignWidgets=!1,O.cachedCharWidth=O.cachedTextHeight=O.cachedPaddingH=null,O.maxLine=null,O.maxLineLength=0,O.maxLineChanged=!1,O.wheelDX=O.wheelDY=O.wheelStartX=O.wheelStartY=null,O.shift=!1,O.selForContextMenu=null,O.activeTouch=null,O.gutterSpecs=sl(w.gutters,w.lineNumbers),su(O),E.init(O)}il.prototype.signal=function(l,d){Le(l,d)&&this.events.push(arguments)},il.prototype.finish=function(){for(var l=0;l<this.events.length;l++)Wt.apply(null,this.events[l])};var ll=0,jo=null;function au(l){var d=l.wheelDeltaX,E=l.wheelDeltaY;return null==d&&l.detail&&l.axis==l.HORIZONTAL_AXIS&&(d=l.detail),null==E&&l.detail&&l.axis==l.VERTICAL_AXIS?E=l.detail:null==E&&(E=l.wheelDelta),{x:d,y:E}}function lu(l){var d=au(l);return d.x*=jo,d.y*=jo,d}function Yl(l,d){A&&I>=102&&(null==l.display.chromeScrollHack?l.display.sizer.style.pointerEvents="none":clearTimeout(l.display.chromeScrollHack),l.display.chromeScrollHack=setTimeout(function(){l.display.chromeScrollHack=null,l.display.sizer.style.pointerEvents=""},100));var E=au(d),w=E.x,O=E.y,j=jo;0===d.deltaMode&&(w=d.deltaX,O=d.deltaY,j=1);var Z=l.display,et=Z.scroller,dt=et.scrollWidth>et.clientWidth,mt=et.scrollHeight>et.clientHeight;if(w&&dt||O&&mt){if(O&&tt&&C)t:for(var Dt=d.target,Lt=Z.view;Dt!=et;Dt=Dt.parentNode)for(var Jt=0;Jt<Lt.length;Jt++)if(Lt[Jt].node==Dt){l.display.currentWheelTarget=Dt;break t}if(w&&!h&&!D&&null!=j)return O&&mt&&oa(l,Math.max(0,et.scrollTop+O*j)),qi(l,Math.max(0,et.scrollLeft+w*j)),(!O||O&&mt)&&fn(d),void(Z.wheelStartX=null);if(O&&null!=j){var te=O*j,ce=l.doc.scrollTop,be=ce+Z.wrapper.clientHeight;te<0?ce=Math.max(0,ce+te-50):be=Math.min(l.doc.height,be+te+50),Zo(l,{top:ce,bottom:be})}ll<20&&0!==d.deltaMode&&(null==Z.wheelStartX?(Z.wheelStartX=et.scrollLeft,Z.wheelStartY=et.scrollTop,Z.wheelDX=w,Z.wheelDY=O,setTimeout(function(){if(null!=Z.wheelStartX){var Oe=et.scrollLeft-Z.wheelStartX,He=et.scrollTop-Z.wheelStartY,Be=He&&Z.wheelDY&&He/Z.wheelDY||Oe&&Z.wheelDX&&Oe/Z.wheelDX;Z.wheelStartX=Z.wheelStartY=null,Be&&(jo=(jo*ll+Be)/(ll+1),++ll)}},200)):(Z.wheelDX+=w,Z.wheelDY+=O))}}b?jo=-.53:h?jo=15:A?jo=-.7:L&&(jo=-.3333333333333333);var go=function(l,d){this.ranges=l,this.primIndex=d};go.prototype.primary=function(){return this.ranges[this.primIndex]},go.prototype.equals=function(l){if(l==this)return!0;if(l.primIndex!=this.primIndex||l.ranges.length!=this.ranges.length)return!1;for(var d=0;d<this.ranges.length;d++){var E=this.ranges[d],w=l.ranges[d];if(!It(E.anchor,w.anchor)||!It(E.head,w.head))return!1}return!0},go.prototype.deepCopy=function(){for(var l=[],d=0;d<this.ranges.length;d++)l[d]=new Mn(ge(this.ranges[d].anchor),ge(this.ranges[d].head));return new go(l,this.primIndex)},go.prototype.somethingSelected=function(){for(var l=0;l<this.ranges.length;l++)if(!this.ranges[l].empty())return!0;return!1},go.prototype.contains=function(l,d){d||(d=l);for(var E=0;E<this.ranges.length;E++){var w=this.ranges[E];if(vt(d,w.from())>=0&&vt(l,w.to())<=0)return E}return-1};var Mn=function(l,d){this.anchor=l,this.head=d};function Ao(l,d,E){var w=l&&l.options.selectionsMayTouch,O=d[E];d.sort(function(Jt,te){return vt(Jt.from(),te.from())}),E=Ht(d,O);for(var j=1;j<d.length;j++){var Z=d[j],et=d[j-1],dt=vt(et.to(),Z.from());if(w&&!Z.empty()?dt>0:dt>=0){var mt=Re(et.from(),Z.from()),Dt=Ie(et.to(),Z.to()),Lt=et.empty()?Z.from()==Z.head:et.from()==et.head;j<=E&&--E,d.splice(--j,2,new Mn(Lt?Dt:mt,Lt?mt:Dt))}}return new go(d,E)}function hi(l,d){return new go([new Mn(l,d||l)],0)}function fi(l){return l.text?we(l.from.line+l.text.length-1,Te(l.text).length+(1==l.text.length?l.from.ch:0)):l.to}function cu(l,d){if(vt(l,d.from)<0)return l;if(vt(l,d.to)<=0)return fi(d);var E=l.line+d.text.length-(d.to.line-d.from.line)-1,w=l.ch;return l.line==d.to.line&&(w+=fi(d).ch-d.to.ch),we(E,w)}function Xl(l,d){for(var E=[],w=0;w<l.sel.ranges.length;w++){var O=l.sel.ranges[w];E.push(new Mn(cu(O.anchor,d),cu(O.head,d)))}return Ao(l.cm,E,l.sel.primIndex)}function Zl(l,d,E){return l.line==d.line?we(E.line,l.ch-d.ch+E.ch):we(E.line+(l.line-d.line),l.ch)}function vs(l){l.doc.mode=st(l.options,l.doc.modeOption),aa(l)}function aa(l){l.doc.iter(function(d){d.stateAfter&&(d.stateAfter=null),d.styles&&(d.styles=null)}),l.doc.modeFrontier=l.doc.highlightFrontier=l.doc.first,sa(l,100),l.state.modeGen++,l.curOp&&Wr(l)}function Ql(l,d){return 0==d.from.ch&&0==d.to.ch&&""==Te(d.text)&&(!l.cm||l.cm.options.wholeLineUpdateBefore)}function Jl(l,d,E,w){function O(Be){return E?E[Be]:null}function j(Be,Me,Ge){(function qs(l,d,E,w){l.text=d,l.stateAfter&&(l.stateAfter=null),l.styles&&(l.styles=null),null!=l.order&&(l.order=null),Ni(l),Us(l,E);var O=w?w(l):1;O!=l.height&&Dn(l,O)})(Be,Me,Ge,w),Qn(Be,"change",Be,d)}function Z(Be,Me){for(var Ge=[],qe=Be;qe<Me;++qe)Ge.push(new Kn(mt[qe],O(qe),w));return Ge}var et=d.from,dt=d.to,mt=d.text,Dt=ye(l,et.line),Lt=ye(l,dt.line),Jt=Te(mt),te=O(mt.length-1),ce=dt.line-et.line;if(d.full)l.insert(0,Z(0,mt.length)),l.remove(mt.length,l.size-mt.length);else if(Ql(l,d)){var be=Z(0,mt.length-1);j(Lt,Lt.text,te),ce&&l.remove(et.line,ce),be.length&&l.insert(et.line,be)}else if(Dt==Lt)if(1==mt.length)j(Dt,Dt.text.slice(0,et.ch)+Jt+Dt.text.slice(dt.ch),te);else{var Oe=Z(1,mt.length-1);Oe.push(new Kn(Jt+Dt.text.slice(dt.ch),te,w)),j(Dt,Dt.text.slice(0,et.ch)+mt[0],O(0)),l.insert(et.line+1,Oe)}else if(1==mt.length)j(Dt,Dt.text.slice(0,et.ch)+mt[0]+Lt.text.slice(dt.ch),O(0)),l.remove(et.line+1,ce);else{j(Dt,Dt.text.slice(0,et.ch)+mt[0],O(0)),j(Lt,Jt+Lt.text.slice(dt.ch),te);var He=Z(1,mt.length-1);ce>1&&l.remove(et.line+1,ce-1),l.insert(et.line+1,He)}Qn(l,"change",l,d)}function $r(l,d,E){!function w(O,j,Z){if(O.linked)for(var et=0;et<O.linked.length;++et){var dt=O.linked[et];if(dt.doc!=j){var mt=Z&&dt.sharedHist;E&&!mt||(d(dt.doc,mt),w(dt.doc,O,mt))}}}(l,null,!0)}function tc(l,d){if(d.cm)throw new Error("This document is already in use.");l.doc=d,d.cm=l,Za(l),vs(l),ys(l),l.options.direction=d.direction,l.options.lineWrapping||zs(l),l.options.mode=d.modeOption,Wr(l)}function ys(l){("rtl"==l.doc.direction?Et:K)(l.display.lineDiv,"CodeMirror-rtl")}function cl(l){this.done=[],this.undone=[],this.undoDepth=l?l.undoDepth:1/0,this.lastModTime=this.lastSelTime=0,this.lastOp=this.lastSelOp=null,this.lastOrigin=this.lastSelOrigin=null,this.generation=this.maxGeneration=l?l.maxGeneration:1}function ul(l,d){var E={from:ge(d.from),to:fi(d),text:ct(l,d.from,d.to)};return du(l,E,d.from.line,d.to.line+1),$r(l,function(w){return du(w,E,d.from.line,d.to.line+1)},!0),E}function uu(l){for(;l.length&&Te(l).ranges;)l.pop()}function pu(l,d,E,w){var O=l.history;O.undone.length=0;var j,Z,et=+new Date;if((O.lastOp==w||O.lastOrigin==d.origin&&d.origin&&("+"==d.origin.charAt(0)&&O.lastModTime>et-(l.cm?l.cm.options.historyEventDelay:500)||"*"==d.origin.charAt(0)))&&(j=function ec(l,d){return d?(uu(l.done),Te(l.done)):l.done.length&&!Te(l.done).ranges?Te(l.done):l.done.length>1&&!l.done[l.done.length-2].ranges?(l.done.pop(),Te(l.done)):void 0}(O,O.lastOp==w)))Z=Te(j.changes),0==vt(d.from,d.to)&&0==vt(d.from,Z.to)?Z.to=fi(d):j.changes.push(ul(l,d));else{var dt=Te(O.done);for(dt&&dt.ranges||pl(l.sel,O.done),j={changes:[ul(l,d)],generation:O.generation},O.done.push(j);O.done.length>O.undoDepth;)O.done.shift(),O.done[0].ranges||O.done.shift()}O.done.push(E),O.generation=++O.maxGeneration,O.lastModTime=O.lastSelTime=et,O.lastOp=O.lastSelOp=w,O.lastOrigin=O.lastSelOrigin=d.origin,Z||Wt(l,"historyAdded")}function Xp(l,d,E,w){var O=l.history,j=w&&w.origin;E==O.lastSelOp||j&&O.lastSelOrigin==j&&(O.lastModTime==O.lastSelTime&&O.lastOrigin==j||function Yp(l,d,E,w){var O=d.charAt(0);return"*"==O||"+"==O&&E.ranges.length==w.ranges.length&&E.somethingSelected()==w.somethingSelected()&&new Date-l.history.lastSelTime<=(l.cm?l.cm.options.historyEventDelay:500)}(l,j,Te(O.done),d))?O.done[O.done.length-1]=d:pl(d,O.done),O.lastSelTime=+new Date,O.lastSelOrigin=j,O.lastSelOp=E,w&&!1!==w.clearRedo&&uu(O.undone)}function pl(l,d){var E=Te(d);E&&E.ranges&&E.equals(l)||d.push(l)}function du(l,d,E,w){var O=d["spans_"+l.id],j=0;l.iter(Math.max(l.first,E),Math.min(l.first+l.size,w),function(Z){Z.markedSpans&&((O||(O=d["spans_"+l.id]={}))[j]=Z.markedSpans),++j})}function hu(l){if(!l)return null;for(var d,E=0;E<l.length;++E)l[E].marker.explicitlyCleared?d||(d=l.slice(0,E)):d&&d.push(l[E]);return d?d.length?d:null:l}function fu(l,d){var E=function nc(l,d){var E=d["spans_"+l.id];if(!E)return null;for(var w=[],O=0;O<d.text.length;++O)w.push(hu(E[O]));return w}(l,d),w=Mi(l,d);if(!E)return w;if(!w)return E;for(var O=0;O<E.length;++O){var j=E[O],Z=w[O];if(j&&Z)t:for(var et=0;et<Z.length;++et){for(var dt=Z[et],mt=0;mt<j.length;++mt)if(j[mt].marker==dt.marker)continue t;j.push(dt)}else Z&&(E[O]=Z)}return E}function bs(l,d,E){for(var w=[],O=0;O<l.length;++O){var j=l[O];if(j.ranges)w.push(E?go.prototype.deepCopy.call(j):j);else{var Z=j.changes,et=[];w.push({changes:et});for(var dt=0;dt<Z.length;++dt){var mt=Z[dt],Dt=void 0;if(et.push({from:mt.from,to:mt.to,text:mt.text}),d)for(var Lt in mt)(Dt=Lt.match(/^spans_(\d+)$/))&&Ht(d,Number(Dt[1]))>-1&&(Te(et)[Lt]=mt[Lt],delete mt[Lt])}}}return w}function dl(l,d,E,w){if(w){var O=l.anchor;if(E){var j=vt(d,O)<0;j!=vt(E,O)<0?(O=d,d=E):j!=vt(d,E)<0&&(d=E)}return new Mn(O,d)}return new Mn(E||d,d)}function hl(l,d,E,w,O){null==O&&(O=l.cm&&(l.cm.display.shift||l.extend)),Nr(l,new go([dl(l.sel.primary(),d,E,O)],0),w)}function gu(l,d,E){for(var w=[],O=l.cm&&(l.cm.display.shift||l.extend),j=0;j<l.sel.ranges.length;j++)w[j]=dl(l.sel.ranges[j],d[j],null,O);Nr(l,Ao(l.cm,w,l.sel.primIndex),E)}function fl(l,d,E,w){var O=l.sel.ranges.slice(0);O[d]=E,Nr(l,Ao(l.cm,O,l.sel.primIndex),w)}function mu(l,d,E,w){Nr(l,hi(d,E),w)}function vu(l,d,E){var w=l.history.done,O=Te(w);O&&O.ranges?(w[w.length-1]=d,ca(l,d,E)):Nr(l,d,E)}function Nr(l,d,E){ca(l,d,E),Xp(l,l.sel,l.cm?l.cm.curOp.id:NaN,E)}function ca(l,d,E){(Le(l,"beforeSelectionChange")||l.cm&&Le(l.cm,"beforeSelectionChange"))&&(d=function la(l,d,E){var w={ranges:d.ranges,update:function(O){this.ranges=[];for(var j=0;j<O.length;j++)this.ranges[j]=new Mn(Fe(l,O[j].anchor),Fe(l,O[j].head))},origin:E&&E.origin};return Wt(l,"beforeSelectionChange",l,w),l.cm&&Wt(l.cm,"beforeSelectionChange",l.cm,w),w.ranges!=d.ranges?Ao(l.cm,w.ranges,w.ranges.length-1):d}(l,d,E));var w=E&&E.bias||(vt(d.primary().head,l.sel.primary().head)<0?-1:1);rc(l,ic(l,d,w,!0)),E&&!1===E.scroll||!l.cm||"nocursor"==l.cm.getOption("readOnly")||gs(l.cm)}function rc(l,d){d.equals(l.sel)||(l.sel=d,l.cm&&(l.cm.curOp.updateInput=1,l.cm.curOp.selectionChanged=!0,Ae(l.cm)),Qn(l,"cursorActivity",l))}function oc(l){rc(l,ic(l,l.sel,null,!1))}function ic(l,d,E,w){for(var O,j=0;j<d.ranges.length;j++){var Z=d.ranges[j],et=d.ranges.length==l.sel.ranges.length&&l.sel.ranges[j],dt=gl(l,Z.anchor,et&&et.anchor,E,w),mt=Z.head==Z.anchor?dt:gl(l,Z.head,et&&et.head,E,w);(O||dt!=Z.anchor||mt!=Z.head)&&(O||(O=d.ranges.slice(0,j)),O[j]=new Mn(dt,mt))}return O?Ao(l.cm,O,d.primIndex):d}function $i(l,d,E,w,O){var j=ye(l,d.line);if(j.markedSpans)for(var Z=0;Z<j.markedSpans.length;++Z){var et=j.markedSpans[Z],dt=et.marker,mt="selectLeft"in dt?!dt.selectLeft:dt.inclusiveLeft,Dt="selectRight"in dt?!dt.selectRight:dt.inclusiveRight;if((null==et.from||(mt?et.from<=d.ch:et.from<d.ch))&&(null==et.to||(Dt?et.to>=d.ch:et.to>d.ch))){if(O&&(Wt(dt,"beforeCursorEnter"),dt.explicitlyCleared)){if(j.markedSpans){--Z;continue}break}if(!dt.atomic)continue;if(E){var Lt=dt.find(w<0?1:-1),Jt=void 0;if((w<0?Dt:mt)&&(Lt=_s(l,Lt,-w,Lt&&Lt.line==d.line?j:null)),Lt&&Lt.line==d.line&&(Jt=vt(Lt,E))&&(w<0?Jt<0:Jt>0))return $i(l,Lt,d,w,O)}var te=dt.find(w<0?-1:1);return(w<0?mt:Dt)&&(te=_s(l,te,w,te.line==d.line?j:null)),te?$i(l,te,d,w,O):null}}return d}function gl(l,d,E,w,O){var j=w||1;return $i(l,d,E,j,O)||!O&&$i(l,d,E,j,!0)||$i(l,d,E,-j,O)||!O&&$i(l,d,E,-j,!0)||(l.cantEdit=!0,we(l.first,0))}function _s(l,d,E,w){return E<0&&0==d.ch?d.line>l.first?Fe(l,we(d.line-1)):null:E>0&&d.ch==(w||ye(l,d.line)).text.length?d.line<l.first+l.size-1?we(d.line+1,0):null:new we(d.line,d.ch+E)}function ml(l){l.setSelection(we(l.firstLine(),0),we(l.lastLine()),Gt)}function sc(l,d,E){var w={canceled:!1,from:d.from,to:d.to,text:d.text,origin:d.origin,cancel:function(){return w.canceled=!0}};return E&&(w.update=function(O,j,Z,et){O&&(w.from=Fe(l,O)),j&&(w.to=Fe(l,j)),Z&&(w.text=Z),void 0!==et&&(w.origin=et)}),Wt(l,"beforeChange",l,w),l.cm&&Wt(l.cm,"beforeChange",l.cm,w),w.canceled?(l.cm&&(l.cm.curOp.updateInput=2),null):{from:w.from,to:w.to,text:w.text,origin:w.origin}}function Ki(l,d,E){if(l.cm){if(!l.cm.curOp)return _r(l.cm,Ki)(l,d,E);if(l.cm.state.suppressEdits)return}if(!(Le(l,"beforeChange")||l.cm&&Le(l.cm,"beforeChange"))||(d=sc(l,d,!0))){var w=ki&&!E&&function Ra(l,d,E){var w=null;if(l.iter(d.line,E.line+1,function(te){if(te.markedSpans)for(var ce=0;ce<te.markedSpans.length;++ce){var be=te.markedSpans[ce].marker;!be.readOnly||w&&-1!=Ht(w,be)||(w||(w=[])).push(be)}}),!w)return null;for(var O=[{from:d,to:E}],j=0;j<w.length;++j)for(var Z=w[j],et=Z.find(0),dt=0;dt<O.length;++dt){var mt=O[dt];if(!(vt(mt.to,et.from)<0||vt(mt.from,et.to)>0)){var Dt=[dt,1],Lt=vt(mt.from,et.from),Jt=vt(mt.to,et.to);(Lt<0||!Z.inclusiveLeft&&!Lt)&&Dt.push({from:mt.from,to:et.from}),(Jt>0||!Z.inclusiveRight&&!Jt)&&Dt.push({from:et.to,to:mt.to}),O.splice.apply(O,Dt),dt+=Dt.length-3}}return O}(l,d.from,d.to);if(w)for(var O=w.length-1;O>=0;--O)ac(l,{from:w[O].from,to:w[O].to,text:O?[""]:d.text,origin:d.origin});else ac(l,d)}}function ac(l,d){if(1!=d.text.length||""!=d.text[0]||0!=vt(d.from,d.to)){var E=Xl(l,d);pu(l,d,E,l.cm?l.cm.curOp.id:NaN),ua(l,d,E,Mi(l,d));var w=[];$r(l,function(O,j){j||-1!=Ht(w,O.history)||(wu(O.history,d),w.push(O.history)),ua(O,d,null,Mi(O,d))})}}function gi(l,d,E){var w=l.cm&&l.cm.state.suppressEdits;if(!w||E){for(var O,j=l.history,Z=l.sel,et="undo"==d?j.done:j.undone,dt="undo"==d?j.undone:j.done,mt=0;mt<et.length&&(O=et[mt],E?!O.ranges||O.equals(l.sel):O.ranges);mt++);if(mt!=et.length){for(j.lastOrigin=j.lastSelOrigin=null;;){if(!(O=et.pop()).ranges){if(w)return void et.push(O);break}if(pl(O,dt),E&&!O.equals(l.sel))return void Nr(l,O,{clearRedo:!1});Z=O}var Dt=[];pl(Z,dt),dt.push({changes:Dt,generation:j.generation}),j.generation=O.generation||++j.maxGeneration;for(var Lt=Le(l,"beforeChange")||l.cm&&Le(l.cm,"beforeChange"),Jt=function(be){var Oe=O.changes[be];if(Oe.origin=d,Lt&&!sc(l,Oe,!1))return et.length=0,{};Dt.push(ul(l,Oe));var He=be?Xl(l,Oe):Te(et);ua(l,Oe,He,fu(l,Oe)),!be&&l.cm&&l.cm.scrollIntoView({from:Oe.from,to:fi(Oe)});var Be=[];$r(l,function(Me,Ge){Ge||-1!=Ht(Be,Me.history)||(wu(Me.history,Oe),Be.push(Me.history)),ua(Me,Oe,null,fu(Me,Oe))})},te=O.changes.length-1;te>=0;--te){var ce=Jt(te);if(ce)return ce.v}}}}function yu(l,d){if(0!=d&&(l.first+=d,l.sel=new go(Ke(l.sel.ranges,function(O){return new Mn(we(O.anchor.line+d,O.anchor.ch),we(O.head.line+d,O.head.ch))}),l.sel.primIndex),l.cm)){Wr(l.cm,l.first,l.first-d,d);for(var E=l.cm.display,w=E.viewFrom;w<E.viewTo;w++)ci(l.cm,w,"gutter")}}function ua(l,d,E,w){if(l.cm&&!l.cm.curOp)return _r(l.cm,ua)(l,d,E,w);if(d.to.line<l.first)yu(l,d.text.length-1-(d.to.line-d.from.line));else if(!(d.from.line>l.lastLine())){if(d.from.line<l.first){var O=d.text.length-1-(l.first-d.from.line);yu(l,O),d={from:we(l.first,0),to:we(d.to.line+O,d.to.ch),text:[Te(d.text)],origin:d.origin}}var j=l.lastLine();d.to.line>j&&(d={from:d.from,to:we(j,ye(l,j).text.length),text:[d.text[0]],origin:d.origin}),d.removed=ct(l,d.from,d.to),E||(E=Xl(l,d)),l.cm?function bu(l,d,E){var w=l.doc,O=l.display,j=d.from,Z=d.to,et=!1,dt=j.line;l.options.lineWrapping||(dt=ln(Pr(ye(w,j.line))),w.iter(dt,Z.line+1,function(te){if(te==O.maxLine)return et=!0,!0})),w.sel.contains(d.from,d.to)>-1&&Ae(l),Jl(w,d,E,Bi(l)),l.options.lineWrapping||(w.iter(dt,j.line+d.text.length,function(te){var ce=Gr(te);ce>O.maxLineLength&&(O.maxLine=te,O.maxLineLength=ce,O.maxLineChanged=!0,et=!1)}),et&&(l.curOp.updateMaxLine=!0)),function Ai(l,d){if(l.modeFrontier=Math.min(l.modeFrontier,d),!(l.highlightFrontier<d-10)){for(var E=l.first,w=d-1;w>E;w--){var O=ye(l,w).stateAfter;if(O&&(!(O instanceof _o)||w+O.lookAhead<d)){E=w+1;break}}l.highlightFrontier=Math.min(l.highlightFrontier,E)}}(w,j.line),sa(l,400);var mt=d.text.length-(Z.line-j.line)-1;d.full?Wr(l):j.line!=Z.line||1!=d.text.length||Ql(l.doc,d)?Wr(l,j.line,Z.line+1,mt):ci(l,j.line,"text");var Dt=Le(l,"changes"),Lt=Le(l,"change");if(Lt||Dt){var Jt={from:j,to:Z,text:d.text,removed:d.removed,origin:d.origin};Lt&&Qn(l,"change",l,Jt),Dt&&(l.curOp.changeObjs||(l.curOp.changeObjs=[])).push(Jt)}l.display.selForContextMenu=null}(l.cm,d,w):Jl(l,d,w),ca(l,E,Gt),l.cantEdit&&gl(l,we(l.firstLine(),0))&&(l.cantEdit=!1)}}function ws(l,d,E,w,O){var j;w||(w=E),vt(w,E)<0&&(E=(j=[w,E])[0],w=j[1]),"string"==typeof d&&(d=l.splitLines(d)),Ki(l,{from:E,to:w,text:d,origin:O})}function _u(l,d,E,w){E<l.line?l.line+=w:d<l.line&&(l.line=d,l.ch=0)}function lc(l,d,E,w){for(var O=0;O<l.length;++O){var j=l[O],Z=!0;if(j.ranges){j.copied||((j=l[O]=j.deepCopy()).copied=!0);for(var et=0;et<j.ranges.length;et++)_u(j.ranges[et].anchor,d,E,w),_u(j.ranges[et].head,d,E,w)}else{for(var dt=0;dt<j.changes.length;++dt){var mt=j.changes[dt];if(E<mt.from.line)mt.from=we(mt.from.line+w,mt.from.ch),mt.to=we(mt.to.line+w,mt.to.ch);else if(d<=mt.to.line){Z=!1;break}}Z||(l.splice(0,O+1),O=0)}}}function wu(l,d){var E=d.from.line,w=d.to.line,O=d.text.length-(w-E)-1;lc(l.done,E,w,O),lc(l.undone,E,w,O)}function pa(l,d,E,w){var O=d,j=d;return"number"==typeof d?j=ye(l,Cn(l,d)):O=ln(d),null==O?null:(w(j,O)&&l.cm&&ci(l.cm,O,E),j)}function da(l){this.lines=l,this.parent=null;for(var d=0,E=0;E<l.length;++E)l[E].parent=this,d+=l[E].height;this.height=d}function ha(l){this.children=l;for(var d=0,E=0,w=0;w<l.length;++w){var O=l[w];d+=O.chunkSize(),E+=O.height,O.parent=this}this.size=d,this.height=E,this.parent=null}Mn.prototype.from=function(){return Re(this.anchor,this.head)},Mn.prototype.to=function(){return Ie(this.anchor,this.head)},Mn.prototype.empty=function(){return this.head.line==this.anchor.line&&this.head.ch==this.anchor.ch},da.prototype={chunkSize:function(){return this.lines.length},removeInner:function(l,d){for(var E=l,w=l+d;E<w;++E){var O=this.lines[E];this.height-=O.height,ja(O),Qn(O,"delete")}this.lines.splice(l,d)},collapse:function(l){l.push.apply(l,this.lines)},insertInner:function(l,d,E){this.height+=E,this.lines=this.lines.slice(0,l).concat(d).concat(this.lines.slice(l));for(var w=0;w<d.length;++w)d[w].parent=this},iterN:function(l,d,E){for(var w=l+d;l<w;++l)if(E(this.lines[l]))return!0}},ha.prototype={chunkSize:function(){return this.size},removeInner:function(l,d){this.size-=d;for(var E=0;E<this.children.length;++E){var w=this.children[E],O=w.chunkSize();if(l<O){var j=Math.min(d,O-l),Z=w.height;if(w.removeInner(l,j),this.height-=Z-w.height,O==j&&(this.children.splice(E--,1),w.parent=null),0==(d-=j))break;l=0}else l-=O}if(this.size-d<25&&(this.children.length>1||!(this.children[0]instanceof da))){var et=[];this.collapse(et),this.children=[new da(et)],this.children[0].parent=this}},collapse:function(l){for(var d=0;d<this.children.length;++d)this.children[d].collapse(l)},insertInner:function(l,d,E){this.size+=d.length,this.height+=E;for(var w=0;w<this.children.length;++w){var O=this.children[w],j=O.chunkSize();if(l<=j){if(O.insertInner(l,d,E),O.lines&&O.lines.length>50){for(var Z=O.lines.length%25+25,et=Z;et<O.lines.length;){var dt=new da(O.lines.slice(et,et+=25));O.height-=dt.height,this.children.splice(++w,0,dt),dt.parent=this}O.lines=O.lines.slice(0,Z),this.maybeSpill()}break}l-=j}},maybeSpill:function(){if(!(this.children.length<=10)){var l=this;do{var d=new ha(l.children.splice(l.children.length-5,5));if(l.parent){l.size-=d.size,l.height-=d.height;var E=Ht(l.parent.children,l);l.parent.children.splice(E+1,0,d)}else{var w=new ha(l.children);w.parent=l,l.children=[w,d],l=w}d.parent=l.parent}while(l.children.length>10);l.parent.maybeSpill()}},iterN:function(l,d,E){for(var w=0;w<this.children.length;++w){var O=this.children[w],j=O.chunkSize();if(l<j){var Z=Math.min(d,j-l);if(O.iterN(l,Z,E))return!0;if(0==(d-=Z))break;l=0}else l-=j}}};var mi=function(l,d,E){if(E)for(var w in E)E.hasOwnProperty(w)&&(this[w]=E[w]);this.doc=l,this.node=d};function Tu(l,d,E){po(d)<(l.curOp&&l.curOp.scrollTop||l.doc.scrollTop)&&nl(l,E)}mi.prototype.clear=function(){var l=this.doc.cm,d=this.line.widgets,E=this.line,w=ln(E);if(null!=w&&d){for(var O=0;O<d.length;++O)d[O]==this&&d.splice(O--,1);d.length||(E.widgets=null);var j=pt(this);Dn(E,Math.max(0,E.height-j)),l&&(to(l,function(){Tu(l,E,-j),ci(l,w,"widget")}),Qn(l,"lineWidgetCleared",l,this,w))}},mi.prototype.changed=function(){var l=this,d=this.height,E=this.doc.cm,w=this.line;this.height=null;var O=pt(this)-d;O&&(uo(this.doc,w)||Dn(w,w.height+O),E&&to(E,function(){E.curOp.forceUpdate=!0,Tu(E,w,O),Qn(E,"lineWidgetChanged",E,l,ln(w))}))},dn(mi);var Cu=0,Qo=function(l,d){this.lines=[],this.type=d,this.doc=l,this.id=++Cu};function Ts(l,d,E,w,O){if(w&&w.shared)return function cc(l,d,E,w,O){(w=le(w)).shared=!1;var j=[Ts(l,d,E,w,O)],Z=j[0],et=w.widgetNode;return $r(l,function(dt){et&&(w.widgetNode=et.cloneNode(!0)),j.push(Ts(dt,Fe(dt,d),Fe(dt,E),w,O));for(var mt=0;mt<dt.linked.length;++mt)if(dt.linked[mt].isParent)return;Z=Te(j)}),new Cs(j,Z)}(l,d,E,w,O);if(l.cm&&!l.cm.curOp)return _r(l.cm,Ts)(l,d,E,w,O);var j=new Qo(l,O),Z=vt(d,E);if(w&&le(w,j,!1),Z>0||0==Z&&!1!==j.clearWhenEmpty)return j;if(j.replacedWith&&(j.collapsed=!0,j.widgetNode=ot("span",[j.replacedWith],"CodeMirror-widget"),w.handleMouseEvents||j.widgetNode.setAttribute("cm-ignore-events","true"),w.insertLeft&&(j.widgetNode.insertLeft=!0)),j.collapsed){if(co(l,d.line,d,E,j)||d.line!=E.line&&co(l,E.line,d,E,j))throw new Error("Inserting collapsed marker partially overlapping an existing one");!function Ia(){lo=!0}()}j.addToHistory&&pu(l,{from:d,to:E,origin:"markText"},l.sel,NaN);var et,dt=d.line,mt=l.cm;if(l.iter(dt,E.line+1,function(Lt){mt&&j.collapsed&&!mt.options.lineWrapping&&Pr(Lt)==mt.display.maxLine&&(et=!0),j.collapsed&&dt!=d.line&&Dn(Lt,0),function Bs(l,d,E){var w=E&&window.WeakSet&&(E.markedSpans||(E.markedSpans=new WeakSet));w&&l.markedSpans&&w.has(l.markedSpans)?l.markedSpans.push(d):(l.markedSpans=l.markedSpans?l.markedSpans.concat([d]):[d],w&&w.add(l.markedSpans)),d.marker.attachLine(l)}(Lt,new ri(j,dt==d.line?d.ch:null,dt==E.line?E.ch:null),l.cm&&l.cm.curOp),++dt}),j.collapsed&&l.iter(d.line,E.line+1,function(Lt){uo(l,Lt)&&Dn(Lt,0)}),j.clearOnEnter&&Se(j,"beforeCursorEnter",function(){return j.clear()}),j.readOnly&&(function yr(){ki=!0}(),(l.history.done.length||l.history.undone.length)&&l.clearHistory()),j.collapsed&&(j.id=++Cu,j.atomic=!0),mt){if(et&&(mt.curOp.updateMaxLine=!0),j.collapsed)Wr(mt,d.line,E.line+1);else if(j.className||j.startStyle||j.endStyle||j.css||j.attributes||j.title)for(var Dt=d.line;Dt<=E.line;Dt++)ci(mt,Dt,"text");j.atomic&&oc(mt.doc),Qn(mt,"markerAdded",mt,j)}return j}Qo.prototype.clear=function(){if(!this.explicitlyCleared){var l=this.doc.cm,d=l&&!l.curOp;if(d&&Wi(l),Le(this,"clear")){var E=this.find();E&&Qn(this,"clear",E.from,E.to)}for(var w=null,O=null,j=0;j<this.lines.length;++j){var Z=this.lines[j],et=Lo(Z.markedSpans,this);l&&!this.collapsed?ci(l,ln(Z),"text"):l&&(null!=et.to&&(O=ln(Z)),null!=et.from&&(w=ln(Z))),Z.markedSpans=So(Z.markedSpans,et),null==et.from&&this.collapsed&&!uo(this.doc,Z)&&l&&Dn(Z,Ko(l.display))}if(l&&this.collapsed&&!l.options.lineWrapping)for(var dt=0;dt<this.lines.length;++dt){var mt=Pr(this.lines[dt]),Dt=Gr(mt);Dt>l.display.maxLineLength&&(l.display.maxLine=mt,l.display.maxLineLength=Dt,l.display.maxLineChanged=!0)}null!=w&&l&&this.collapsed&&Wr(l,w,O+1),this.lines.length=0,this.explicitlyCleared=!0,this.atomic&&this.doc.cantEdit&&(this.doc.cantEdit=!1,l&&oc(l.doc)),l&&Qn(l,"markerCleared",l,this,w,O),d&&Er(l),this.parent&&this.parent.clear()}},Qo.prototype.find=function(l,d){var E,w;null==l&&"bookmark"==this.type&&(l=1);for(var O=0;O<this.lines.length;++O){var j=this.lines[O],Z=Lo(j.markedSpans,this);if(null!=Z.from&&(E=we(d?j:ln(j),Z.from),-1==l))return E;if(null!=Z.to&&(w=we(d?j:ln(j),Z.to),1==l))return w}return E&&{from:E,to:w}},Qo.prototype.changed=function(){var l=this,d=this.find(-1,!0),E=this,w=this.doc.cm;d&&w&&to(w,function(){var O=d.line,j=ln(d.line),Z=ds(w,j);if(Z&&(Zs(Z),w.curOp.selectionChanged=w.curOp.forceUpdate=!0),w.curOp.updateMaxLine=!0,!uo(E.doc,O)&&null!=E.height){var et=E.height;E.height=null;var dt=pt(E)-et;dt&&Dn(O,O.height+dt)}Qn(w,"markerChanged",w,l)})},Qo.prototype.attachLine=function(l){if(!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;d.maybeHiddenMarkers&&-1!=Ht(d.maybeHiddenMarkers,this)||(d.maybeUnhiddenMarkers||(d.maybeUnhiddenMarkers=[])).push(this)}this.lines.push(l)},Qo.prototype.detachLine=function(l){if(this.lines.splice(Ht(this.lines,l),1),!this.lines.length&&this.doc.cm){var d=this.doc.cm.curOp;(d.maybeHiddenMarkers||(d.maybeHiddenMarkers=[])).push(this)}},dn(Qo);var Cs=function(l,d){this.markers=l,this.primary=d;for(var E=0;E<l.length;++E)l[E].parent=this};function uc(l){return l.findMarks(we(l.first,0),l.clipPos(we(l.lastLine())),function(d){return d.parent})}function Jp(l){for(var d=function(w){var O=l[w],j=[O.primary.doc];$r(O.primary.doc,function(dt){return j.push(dt)});for(var Z=0;Z<O.markers.length;Z++){var et=O.markers[Z];-1==Ht(j,et.doc)&&(et.parent=null,O.markers.splice(Z--,1))}},E=0;E<l.length;E++)d(E)}Cs.prototype.clear=function(){if(!this.explicitlyCleared){this.explicitlyCleared=!0;for(var l=0;l<this.markers.length;++l)this.markers[l].clear();Qn(this,"clear")}},Cs.prototype.find=function(l,d){return this.primary.find(l,d)},dn(Cs);var td=0,Kr=function(l,d,E,w,O){if(!(this instanceof Kr))return new Kr(l,d,E,w,O);null==E&&(E=0),ha.call(this,[new da([new Kn("",null)])]),this.first=E,this.scrollTop=this.scrollLeft=0,this.cantEdit=!1,this.cleanGeneration=1,this.modeFrontier=this.highlightFrontier=E;var j=we(E,0);this.sel=hi(j),this.history=new cl(null),this.id=++td,this.modeOption=d,this.lineSep=w,this.direction="rtl"==O?"rtl":"ltr",this.extend=!1,"string"==typeof l&&(l=this.splitLines(l)),Jl(this,{from:j,to:j,text:l}),Nr(this,hi(j),Gt)};Kr.prototype=Ye(ha.prototype,{constructor:Kr,iter:function(l,d,E){E?this.iterN(l-this.first,d-l,E):this.iterN(this.first,this.first+this.size,l)},insert:function(l,d){for(var E=0,w=0;w<d.length;++w)E+=d[w].height;this.insertInner(l-this.first,d,E)},remove:function(l,d){this.removeInner(l-this.first,d)},getValue:function(l){var d=hn(this,this.first,this.first+this.size);return!1===l?d:d.join(l||this.lineSeparator())},setValue:ir(function(l){var d=we(this.first,0),E=this.first+this.size-1;Ki(this,{from:d,to:we(E,ye(this,E).text.length),text:this.splitLines(l),origin:"setValue",full:!0},!0),this.cm&&zi(this.cm,0,0),Nr(this,hi(d),Gt)}),replaceRange:function(l,d,E,w){ws(this,l,d=Fe(this,d),E=E?Fe(this,E):d,w)},getRange:function(l,d,E){var w=ct(this,Fe(this,l),Fe(this,d));return!1===E?w:""===E?w.join(""):w.join(E||this.lineSeparator())},getLine:function(l){var d=this.getLineHandle(l);return d&&d.text},getLineHandle:function(l){if(lr(this,l))return ye(this,l)},getLineNumber:function(l){return ln(l)},getLineHandleVisualStart:function(l){return"number"==typeof l&&(l=ye(this,l)),Pr(l)},lineCount:function(){return this.size},firstLine:function(){return this.first},lastLine:function(){return this.first+this.size-1},clipPos:function(l){return Fe(this,l)},getCursor:function(l){var d=this.sel.primary();return null==l||"head"==l?d.head:"anchor"==l?d.anchor:"end"==l||"to"==l||!1===l?d.to():d.from()},listSelections:function(){return this.sel.ranges},somethingSelected:function(){return this.sel.somethingSelected()},setCursor:ir(function(l,d,E){mu(this,Fe(this,"number"==typeof l?we(l,d||0):l),null,E)}),setSelection:ir(function(l,d,E){mu(this,Fe(this,l),Fe(this,d||l),E)}),extendSelection:ir(function(l,d,E){hl(this,Fe(this,l),d&&Fe(this,d),E)}),extendSelections:ir(function(l,d){gu(this,jr(this,l),d)}),extendSelectionsBy:ir(function(l,d){gu(this,jr(this,Ke(this.sel.ranges,l)),d)}),setSelections:ir(function(l,d,E){if(l.length){for(var w=[],O=0;O<l.length;O++)w[O]=new Mn(Fe(this,l[O].anchor),Fe(this,l[O].head||l[O].anchor));null==d&&(d=Math.min(l.length-1,this.sel.primIndex)),Nr(this,Ao(this.cm,w,d),E)}}),addSelection:ir(function(l,d,E){var w=this.sel.ranges.slice(0);w.push(new Mn(Fe(this,l),Fe(this,d||l))),Nr(this,Ao(this.cm,w,w.length-1),E)}),getSelection:function(l){for(var d,E=this.sel.ranges,w=0;w<E.length;w++){var O=ct(this,E[w].from(),E[w].to());d=d?d.concat(O):O}return!1===l?d:d.join(l||this.lineSeparator())},getSelections:function(l){for(var d=[],E=this.sel.ranges,w=0;w<E.length;w++){var O=ct(this,E[w].from(),E[w].to());!1!==l&&(O=O.join(l||this.lineSeparator())),d[w]=O}return d},replaceSelection:function(l,d,E){for(var w=[],O=0;O<this.sel.ranges.length;O++)w[O]=l;this.replaceSelections(w,d,E||"+input")},replaceSelections:ir(function(l,d,E){for(var w=[],O=this.sel,j=0;j<O.ranges.length;j++){var Z=O.ranges[j];w[j]={from:Z.from(),to:Z.to(),text:this.splitLines(l[j]),origin:E}}for(var et=d&&"end"!=d&&function $p(l,d,E){for(var w=[],O=we(l.first,0),j=O,Z=0;Z<d.length;Z++){var et=d[Z],dt=Zl(et.from,O,j),mt=Zl(fi(et),O,j);if(O=et.to,j=mt,"around"==E){var Dt=l.sel.ranges[Z],Lt=vt(Dt.head,Dt.anchor)<0;w[Z]=new Mn(Lt?mt:dt,Lt?dt:mt)}else w[Z]=new Mn(dt,dt)}return new go(w,l.sel.primIndex)}(this,w,d),dt=w.length-1;dt>=0;dt--)Ki(this,w[dt]);et?vu(this,et):this.cm&&gs(this.cm)}),undo:ir(function(){gi(this,"undo")}),redo:ir(function(){gi(this,"redo")}),undoSelection:ir(function(){gi(this,"undo",!0)}),redoSelection:ir(function(){gi(this,"redo",!0)}),setExtending:function(l){this.extend=l},getExtending:function(){return this.extend},historySize:function(){for(var l=this.history,d=0,E=0,w=0;w<l.done.length;w++)l.done[w].ranges||++d;for(var O=0;O<l.undone.length;O++)l.undone[O].ranges||++E;return{undo:d,redo:E}},clearHistory:function(){var l=this;this.history=new cl(this.history),$r(this,function(d){return d.history=l.history},!0)},markClean:function(){this.cleanGeneration=this.changeGeneration(!0)},changeGeneration:function(l){return l&&(this.history.lastOp=this.history.lastSelOp=this.history.lastOrigin=null),this.history.generation},isClean:function(l){return this.history.generation==(l||this.cleanGeneration)},getHistory:function(){return{done:bs(this.history.done),undone:bs(this.history.undone)}},setHistory:function(l){var d=this.history=new cl(this.history);d.done=bs(l.done.slice(0),null,!0),d.undone=bs(l.undone.slice(0),null,!0)},setGutterMarker:ir(function(l,d,E){return pa(this,l,"gutter",function(w){var O=w.gutterMarkers||(w.gutterMarkers={});return O[d]=E,!E&&rt(O)&&(w.gutterMarkers=null),!0})}),clearGutter:ir(function(l){var d=this;this.iter(function(E){E.gutterMarkers&&E.gutterMarkers[l]&&pa(d,E,"gutter",function(){return E.gutterMarkers[l]=null,rt(E.gutterMarkers)&&(E.gutterMarkers=null),!0})})}),lineInfo:function(l){var d;if("number"==typeof l){if(!(lr(this,l)&&(d=l,l=ye(this,l))))return null}else if(null==(d=ln(l)))return null;return{line:d,handle:l,text:l.text,gutterMarkers:l.gutterMarkers,textClass:l.textClass,bgClass:l.bgClass,wrapClass:l.wrapClass,widgets:l.widgets}},addLineClass:ir(function(l,d,E){return pa(this,l,"gutter"==d?"gutter":"class",function(w){var O="text"==d?"textClass":"background"==d?"bgClass":"gutter"==d?"gutterClass":"wrapClass";if(w[O]){if(X(E).test(w[O]))return!1;w[O]+=" "+E}else w[O]=E;return!0})}),removeLineClass:ir(function(l,d,E){return pa(this,l,"gutter"==d?"gutter":"class",function(w){var O="text"==d?"textClass":"background"==d?"bgClass":"gutter"==d?"gutterClass":"wrapClass",j=w[O];if(!j)return!1;if(null==E)w[O]=null;else{var Z=j.match(X(E));if(!Z)return!1;var et=Z.index+Z[0].length;w[O]=j.slice(0,Z.index)+(Z.index&&et!=j.length?" ":"")+j.slice(et)||null}return!0})}),addLineWidget:ir(function(l,d,E){return function Zp(l,d,E,w){var O=new mi(l,E,w),j=l.cm;return j&&O.noHScroll&&(j.display.alignWidgets=!0),pa(l,d,"widget",function(Z){var et=Z.widgets||(Z.widgets=[]);if(null==O.insertAt?et.push(O):et.splice(Math.min(et.length,Math.max(0,O.insertAt)),0,O),O.line=Z,j&&!uo(l,Z)){var dt=po(Z)<l.scrollTop;Dn(Z,Z.height+pt(O)),dt&&nl(j,O.height),j.curOp.forceUpdate=!0}return!0}),j&&Qn(j,"lineWidgetAdded",j,O,"number"==typeof d?d:ln(d)),O}(this,l,d,E)}),removeLineWidget:function(l){l.clear()},markText:function(l,d,E){return Ts(this,Fe(this,l),Fe(this,d),E,E&&E.type||"range")},setBookmark:function(l,d){var E={replacedWith:d&&(null==d.nodeType?d.widget:d),insertLeft:d&&d.insertLeft,clearWhenEmpty:!1,shared:d&&d.shared,handleMouseEvents:d&&d.handleMouseEvents};return Ts(this,l=Fe(this,l),l,E,"bookmark")},findMarksAt:function(l){var d=[],E=ye(this,(l=Fe(this,l)).line).markedSpans;if(E)for(var w=0;w<E.length;++w){var O=E[w];(null==O.from||O.from<=l.ch)&&(null==O.to||O.to>=l.ch)&&d.push(O.marker.parent||O.marker)}return d},findMarks:function(l,d,E){l=Fe(this,l),d=Fe(this,d);var w=[],O=l.line;return this.iter(l.line,d.line+1,function(j){var Z=j.markedSpans;if(Z)for(var et=0;et<Z.length;et++){var dt=Z[et];null!=dt.to&&O==l.line&&l.ch>=dt.to||null==dt.from&&O!=l.line||null!=dt.from&&O==d.line&&dt.from>=d.ch||E&&!E(dt.marker)||w.push(dt.marker.parent||dt.marker)}++O}),w},getAllMarks:function(){var l=[];return this.iter(function(d){var E=d.markedSpans;if(E)for(var w=0;w<E.length;++w)null!=E[w].from&&l.push(E[w].marker)}),l},posFromIndex:function(l){var d,E=this.first,w=this.lineSeparator().length;return this.iter(function(O){var j=O.text.length+w;if(j>l)return d=l,!0;l-=j,++E}),Fe(this,we(E,d))},indexFromPos:function(l){var d=(l=Fe(this,l)).ch;if(l.line<this.first||l.ch<0)return 0;var E=this.lineSeparator().length;return this.iter(this.first,l.line,function(w){d+=w.text.length+E}),d},copy:function(l){var d=new Kr(hn(this,this.first,this.first+this.size),this.modeOption,this.first,this.lineSep,this.direction);return d.scrollTop=this.scrollTop,d.scrollLeft=this.scrollLeft,d.sel=this.sel,d.extend=!1,l&&(d.history.undoDepth=this.history.undoDepth,d.setHistory(this.getHistory())),d},linkedDoc:function(l){l||(l={});var d=this.first,E=this.first+this.size;null!=l.from&&l.from>d&&(d=l.from),null!=l.to&&l.to<E&&(E=l.to);var w=new Kr(hn(this,d,E),l.mode||this.modeOption,d,this.lineSep,this.direction);return l.sharedHist&&(w.history=this.history),(this.linked||(this.linked=[])).push({doc:w,sharedHist:l.sharedHist}),w.linked=[{doc:this,isParent:!0,sharedHist:l.sharedHist}],function Qp(l,d){for(var E=0;E<d.length;E++){var w=d[E],O=w.find(),j=l.clipPos(O.from),Z=l.clipPos(O.to);if(vt(j,Z)){var et=Ts(l,j,Z,w.primary,w.primary.type);w.markers.push(et),et.parent=w}}}(w,uc(this)),w},unlinkDoc:function(l){if(l instanceof tr&&(l=l.doc),this.linked)for(var d=0;d<this.linked.length;++d)if(this.linked[d].doc==l){this.linked.splice(d,1),l.unlinkDoc(this),Jp(uc(this));break}if(l.history==this.history){var E=[l.id];$r(l,function(w){return E.push(w.id)},!0),l.history=new cl(null),l.history.done=bs(this.history.done,E),l.history.undone=bs(this.history.undone,E)}},iterLinkedDocs:function(l){$r(this,l)},getMode:function(){return this.mode},getEditor:function(){return this.cm},splitLines:function(l){return this.lineSep?l.split(this.lineSep):Tr(l)},lineSeparator:function(){return this.lineSep||"\n"},setDirection:ir(function(l){"rtl"!=l&&(l="ltr"),l!=this.direction&&(this.direction=l,this.iter(function(d){return d.order=null}),this.cm&&function Kp(l){to(l,function(){ys(l),Wr(l)})}(this.cm))})}),Kr.prototype.eachLine=Kr.prototype.iter;var Eu=0;function xu(l){var d=this;if(vi(d),!ee(d,l)&&!wt(d.display,l)){fn(l),b&&(Eu=+new Date);var E=Yo(d,l,!0),w=l.dataTransfer.files;if(E&&!d.isReadOnly())if(w&&w.length&&window.FileReader&&window.File)for(var O=w.length,j=Array(O),Z=0,et=function(){++Z==O&&_r(d,function(){var te={from:E=Fe(d.doc,E),to:E,text:d.doc.splitLines(j.filter(function(ce){return null!=ce}).join(d.doc.lineSeparator())),origin:"paste"};Ki(d.doc,te),vu(d.doc,hi(Fe(d.doc,E),Fe(d.doc,fi(te))))})()},dt=function(te,ce){if(d.options.allowDropFileTypes&&-1==Ht(d.options.allowDropFileTypes,te.type))et();else{var be=new FileReader;be.onerror=function(){return et()},be.onload=function(){var Oe=be.result;/[\x00-\x08\x0e-\x1f]{2}/.test(Oe)||(j[ce]=Oe),et()},be.readAsText(te)}},mt=0;mt<w.length;mt++)dt(w[mt],mt);else{if(d.state.draggingText&&d.doc.sel.contains(E)>-1)return d.state.draggingText(l),void setTimeout(function(){return d.display.input.focus()},20);try{var Dt=l.dataTransfer.getData("Text");if(Dt){var Lt;if(d.state.draggingText&&!d.state.draggingText.copy&&(Lt=d.listSelections()),ca(d.doc,hi(E,E)),Lt)for(var Jt=0;Jt<Lt.length;++Jt)ws(d.doc,"",Lt[Jt].anchor,Lt[Jt].head,"drag");d.replaceSelection(Dt,"around","paste"),d.display.input.focus()}}catch{}}}}function vi(l){l.display.dragCursor&&(l.display.lineSpace.removeChild(l.display.dragCursor),l.display.dragCursor=null)}function Ou(l){if(document.getElementsByClassName){for(var d=document.getElementsByClassName("CodeMirror"),E=[],w=0;w<d.length;w++){var O=d[w].CodeMirror;O&&E.push(O)}E.length&&E[0].operation(function(){for(var j=0;j<E.length;j++)l(E[j])})}}var Au=!1;function ku(){Au||(function nd(){var l;Se(window,"resize",function(){null==l&&(l=setTimeout(function(){l=null,Ou(rd)},100))}),Se(window,"blur",function(){return Ou(hs)})}(),Au=!0)}function rd(l){var d=l.display;d.cachedCharWidth=d.cachedTextHeight=d.cachedPaddingH=null,d.scrollbarsClipped=!1,l.setSize()}for(var Jo={3:"Pause",8:"Backspace",9:"Tab",13:"Enter",16:"Shift",17:"Ctrl",18:"Alt",19:"Pause",20:"CapsLock",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"PrintScrn",45:"Insert",46:"Delete",59:";",61:"=",91:"Mod",92:"Mod",93:"Mod",106:"*",107:"=",109:"-",110:".",111:"/",145:"ScrollLock",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",224:"Mod",63232:"Up",63233:"Down",63234:"Left",63235:"Right",63272:"Delete",63273:"Home",63275:"End",63276:"PageUp",63277:"PageDown",63302:"Insert"},fa=0;fa<10;fa++)Jo[fa+48]=Jo[fa+96]=String(fa);for(var Yn=65;Yn<=90;Yn++)Jo[Yn]=String.fromCharCode(Yn);for(var Es=1;Es<=12;Es++)Jo[Es+111]=Jo[Es+63235]="F"+Es;var ko={};function ga(l){var d,E,w,O,j=l.split(/-(?!$)/);l=j[j.length-1];for(var Z=0;Z<j.length-1;Z++){var et=j[Z];if(/^(cmd|meta|m)$/i.test(et))O=!0;else if(/^a(lt)?$/i.test(et))d=!0;else if(/^(c|ctrl|control)$/i.test(et))E=!0;else{if(!/^s(hift)?$/i.test(et))throw new Error("Unrecognized modifier name: "+et);w=!0}}return d&&(l="Alt-"+l),E&&(l="Ctrl-"+l),O&&(l="Cmd-"+l),w&&(l="Shift-"+l),l}function pc(l){var d={};for(var E in l)if(l.hasOwnProperty(E)){var w=l[E];if(/^(name|fallthrough|(de|at)tach)$/.test(E))continue;if("..."==w){delete l[E];continue}for(var O=Ke(E.split(" "),ga),j=0;j<O.length;j++){var Z=void 0,et=void 0;j==O.length-1?(et=O.join(" "),Z=w):(et=O.slice(0,j+1).join(" "),Z="...");var dt=d[et];if(dt){if(dt!=Z)throw new Error("Inconsistent bindings for "+et)}else d[et]=Z}delete l[E]}for(var mt in d)l[mt]=d[mt];return l}function xs(l,d,E,w){var O=(d=Yi(d)).call?d.call(l,w):d[l];if(!1===O)return"nothing";if("..."===O)return"multi";if(null!=O&&E(O))return"handled";if(d.fallthrough){if("[object Array]"!=Object.prototype.toString.call(d.fallthrough))return xs(l,d.fallthrough,E,w);for(var j=0;j<d.fallthrough.length;j++){var Z=xs(l,d.fallthrough[j],E,w);if(Z)return Z}}}function dc(l){var d="string"==typeof l?l:Jo[l.keyCode];return"Ctrl"==d||"Alt"==d||"Shift"==d||"Mod"==d}function vl(l,d,E){var w=l;return d.altKey&&"Alt"!=w&&(l="Alt-"+l),(F?d.metaKey:d.ctrlKey)&&"Ctrl"!=w&&(l="Ctrl-"+l),(F?d.ctrlKey:d.metaKey)&&"Mod"!=w&&(l="Cmd-"+l),!E&&d.shiftKey&&"Shift"!=w&&(l="Shift-"+l),l}function hc(l,d){if(D&&34==l.keyCode&&l.char)return!1;var E=Jo[l.keyCode];return null!=E&&!l.altGraphKey&&(3==l.keyCode&&l.code&&(E=l.code),vl(E,l,d))}function Yi(l){return"string"==typeof l?ko[l]:l}function Xi(l,d){for(var E=l.doc.sel.ranges,w=[],O=0;O<E.length;O++){for(var j=d(E[O]);w.length&&vt(j.from,Te(w).to)<=0;){var Z=w.pop();if(vt(Z.from,j.from)<0){j.from=Z.from;break}}w.push(j)}to(l,function(){for(var et=w.length-1;et>=0;et--)ws(l.doc,"",w[et].from,w[et].to,"+delete");gs(l)})}function yl(l,d,E){var w=$t(l.text,d+E,E);return w<0||w>l.text.length?null:w}function fc(l,d,E){var w=yl(l,d.ch,E);return null==w?null:new we(d.line,w,E<0?"after":"before")}function gc(l,d,E,w,O){if(l){"rtl"==d.doc.direction&&(O=-O);var j=on(E,d.doc.direction);if(j){var Z,et=O<0?Te(j):j[0],dt=O<0==(1==et.level)?"after":"before";if(et.level>0||"rtl"==d.doc.direction){var mt=$o(d,E);Z=O<0?E.text.length-1:0;var Dt=fo(d,mt,Z).top;Z=oe(function(Lt){return fo(d,mt,Lt).top==Dt},O<0==(1==et.level)?et.from:et.to-1,Z),"before"==dt&&(Z=yl(E,Z,1))}else Z=O<0?et.to:et.from;return new we(w,Z,dt)}}return new we(w,O<0?E.text.length:0,O<0?"before":"after")}ko.basic={Left:"goCharLeft",Right:"goCharRight",Up:"goLineUp",Down:"goLineDown",End:"goLineEnd",Home:"goLineStartSmart",PageUp:"goPageUp",PageDown:"goPageDown",Delete:"delCharAfter",Backspace:"delCharBefore","Shift-Backspace":"delCharBefore",Tab:"defaultTab","Shift-Tab":"indentAuto",Enter:"newlineAndIndent",Insert:"toggleOverwrite",Esc:"singleSelection"},ko.pcDefault={"Ctrl-A":"selectAll","Ctrl-D":"deleteLine","Ctrl-Z":"undo","Shift-Ctrl-Z":"redo","Ctrl-Y":"redo","Ctrl-Home":"goDocStart","Ctrl-End":"goDocEnd","Ctrl-Up":"goLineUp","Ctrl-Down":"goLineDown","Ctrl-Left":"goGroupLeft","Ctrl-Right":"goGroupRight","Alt-Left":"goLineStart","Alt-Right":"goLineEnd","Ctrl-Backspace":"delGroupBefore","Ctrl-Delete":"delGroupAfter","Ctrl-S":"save","Ctrl-F":"find","Ctrl-G":"findNext","Shift-Ctrl-G":"findPrev","Shift-Ctrl-F":"replace","Shift-Ctrl-R":"replaceAll","Ctrl-[":"indentLess","Ctrl-]":"indentMore","Ctrl-U":"undoSelection","Shift-Ctrl-U":"redoSelection","Alt-U":"redoSelection",fallthrough:"basic"},ko.emacsy={"Ctrl-F":"goCharRight","Ctrl-B":"goCharLeft","Ctrl-P":"goLineUp","Ctrl-N":"goLineDown","Ctrl-A":"goLineStart","Ctrl-E":"goLineEnd","Ctrl-V":"goPageDown","Shift-Ctrl-V":"goPageUp","Ctrl-D":"delCharAfter","Ctrl-H":"delCharBefore","Alt-Backspace":"delWordBefore","Ctrl-K":"killLine","Ctrl-T":"transposeChars","Ctrl-O":"openLine"},ko.macDefault={"Cmd-A":"selectAll","Cmd-D":"deleteLine","Cmd-Z":"undo","Shift-Cmd-Z":"redo","Cmd-Y":"redo","Cmd-Home":"goDocStart","Cmd-Up":"goDocStart","Cmd-End":"goDocEnd","Cmd-Down":"goDocEnd","Alt-Left":"goGroupLeft","Alt-Right":"goGroupRight","Cmd-Left":"goLineLeft","Cmd-Right":"goLineRight","Alt-Backspace":"delGroupBefore","Ctrl-Alt-Backspace":"delGroupAfter","Alt-Delete":"delGroupAfter","Cmd-S":"save","Cmd-F":"find","Cmd-G":"findNext","Shift-Cmd-G":"findPrev","Cmd-Alt-F":"replace","Shift-Cmd-Alt-F":"replaceAll","Cmd-[":"indentLess","Cmd-]":"indentMore","Cmd-Backspace":"delWrappedLineLeft","Cmd-Delete":"delWrappedLineRight","Cmd-U":"undoSelection","Shift-Cmd-U":"redoSelection","Ctrl-Up":"goDocStart","Ctrl-Down":"goDocEnd",fallthrough:["basic","emacsy"]},ko.default=tt?ko.macDefault:ko.pcDefault;var Zi={selectAll:ml,singleSelection:function(l){return l.setSelection(l.getCursor("anchor"),l.getCursor("head"),Gt)},killLine:function(l){return Xi(l,function(d){if(d.empty()){var E=ye(l.doc,d.head.line).text.length;return d.head.ch==E&&d.head.line<l.lastLine()?{from:d.head,to:we(d.head.line+1,0)}:{from:d.head,to:we(d.head.line,E)}}return{from:d.from(),to:d.to()}})},deleteLine:function(l){return Xi(l,function(d){return{from:we(d.from().line,0),to:Fe(l.doc,we(d.to().line+1,0))}})},delLineLeft:function(l){return Xi(l,function(d){return{from:we(d.from().line,0),to:d.from()}})},delWrappedLineLeft:function(l){return Xi(l,function(d){var E=l.charCoords(d.head,"div").top+5;return{from:l.coordsChar({left:0,top:E},"div"),to:d.from()}})},delWrappedLineRight:function(l){return Xi(l,function(d){var E=l.charCoords(d.head,"div").top+5,w=l.coordsChar({left:l.display.lineDiv.offsetWidth+100,top:E},"div");return{from:d.from(),to:w}})},undo:function(l){return l.undo()},redo:function(l){return l.redo()},undoSelection:function(l){return l.undoSelection()},redoSelection:function(l){return l.redoSelection()},goDocStart:function(l){return l.extendSelection(we(l.firstLine(),0))},goDocEnd:function(l){return l.extendSelection(we(l.lastLine()))},goLineStart:function(l){return l.extendSelectionsBy(function(d){return bl(l,d.head.line)},{origin:"+move",bias:1})},goLineStartSmart:function(l){return l.extendSelectionsBy(function(d){return mc(l,d.head)},{origin:"+move",bias:1})},goLineEnd:function(l){return l.extendSelectionsBy(function(d){return function Pu(l,d){var E=ye(l.doc,d),w=function oi(l){for(var d;d=or(l);)l=d.find(1,!0).line;return l}(E);return w!=E&&(d=ln(w)),gc(!0,l,E,d,-1)}(l,d.head.line)},{origin:"+move",bias:-1})},goLineRight:function(l){return l.extendSelectionsBy(function(d){var E=l.cursorCoords(d.head,"div").top+5;return l.coordsChar({left:l.display.lineDiv.offsetWidth+100,top:E},"div")},he)},goLineLeft:function(l){return l.extendSelectionsBy(function(d){var E=l.cursorCoords(d.head,"div").top+5;return l.coordsChar({left:0,top:E},"div")},he)},goLineLeftSmart:function(l){return l.extendSelectionsBy(function(d){var E=l.cursorCoords(d.head,"div").top+5,w=l.coordsChar({left:0,top:E},"div");return w.ch<l.getLine(w.line).search(/\S/)?mc(l,d.head):w},he)},goLineUp:function(l){return l.moveV(-1,"line")},goLineDown:function(l){return l.moveV(1,"line")},goPageUp:function(l){return l.moveV(-1,"page")},goPageDown:function(l){return l.moveV(1,"page")},goCharLeft:function(l){return l.moveH(-1,"char")},goCharRight:function(l){return l.moveH(1,"char")},goColumnLeft:function(l){return l.moveH(-1,"column")},goColumnRight:function(l){return l.moveH(1,"column")},goWordLeft:function(l){return l.moveH(-1,"word")},goGroupRight:function(l){return l.moveH(1,"group")},goGroupLeft:function(l){return l.moveH(-1,"group")},goWordRight:function(l){return l.moveH(1,"word")},delCharBefore:function(l){return l.deleteH(-1,"codepoint")},delCharAfter:function(l){return l.deleteH(1,"char")},delWordBefore:function(l){return l.deleteH(-1,"word")},delWordAfter:function(l){return l.deleteH(1,"word")},delGroupBefore:function(l){return l.deleteH(-1,"group")},delGroupAfter:function(l){return l.deleteH(1,"group")},indentAuto:function(l){return l.indentSelection("smart")},indentMore:function(l){return l.indentSelection("add")},indentLess:function(l){return l.indentSelection("subtract")},insertTab:function(l){return l.replaceSelection("\t")},insertSoftTab:function(l){for(var d=[],E=l.listSelections(),w=l.options.tabSize,O=0;O<E.length;O++){var j=E[O].from(),Z=Zt(l.getLine(j.line),j.ch,w);d.push(Ee(w-Z%w))}l.replaceSelections(d)},defaultTab:function(l){l.somethingSelected()?l.indentSelection("add"):l.execCommand("insertTab")},transposeChars:function(l){return to(l,function(){for(var d=l.listSelections(),E=[],w=0;w<d.length;w++)if(d[w].empty()){var O=d[w].head,j=ye(l.doc,O.line).text;if(j)if(O.ch==j.length&&(O=new we(O.line,O.ch-1)),O.ch>0)O=new we(O.line,O.ch+1),l.replaceRange(j.charAt(O.ch-1)+j.charAt(O.ch-2),we(O.line,O.ch-2),O,"+transpose");else if(O.line>l.doc.first){var Z=ye(l.doc,O.line-1).text;Z&&(O=new we(O.line,1),l.replaceRange(j.charAt(0)+l.doc.lineSeparator()+Z.charAt(Z.length-1),we(O.line-1,Z.length-1),O,"+transpose"))}E.push(new Mn(O,O))}l.setSelections(E)})},newlineAndIndent:function(l){return to(l,function(){for(var d=l.listSelections(),E=d.length-1;E>=0;E--)l.replaceRange(l.doc.lineSeparator(),d[E].anchor,d[E].head,"+input");d=l.listSelections();for(var w=0;w<d.length;w++)l.indentLine(d[w].from().line,null,!0);gs(l)})},openLine:function(l){return l.replaceSelection("\n","start")},toggleOverwrite:function(l){return l.toggleOverwrite()}};function bl(l,d){var E=ye(l.doc,d),w=Pr(E);return w!=E&&(d=ln(w)),gc(!0,l,w,d,1)}function mc(l,d){var E=bl(l,d.line),w=ye(l.doc,E.line),O=on(w,l.doc.direction);if(!O||0==O[0].level){var j=Math.max(E.ch,w.text.search(/\S/)),Z=d.line==E.line&&d.ch<=j&&d.ch;return we(E.line,Z?0:j,E.sticky)}return E}function ma(l,d,E){if("string"==typeof d&&!(d=Zi[d]))return!1;l.display.input.ensurePolled();var w=l.display.shift,O=!1;try{l.isReadOnly()&&(l.state.suppressEdits=!0),E&&(l.display.shift=!1),O=d(l)!=Xt}finally{l.display.shift=w,l.state.suppressEdits=!1}return O}var _l=new ie;function Os(l,d,E,w){var O=l.state.keySeq;if(O){if(dc(d))return"handled";if(/\'$/.test(d)?l.state.keySeq=null:_l.set(50,function(){l.state.keySeq==O&&(l.state.keySeq=null,l.display.input.reset())}),Nu(l,O+" "+d,E,w))return!0}return Nu(l,d,E,w)}function Nu(l,d,E,w){var O=function Mu(l,d,E){for(var w=0;w<l.state.keyMaps.length;w++){var O=xs(d,l.state.keyMaps[w],E,l);if(O)return O}return l.options.extraKeys&&xs(d,l.options.extraKeys,E,l)||xs(d,l.options.keyMap,E,l)}(l,d,w);return"multi"==O&&(l.state.keySeq=d),"handled"==O&&Qn(l,"keyHandled",l,d,E),"handled"!=O&&"multi"!=O||(fn(E),zl(l)),!!O}function Du(l,d){var E=hc(d,!0);return!!E&&(d.shiftKey&&!l.state.keySeq?Os(l,"Shift-"+E,d,function(w){return ma(l,w,!0)})||Os(l,E,d,function(w){if("string"==typeof w?/^go[A-Z]/.test(w):w.motion)return ma(l,w)}):Os(l,E,d,function(w){return ma(l,w)}))}var vc=null;function Lu(l){var d=this;if(!(l.target&&l.target!=d.display.input.getField()||(d.curOp.focus=yt(),ee(d,l)))){b&&T<11&&27==l.keyCode&&(l.returnValue=!1);var E=l.keyCode;d.display.shift=16==E||l.shiftKey;var w=Du(d,l);D&&(vc=w?E:null,w||88!=E||Ar||!(tt?l.metaKey:l.ctrlKey)||d.replaceSelection("",null,"cut")),h&&!tt&&!w&&46==E&&l.shiftKey&&!l.ctrlKey&&document.execCommand&&document.execCommand("cut"),18!=E||/\bCodeMirror-crosshair\b/.test(d.display.lineDiv.className)||function va(l){var d=l.display.lineDiv;function E(w){18!=w.keyCode&&w.altKey||(K(d,"CodeMirror-crosshair"),Bt(document,"keyup",E),Bt(document,"mouseover",E))}Et(d,"CodeMirror-crosshair"),Se(document,"keyup",E),Se(document,"mouseover",E)}(d)}}function yc(l){16==l.keyCode&&(this.doc.sel.shift=!1),ee(this,l)}function Ho(l){var d=this;if(!(l.target&&l.target!=d.display.input.getField()||wt(d.display,l)||ee(d,l)||l.ctrlKey&&!l.altKey||tt&&l.metaKey)){var E=l.keyCode,w=l.charCode;if(D&&E==vc)return vc=null,void fn(l);if(!D||l.which&&!(l.which<10)||!Du(d,l)){var O=String.fromCharCode(w??E);"\b"!=O&&(function od(l,d,E){return Os(l,"'"+E+"'",d,function(w){return ma(l,w,!0)})}(d,l,O)||d.display.input.onKeyPress(l))}}}var ya,As,bc=function(l,d,E){this.time=l,this.pos=d,this.button=E};function Ru(l){var d=this,E=d.display;if(!(ee(d,l)||E.activeTouch&&E.input.supportsTouch()))if(E.input.ensurePolled(),E.shift=l.shiftKey,wt(E,l))C||(E.scroller.draggable=!1,setTimeout(function(){return E.scroller.draggable=!0},100));else if(!_c(d,l)){var w=Yo(d,l),O=In(l),j=w?function id(l,d){var E=+new Date;return As&&As.compare(E,l,d)?(ya=As=null,"triple"):ya&&ya.compare(E,l,d)?(As=new bc(E,l,d),ya=null,"double"):(ya=new bc(E,l,d),As=null,"single")}(w,O):"single";window.focus(),1==O&&d.state.selectingText&&d.state.selectingText(l),w&&function sd(l,d,E,w,O){var j="Click";return"double"==w?j="Double"+j:"triple"==w&&(j="Triple"+j),Os(l,vl(j=(1==d?"Left":2==d?"Middle":"Right")+j,O),O,function(Z){if("string"==typeof Z&&(Z=Zi[Z]),!Z)return!1;var et=!1;try{l.isReadOnly()&&(l.state.suppressEdits=!0),et=Z(l,E)!=Xt}finally{l.state.suppressEdits=!1}return et})}(d,O,w,j,l)||(1==O?w?function ju(l,d,E,w){b?setTimeout(Ut(na,l),0):l.curOp.focus=yt();var O,j=function ad(l,d,E){var w=l.getOption("configureMouse"),O=w?w(l,d,E):{};if(null==O.unit){var j=ht?E.shiftKey&&E.metaKey:E.altKey;O.unit=j?"rectangle":"single"==d?"char":"double"==d?"word":"line"}return(null==O.extend||l.doc.extend)&&(O.extend=l.doc.extend||E.shiftKey),null==O.addNew&&(O.addNew=tt?E.metaKey:E.ctrlKey),null==O.moveOnDrag&&(O.moveOnDrag=!(tt?E.altKey:E.ctrlKey)),O}(l,E,w),Z=l.doc.sel;l.options.dragDrop&&kn&&!l.isReadOnly()&&"single"==E&&(O=Z.contains(d))>-1&&(vt((O=Z.ranges[O]).from(),d)<0||d.xRel>0)&&(vt(O.to(),d)>0||d.xRel<0)?function wl(l,d,E,w){var O=l.display,j=!1,Z=_r(l,function(mt){C&&(O.scroller.draggable=!1),l.state.draggingText=!1,l.state.delayingBlurEvent&&(l.hasFocus()?l.state.delayingBlurEvent=!1:ra(l)),Bt(O.wrapper.ownerDocument,"mouseup",Z),Bt(O.wrapper.ownerDocument,"mousemove",et),Bt(O.scroller,"dragstart",dt),Bt(O.scroller,"drop",Z),j||(fn(mt),w.addNew||hl(l.doc,E,null,null,w.extend),C&&!L||b&&9==T?setTimeout(function(){O.wrapper.ownerDocument.body.focus({preventScroll:!0}),O.input.focus()},20):O.input.focus())}),et=function(mt){j=j||Math.abs(d.clientX-mt.clientX)+Math.abs(d.clientY-mt.clientY)>=10},dt=function(){return j=!0};C&&(O.scroller.draggable=!0),l.state.draggingText=Z,Z.copy=!w.moveOnDrag,Se(O.wrapper.ownerDocument,"mouseup",Z),Se(O.wrapper.ownerDocument,"mousemove",et),Se(O.scroller,"dragstart",dt),Se(O.scroller,"drop",Z),l.state.delayingBlurEvent=!0,setTimeout(function(){return O.input.focus()},20),O.scroller.dragDrop&&O.scroller.dragDrop()}(l,w,d,j):function Fu(l,d,E,w){b&&ra(l);var O=l.display,j=l.doc;fn(d);var Z,et,dt=j.sel,mt=dt.ranges;if(w.addNew&&!w.extend?(et=j.sel.contains(E),Z=et>-1?mt[et]:new Mn(E,E)):(Z=j.sel.primary(),et=j.sel.primIndex),"rectangle"==w.unit)w.addNew||(Z=new Mn(E,E)),E=Yo(l,d,!0,!0),et=-1;else{var Dt=Hu(l,E,w.unit);Z=w.extend?dl(Z,Dt.anchor,Dt.head,w.extend):Dt}w.addNew?-1==et?(et=mt.length,Nr(j,Ao(l,mt.concat([Z]),et),{scroll:!1,origin:"*mouse"})):mt.length>1&&mt[et].empty()&&"char"==w.unit&&!w.extend?(Nr(j,Ao(l,mt.slice(0,et).concat(mt.slice(et+1)),0),{scroll:!1,origin:"*mouse"}),dt=j.sel):fl(j,et,Z,Pt):(et=0,Nr(j,new go([Z],0),Pt),dt=j.sel);var Lt=E;function Jt(Me){if(0!=vt(Lt,Me))if(Lt=Me,"rectangle"==w.unit){for(var Ge=[],qe=l.options.tabSize,Ze=Zt(ye(j,E.line).text,E.ch,qe),Fn=Zt(ye(j,Me.line).text,Me.ch,qe),Bn=Math.min(Ze,Fn),eo=Math.max(Ze,Fn),Xn=Math.min(E.line,Me.line),To=Math.min(l.lastLine(),Math.max(E.line,Me.line));Xn<=To;Xn++){var no=ye(j,Xn).text,er=fe(no,Bn,qe);Bn==eo?Ge.push(new Mn(we(Xn,er),we(Xn,er))):no.length>er&&Ge.push(new Mn(we(Xn,er),we(Xn,fe(no,eo,qe))))}Ge.length||Ge.push(new Mn(E,E)),Nr(j,Ao(l,dt.ranges.slice(0,et).concat(Ge),et),{origin:"*mouse",scroll:!1}),l.scrollIntoView(Me)}else{var Yr,fr=Z,ur=Hu(l,Me,w.unit),sr=fr.anchor;vt(ur.anchor,sr)>0?(Yr=ur.head,sr=Re(fr.from(),ur.anchor)):(Yr=ur.anchor,sr=Ie(fr.to(),ur.head));var qn=dt.ranges.slice(0);qn[et]=function Bu(l,d){var E=d.anchor,w=d.head,O=ye(l.doc,E.line);if(0==vt(E,w)&&E.sticky==w.sticky)return d;var j=on(O);if(!j)return d;var Z=Ue(j,E.ch,E.sticky),et=j[Z];if(et.from!=E.ch&&et.to!=E.ch)return d;var dt,mt=Z+(et.from==E.ch==(1!=et.level)?0:1);if(0==mt||mt==j.length)return d;if(w.line!=E.line)dt=(w.line-E.line)*("ltr"==l.doc.direction?1:-1)>0;else{var Dt=Ue(j,w.ch,w.sticky),Lt=Dt-Z||(w.ch-E.ch)*(1==et.level?-1:1);dt=Dt==mt-1||Dt==mt?Lt<0:Lt>0}var Jt=j[mt+(dt?-1:0)],te=dt==(1==Jt.level),ce=te?Jt.from:Jt.to,be=te?"after":"before";return E.ch==ce&&E.sticky==be?d:new Mn(new we(E.line,ce,be),w)}(l,new Mn(Fe(j,sr),Yr)),Nr(j,Ao(l,qn,et),Pt)}}var te=O.wrapper.getBoundingClientRect(),ce=0;function be(Me){var Ge=++ce,qe=Yo(l,Me,!0,"rectangle"==w.unit);if(qe)if(0!=vt(qe,Lt)){l.curOp.focus=yt(),Jt(qe);var Ze=el(O,j);(qe.line>=Ze.to||qe.line<Ze.from)&&setTimeout(_r(l,function(){ce==Ge&&be(Me)}),150)}else{var Fn=Me.clientY<te.top?-20:Me.clientY>te.bottom?20:0;Fn&&setTimeout(_r(l,function(){ce==Ge&&(O.scroller.scrollTop+=Fn,be(Me))}),50)}}function Oe(Me){l.state.selectingText=!1,ce=1/0,Me&&(fn(Me),O.input.focus()),Bt(O.wrapper.ownerDocument,"mousemove",He),Bt(O.wrapper.ownerDocument,"mouseup",Be),j.history.lastSelOrigin=null}var He=_r(l,function(Me){0!==Me.buttons&&In(Me)?be(Me):Oe(Me)}),Be=_r(l,Oe);l.state.selectingText=Be,Se(O.wrapper.ownerDocument,"mousemove",He),Se(O.wrapper.ownerDocument,"mouseup",Be)}(l,w,d,j)}(d,w,j,l):Qe(l)==E.scroller&&fn(l):2==O?(w&&hl(d.doc,w),setTimeout(function(){return E.input.focus()},20)):3==O&&(B?d.display.input.onContextMenu(l):ra(d)))}}function Hu(l,d,E){if("char"==E)return new Mn(d,d);if("word"==E)return l.findWordAt(d);if("line"==E)return new Mn(we(d.line,0),Fe(l.doc,we(d.line+1,0)));var w=E(l,d);return new Mn(w.from,w.to)}function Uu(l,d,E,w){var O,j;if(d.touches)O=d.touches[0].clientX,j=d.touches[0].clientY;else try{O=d.clientX,j=d.clientY}catch{return!1}if(O>=Math.floor(l.display.gutters.getBoundingClientRect().right))return!1;w&&fn(d);var Z=l.display,et=Z.lineDiv.getBoundingClientRect();if(j>et.bottom||!Le(l,E))return nr(d);j-=et.top-Z.viewOffset;for(var dt=0;dt<l.display.gutterSpecs.length;++dt){var mt=Z.gutters.childNodes[dt];if(mt&&mt.getBoundingClientRect().right>=O)return Wt(l,E,l,An(l.doc,j),l.display.gutterSpecs[dt].className,d),nr(d)}}function _c(l,d){return Uu(l,d,"gutterClick",!0)}function Vu(l,d){wt(l.display,d)||function ba(l,d){return!!Le(l,"gutterContextMenu")&&Uu(l,d,"gutterContextMenu",!1)}(l,d)||ee(l,d,"contextmenu")||B||l.display.input.onContextMenu(d)}function _a(l){l.display.wrapper.className=l.display.wrapper.className.replace(/\s*cm-s-\S+/g,"")+l.options.theme.replace(/(^|\s)\s*/g," cm-s-"),Qs(l)}bc.prototype.compare=function(l,d,E){return this.time+400>l&&0==vt(d,this.pos)&&E==this.button};var Qi={toString:function(){return"CodeMirror.Init"}},zu={},Tl={};function qu(l,d,E){if(!d!=!(E&&E!=Qi)){var w=l.display.dragFunctions,O=d?Se:Bt;O(l.display.scroller,"dragstart",w.start),O(l.display.scroller,"dragenter",w.enter),O(l.display.scroller,"dragover",w.over),O(l.display.scroller,"dragleave",w.leave),O(l.display.scroller,"drop",w.drop)}}function cd(l){l.options.lineWrapping?(Et(l.display.wrapper,"CodeMirror-wrap"),l.display.sizer.style.minWidth="",l.display.sizerWidth=null):(K(l.display.wrapper,"CodeMirror-wrap"),zs(l)),Za(l),Wr(l),Qs(l),setTimeout(function(){return Xo(l)},100)}function tr(l,d){var E=this;if(!(this instanceof tr))return new tr(l,d);this.options=d=d?le(d):{},le(zu,d,!1);var w=d.value;"string"==typeof w?w=new Kr(w,d.mode,null,d.lineSeparator,d.direction):d.mode&&(w.modeOption=d.mode),this.doc=w;var O=new tr.inputStyles[d.inputStyle](this),j=this.display=new al(l,w,O,d);for(var Z in j.wrapper.CodeMirror=this,_a(this),d.lineWrapping&&(this.display.wrapper.className+=" CodeMirror-wrap"),tu(this),this.state={keyMaps:[],overlays:[],modeGen:0,overwrite:!1,delayingBlurEvent:!1,focused:!1,suppressEdits:!1,pasteIncoming:-1,cutIncoming:-1,selectingText:!1,draggingText:!1,highlight:new ie,keySeq:null,specialChars:null},d.autofocus&&!q&&j.input.focus(),b&&T<11&&setTimeout(function(){return E.display.input.reset(!0)},20),function Gu(l){var d=l.display;Se(d.scroller,"mousedown",_r(l,Ru)),Se(d.scroller,"dblclick",b&&T<11?_r(l,function(dt){if(!ee(l,dt)){var mt=Yo(l,dt);if(mt&&!_c(l,dt)&&!wt(l.display,dt)){fn(dt);var Dt=l.findWordAt(mt);hl(l.doc,Dt.anchor,Dt.head)}}}):function(dt){return ee(l,dt)||fn(dt)}),Se(d.scroller,"contextmenu",function(dt){return Vu(l,dt)}),Se(d.input.getField(),"contextmenu",function(dt){d.scroller.contains(dt.target)||Vu(l,dt)});var E,w={end:0};function O(){d.activeTouch&&(E=setTimeout(function(){return d.activeTouch=null},1e3),(w=d.activeTouch).end=+new Date)}function j(dt){if(1!=dt.touches.length)return!1;var mt=dt.touches[0];return mt.radiusX<=1&&mt.radiusY<=1}function Z(dt,mt){if(null==mt.left)return!0;var Dt=mt.left-dt.left,Lt=mt.top-dt.top;return Dt*Dt+Lt*Lt>400}Se(d.scroller,"touchstart",function(dt){if(!ee(l,dt)&&!j(dt)&&!_c(l,dt)){d.input.ensurePolled(),clearTimeout(E);var mt=+new Date;d.activeTouch={start:mt,moved:!1,prev:mt-w.end<=300?w:null},1==dt.touches.length&&(d.activeTouch.left=dt.touches[0].pageX,d.activeTouch.top=dt.touches[0].pageY)}}),Se(d.scroller,"touchmove",function(){d.activeTouch&&(d.activeTouch.moved=!0)}),Se(d.scroller,"touchend",function(dt){var mt=d.activeTouch;if(mt&&!wt(d,dt)&&null!=mt.left&&!mt.moved&&new Date-mt.start<300){var Dt,Lt=l.coordsChar(d.activeTouch,"page");Dt=!mt.prev||Z(mt,mt.prev)?new Mn(Lt,Lt):!mt.prev.prev||Z(mt,mt.prev.prev)?l.findWordAt(Lt):new Mn(we(Lt.line,0),Fe(l.doc,we(Lt.line+1,0))),l.setSelection(Dt.anchor,Dt.head),l.focus(),fn(dt)}O()}),Se(d.scroller,"touchcancel",O),Se(d.scroller,"scroll",function(){d.scroller.clientHeight&&(oa(l,d.scroller.scrollTop),qi(l,d.scroller.scrollLeft,!0),Wt(l,"scroll",l))}),Se(d.scroller,"mousewheel",function(dt){return Yl(l,dt)}),Se(d.scroller,"DOMMouseScroll",function(dt){return Yl(l,dt)}),Se(d.wrapper,"scroll",function(){return d.wrapper.scrollTop=d.wrapper.scrollLeft=0}),d.dragFunctions={enter:function(dt){ee(l,dt)||sn(dt)},over:function(dt){ee(l,dt)||(function ed(l,d){var E=Yo(l,d);if(E){var w=document.createDocumentFragment();Vl(l,E,w),l.display.dragCursor||(l.display.dragCursor=gt("div",null,"CodeMirror-cursors CodeMirror-dragcursors"),l.display.lineSpace.insertBefore(l.display.dragCursor,l.display.cursorDiv)),Q(l.display.dragCursor,w)}}(l,dt),sn(dt))},start:function(dt){return function Su(l,d){if(b&&(!l.state.draggingText||+new Date-Eu<100))sn(d);else if(!ee(l,d)&&!wt(l.display,d)&&(d.dataTransfer.setData("Text",l.getSelection()),d.dataTransfer.effectAllowed="copyMove",d.dataTransfer.setDragImage&&!L)){var E=gt("img",null,null,"position: fixed; left: 0; top: 0;");E.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",D&&(E.width=E.height=1,l.display.wrapper.appendChild(E),E._top=E.offsetTop),d.dataTransfer.setDragImage(E,0,0),D&&E.parentNode.removeChild(E)}}(l,dt)},drop:_r(l,xu),leave:function(dt){ee(l,dt)||vi(l)}};var et=d.input.getField();Se(et,"keyup",function(dt){return yc.call(l,dt)}),Se(et,"keydown",_r(l,Lu)),Se(et,"keypress",_r(l,Ho)),Se(et,"focus",function(dt){return tl(l,dt)}),Se(et,"blur",function(dt){return hs(l,dt)})}(this),ku(),Wi(this),this.curOp.forceUpdate=!0,tc(this,w),d.autofocus&&!q||this.hasFocus()?setTimeout(function(){E.hasFocus()&&!E.state.focused&&tl(E)},20):hs(this),Tl)Tl.hasOwnProperty(Z)&&Tl[Z](this,d[Z],Qi);iu(this),d.finishInit&&d.finishInit(this);for(var et=0;et<wc.length;++et)wc[et](this);Er(this),C&&d.lineWrapping&&"optimizelegibility"==getComputedStyle(j.lineDiv).textRendering&&(j.lineDiv.style.textRendering="auto")}tr.defaults=zu,tr.optionHandlers=Tl;var wc=[];function wa(l,d,E,w){var O,j=l.doc;null==E&&(E="add"),"smart"==E&&(j.mode.indent?O=Bo(l,d).state:E="prev");var Z=l.options.tabSize,et=ye(j,d),dt=Zt(et.text,null,Z);et.stateAfter&&(et.stateAfter=null);var mt,Dt=et.text.match(/^\s*/)[0];if(w||/\S/.test(et.text)){if("smart"==E&&((mt=j.mode.indent(O,et.text.slice(Dt.length),et.text))==Xt||mt>150)){if(!w)return;E="prev"}}else mt=0,E="not";"prev"==E?mt=d>j.first?Zt(ye(j,d-1).text,null,Z):0:"add"==E?mt=dt+l.options.indentUnit:"subtract"==E?mt=dt-l.options.indentUnit:"number"==typeof E&&(mt=dt+E),mt=Math.max(0,mt);var Lt="",Jt=0;if(l.options.indentWithTabs)for(var te=Math.floor(mt/Z);te;--te)Jt+=Z,Lt+="\t";if(Jt<mt&&(Lt+=Ee(mt-Jt)),Lt!=Dt)return ws(j,Lt,we(d,0),we(d,Dt.length),"+input"),et.stateAfter=null,!0;for(var ce=0;ce<j.sel.ranges.length;ce++){var be=j.sel.ranges[ce];if(be.head.line==d&&be.head.ch<Dt.length){var Oe=we(d,Dt.length);fl(j,ce,new Mn(Oe,Oe));break}}}tr.defineInitHook=function(l){return wc.push(l)};var Po=null;function Cl(l){Po=l}function Tc(l,d,E,w,O){var j=l.doc;l.display.shift=!1,w||(w=j.sel);var Z=+new Date-200,et="paste"==O||l.state.pasteIncoming>Z,dt=Tr(d),mt=null;if(et&&w.ranges.length>1)if(Po&&Po.text.join("\n")==d){if(w.ranges.length%Po.text.length==0){mt=[];for(var Dt=0;Dt<Po.text.length;Dt++)mt.push(j.splitLines(Po.text[Dt]))}}else dt.length==w.ranges.length&&l.options.pasteLinesPerSelection&&(mt=Ke(dt,function(He){return[He]}));for(var Lt=l.curOp.updateInput,Jt=w.ranges.length-1;Jt>=0;Jt--){var te=w.ranges[Jt],ce=te.from(),be=te.to();te.empty()&&(E&&E>0?ce=we(ce.line,ce.ch-E):l.state.overwrite&&!et?be=we(be.line,Math.min(ye(j,be.line).text.length,be.ch+Te(dt).length)):et&&Po&&Po.lineWise&&Po.text.join("\n")==dt.join("\n")&&(ce=be=we(ce.line,0)));var Oe={from:ce,to:be,text:mt?mt[Jt%mt.length]:dt,origin:O||(et?"paste":l.state.cutIncoming>Z?"cut":"+input")};Ki(l.doc,Oe),Qn(l,"inputRead",l,Oe)}d&&!et&&$u(l,d),gs(l),l.curOp.updateInput<2&&(l.curOp.updateInput=Lt),l.curOp.typing=!0,l.state.pasteIncoming=l.state.cutIncoming=-1}function Wu(l,d){var E=l.clipboardData&&l.clipboardData.getData("Text");if(E)return l.preventDefault(),d.isReadOnly()||d.options.disableInput||!d.hasFocus()||to(d,function(){return Tc(d,E,0,null,"paste")}),!0}function $u(l,d){if(l.options.electricChars&&l.options.smartIndent)for(var E=l.doc.sel,w=E.ranges.length-1;w>=0;w--){var O=E.ranges[w];if(!(O.head.ch>100||w&&E.ranges[w-1].head.line==O.head.line)){var j=l.getModeAt(O.head),Z=!1;if(j.electricChars){for(var et=0;et<j.electricChars.length;et++)if(d.indexOf(j.electricChars.charAt(et))>-1){Z=wa(l,O.head.line,"smart");break}}else j.electricInput&&j.electricInput.test(ye(l.doc,O.head.line).text.slice(0,O.head.ch))&&(Z=wa(l,O.head.line,"smart"));Z&&Qn(l,"electricInput",l,O.head.line)}}}function Ku(l){for(var d=[],E=[],w=0;w<l.doc.sel.ranges.length;w++){var O=l.doc.sel.ranges[w].head.line,j={anchor:we(O,0),head:we(O+1,0)};E.push(j),d.push(l.getRange(j.anchor,j.head))}return{text:d,ranges:E}}function Yu(l,d,E,w){l.setAttribute("autocorrect",E?"":"off"),l.setAttribute("autocapitalize",w?"":"off"),l.setAttribute("spellcheck",!!d)}function Xu(){var l=gt("textarea",null,null,"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; min-height: 1em; outline: none"),d=gt("div",[l],null,"overflow: hidden; position: relative; width: 3px; height: 0px;");return C?l.style.width="1000px":l.setAttribute("wrap","off"),G&&(l.style.border="1px solid black"),Yu(l),d}function Cc(l,d,E,w,O){var j=d,Z=E,et=ye(l,d.line),dt=O&&"rtl"==l.direction?-E:E;function Dt(Be){var Me;if("codepoint"==w){var Ge=et.text.charCodeAt(d.ch+(E>0?0:-1));if(isNaN(Ge))Me=null;else{var qe=E>0?Ge>=55296&&Ge<56320:Ge>=56320&&Ge<57343;Me=new we(d.line,Math.max(0,Math.min(et.text.length,d.ch+E*(qe?2:1))),-E)}}else Me=O?function Ss(l,d,E,w){var O=on(d,l.doc.direction);if(!O)return fc(d,E,w);E.ch>=d.text.length?(E.ch=d.text.length,E.sticky="before"):E.ch<=0&&(E.ch=0,E.sticky="after");var j=Ue(O,E.ch,E.sticky),Z=O[j];if("ltr"==l.doc.direction&&Z.level%2==0&&(w>0?Z.to>E.ch:Z.from<E.ch))return fc(d,E,w);var et,dt=function(He,Be){return yl(d,He instanceof we?He.ch:He,Be)},mt=function(He){return l.options.lineWrapping?(et=et||$o(l,d),Xa(l,d,et,He)):{begin:0,end:d.text.length}},Dt=mt("before"==E.sticky?dt(E,-1):E.ch);if("rtl"==l.doc.direction||1==Z.level){var Lt=1==Z.level==w<0,Jt=dt(E,Lt?1:-1);if(null!=Jt&&(Lt?Jt<=Z.to&&Jt<=Dt.end:Jt>=Z.from&&Jt>=Dt.begin)){var te=Lt?"before":"after";return new we(E.line,Jt,te)}}var ce=function(He,Be,Me){for(;He>=0&&He<O.length;He+=Be){var qe=O[He],Ze=Be>0==(1!=qe.level),Fn=Ze?Me.begin:dt(Me.end,-1);if(qe.from<=Fn&&Fn<qe.to||(Fn=Ze?qe.from:dt(qe.to,-1),Me.begin<=Fn&&Fn<Me.end))return Bn=Fn,Ze?new we(E.line,dt(Bn,1),"before"):new we(E.line,Bn,"after")}var Bn},be=ce(j+w,w,Dt);if(be)return be;var Oe=w>0?Dt.end:dt(Dt.begin,-1);return null==Oe||w>0&&Oe==d.text.length||!(be=ce(w>0?0:O.length-1,w,mt(Oe)))?null:be}(l.cm,et,d,E):fc(et,d,E);if(null==Me){if(Be||!function mt(){var Be=d.line+dt;return!(Be<l.first||Be>=l.first+l.size)&&(d=new we(Be,d.ch,d.sticky),et=ye(l,Be))}())return!1;d=gc(O,l.cm,et,d.line,dt)}else d=Me;return!0}if("char"==w||"codepoint"==w)Dt();else if("column"==w)Dt(!0);else if("word"==w||"group"==w)for(var Lt=null,Jt="group"==w,te=l.cm&&l.cm.getHelper(d,"wordChars"),ce=!0;!(E<0)||Dt(!ce);ce=!1){var be=et.text.charAt(d.ch)||"\n",Oe=ae(be,te)?"w":Jt&&"\n"==be?"n":!Jt||/\s/.test(be)?null:"p";if(!Jt||ce||Oe||(Oe="s"),Lt&&Lt!=Oe){E<0&&(E=1,Dt(),d.sticky="after");break}if(Oe&&(Lt=Oe),E>0&&!Dt(!ce))break}var He=gl(l,d,j,Z,!0);return It(j,He)&&(He.hitSide=!0),He}function Qu(l,d,E,w){var O,j,Z=l.doc,et=d.left;if("page"==w){var dt=Math.min(l.display.wrapper.clientHeight,window.innerHeight||document.documentElement.clientHeight),mt=Math.max(dt-.5*Ko(l.display),3);O=(E>0?d.bottom:d.top)+E*mt}else"line"==w&&(O=E>0?d.bottom+3:d.top-3);for(;(j=Bl(l,et,O)).outside;){if(E<0?O<=0:O>=Z.height){j.hitSide=!0;break}O+=5*E}return j}var Hn=function(l){this.cm=l,this.lastAnchorNode=this.lastAnchorOffset=this.lastFocusNode=this.lastFocusOffset=null,this.polling=new ie,this.composing=null,this.gracePeriod=!1,this.readDOMTimeout=null};function El(l,d){var E=ds(l,d.line);if(!E||E.hidden)return null;var w=ye(l.doc,d.line),O=mn(E,w,d.line),j=on(w,l.doc.direction),Z="left";j&&(Z=Ue(j,d.ch)%2?"right":"left");var et=Gc(O.map,d.ch,Z);return et.offset="right"==et.collapse?et.end:et.start,et}function yi(l,d){return d&&(l.bad=!0),l}function Ta(l,d,E){var w;if(d==l.display.lineDiv){if(!(w=l.display.lineDiv.childNodes[E]))return yi(l.clipPos(we(l.display.viewTo-1)),!0);d=null,E=0}else for(w=d;;w=w.parentNode){if(!w||w==l.display.lineDiv)return null;if(w.parentNode&&w.parentNode==l.display.lineDiv)break}for(var O=0;O<l.display.view.length;O++){var j=l.display.view[O];if(j.node==w)return ud(j,d,E)}}function ud(l,d,E){var w=l.text.firstChild,O=!1;if(!d||!Ot(w,d))return yi(we(ln(l.line),0),!0);if(d==w&&(O=!0,d=w.childNodes[E],E=0,!d)){var j=l.rest?Te(l.rest):l.line;return yi(we(ln(j),j.text.length),O)}var Z=3==d.nodeType?d:null,et=d;for(Z||1!=d.childNodes.length||3!=d.firstChild.nodeType||(Z=d.firstChild,E&&(E=Z.nodeValue.length));et.parentNode!=w;)et=et.parentNode;var dt=l.measure,mt=dt.maps;function Dt(Oe,He,Be){for(var Me=-1;Me<(mt?mt.length:0);Me++)for(var Ge=Me<0?dt.map:mt[Me],qe=0;qe<Ge.length;qe+=3){var Ze=Ge[qe+2];if(Ze==Oe||Ze==He){var Fn=ln(Me<0?l.line:l.rest[Me]),Bn=Ge[qe]+Be;return(Be<0||Ze!=Oe)&&(Bn=Ge[qe+(Be?1:0)]),we(Fn,Bn)}}}var Lt=Dt(Z,et,E);if(Lt)return yi(Lt,O);for(var Jt=et.nextSibling,te=Z?Z.nodeValue.length-E:0;Jt;Jt=Jt.nextSibling){if(Lt=Dt(Jt,Jt.firstChild,0))return yi(we(Lt.line,Lt.ch-te),O);te+=Jt.textContent.length}for(var ce=et.previousSibling,be=E;ce;ce=ce.previousSibling){if(Lt=Dt(ce,ce.firstChild,-1))return yi(we(Lt.line,Lt.ch+be),O);be+=ce.textContent.length}}Hn.prototype.init=function(l){var d=this,E=this,w=E.cm,O=E.div=l.lineDiv;function j(et){for(var dt=et.target;dt;dt=dt.parentNode){if(dt==O)return!0;if(/\bCodeMirror-(?:line)?widget\b/.test(dt.className))break}return!1}function Z(et){if(j(et)&&!ee(w,et)){if(w.somethingSelected())Cl({lineWise:!1,text:w.getSelections()}),"cut"==et.type&&w.replaceSelection("",null,"cut");else{if(!w.options.lineWiseCopyCut)return;var dt=Ku(w);Cl({lineWise:!0,text:dt.text}),"cut"==et.type&&w.operation(function(){w.setSelections(dt.ranges,0,Gt),w.replaceSelection("",null,"cut")})}if(et.clipboardData){et.clipboardData.clearData();var mt=Po.text.join("\n");if(et.clipboardData.setData("Text",mt),et.clipboardData.getData("Text")==mt)return void et.preventDefault()}var Dt=Xu(),Lt=Dt.firstChild;w.display.lineSpace.insertBefore(Dt,w.display.lineSpace.firstChild),Lt.value=Po.text.join("\n");var Jt=yt();jt(Lt),setTimeout(function(){w.display.lineSpace.removeChild(Dt),Jt.focus(),Jt==O&&E.showPrimarySelection()},50)}}O.contentEditable=!0,Yu(O,w.options.spellcheck,w.options.autocorrect,w.options.autocapitalize),Se(O,"paste",function(et){!j(et)||ee(w,et)||Wu(et,w)||T<=11&&setTimeout(_r(w,function(){return d.updateFromDOM()}),20)}),Se(O,"compositionstart",function(et){d.composing={data:et.data,done:!1}}),Se(O,"compositionupdate",function(et){d.composing||(d.composing={data:et.data,done:!1})}),Se(O,"compositionend",function(et){d.composing&&(et.data!=d.composing.data&&d.readFromDOMSoon(),d.composing.done=!0)}),Se(O,"touchstart",function(){return E.forceCompositionEnd()}),Se(O,"input",function(){d.composing||d.readFromDOMSoon()}),Se(O,"copy",Z),Se(O,"cut",Z)},Hn.prototype.screenReaderLabelChanged=function(l){l?this.div.setAttribute("aria-label",l):this.div.removeAttribute("aria-label")},Hn.prototype.prepareSelection=function(){var l=Yc(this.cm,!1);return l.focus=yt()==this.div,l},Hn.prototype.showSelection=function(l,d){l&&this.cm.display.view.length&&((l.focus||d)&&this.showPrimarySelection(),this.showMultipleSelections(l))},Hn.prototype.getSelection=function(){return this.cm.display.wrapper.ownerDocument.getSelection()},Hn.prototype.showPrimarySelection=function(){var l=this.getSelection(),d=this.cm,E=d.doc.sel.primary(),w=E.from(),O=E.to();if(d.display.viewTo==d.display.viewFrom||w.line>=d.display.viewTo||O.line<d.display.viewFrom)l.removeAllRanges();else{var j=Ta(d,l.anchorNode,l.anchorOffset),Z=Ta(d,l.focusNode,l.focusOffset);if(!j||j.bad||!Z||Z.bad||0!=vt(Re(j,Z),w)||0!=vt(Ie(j,Z),O)){var et=d.display.view,dt=w.line>=d.display.viewFrom&&El(d,w)||{node:et[0].measure.map[2],offset:0},mt=O.line<d.display.viewTo&&El(d,O);if(!mt){var Dt=et[et.length-1].measure,Lt=Dt.maps?Dt.maps[Dt.maps.length-1]:Dt.map;mt={node:Lt[Lt.length-1],offset:Lt[Lt.length-2]-Lt[Lt.length-3]}}if(dt&&mt){var Jt,te=l.rangeCount&&l.getRangeAt(0);try{Jt=J(dt.node,dt.offset,mt.offset,mt.node)}catch{}Jt&&(!h&&d.state.focused?(l.collapse(dt.node,dt.offset),Jt.collapsed||(l.removeAllRanges(),l.addRange(Jt))):(l.removeAllRanges(),l.addRange(Jt)),te&&null==l.anchorNode?l.addRange(te):h&&this.startGracePeriod()),this.rememberSelection()}else l.removeAllRanges()}}},Hn.prototype.startGracePeriod=function(){var l=this;clearTimeout(this.gracePeriod),this.gracePeriod=setTimeout(function(){l.gracePeriod=!1,l.selectionChanged()&&l.cm.operation(function(){return l.cm.curOp.selectionChanged=!0})},20)},Hn.prototype.showMultipleSelections=function(l){Q(this.cm.display.cursorDiv,l.cursors),Q(this.cm.display.selectionDiv,l.selection)},Hn.prototype.rememberSelection=function(){var l=this.getSelection();this.lastAnchorNode=l.anchorNode,this.lastAnchorOffset=l.anchorOffset,this.lastFocusNode=l.focusNode,this.lastFocusOffset=l.focusOffset},Hn.prototype.selectionInEditor=function(){var l=this.getSelection();if(!l.rangeCount)return!1;var d=l.getRangeAt(0).commonAncestorContainer;return Ot(this.div,d)},Hn.prototype.focus=function(){"nocursor"!=this.cm.options.readOnly&&(this.selectionInEditor()&&yt()==this.div||this.showSelection(this.prepareSelection(),!0),this.div.focus())},Hn.prototype.blur=function(){this.div.blur()},Hn.prototype.getField=function(){return this.div},Hn.prototype.supportsTouch=function(){return!0},Hn.prototype.receivedFocus=function(){var l=this,d=this;this.selectionInEditor()?setTimeout(function(){return l.pollSelection()},20):to(this.cm,function(){return d.cm.curOp.selectionChanged=!0}),this.polling.set(this.cm.options.pollInterval,function E(){d.cm.state.focused&&(d.pollSelection(),d.polling.set(d.cm.options.pollInterval,E))})},Hn.prototype.selectionChanged=function(){var l=this.getSelection();return l.anchorNode!=this.lastAnchorNode||l.anchorOffset!=this.lastAnchorOffset||l.focusNode!=this.lastFocusNode||l.focusOffset!=this.lastFocusOffset},Hn.prototype.pollSelection=function(){if(null==this.readDOMTimeout&&!this.gracePeriod&&this.selectionChanged()){var l=this.getSelection(),d=this.cm;if(Y&&A&&this.cm.display.gutterSpecs.length&&function Ju(l){for(var d=l;d;d=d.parentNode)if(/CodeMirror-gutter-wrapper/.test(d.className))return!0;return!1}(l.anchorNode))return this.cm.triggerOnKeyDown({type:"keydown",keyCode:8,preventDefault:Math.abs}),this.blur(),void this.focus();if(!this.composing){this.rememberSelection();var E=Ta(d,l.anchorNode,l.anchorOffset),w=Ta(d,l.focusNode,l.focusOffset);E&&w&&to(d,function(){Nr(d.doc,hi(E,w),Gt),(E.bad||w.bad)&&(d.curOp.selectionChanged=!0)})}}},Hn.prototype.pollContent=function(){null!=this.readDOMTimeout&&(clearTimeout(this.readDOMTimeout),this.readDOMTimeout=null);var l,d,E,w=this.cm,O=w.display,j=w.doc.sel.primary(),Z=j.from(),et=j.to();if(0==Z.ch&&Z.line>w.firstLine()&&(Z=we(Z.line-1,ye(w.doc,Z.line-1).length)),et.ch==ye(w.doc,et.line).text.length&&et.line<w.lastLine()&&(et=we(et.line+1,0)),Z.line<O.viewFrom||et.line>O.viewTo-1)return!1;Z.line==O.viewFrom||0==(l=Ui(w,Z.line))?(d=ln(O.view[0].line),E=O.view[0].node):(d=ln(O.view[l].line),E=O.view[l-1].node.nextSibling);var dt,mt,Dt=Ui(w,et.line);if(Dt==O.view.length-1?(dt=O.viewTo-1,mt=O.lineDiv.lastChild):(dt=ln(O.view[Dt+1].line)-1,mt=O.view[Dt+1].node.previousSibling),!E)return!1;for(var Lt=w.doc.splitLines(function tp(l,d,E,w,O){var j="",Z=!1,et=l.doc.lineSeparator(),dt=!1;function Dt(){Z&&(j+=et,dt&&(j+=et),Z=dt=!1)}function Lt(te){te&&(Dt(),j+=te)}function Jt(te){if(1==te.nodeType){var ce=te.getAttribute("cm-text");if(ce)return void Lt(ce);var be,Oe=te.getAttribute("cm-marker");if(Oe){var He=l.findMarks(we(w,0),we(O+1,0),function mt(te){return function(ce){return ce.id==te}}(+Oe));return void(He.length&&(be=He[0].find(0))&&Lt(ct(l.doc,be.from,be.to).join(et)))}if("false"==te.getAttribute("contenteditable"))return;var Be=/^(pre|div|p|li|table|br)$/i.test(te.nodeName);if(!/^br$/i.test(te.nodeName)&&0==te.textContent.length)return;Be&&Dt();for(var Me=0;Me<te.childNodes.length;Me++)Jt(te.childNodes[Me]);/^(pre|p)$/i.test(te.nodeName)&&(dt=!0),Be&&(Z=!0)}else 3==te.nodeType&&Lt(te.nodeValue.replace(/\u200b/g,"").replace(/\u00a0/g," "))}for(;Jt(d),d!=E;)d=d.nextSibling,dt=!1;return j}(w,E,mt,d,dt)),Jt=ct(w.doc,we(d,0),we(dt,ye(w.doc,dt).text.length));Lt.length>1&&Jt.length>1;)if(Te(Lt)==Te(Jt))Lt.pop(),Jt.pop(),dt--;else{if(Lt[0]!=Jt[0])break;Lt.shift(),Jt.shift(),d++}for(var te=0,ce=0,be=Lt[0],Oe=Jt[0],He=Math.min(be.length,Oe.length);te<He&&be.charCodeAt(te)==Oe.charCodeAt(te);)++te;for(var Be=Te(Lt),Me=Te(Jt),Ge=Math.min(Be.length-(1==Lt.length?te:0),Me.length-(1==Jt.length?te:0));ce<Ge&&Be.charCodeAt(Be.length-ce-1)==Me.charCodeAt(Me.length-ce-1);)++ce;if(1==Lt.length&&1==Jt.length&&d==Z.line)for(;te&&te>Z.ch&&Be.charCodeAt(Be.length-ce-1)==Me.charCodeAt(Me.length-ce-1);)te--,ce++;Lt[Lt.length-1]=Be.slice(0,Be.length-ce).replace(/^\u200b+/,""),Lt[0]=Lt[0].slice(te).replace(/\u200b+$/,"");var qe=we(d,te),Ze=we(dt,Jt.length?Te(Jt).length-ce:0);return Lt.length>1||Lt[0]||vt(qe,Ze)?(ws(w.doc,Lt,qe,Ze,"+input"),!0):void 0},Hn.prototype.ensurePolled=function(){this.forceCompositionEnd()},Hn.prototype.reset=function(){this.forceCompositionEnd()},Hn.prototype.forceCompositionEnd=function(){this.composing&&(clearTimeout(this.readDOMTimeout),this.composing=null,this.updateFromDOM(),this.div.blur(),this.div.focus())},Hn.prototype.readFromDOMSoon=function(){var l=this;null==this.readDOMTimeout&&(this.readDOMTimeout=setTimeout(function(){if(l.readDOMTimeout=null,l.composing){if(!l.composing.done)return;l.composing=null}l.updateFromDOM()},80))},Hn.prototype.updateFromDOM=function(){var l=this;!this.cm.isReadOnly()&&this.pollContent()||to(this.cm,function(){return Wr(l.cm)})},Hn.prototype.setUneditable=function(l){l.contentEditable="false"},Hn.prototype.onKeyPress=function(l){0==l.charCode||this.composing||(l.preventDefault(),this.cm.isReadOnly()||_r(this.cm,Tc)(this.cm,String.fromCharCode(null==l.charCode?l.keyCode:l.charCode),0))},Hn.prototype.readOnlyChanged=function(l){this.div.contentEditable=String("nocursor"!=l)},Hn.prototype.onContextMenu=function(){},Hn.prototype.resetPosition=function(){},Hn.prototype.needsContentAttribute=!0;var cr=function(l){this.cm=l,this.prevInput="",this.pollingFast=!1,this.polling=new ie,this.hasSelection=!1,this.composing=null};cr.prototype.init=function(l){var d=this,E=this,w=this.cm;this.createField(l);var O=this.textarea;function j(Z){if(!ee(w,Z)){if(w.somethingSelected())Cl({lineWise:!1,text:w.getSelections()});else{if(!w.options.lineWiseCopyCut)return;var et=Ku(w);Cl({lineWise:!0,text:et.text}),"cut"==Z.type?w.setSelections(et.ranges,null,Gt):(E.prevInput="",O.value=et.text.join("\n"),jt(O))}"cut"==Z.type&&(w.state.cutIncoming=+new Date)}}l.wrapper.insertBefore(this.wrapper,l.wrapper.firstChild),G&&(O.style.width="0px"),Se(O,"input",function(){b&&T>=9&&d.hasSelection&&(d.hasSelection=null),E.poll()}),Se(O,"paste",function(Z){ee(w,Z)||Wu(Z,w)||(w.state.pasteIncoming=+new Date,E.fastPoll())}),Se(O,"cut",j),Se(O,"copy",j),Se(l.scroller,"paste",function(Z){if(!wt(l,Z)&&!ee(w,Z)){if(!O.dispatchEvent)return w.state.pasteIncoming=+new Date,void E.focus();var et=new Event("paste");et.clipboardData=Z.clipboardData,O.dispatchEvent(et)}}),Se(l.lineSpace,"selectstart",function(Z){wt(l,Z)||fn(Z)}),Se(O,"compositionstart",function(){var Z=w.getCursor("from");E.composing&&E.composing.range.clear(),E.composing={start:Z,range:w.markText(Z,w.getCursor("to"),{className:"CodeMirror-composing"})}}),Se(O,"compositionend",function(){E.composing&&(E.poll(),E.composing.range.clear(),E.composing=null)})},cr.prototype.createField=function(l){this.wrapper=Xu(),this.textarea=this.wrapper.firstChild},cr.prototype.screenReaderLabelChanged=function(l){l?this.textarea.setAttribute("aria-label",l):this.textarea.removeAttribute("aria-label")},cr.prototype.prepareSelection=function(){var l=this.cm,d=l.display,E=l.doc,w=Yc(l);if(l.options.moveInputWithCursor){var O=wo(l,E.sel.primary().head,"div"),j=d.wrapper.getBoundingClientRect(),Z=d.lineDiv.getBoundingClientRect();w.teTop=Math.max(0,Math.min(d.wrapper.clientHeight-10,O.top+Z.top-j.top)),w.teLeft=Math.max(0,Math.min(d.wrapper.clientWidth-10,O.left+Z.left-j.left))}return w},cr.prototype.showSelection=function(l){var d=this.cm.display;Q(d.cursorDiv,l.cursors),Q(d.selectionDiv,l.selection),null!=l.teTop&&(this.wrapper.style.top=l.teTop+"px",this.wrapper.style.left=l.teLeft+"px")},cr.prototype.reset=function(l){if(!this.contextMenuPending&&!this.composing){var d=this.cm;if(d.somethingSelected()){this.prevInput="";var E=d.getSelection();this.textarea.value=E,d.state.focused&&jt(this.textarea),b&&T>=9&&(this.hasSelection=E)}else l||(this.prevInput=this.textarea.value="",b&&T>=9&&(this.hasSelection=null))}},cr.prototype.getField=function(){return this.textarea},cr.prototype.supportsTouch=function(){return!1},cr.prototype.focus=function(){if("nocursor"!=this.cm.options.readOnly&&(!q||yt()!=this.textarea))try{this.textarea.focus()}catch{}},cr.prototype.blur=function(){this.textarea.blur()},cr.prototype.resetPosition=function(){this.wrapper.style.top=this.wrapper.style.left=0},cr.prototype.receivedFocus=function(){this.slowPoll()},cr.prototype.slowPoll=function(){var l=this;this.pollingFast||this.polling.set(this.cm.options.pollInterval,function(){l.poll(),l.cm.state.focused&&l.slowPoll()})},cr.prototype.fastPoll=function(){var l=!1,d=this;d.pollingFast=!0,d.polling.set(20,function E(){d.poll()||l?(d.pollingFast=!1,d.slowPoll()):(l=!0,d.polling.set(60,E))})},cr.prototype.poll=function(){var l=this,d=this.cm,E=this.textarea,w=this.prevInput;if(this.contextMenuPending||!d.state.focused||rr(E)&&!w&&!this.composing||d.isReadOnly()||d.options.disableInput||d.state.keySeq)return!1;var O=E.value;if(O==w&&!d.somethingSelected())return!1;if(b&&T>=9&&this.hasSelection===O||tt&&/[\uf700-\uf7ff]/.test(O))return d.display.input.reset(),!1;if(d.doc.sel==d.display.selForContextMenu){var j=O.charCodeAt(0);if(8203!=j||w||(w="\u200b"),8666==j)return this.reset(),this.cm.execCommand("undo")}for(var Z=0,et=Math.min(w.length,O.length);Z<et&&w.charCodeAt(Z)==O.charCodeAt(Z);)++Z;return to(d,function(){Tc(d,O.slice(Z),w.length-Z,null,l.composing?"*compose":null),O.length>1e3||O.indexOf("\n")>-1?E.value=l.prevInput="":l.prevInput=O,l.composing&&(l.composing.range.clear(),l.composing.range=d.markText(l.composing.start,d.getCursor("to"),{className:"CodeMirror-composing"}))}),!0},cr.prototype.ensurePolled=function(){this.pollingFast&&this.poll()&&(this.pollingFast=!1)},cr.prototype.onKeyPress=function(){b&&T>=9&&(this.hasSelection=null),this.fastPoll()},cr.prototype.onContextMenu=function(l){var d=this,E=d.cm,w=E.display,O=d.textarea;d.contextMenuPending&&d.contextMenuPending();var j=Yo(E,l),Z=w.scroller.scrollTop;if(j&&!D){E.options.resetSelectionOnContextMenu&&-1==E.doc.sel.contains(j)&&_r(E,Nr)(E.doc,hi(j),Gt);var et,dt=O.style.cssText,mt=d.wrapper.style.cssText,Dt=d.wrapper.offsetParent.getBoundingClientRect();if(d.wrapper.style.cssText="position: static",O.style.cssText="position: absolute; width: 30px; height: 30px;\n      top: "+(l.clientY-Dt.top-5)+"px; left: "+(l.clientX-Dt.left-5)+"px;\n      z-index: 1000; background: "+(b?"rgba(255, 255, 255, .05)":"transparent")+";\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);",C&&(et=window.scrollY),w.input.focus(),C&&window.scrollTo(null,et),w.input.reset(),E.somethingSelected()||(O.value=d.prevInput=" "),d.contextMenuPending=te,w.selForContextMenu=E.doc.sel,clearTimeout(w.detectingSelectAll),b&&T>=9&&Jt(),B){sn(l);var Lt=function(){Bt(window,"mouseup",Lt),setTimeout(te,20)};Se(window,"mouseup",Lt)}else setTimeout(te,50)}function Jt(){if(null!=O.selectionStart){var ce=E.somethingSelected(),be="\u200b"+(ce?O.value:"");O.value="\u21da",O.value=be,d.prevInput=ce?"":"\u200b",O.selectionStart=1,O.selectionEnd=be.length,w.selForContextMenu=E.doc.sel}}function te(){if(d.contextMenuPending==te&&(d.contextMenuPending=!1,d.wrapper.style.cssText=mt,O.style.cssText=dt,b&&T<9&&w.scrollbars.setScrollTop(w.scroller.scrollTop=Z),null!=O.selectionStart)){(!b||b&&T<9)&&Jt();var ce=0,be=function(){w.selForContextMenu==E.doc.sel&&0==O.selectionStart&&O.selectionEnd>0&&"\u200b"==d.prevInput?_r(E,ml)(E):ce++<10?w.detectingSelectAll=setTimeout(be,500):(w.selForContextMenu=null,w.input.reset())};w.detectingSelectAll=setTimeout(be,200)}}},cr.prototype.readOnlyChanged=function(l){l||this.reset(),this.textarea.disabled="nocursor"==l,this.textarea.readOnly=!!l},cr.prototype.setUneditable=function(){},cr.prototype.needsContentAttribute=!1,function ld(l){var d=l.optionHandlers;function E(w,O,j,Z){l.defaults[w]=O,j&&(d[w]=Z?function(et,dt,mt){mt!=Qi&&j(et,dt,mt)}:j)}l.defineOption=E,l.Init=Qi,E("value","",function(w,O){return w.setValue(O)},!0),E("mode",null,function(w,O){w.doc.modeOption=O,vs(w)},!0),E("indentUnit",2,vs,!0),E("indentWithTabs",!1),E("smartIndent",!0),E("tabSize",4,function(w){aa(w),Qs(w),Wr(w)},!0),E("lineSeparator",null,function(w,O){if(w.doc.lineSep=O,O){var j=[],Z=w.doc.first;w.doc.iter(function(dt){for(var mt=0;;){var Dt=dt.text.indexOf(O,mt);if(-1==Dt)break;mt=Dt+O.length,j.push(we(Z,Dt))}Z++});for(var et=j.length-1;et>=0;et--)ws(w.doc,O,j[et],we(j[et].line,j[et].ch+O.length))}}),E("specialChars",/[\u0000-\u001f\u007f-\u009f\u00ad\u061c\u200b\u200e\u200f\u2028\u2029\ufeff\ufff9-\ufffc]/g,function(w,O,j){w.state.specialChars=new RegExp(O.source+(O.test("\t")?"":"|\t"),"g"),j!=Qi&&w.refresh()}),E("specialCharPlaceholder",Fa,function(w){return w.refresh()},!0),E("electricChars",!0),E("inputStyle",q?"contenteditable":"textarea",function(){throw new Error("inputStyle can not (yet) be changed in a running editor")},!0),E("spellcheck",!1,function(w,O){return w.getInputField().spellcheck=O},!0),E("autocorrect",!1,function(w,O){return w.getInputField().autocorrect=O},!0),E("autocapitalize",!1,function(w,O){return w.getInputField().autocapitalize=O},!0),E("rtlMoveVisually",!ut),E("wholeLineUpdateBefore",!0),E("theme","default",function(w){_a(w),ms(w)},!0),E("keyMap","default",function(w,O,j){var Z=Yi(O),et=j!=Qi&&Yi(j);et&&et.detach&&et.detach(w,Z),Z.attach&&Z.attach(w,et||null)}),E("extraKeys",null),E("configureMouse",null),E("lineWrapping",!1,cd,!0),E("gutters",[],function(w,O){w.display.gutterSpecs=sl(O,w.options.lineNumbers),ms(w)},!0),E("fixedGutter",!0,function(w,O){w.display.gutters.style.left=O?li(w.display)+"px":"0",w.refresh()},!0),E("coverGutterNextToScrollbar",!1,function(w){return Xo(w)},!0),E("scrollbarStyle","native",function(w){tu(w),Xo(w),w.display.scrollbars.setScrollTop(w.doc.scrollTop),w.display.scrollbars.setScrollLeft(w.doc.scrollLeft)},!0),E("lineNumbers",!1,function(w,O){w.display.gutterSpecs=sl(w.options.gutters,O),ms(w)},!0),E("firstLineNumber",1,ms,!0),E("lineNumberFormatter",function(w){return w},ms,!0),E("showCursorWhenSelecting",!1,pi,!0),E("resetSelectionOnContextMenu",!0),E("lineWiseCopyCut",!0),E("pasteLinesPerSelection",!0),E("selectionsMayTouch",!1),E("readOnly",!1,function(w,O){"nocursor"==O&&(hs(w),w.display.input.blur()),w.display.input.readOnlyChanged(O)}),E("screenReaderLabel",null,function(w,O){O=""===O?null:O,w.display.input.screenReaderLabelChanged(O)}),E("disableInput",!1,function(w,O){O||w.display.input.reset()},!0),E("dragDrop",!0,qu),E("allowDropFileTypes",null),E("cursorBlinkRate",530),E("cursorScrollMargin",0),E("cursorHeight",1,pi,!0),E("singleCursorHeightPerLine",!0,pi,!0),E("workTime",100),E("workDelay",100),E("flattenSpans",!0,aa,!0),E("addModeClass",!1,aa,!0),E("pollInterval",100),E("undoDepth",200,function(w,O){return w.doc.history.undoDepth=O}),E("historyEventDelay",1250),E("viewportMargin",10,function(w){return w.refresh()},!0),E("maxHighlightLength",1e4,aa,!0),E("moveInputWithCursor",!0,function(w,O){O||w.display.input.resetPosition()}),E("tabindex",null,function(w,O){return w.display.input.getField().tabIndex=O||""}),E("autofocus",null),E("direction","ltr",function(w,O){return w.doc.setDirection(O)},!0),E("phrases",null)}(tr),function Zu(l){var d=l.optionHandlers,E=l.helpers={};l.prototype={constructor:l,focus:function(){window.focus(),this.display.input.focus()},setOption:function(w,O){var j=this.options,Z=j[w];j[w]==O&&"mode"!=w||(j[w]=O,d.hasOwnProperty(w)&&_r(this,d[w])(this,O,Z),Wt(this,"optionChange",this,w))},getOption:function(w){return this.options[w]},getDoc:function(){return this.doc},addKeyMap:function(w,O){this.state.keyMaps[O?"push":"unshift"](Yi(w))},removeKeyMap:function(w){for(var O=this.state.keyMaps,j=0;j<O.length;++j)if(O[j]==w||O[j].name==w)return O.splice(j,1),!0},addOverlay:Ur(function(w,O){var j=w.token?w:l.getMode(this.options,w);if(j.startState)throw new Error("Overlays may not be stateful.");(function pn(l,d,E){for(var w=0,O=E(d);w<l.length&&E(l[w])<=O;)w++;l.splice(w,0,d)})(this.state.overlays,{mode:j,modeSpec:w,opaque:O&&O.opaque,priority:O&&O.priority||0},function(Z){return Z.priority}),this.state.modeGen++,Wr(this)}),removeOverlay:Ur(function(w){for(var O=this.state.overlays,j=0;j<O.length;++j){var Z=O[j].modeSpec;if(Z==w||"string"==typeof w&&Z.name==w)return O.splice(j,1),this.state.modeGen++,void Wr(this)}}),indentLine:Ur(function(w,O,j){"string"!=typeof O&&"number"!=typeof O&&(O=null==O?this.options.smartIndent?"smart":"prev":O?"add":"subtract"),lr(this.doc,w)&&wa(this,w,O,j)}),indentSelection:Ur(function(w){for(var O=this.doc.sel.ranges,j=-1,Z=0;Z<O.length;Z++){var et=O[Z];if(et.empty())et.head.line>j&&(wa(this,et.head.line,w,!0),j=et.head.line,Z==this.doc.sel.primIndex&&gs(this));else{var dt=et.from(),mt=et.to(),Dt=Math.max(j,dt.line);j=Math.min(this.lastLine(),mt.line-(mt.ch?0:1))+1;for(var Lt=Dt;Lt<j;++Lt)wa(this,Lt,w);var Jt=this.doc.sel.ranges;0==dt.ch&&O.length==Jt.length&&Jt[Z].from().ch>0&&fl(this.doc,Z,new Mn(dt,Jt[Z].to()),Gt)}}}),getTokenAt:function(w,O){return is(this,w,O)},getLineTokens:function(w,O){return is(this,we(w),O,!0)},getTokenTypeAt:function(w){w=Fe(this.doc,w);var O,j=os(this,ye(this.doc,w.line)),Z=0,et=(j.length-1)/2,dt=w.ch;if(0==dt)O=j[2];else for(;;){var mt=Z+et>>1;if((mt?j[2*mt-1]:0)>=dt)et=mt;else{if(!(j[2*mt+1]<dt)){O=j[2*mt+2];break}Z=mt+1}}var Dt=O?O.indexOf("overlay "):-1;return Dt<0?O:0==Dt?null:O.slice(0,Dt-1)},getModeAt:function(w){var O=this.doc.mode;return O.innerMode?l.innerMode(O,this.getTokenAt(w).state).mode:O},getHelper:function(w,O){return this.getHelpers(w,O)[0]},getHelpers:function(w,O){var j=[];if(!E.hasOwnProperty(O))return j;var Z=E[O],et=this.getModeAt(w);if("string"==typeof et[O])Z[et[O]]&&j.push(Z[et[O]]);else if(et[O])for(var dt=0;dt<et[O].length;dt++){var mt=Z[et[O][dt]];mt&&j.push(mt)}else et.helperType&&Z[et.helperType]?j.push(Z[et.helperType]):Z[et.name]&&j.push(Z[et.name]);for(var Dt=0;Dt<Z._global.length;Dt++){var Lt=Z._global[Dt];Lt.pred(et,this)&&-1==Ht(j,Lt.val)&&j.push(Lt.val)}return j},getStateAfter:function(w,O){var j=this.doc;return Bo(this,(w=Cn(j,w??j.first+j.size-1))+1,O).state},cursorCoords:function(w,O){var j=this.doc.sel.primary();return wo(this,null==w?j.head:"object"==typeof w?Fe(this.doc,w):w?j.from():j.to(),O||"page")},charCoords:function(w,O){return Ka(this,Fe(this.doc,w),O||"page")},coordsChar:function(w,O){return Bl(this,(w=Js(this,w,O||"page")).left,w.top)},lineAtHeight:function(w,O){return w=Js(this,{top:w,left:0},O||"page").top,An(this.doc,w+this.display.viewOffset)},heightAtLine:function(w,O,j){var Z,et=!1;if("number"==typeof w){var dt=this.doc.first+this.doc.size-1;w<this.doc.first?w=this.doc.first:w>dt&&(w=dt,et=!0),Z=ye(this.doc,w)}else Z=w;return Fi(this,Z,{top:0,left:0},O||"page",j||et).top+(et?this.doc.height-po(Z):0)},defaultTextHeight:function(){return Ko(this.display)},defaultCharWidth:function(){return si(this.display)},getViewport:function(){return{from:this.display.viewFrom,to:this.display.viewTo}},addWidget:function(w,O,j,Z,et){var dt=this.display,mt=(w=wo(this,Fe(this.doc,w))).bottom,Dt=w.left;if(O.style.position="absolute",O.setAttribute("cm-ignore-events","true"),this.display.input.setUneditable(O),dt.sizer.appendChild(O),"over"==Z)mt=w.top;else if("above"==Z||"near"==Z){var Lt=Math.max(dt.wrapper.clientHeight,this.doc.height),Jt=Math.max(dt.sizer.clientWidth,dt.lineSpace.clientWidth);("above"==Z||w.bottom+O.offsetHeight>Lt)&&w.top>O.offsetHeight?mt=w.top-O.offsetHeight:w.bottom+O.offsetHeight<=Lt&&(mt=w.bottom),Dt+O.offsetWidth>Jt&&(Dt=Jt-O.offsetWidth)}O.style.top=mt+"px",O.style.left=O.style.right="","right"==et?(Dt=dt.sizer.clientWidth-O.offsetWidth,O.style.right="0px"):("left"==et?Dt=0:"middle"==et&&(Dt=(dt.sizer.clientWidth-O.offsetWidth)/2),O.style.left=Dt+"px"),j&&function Rp(l,d){var E=fs(l,d);null!=E.scrollTop&&oa(l,E.scrollTop),null!=E.scrollLeft&&qi(l,E.scrollLeft)}(this,{left:Dt,top:mt,right:Dt+O.offsetWidth,bottom:mt+O.offsetHeight})},triggerOnKeyDown:Ur(Lu),triggerOnKeyPress:Ur(Ho),triggerOnKeyUp:yc,triggerOnMouseDown:Ur(Ru),execCommand:function(w){if(Zi.hasOwnProperty(w))return Zi[w].call(null,this)},triggerElectric:Ur(function(w){$u(this,w)}),findPosH:function(w,O,j,Z){var et=1;O<0&&(et=-1,O=-O);for(var dt=Fe(this.doc,w),mt=0;mt<O&&!(dt=Cc(this.doc,dt,et,j,Z)).hitSide;++mt);return dt},moveH:Ur(function(w,O){var j=this;this.extendSelectionsBy(function(Z){return j.display.shift||j.doc.extend||Z.empty()?Cc(j.doc,Z.head,w,O,j.options.rtlMoveVisually):w<0?Z.from():Z.to()},he)}),deleteH:Ur(function(w,O){var j=this.doc.sel,Z=this.doc;j.somethingSelected()?Z.replaceSelection("",null,"+delete"):Xi(this,function(et){var dt=Cc(Z,et.head,w,O,!1);return w<0?{from:dt,to:et.head}:{from:et.head,to:dt}})}),findPosV:function(w,O,j,Z){var et=1,dt=Z;O<0&&(et=-1,O=-O);for(var mt=Fe(this.doc,w),Dt=0;Dt<O;++Dt){var Lt=wo(this,mt,"div");if(null==dt?dt=Lt.left:Lt.left=dt,(mt=Qu(this,Lt,et,j)).hitSide)break}return mt},moveV:Ur(function(w,O){var j=this,Z=this.doc,et=[],dt=!this.display.shift&&!Z.extend&&Z.sel.somethingSelected();if(Z.extendSelectionsBy(function(Dt){if(dt)return w<0?Dt.from():Dt.to();var Lt=wo(j,Dt.head,"div");null!=Dt.goalColumn&&(Lt.left=Dt.goalColumn),et.push(Lt.left);var Jt=Qu(j,Lt,w,O);return"page"==O&&Dt==Z.sel.primary()&&nl(j,Ka(j,Jt,"div").top-Lt.top),Jt},he),et.length)for(var mt=0;mt<Z.sel.ranges.length;mt++)Z.sel.ranges[mt].goalColumn=et[mt]}),findWordAt:function(w){var O=ye(this.doc,w.line).text,j=w.ch,Z=w.ch;if(O){var et=this.getHelper(w,"wordChars");"before"!=w.sticky&&Z!=O.length||!j?++Z:--j;for(var dt=O.charAt(j),mt=ae(dt,et)?function(Dt){return ae(Dt,et)}:/\s/.test(dt)?function(Dt){return/\s/.test(Dt)}:function(Dt){return!/\s/.test(Dt)&&!ae(Dt)};j>0&&mt(O.charAt(j-1));)--j;for(;Z<O.length&&mt(O.charAt(Z));)++Z}return new Mn(we(w.line,j),we(w.line,Z))},toggleOverwrite:function(w){null!=w&&w==this.state.overwrite||((this.state.overwrite=!this.state.overwrite)?Et(this.display.cursorDiv,"CodeMirror-overwrite"):K(this.display.cursorDiv,"CodeMirror-overwrite"),Wt(this,"overwriteToggle",this,this.state.overwrite))},hasFocus:function(){return this.display.input.getField()==yt()},isReadOnly:function(){return!(!this.options.readOnly&&!this.doc.cantEdit)},scrollTo:Ur(function(w,O){zi(this,w,O)}),getScrollInfo:function(){var w=this.display.scroller;return{left:w.scrollLeft,top:w.scrollTop,height:w.scrollHeight-Yt(this)-this.display.barHeight,width:w.scrollWidth-Yt(this)-this.display.barWidth,clientHeight:Pe(this),clientWidth:me(this)}},scrollIntoView:Ur(function(w,O){null==w?(w={from:this.doc.sel.primary().head,to:null},null==O&&(O=this.options.cursorScrollMargin)):"number"==typeof w?w={from:we(w,0),to:null}:null==w.from&&(w={from:w,to:null}),w.to||(w.to=w.from),w.margin=O||0,null!=w.from.line?function jp(l,d){rl(l),l.curOp.scrollToPos=d}(this,w):ql(this,w.from,w.to,w.margin)}),setSize:Ur(function(w,O){var j=this,Z=function(dt){return"number"==typeof dt||/^\d+$/.test(String(dt))?dt+"px":dt};null!=w&&(this.display.wrapper.style.width=Z(w)),null!=O&&(this.display.wrapper.style.height=Z(O)),this.options.lineWrapping&&Fl(this);var et=this.display.viewFrom;this.doc.iter(et,this.display.viewTo,function(dt){if(dt.widgets)for(var mt=0;mt<dt.widgets.length;mt++)if(dt.widgets[mt].noHScroll){ci(j,et,"widget");break}++et}),this.curOp.forceUpdate=!0,Wt(this,"refresh",this)}),operation:function(w){return to(this,w)},startOperation:function(){return Wi(this)},endOperation:function(){return Er(this)},refresh:Ur(function(){var w=this.display.cachedTextHeight;Wr(this),this.curOp.forceUpdate=!0,Qs(this),zi(this,this.doc.scrollLeft,this.doc.scrollTop),$l(this.display),(null==w||Math.abs(w-Ko(this.display))>.5||this.options.lineWrapping)&&Za(this),Wt(this,"refresh",this)}),swapDoc:Ur(function(w){var O=this.doc;return O.cm=null,this.state.selectingText&&this.state.selectingText(),tc(this,w),Qs(this),this.display.input.reset(),zi(this,w.scrollLeft,w.scrollTop),this.curOp.forceScroll=!0,Qn(this,"swapDoc",this,O),O}),phrase:function(w){var O=this.options.phrases;return O&&Object.prototype.hasOwnProperty.call(O,w)?O[w]:w},getInputField:function(){return this.display.input.getField()},getWrapperElement:function(){return this.display.wrapper},getScrollerElement:function(){return this.display.scroller},getGutterElement:function(){return this.display.gutters}},dn(l),l.registerHelper=function(w,O,j){E.hasOwnProperty(w)||(E[w]=l[w]={_global:[]}),E[w][O]=j},l.registerGlobalHelper=function(w,O,j,Z){l.registerHelper(w,O,Z),E[w]._global.push({pred:j,val:Z})}}(tr);var dd="iter insert remove copy getEditor constructor".split(" ");for(var xl in Kr.prototype)Kr.prototype.hasOwnProperty(xl)&&Ht(dd,xl)<0&&(tr.prototype[xl]=function(l){return function(){return l.apply(this.doc,arguments)}}(Kr.prototype[xl]));return dn(Kr),tr.inputStyles={textarea:cr,contenteditable:Hn},tr.defineMode=function(l){tr.defaults.mode||"null"==l||(tr.defaults.mode=l),Rn.apply(this,arguments)},tr.defineMIME=function Gn(l,d){Sn[l]=d},tr.defineMode("null",function(){return{token:function(l){return l.skipToEnd()}}}),tr.defineMIME("text/plain","null"),tr.defineExtension=function(l,d){tr.prototype[l]=d},tr.defineDocExtension=function(l,d){Kr.prototype[l]=d},tr.fromTextArea=function Ec(l,d){if((d=d?le(d):{}).value=l.value,!d.tabindex&&l.tabIndex&&(d.tabindex=l.tabIndex),!d.placeholder&&l.placeholder&&(d.placeholder=l.placeholder),null==d.autofocus){var E=yt();d.autofocus=E==l||null!=l.getAttribute("autofocus")&&E==document.body}function w(){l.value=et.getValue()}var O;if(l.form&&(Se(l.form,"submit",w),!d.leaveSubmitMethodAlone)){var j=l.form;O=j.submit;try{var Z=j.submit=function(){w(),j.submit=O,j.submit(),j.submit=Z}}catch{}}d.finishInit=function(dt){dt.save=w,dt.getTextArea=function(){return l},dt.toTextArea=function(){dt.toTextArea=isNaN,w(),l.parentNode.removeChild(dt.getWrapperElement()),l.style.display="",l.form&&(Bt(l.form,"submit",w),d.leaveSubmitMethodAlone||"function"!=typeof l.form.submit||(l.form.submit=O))}},l.style.display="none";var et=tr(function(dt){return l.parentNode.insertBefore(dt,l.nextSibling)},d);return et},function pd(l){l.off=Bt,l.on=Se,l.wheelEventPixels=lu,l.Doc=Kr,l.splitLines=Tr,l.countColumn=Zt,l.findColumn=fe,l.isWordChar=Qt,l.Pass=Xt,l.signal=Wt,l.Line=Kn,l.changeEnd=fi,l.scrollbarModel=Jc,l.Pos=we,l.cmpPos=vt,l.modes=Zn,l.mimeModes=Sn,l.resolveMode=z,l.getMode=st,l.modeExtensions=nt,l.extendMode=kt,l.copyState=ne,l.startState=zn,l.innerMode=Xe,l.commands=Zi,l.keyMap=ko,l.keyName=hc,l.isModifierKey=dc,l.lookupKey=xs,l.normalizeKeyMap=pc,l.StringStream=Ve,l.SharedTextMarker=Cs,l.TextMarker=Qo,l.LineWidget=mi,l.e_preventDefault=fn,l.e_stopPropagation=Ln,l.e_stop=sn,l.addClass=Et,l.contains=Ot,l.rmClass=K,l.keyNames=Jo}(tr),tr.version="5.65.6",tr}()},629:(x,g,M)=>{!function(h){"use strict";function y(B){for(var X={},J=0;J<B.length;++J)X[B[J].toLowerCase()]=!0;return X}h.defineMode("css",function(B,X){var J=X.inline;X.propertyKeywords||(X=h.resolveMode("text/css"));var K,at,Q=B.indentUnit,gt=X.tokenHooks,ot=X.documentTypes||{},Ot=X.mediaTypes||{},yt=X.mediaFeatures||{},Et=X.mediaValueKeywords||{},Mt=X.propertyKeywords||{},jt=X.nonStandardPropertyKeywords||{},Ut=X.fontProperties||{},le=X.counterDescriptors||{},Zt=X.colorKeywords||{},ie=X.valueKeywords||{},Ht=X.allowNested,_t=X.lineComment,Xt=!0===X.supportsAtComponent,Gt=!1!==B.highlightNonStandardPropertyKeywords;function Pt(Qt,ae){return K=ae,Qt}function he(Qt,ae){var rt=Qt.next();if(gt[rt]){var Tt=gt[rt](Qt,ae);if(!1!==Tt)return Tt}return"@"==rt?(Qt.eatWhile(/[\w\\\-]/),Pt("def",Qt.current())):"="==rt||("~"==rt||"|"==rt)&&Qt.eat("=")?Pt(null,"compare"):'"'==rt||"'"==rt?(ae.tokenize=fe(rt),ae.tokenize(Qt,ae)):"#"==rt?(Qt.eatWhile(/[\w\\\-]/),Pt("atom","hash")):"!"==rt?(Qt.match(/^\s*\w*/),Pt("keyword","important")):/\d/.test(rt)||"."==rt&&Qt.eat(/\d/)?(Qt.eatWhile(/[\w.%]/),Pt("number","unit")):"-"!==rt?/[,+>*\/]/.test(rt)?Pt(null,"select-op"):"."==rt&&Qt.match(/^-?[_a-z][_a-z0-9-]*/i)?Pt("qualifier","qualifier"):/[:;{}\[\]\(\)]/.test(rt)?Pt(null,rt):Qt.match(/^[\w-.]+(?=\()/)?(/^(url(-prefix)?|domain|regexp)$/i.test(Qt.current())&&(ae.tokenize=Ce),Pt("variable callee","variable")):/[\w\\\-]/.test(rt)?(Qt.eatWhile(/[\w\\\-]/),Pt("property","word")):Pt(null,null):/[\d.]/.test(Qt.peek())?(Qt.eatWhile(/[\w.%]/),Pt("number","unit")):Qt.match(/^-[\w\\\-]*/)?(Qt.eatWhile(/[\w\\\-]/),Qt.match(/^\s*:/,!1)?Pt("variable-2","variable-definition"):Pt("variable-2","variable")):Qt.match(/^\w+-/)?Pt("meta","meta"):void 0}function fe(Qt){return function(ae,rt){for(var Tt,At=!1;null!=(Tt=ae.next());){if(Tt==Qt&&!At){")"==Qt&&ae.backUp(1);break}At=!At&&"\\"==Tt}return(Tt==Qt||!At&&")"!=Qt)&&(rt.tokenize=null),Pt("string","string")}}function Ce(Qt,ae){return Qt.next(),Qt.match(/^\s*[\"\')]/,!1)?ae.tokenize=null:ae.tokenize=fe(")"),Pt(null,"(")}function Ee(Qt,ae,rt){this.type=Qt,this.indent=ae,this.prev=rt}function Te(Qt,ae,rt,Tt){return Qt.context=new Ee(rt,ae.indentation()+(!1===Tt?0:Q),Qt.context),rt}function Ke(Qt){return Qt.context.prev&&(Qt.context=Qt.context.prev),Qt.context.type}function pn(Qt,ae,rt){return Ne[rt.context.type](Qt,ae,rt)}function We(Qt,ae,rt,Tt){for(var At=Tt||1;At>0;At--)rt.context=rt.context.prev;return pn(Qt,ae,rt)}function Ye(Qt){var ae=Qt.current().toLowerCase();at=ie.hasOwnProperty(ae)?"atom":Zt.hasOwnProperty(ae)?"keyword":"variable"}var Ne={top:function(Qt,ae,rt){if("{"==Qt)return Te(rt,ae,"block");if("}"==Qt&&rt.context.prev)return Ke(rt);if(Xt&&/@component/i.test(Qt))return Te(rt,ae,"atComponentBlock");if(/^@(-moz-)?document$/i.test(Qt))return Te(rt,ae,"documentTypes");if(/^@(media|supports|(-moz-)?document|import)$/i.test(Qt))return Te(rt,ae,"atBlock");if(/^@(font-face|counter-style)/i.test(Qt))return rt.stateArg=Qt,"restricted_atBlock_before";if(/^@(-(moz|ms|o|webkit)-)?keyframes$/i.test(Qt))return"keyframes";if(Qt&&"@"==Qt.charAt(0))return Te(rt,ae,"at");if("hash"==Qt)at="builtin";else if("word"==Qt)at="tag";else{if("variable-definition"==Qt)return"maybeprop";if("interpolation"==Qt)return Te(rt,ae,"interpolation");if(":"==Qt)return"pseudo";if(Ht&&"("==Qt)return Te(rt,ae,"parens")}return rt.context.type},block:function(Qt,ae,rt){if("word"==Qt){var Tt=ae.current().toLowerCase();return Mt.hasOwnProperty(Tt)?(at="property","maybeprop"):jt.hasOwnProperty(Tt)?(at=Gt?"string-2":"property","maybeprop"):Ht?(at=ae.match(/^\s*:(?:\s|$)/,!1)?"property":"tag","block"):(at+=" error","maybeprop")}return"meta"==Qt?"block":Ht||"hash"!=Qt&&"qualifier"!=Qt?Ne.top(Qt,ae,rt):(at="error","block")},maybeprop:function(Qt,ae,rt){return":"==Qt?Te(rt,ae,"prop"):pn(Qt,ae,rt)},prop:function(Qt,ae,rt){if(";"==Qt)return Ke(rt);if("{"==Qt&&Ht)return Te(rt,ae,"propBlock");if("}"==Qt||"{"==Qt)return We(Qt,ae,rt);if("("==Qt)return Te(rt,ae,"parens");if("hash"!=Qt||/^#([0-9a-fA-f]{3,4}|[0-9a-fA-f]{6}|[0-9a-fA-f]{8})$/.test(ae.current())){if("word"==Qt)Ye(ae);else if("interpolation"==Qt)return Te(rt,ae,"interpolation")}else at+=" error";return"prop"},propBlock:function(Qt,ae,rt){return"}"==Qt?Ke(rt):"word"==Qt?(at="property","maybeprop"):rt.context.type},parens:function(Qt,ae,rt){return"{"==Qt||"}"==Qt?We(Qt,ae,rt):")"==Qt?Ke(rt):"("==Qt?Te(rt,ae,"parens"):"interpolation"==Qt?Te(rt,ae,"interpolation"):("word"==Qt&&Ye(ae),"parens")},pseudo:function(Qt,ae,rt){return"meta"==Qt?"pseudo":"word"==Qt?(at="variable-3",rt.context.type):pn(Qt,ae,rt)},documentTypes:function(Qt,ae,rt){return"word"==Qt&&ot.hasOwnProperty(ae.current())?(at="tag",rt.context.type):Ne.atBlock(Qt,ae,rt)},atBlock:function(Qt,ae,rt){if("("==Qt)return Te(rt,ae,"atBlock_parens");if("}"==Qt||";"==Qt)return We(Qt,ae,rt);if("{"==Qt)return Ke(rt)&&Te(rt,ae,Ht?"block":"top");if("interpolation"==Qt)return Te(rt,ae,"interpolation");if("word"==Qt){var Tt=ae.current().toLowerCase();at="only"==Tt||"not"==Tt||"and"==Tt||"or"==Tt?"keyword":Ot.hasOwnProperty(Tt)?"attribute":yt.hasOwnProperty(Tt)?"property":Et.hasOwnProperty(Tt)?"keyword":Mt.hasOwnProperty(Tt)?"property":jt.hasOwnProperty(Tt)?Gt?"string-2":"property":ie.hasOwnProperty(Tt)?"atom":Zt.hasOwnProperty(Tt)?"keyword":"error"}return rt.context.type},atComponentBlock:function(Qt,ae,rt){return"}"==Qt?We(Qt,ae,rt):"{"==Qt?Ke(rt)&&Te(rt,ae,Ht?"block":"top",!1):("word"==Qt&&(at="error"),rt.context.type)},atBlock_parens:function(Qt,ae,rt){return")"==Qt?Ke(rt):"{"==Qt||"}"==Qt?We(Qt,ae,rt,2):Ne.atBlock(Qt,ae,rt)},restricted_atBlock_before:function(Qt,ae,rt){return"{"==Qt?Te(rt,ae,"restricted_atBlock"):"word"==Qt&&"@counter-style"==rt.stateArg?(at="variable","restricted_atBlock_before"):pn(Qt,ae,rt)},restricted_atBlock:function(Qt,ae,rt){return"}"==Qt?(rt.stateArg=null,Ke(rt)):"word"==Qt?(at="@font-face"==rt.stateArg&&!Ut.hasOwnProperty(ae.current().toLowerCase())||"@counter-style"==rt.stateArg&&!le.hasOwnProperty(ae.current().toLowerCase())?"error":"property","maybeprop"):"restricted_atBlock"},keyframes:function(Qt,ae,rt){return"word"==Qt?(at="variable","keyframes"):"{"==Qt?Te(rt,ae,"top"):pn(Qt,ae,rt)},at:function(Qt,ae,rt){return";"==Qt?Ke(rt):"{"==Qt||"}"==Qt?We(Qt,ae,rt):("word"==Qt?at="tag":"hash"==Qt&&(at="builtin"),"at")},interpolation:function(Qt,ae,rt){return"}"==Qt?Ke(rt):"{"==Qt||";"==Qt?We(Qt,ae,rt):("word"==Qt?at="variable":"variable"!=Qt&&"("!=Qt&&")"!=Qt&&(at="error"),"interpolation")}};return{startState:function(Qt){return{tokenize:null,state:J?"block":"top",stateArg:null,context:new Ee(J?"block":"top",Qt||0,null)}},token:function(Qt,ae){if(!ae.tokenize&&Qt.eatSpace())return null;var rt=(ae.tokenize||he)(Qt,ae);return rt&&"object"==typeof rt&&(K=rt[1],rt=rt[0]),at=rt,"comment"!=K&&(ae.state=Ne[ae.state](K,Qt,ae)),at},indent:function(Qt,ae){var rt=Qt.context,Tt=ae&&ae.charAt(0),At=rt.indent;return"prop"!=rt.type||"}"!=Tt&&")"!=Tt||(rt=rt.prev),rt.prev&&("}"!=Tt||"block"!=rt.type&&"top"!=rt.type&&"interpolation"!=rt.type&&"restricted_atBlock"!=rt.type?(")"!=Tt||"parens"!=rt.type&&"atBlock_parens"!=rt.type)&&("{"!=Tt||"at"!=rt.type&&"atBlock"!=rt.type)||(At=Math.max(0,rt.indent-Q)):At=(rt=rt.prev).indent),At},electricChars:"}",blockCommentStart:"/*",blockCommentEnd:"*/",blockCommentContinue:" * ",lineComment:_t,fold:"brace"}});var m=["domain","regexp","url","url-prefix"],_=y(m),b=["all","aural","braille","handheld","print","projection","screen","tty","tv","embossed"],T=y(b),C=["width","min-width","max-width","height","min-height","max-height","device-width","min-device-width","max-device-width","device-height","min-device-height","max-device-height","aspect-ratio","min-aspect-ratio","max-aspect-ratio","device-aspect-ratio","min-device-aspect-ratio","max-device-aspect-ratio","color","min-color","max-color","color-index","min-color-index","max-color-index","monochrome","min-monochrome","max-monochrome","resolution","min-resolution","max-resolution","scan","grid","orientation","device-pixel-ratio","min-device-pixel-ratio","max-device-pixel-ratio","pointer","any-pointer","hover","any-hover","prefers-color-scheme","dynamic-range","video-dynamic-range"],k=y(C),A=["landscape","portrait","none","coarse","fine","on-demand","hover","interlace","progressive","dark","light","standard","high"],I=y(A),D=["align-content","align-items","align-self","alignment-adjust","alignment-baseline","all","anchor-point","animation","animation-delay","animation-direction","animation-duration","animation-fill-mode","animation-iteration-count","animation-name","animation-play-state","animation-timing-function","appearance","azimuth","backdrop-filter","backface-visibility","background","background-attachment","background-blend-mode","background-clip","background-color","background-image","background-origin","background-position","background-position-x","background-position-y","background-repeat","background-size","baseline-shift","binding","bleed","block-size","bookmark-label","bookmark-level","bookmark-state","bookmark-target","border","border-bottom","border-bottom-color","border-bottom-left-radius","border-bottom-right-radius","border-bottom-style","border-bottom-width","border-collapse","border-color","border-image","border-image-outset","border-image-repeat","border-image-slice","border-image-source","border-image-width","border-left","border-left-color","border-left-style","border-left-width","border-radius","border-right","border-right-color","border-right-style","border-right-width","border-spacing","border-style","border-top","border-top-color","border-top-left-radius","border-top-right-radius","border-top-style","border-top-width","border-width","bottom","box-decoration-break","box-shadow","box-sizing","break-after","break-before","break-inside","caption-side","caret-color","clear","clip","color","color-profile","column-count","column-fill","column-gap","column-rule","column-rule-color","column-rule-style","column-rule-width","column-span","column-width","columns","contain","content","counter-increment","counter-reset","crop","cue","cue-after","cue-before","cursor","direction","display","dominant-baseline","drop-initial-after-adjust","drop-initial-after-align","drop-initial-before-adjust","drop-initial-before-align","drop-initial-size","drop-initial-value","elevation","empty-cells","fit","fit-content","fit-position","flex","flex-basis","flex-direction","flex-flow","flex-grow","flex-shrink","flex-wrap","float","float-offset","flow-from","flow-into","font","font-family","font-feature-settings","font-kerning","font-language-override","font-optical-sizing","font-size","font-size-adjust","font-stretch","font-style","font-synthesis","font-variant","font-variant-alternates","font-variant-caps","font-variant-east-asian","font-variant-ligatures","font-variant-numeric","font-variant-position","font-variation-settings","font-weight","gap","grid","grid-area","grid-auto-columns","grid-auto-flow","grid-auto-rows","grid-column","grid-column-end","grid-column-gap","grid-column-start","grid-gap","grid-row","grid-row-end","grid-row-gap","grid-row-start","grid-template","grid-template-areas","grid-template-columns","grid-template-rows","hanging-punctuation","height","hyphens","icon","image-orientation","image-rendering","image-resolution","inline-box-align","inset","inset-block","inset-block-end","inset-block-start","inset-inline","inset-inline-end","inset-inline-start","isolation","justify-content","justify-items","justify-self","left","letter-spacing","line-break","line-height","line-height-step","line-stacking","line-stacking-ruby","line-stacking-shift","line-stacking-strategy","list-style","list-style-image","list-style-position","list-style-type","margin","margin-bottom","margin-left","margin-right","margin-top","marks","marquee-direction","marquee-loop","marquee-play-count","marquee-speed","marquee-style","mask-clip","mask-composite","mask-image","mask-mode","mask-origin","mask-position","mask-repeat","mask-size","mask-type","max-block-size","max-height","max-inline-size","max-width","min-block-size","min-height","min-inline-size","min-width","mix-blend-mode","move-to","nav-down","nav-index","nav-left","nav-right","nav-up","object-fit","object-position","offset","offset-anchor","offset-distance","offset-path","offset-position","offset-rotate","opacity","order","orphans","outline","outline-color","outline-offset","outline-style","outline-width","overflow","overflow-style","overflow-wrap","overflow-x","overflow-y","padding","padding-bottom","padding-left","padding-right","padding-top","page","page-break-after","page-break-before","page-break-inside","page-policy","pause","pause-after","pause-before","perspective","perspective-origin","pitch","pitch-range","place-content","place-items","place-self","play-during","position","presentation-level","punctuation-trim","quotes","region-break-after","region-break-before","region-break-inside","region-fragment","rendering-intent","resize","rest","rest-after","rest-before","richness","right","rotate","rotation","rotation-point","row-gap","ruby-align","ruby-overhang","ruby-position","ruby-span","scale","scroll-behavior","scroll-margin","scroll-margin-block","scroll-margin-block-end","scroll-margin-block-start","scroll-margin-bottom","scroll-margin-inline","scroll-margin-inline-end","scroll-margin-inline-start","scroll-margin-left","scroll-margin-right","scroll-margin-top","scroll-padding","scroll-padding-block","scroll-padding-block-end","scroll-padding-block-start","scroll-padding-bottom","scroll-padding-inline","scroll-padding-inline-end","scroll-padding-inline-start","scroll-padding-left","scroll-padding-right","scroll-padding-top","scroll-snap-align","scroll-snap-type","shape-image-threshold","shape-inside","shape-margin","shape-outside","size","speak","speak-as","speak-header","speak-numeral","speak-punctuation","speech-rate","stress","string-set","tab-size","table-layout","target","target-name","target-new","target-position","text-align","text-align-last","text-combine-upright","text-decoration","text-decoration-color","text-decoration-line","text-decoration-skip","text-decoration-skip-ink","text-decoration-style","text-emphasis","text-emphasis-color","text-emphasis-position","text-emphasis-style","text-height","text-indent","text-justify","text-orientation","text-outline","text-overflow","text-rendering","text-shadow","text-size-adjust","text-space-collapse","text-transform","text-underline-position","text-wrap","top","touch-action","transform","transform-origin","transform-style","transition","transition-delay","transition-duration","transition-property","transition-timing-function","translate","unicode-bidi","user-select","vertical-align","visibility","voice-balance","voice-duration","voice-family","voice-pitch","voice-range","voice-rate","voice-stress","voice-volume","volume","white-space","widows","width","will-change","word-break","word-spacing","word-wrap","writing-mode","z-index","clip-path","clip-rule","mask","enable-background","filter","flood-color","flood-opacity","lighting-color","stop-color","stop-opacity","pointer-events","color-interpolation","color-interpolation-filters","color-rendering","fill","fill-opacity","fill-rule","image-rendering","marker","marker-end","marker-mid","marker-start","paint-order","shape-rendering","stroke","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","text-rendering","baseline-shift","dominant-baseline","glyph-orientation-horizontal","glyph-orientation-vertical","text-anchor","writing-mode"],L=y(D),U=["accent-color","aspect-ratio","border-block","border-block-color","border-block-end","border-block-end-color","border-block-end-style","border-block-end-width","border-block-start","border-block-start-color","border-block-start-style","border-block-start-width","border-block-style","border-block-width","border-inline","border-inline-color","border-inline-end","border-inline-end-color","border-inline-end-style","border-inline-end-width","border-inline-start","border-inline-start-color","border-inline-start-style","border-inline-start-width","border-inline-style","border-inline-width","content-visibility","margin-block","margin-block-end","margin-block-start","margin-inline","margin-inline-end","margin-inline-start","overflow-anchor","overscroll-behavior","padding-block","padding-block-end","padding-block-start","padding-inline","padding-inline-end","padding-inline-start","scroll-snap-stop","scrollbar-3d-light-color","scrollbar-arrow-color","scrollbar-base-color","scrollbar-dark-shadow-color","scrollbar-face-color","scrollbar-highlight-color","scrollbar-shadow-color","scrollbar-track-color","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","shape-inside","zoom"],S=y(U),G=y(["font-display","font-family","src","unicode-range","font-variant","font-feature-settings","font-stretch","font-weight","font-style"]),Y=y(["additive-symbols","fallback","negative","pad","prefix","range","speak-as","suffix","symbols","system"]),q=["aliceblue","antiquewhite","aqua","aquamarine","azure","beige","bisque","black","blanchedalmond","blue","blueviolet","brown","burlywood","cadetblue","chartreuse","chocolate","coral","cornflowerblue","cornsilk","crimson","cyan","darkblue","darkcyan","darkgoldenrod","darkgray","darkgreen","darkgrey","darkkhaki","darkmagenta","darkolivegreen","darkorange","darkorchid","darkred","darksalmon","darkseagreen","darkslateblue","darkslategray","darkslategrey","darkturquoise","darkviolet","deeppink","deepskyblue","dimgray","dimgrey","dodgerblue","firebrick","floralwhite","forestgreen","fuchsia","gainsboro","ghostwhite","gold","goldenrod","gray","grey","green","greenyellow","honeydew","hotpink","indianred","indigo","ivory","khaki","lavender","lavenderblush","lawngreen","lemonchiffon","lightblue","lightcoral","lightcyan","lightgoldenrodyellow","lightgray","lightgreen","lightgrey","lightpink","lightsalmon","lightseagreen","lightskyblue","lightslategray","lightslategrey","lightsteelblue","lightyellow","lime","limegreen","linen","magenta","maroon","mediumaquamarine","mediumblue","mediumorchid","mediumpurple","mediumseagreen","mediumslateblue","mediumspringgreen","mediumturquoise","mediumvioletred","midnightblue","mintcream","mistyrose","moccasin","navajowhite","navy","oldlace","olive","olivedrab","orange","orangered","orchid","palegoldenrod","palegreen","paleturquoise","palevioletred","papayawhip","peachpuff","peru","pink","plum","powderblue","purple","rebeccapurple","red","rosybrown","royalblue","saddlebrown","salmon","sandybrown","seagreen","seashell","sienna","silver","skyblue","slateblue","slategray","slategrey","snow","springgreen","steelblue","tan","teal","thistle","tomato","turquoise","violet","wheat","white","whitesmoke","yellow","yellowgreen"],tt=y(q),ht=["above","absolute","activeborder","additive","activecaption","afar","after-white-space","ahead","alias","all","all-scroll","alphabetic","alternate","always","amharic","amharic-abegede","antialiased","appworkspace","arabic-indic","armenian","asterisks","attr","auto","auto-flow","avoid","avoid-column","avoid-page","avoid-region","axis-pan","background","backwards","baseline","below","bidi-override","binary","bengali","blink","block","block-axis","blur","bold","bolder","border","border-box","both","bottom","break","break-all","break-word","brightness","bullets","button","buttonface","buttonhighlight","buttonshadow","buttontext","calc","cambodian","capitalize","caps-lock-indicator","caption","captiontext","caret","cell","center","checkbox","circle","cjk-decimal","cjk-earthly-branch","cjk-heavenly-stem","cjk-ideographic","clear","clip","close-quote","col-resize","collapse","color","color-burn","color-dodge","column","column-reverse","compact","condensed","conic-gradient","contain","content","contents","content-box","context-menu","continuous","contrast","copy","counter","counters","cover","crop","cross","crosshair","cubic-bezier","currentcolor","cursive","cyclic","darken","dashed","decimal","decimal-leading-zero","default","default-button","dense","destination-atop","destination-in","destination-out","destination-over","devanagari","difference","disc","discard","disclosure-closed","disclosure-open","document","dot-dash","dot-dot-dash","dotted","double","down","drop-shadow","e-resize","ease","ease-in","ease-in-out","ease-out","element","ellipse","ellipsis","embed","end","ethiopic","ethiopic-abegede","ethiopic-abegede-am-et","ethiopic-abegede-gez","ethiopic-abegede-ti-er","ethiopic-abegede-ti-et","ethiopic-halehame-aa-er","ethiopic-halehame-aa-et","ethiopic-halehame-am-et","ethiopic-halehame-gez","ethiopic-halehame-om-et","ethiopic-halehame-sid-et","ethiopic-halehame-so-et","ethiopic-halehame-ti-er","ethiopic-halehame-ti-et","ethiopic-halehame-tig","ethiopic-numeric","ew-resize","exclusion","expanded","extends","extra-condensed","extra-expanded","fantasy","fast","fill","fill-box","fixed","flat","flex","flex-end","flex-start","footnotes","forwards","from","geometricPrecision","georgian","grayscale","graytext","grid","groove","gujarati","gurmukhi","hand","hangul","hangul-consonant","hard-light","hebrew","help","hidden","hide","higher","highlight","highlighttext","hiragana","hiragana-iroha","horizontal","hsl","hsla","hue","hue-rotate","icon","ignore","inactiveborder","inactivecaption","inactivecaptiontext","infinite","infobackground","infotext","inherit","initial","inline","inline-axis","inline-block","inline-flex","inline-grid","inline-table","inset","inside","intrinsic","invert","italic","japanese-formal","japanese-informal","justify","kannada","katakana","katakana-iroha","keep-all","khmer","korean-hangul-formal","korean-hanja-formal","korean-hanja-informal","landscape","lao","large","larger","left","level","lighter","lighten","line-through","linear","linear-gradient","lines","list-item","listbox","listitem","local","logical","loud","lower","lower-alpha","lower-armenian","lower-greek","lower-hexadecimal","lower-latin","lower-norwegian","lower-roman","lowercase","ltr","luminosity","malayalam","manipulation","match","matrix","matrix3d","media-play-button","media-slider","media-sliderthumb","media-volume-slider","media-volume-sliderthumb","medium","menu","menulist","menulist-button","menutext","message-box","middle","min-intrinsic","mix","mongolian","monospace","move","multiple","multiple_mask_images","multiply","myanmar","n-resize","narrower","ne-resize","nesw-resize","no-close-quote","no-drop","no-open-quote","no-repeat","none","normal","not-allowed","nowrap","ns-resize","numbers","numeric","nw-resize","nwse-resize","oblique","octal","opacity","open-quote","optimizeLegibility","optimizeSpeed","oriya","oromo","outset","outside","outside-shape","overlay","overline","padding","padding-box","painted","page","paused","persian","perspective","pinch-zoom","plus-darker","plus-lighter","pointer","polygon","portrait","pre","pre-line","pre-wrap","preserve-3d","progress","push-button","radial-gradient","radio","read-only","read-write","read-write-plaintext-only","rectangle","region","relative","repeat","repeating-linear-gradient","repeating-radial-gradient","repeating-conic-gradient","repeat-x","repeat-y","reset","reverse","rgb","rgba","ridge","right","rotate","rotate3d","rotateX","rotateY","rotateZ","round","row","row-resize","row-reverse","rtl","run-in","running","s-resize","sans-serif","saturate","saturation","scale","scale3d","scaleX","scaleY","scaleZ","screen","scroll","scrollbar","scroll-position","se-resize","searchfield","searchfield-cancel-button","searchfield-decoration","searchfield-results-button","searchfield-results-decoration","self-start","self-end","semi-condensed","semi-expanded","separate","sepia","serif","show","sidama","simp-chinese-formal","simp-chinese-informal","single","skew","skewX","skewY","skip-white-space","slide","slider-horizontal","slider-vertical","sliderthumb-horizontal","sliderthumb-vertical","slow","small","small-caps","small-caption","smaller","soft-light","solid","somali","source-atop","source-in","source-out","source-over","space","space-around","space-between","space-evenly","spell-out","square","square-button","start","static","status-bar","stretch","stroke","stroke-box","sub","subpixel-antialiased","svg_masks","super","sw-resize","symbolic","symbols","system-ui","table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row","table-row-group","tamil","telugu","text","text-bottom","text-top","textarea","textfield","thai","thick","thin","threeddarkshadow","threedface","threedhighlight","threedlightshadow","threedshadow","tibetan","tigre","tigrinya-er","tigrinya-er-abegede","tigrinya-et","tigrinya-et-abegede","to","top","trad-chinese-formal","trad-chinese-informal","transform","translate","translate3d","translateX","translateY","translateZ","transparent","ultra-condensed","ultra-expanded","underline","unidirectional-pan","unset","up","upper-alpha","upper-armenian","upper-greek","upper-hexadecimal","upper-latin","upper-norwegian","upper-roman","uppercase","urdu","url","var","vertical","vertical-text","view-box","visible","visibleFill","visiblePainted","visibleStroke","visual","w-resize","wait","wave","wider","window","windowframe","windowtext","words","wrap","wrap-reverse","x-large","x-small","xor","xx-large","xx-small"],ut=y(ht),bt=m.concat(b).concat(C).concat(A).concat(D).concat(U).concat(q).concat(ht);function F(B,X){for(var J,K=!1;null!=(J=B.next());){if(K&&"/"==J){X.tokenize=null;break}K="*"==J}return["comment","comment"]}h.registerHelper("hintWords","css",bt),h.defineMIME("text/css",{documentTypes:_,mediaTypes:T,mediaFeatures:k,mediaValueKeywords:I,propertyKeywords:L,nonStandardPropertyKeywords:S,fontProperties:G,counterDescriptors:Y,colorKeywords:tt,valueKeywords:ut,tokenHooks:{"/":function(B,X){return!!B.eat("*")&&(X.tokenize=F,F(B,X))}},name:"css"}),h.defineMIME("text/x-scss",{mediaTypes:T,mediaFeatures:k,mediaValueKeywords:I,propertyKeywords:L,nonStandardPropertyKeywords:S,colorKeywords:tt,valueKeywords:ut,fontProperties:G,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(B,X){return B.eat("/")?(B.skipToEnd(),["comment","comment"]):B.eat("*")?(X.tokenize=F,F(B,X)):["operator","operator"]},":":function(B){return!!B.match(/^\s*\{/,!1)&&[null,null]},$:function(B){return B.match(/^[\w-]+/),B.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"]},"#":function(B){return!!B.eat("{")&&[null,"interpolation"]}},name:"css",helperType:"scss"}),h.defineMIME("text/x-less",{mediaTypes:T,mediaFeatures:k,mediaValueKeywords:I,propertyKeywords:L,nonStandardPropertyKeywords:S,colorKeywords:tt,valueKeywords:ut,fontProperties:G,allowNested:!0,lineComment:"//",tokenHooks:{"/":function(B,X){return B.eat("/")?(B.skipToEnd(),["comment","comment"]):B.eat("*")?(X.tokenize=F,F(B,X)):["operator","operator"]},"@":function(B){return B.eat("{")?[null,"interpolation"]:!B.match(/^(charset|document|font-face|import|(-(moz|ms|o|webkit)-)?keyframes|media|namespace|page|supports)\b/i,!1)&&(B.eatWhile(/[\w\\\-]/),B.match(/^\s*:/,!1)?["variable-2","variable-definition"]:["variable-2","variable"])},"&":function(){return["atom","atom"]}},name:"css",helperType:"less"}),h.defineMIME("text/x-gss",{documentTypes:_,mediaTypes:T,mediaFeatures:k,propertyKeywords:L,nonStandardPropertyKeywords:S,fontProperties:G,counterDescriptors:Y,colorKeywords:tt,valueKeywords:ut,supportsAtComponent:!0,tokenHooks:{"/":function(B,X){return!!B.eat("*")&&(X.tokenize=F,F(B,X))}},name:"css",helperType:"gss"})}(M(631))},531:(x,g,M)=>{!function(h){"use strict";var y={script:[["lang",/(javascript|babel)/i,"javascript"],["type",/^(?:text|application)\/(?:x-)?(?:java|ecma)script$|^module$|^$/i,"javascript"],["type",/./,"text/plain"],[null,null,"javascript"]],style:[["lang",/^css$/i,"css"],["type",/^(text\/)?(x-)?(stylesheet|css)$/i,"css"],["type",/./,"text/plain"],[null,null,"css"]]};var _={};function T(I,D){var L=I.match(function b(I){return _[I]||(_[I]=new RegExp("\\s+"+I+"\\s*=\\s*('|\")?([^'\"]+)('|\")?\\s*"))}(D));return L?/^\s*(.*?)\s*$/.exec(L[2])[1]:""}function C(I,D){return new RegExp((D?"^":"")+"</\\s*"+I+"\\s*>","i")}function k(I,D){for(var L in I)for(var U=D[L]||(D[L]=[]),S=I[L],G=S.length-1;G>=0;G--)U.unshift(S[G])}h.defineMode("htmlmixed",function(I,D){var L=h.getMode(I,{name:"xml",htmlMode:!0,multilineTagIndentFactor:D.multilineTagIndentFactor,multilineTagIndentPastTag:D.multilineTagIndentPastTag,allowMissingTagName:D.allowMissingTagName}),U={},S=D&&D.tags,G=D&&D.scriptTypes;if(k(y,U),S&&k(S,U),G)for(var Y=G.length-1;Y>=0;Y--)U.script.unshift(["type",G[Y].matches,G[Y].mode]);function q(tt,ht){var ut,bt=L.token(tt,ht.htmlState),F=/\btag\b/.test(bt);if(F&&!/[<>\s\/]/.test(tt.current())&&(ut=ht.htmlState.tagName&&ht.htmlState.tagName.toLowerCase())&&U.hasOwnProperty(ut))ht.inTag=ut+" ";else if(ht.inTag&&F&&/>$/.test(tt.current())){var B=/^([\S]+) (.*)/.exec(ht.inTag);ht.inTag=null;var X=">"==tt.current()&&function A(I,D){for(var L=0;L<I.length;L++){var U=I[L];if(!U[0]||U[1].test(T(D,U[0])))return U[2]}}(U[B[1]],B[2]),J=h.getMode(I,X),K=C(B[1],!0),at=C(B[1],!1);ht.token=function(Q,gt){return Q.match(K,!1)?(gt.token=q,gt.localState=gt.localMode=null,null):function m(I,D,L){var U=I.current(),S=U.search(D);return S>-1?I.backUp(U.length-S):U.match(/<\/?$/)&&(I.backUp(U.length),I.match(D,!1)||I.match(U)),L}(Q,at,gt.localMode.token(Q,gt.localState))},ht.localMode=J,ht.localState=h.startState(J,L.indent(ht.htmlState,"",""))}else ht.inTag&&(ht.inTag+=tt.current(),tt.eol()&&(ht.inTag+=" "));return bt}return{startState:function(){return{token:q,inTag:null,localMode:null,localState:null,htmlState:h.startState(L)}},copyState:function(tt){var ht;return tt.localState&&(ht=h.copyState(tt.localMode,tt.localState)),{token:tt.token,inTag:tt.inTag,localMode:tt.localMode,localState:ht,htmlState:h.copyState(L,tt.htmlState)}},token:function(tt,ht){return ht.token(tt,ht)},indent:function(tt,ht,ut){return!tt.localMode||/^\s*<\//.test(ht)?L.indent(tt.htmlState,ht,ut):tt.localMode.indent?tt.localMode.indent(tt.localState,ht,ut):h.Pass},innerMode:function(tt){return{state:tt.localState||tt.htmlState,mode:tt.localMode||L}}}},"xml","javascript","css"),h.defineMIME("text/html","htmlmixed")}(M(631),M(589),M(876),M(629))},876:(x,g,M)=>{!function(h){"use strict";h.defineMode("javascript",function(y,m){var _,b,T=y.indentUnit,C=m.statementIndent,k=m.jsonld,A=m.json||k,I=!1!==m.trackScope,D=m.typescript,L=m.wordCharacters||/[\w$\xa1-\uffff]/,U=function(){function vt(hr){return{type:hr,style:"keyword"}}var It=vt("keyword a"),ge=vt("keyword b"),Ie=vt("keyword c"),Re=vt("keyword d"),Cn=vt("operator"),Fe={type:"atom",style:"atom"};return{if:vt("if"),while:It,with:It,else:ge,do:ge,try:ge,finally:ge,return:Re,break:Re,continue:Re,new:vt("new"),delete:Ie,void:Ie,throw:Ie,debugger:vt("debugger"),var:vt("var"),const:vt("var"),let:vt("var"),function:vt("function"),catch:vt("catch"),for:vt("for"),switch:vt("switch"),case:vt("case"),default:vt("default"),in:Cn,typeof:Cn,instanceof:Cn,true:Fe,false:Fe,null:Fe,undefined:Fe,NaN:Fe,Infinity:Fe,this:vt("this"),class:vt("class"),super:vt("atom"),yield:Ie,export:vt("export"),import:vt("import"),extends:Ie,await:Ie}}(),S=/[+\-*&%=<>!?|~^@]/,G=/^@(context|id|value|language|type|container|list|set|reverse|index|base|vocab|graph)"/;function q(vt,It,ge){return _=vt,b=ge,It}function tt(vt,It){var ge=vt.next();if('"'==ge||"'"==ge)return It.tokenize=function ht(vt){return function(It,ge){var Ie,Re=!1;if(k&&"@"==It.peek()&&It.match(G))return ge.tokenize=tt,q("jsonld-keyword","meta");for(;null!=(Ie=It.next())&&(Ie!=vt||Re);)Re=!Re&&"\\"==Ie;return Re||(ge.tokenize=tt),q("string","string")}}(ge),It.tokenize(vt,It);if("."==ge&&vt.match(/^\d[\d_]*(?:[eE][+\-]?[\d_]+)?/))return q("number","number");if("."==ge&&vt.match(".."))return q("spread","meta");if(/[\[\]{}\(\),;\:\.]/.test(ge))return q(ge);if("="==ge&&vt.eat(">"))return q("=>","operator");if("0"==ge&&vt.match(/^(?:x[\dA-Fa-f_]+|o[0-7_]+|b[01_]+)n?/))return q("number","number");if(/\d/.test(ge))return vt.match(/^[\d_]*(?:n|(?:\.[\d_]*)?(?:[eE][+\-]?[\d_]+)?)?/),q("number","number");if("/"==ge)return vt.eat("*")?(It.tokenize=ut,ut(vt,It)):vt.eat("/")?(vt.skipToEnd(),q("comment","comment")):we(vt,It,1)?(function Y(vt){for(var It,ge=!1,Ie=!1;null!=(It=vt.next());){if(!ge){if("/"==It&&!Ie)return;"["==It?Ie=!0:Ie&&"]"==It&&(Ie=!1)}ge=!ge&&"\\"==It}}(vt),vt.match(/^\b(([gimyus])(?![gimyus]*\2))+\b/),q("regexp","string-2")):(vt.eat("="),q("operator","operator",vt.current()));if("`"==ge)return It.tokenize=bt,bt(vt,It);if("#"==ge&&"!"==vt.peek())return vt.skipToEnd(),q("meta","meta");if("#"==ge&&vt.eatWhile(L))return q("variable","property");if("<"==ge&&vt.match("!--")||"-"==ge&&vt.match("->")&&!/\S/.test(vt.string.slice(0,vt.start)))return vt.skipToEnd(),q("comment","comment");if(S.test(ge))return">"==ge&&It.lexical&&">"==It.lexical.type||(vt.eat("=")?"!"!=ge&&"="!=ge||vt.eat("="):/[<>*+\-|&?]/.test(ge)&&(vt.eat(ge),">"==ge&&vt.eat(ge))),"?"==ge&&vt.eat(".")?q("."):q("operator","operator",vt.current());if(L.test(ge)){vt.eatWhile(L);var Ie=vt.current();if("."!=It.lastType){if(U.propertyIsEnumerable(Ie)){var Re=U[Ie];return q(Re.type,Re.style,Ie)}if("async"==Ie&&vt.match(/^(\s|\/\*([^*]|\*(?!\/))*?\*\/)*[\[\(\w]/,!1))return q("async","keyword",Ie)}return q("variable","variable",Ie)}}function ut(vt,It){for(var ge,Ie=!1;ge=vt.next();){if("/"==ge&&Ie){It.tokenize=tt;break}Ie="*"==ge}return q("comment","comment")}function bt(vt,It){for(var ge,Ie=!1;null!=(ge=vt.next());){if(!Ie&&("`"==ge||"$"==ge&&vt.eat("{"))){It.tokenize=tt;break}Ie=!Ie&&"\\"==ge}return q("quasi","string-2",vt.current())}var F="([{}])";function B(vt,It){It.fatArrowAt&&(It.fatArrowAt=null);var ge=vt.string.indexOf("=>",vt.start);if(!(ge<0)){if(D){var Ie=/:\s*(?:\w+(?:<[^>]*>|\[\])?|\{[^}]*\})\s*$/.exec(vt.string.slice(vt.start,ge));Ie&&(ge=Ie.index)}for(var Re=0,Cn=!1,Fe=ge-1;Fe>=0;--Fe){var hr=vt.string.charAt(Fe),jr=F.indexOf(hr);if(jr>=0&&jr<3){if(!Re){++Fe;break}if(0==--Re){"("==hr&&(Cn=!0);break}}else if(jr>=3&&jr<6)++Re;else if(L.test(hr))Cn=!0;else if(/["'\/`]/.test(hr))for(;;--Fe){if(0==Fe)return;if(vt.string.charAt(Fe-1)==hr&&"\\"!=vt.string.charAt(Fe-2)){Fe--;break}}else if(Cn&&!Re){++Fe;break}}Cn&&!Re&&(It.fatArrowAt=Fe)}}var X={atom:!0,number:!0,variable:!0,string:!0,regexp:!0,this:!0,import:!0,"jsonld-keyword":!0};function J(vt,It,ge,Ie,Re,Cn){this.indented=vt,this.column=It,this.type=ge,this.prev=Re,this.info=Cn,null!=Ie&&(this.align=Ie)}function K(vt,It){if(!I)return!1;for(var ge=vt.localVars;ge;ge=ge.next)if(ge.name==It)return!0;for(var Ie=vt.context;Ie;Ie=Ie.prev)for(ge=Ie.vars;ge;ge=ge.next)if(ge.name==It)return!0}function at(vt,It,ge,Ie,Re){var Cn=vt.cc;for(Q.state=vt,Q.stream=Re,Q.marked=null,Q.cc=Cn,Q.style=It,vt.lexical.hasOwnProperty("align")||(vt.lexical.align=!0);;)if((Cn.length?Cn.pop():A?fe:Pt)(ge,Ie)){for(;Cn.length&&Cn[Cn.length-1].lex;)Cn.pop()();return Q.marked?Q.marked:"variable"==ge&&K(vt,Ie)?"variable-2":It}}var Q={state:null,column:null,marked:null,cc:null};function gt(){for(var vt=arguments.length-1;vt>=0;vt--)Q.cc.push(arguments[vt])}function ot(){return gt.apply(null,arguments),!0}function Ot(vt,It){for(var ge=It;ge;ge=ge.next)if(ge.name==vt)return!0;return!1}function yt(vt){var It=Q.state;if(Q.marked="def",I){if(It.context)if("var"==It.lexical.info&&It.context&&It.context.block){var ge=Et(vt,It.context);if(null!=ge)return void(It.context=ge)}else if(!Ot(vt,It.localVars))return void(It.localVars=new Ut(vt,It.localVars));m.globalVars&&!Ot(vt,It.globalVars)&&(It.globalVars=new Ut(vt,It.globalVars))}}function Et(vt,It){if(It){if(It.block){var ge=Et(vt,It.prev);return ge?ge==It.prev?It:new jt(ge,It.vars,!0):null}return Ot(vt,It.vars)?It:new jt(It.prev,new Ut(vt,It.vars),!1)}return null}function Mt(vt){return"public"==vt||"private"==vt||"protected"==vt||"abstract"==vt||"readonly"==vt}function jt(vt,It,ge){this.prev=vt,this.vars=It,this.block=ge}function Ut(vt,It){this.name=vt,this.next=It}var le=new Ut("this",new Ut("arguments",null));function Zt(){Q.state.context=new jt(Q.state.context,Q.state.localVars,!1),Q.state.localVars=le}function ie(){Q.state.context=new jt(Q.state.context,Q.state.localVars,!0),Q.state.localVars=null}function Ht(){Q.state.localVars=Q.state.context.vars,Q.state.context=Q.state.context.prev}function _t(vt,It){var ge=function(){var Ie=Q.state,Re=Ie.indented;if("stat"==Ie.lexical.type)Re=Ie.lexical.indented;else for(var Cn=Ie.lexical;Cn&&")"==Cn.type&&Cn.align;Cn=Cn.prev)Re=Cn.indented;Ie.lexical=new J(Re,Q.stream.column(),vt,null,Ie.lexical,It)};return ge.lex=!0,ge}function Xt(){var vt=Q.state;vt.lexical.prev&&(")"==vt.lexical.type&&(vt.indented=vt.lexical.indented),vt.lexical=vt.lexical.prev)}function Gt(vt){return function It(ge){return ge==vt?ot():";"==vt||"}"==ge||")"==ge||"]"==ge?gt():ot(It)}}function Pt(vt,It){return"var"==vt?ot(_t("vardef",It),yn,Gt(";"),Xt):"keyword a"==vt?ot(_t("form"),Ee,Pt,Xt):"keyword b"==vt?ot(_t("form"),Pt,Xt):"keyword d"==vt?Q.stream.match(/^\s*$/,!1)?ot():ot(_t("stat"),Ke,Gt(";"),Xt):"debugger"==vt?ot(Gt(";")):"{"==vt?ot(_t("}"),ie,bn,Xt,Ht):";"==vt?ot():"if"==vt?("else"==Q.state.lexical.info&&Q.state.cc[Q.state.cc.length-1]==Xt&&Q.state.cc.pop()(),ot(_t("form"),Ee,Pt,Xt,rr)):"function"==vt?ot(Zn):"for"==vt?ot(_t("form"),ie,Ar,Pt,Ht,Xt):"class"==vt||D&&"interface"==It?(Q.marked="keyword",ot(_t("form","class"==vt?vt:It),st,Xt)):"variable"==vt?D&&"declare"==It?(Q.marked="keyword",ot(Pt)):D&&("module"==It||"enum"==It||"type"==It)&&Q.stream.match(/^\s*\w/,!1)?(Q.marked="keyword","enum"==It?ot(An):"type"==It?ot(Rn,Gt("operator"),ee,Gt(";")):ot(_t("form"),kn,Gt("{"),_t("}"),bn,Xt,Xt)):D&&"namespace"==It?(Q.marked="keyword",ot(_t("form"),fe,Pt,Xt)):D&&"abstract"==It?(Q.marked="keyword",ot(Pt)):ot(_t("stat"),$t):"switch"==vt?ot(_t("form"),Ee,Gt("{"),_t("}","switch"),ie,bn,Xt,Xt,Ht):"case"==vt?ot(fe,Gt(":")):"default"==vt?ot(Gt(":")):"catch"==vt?ot(_t("form"),Zt,he,Pt,Xt,Ht):"export"==vt?ot(_t("stat"),Xe,Xt):"import"==vt?ot(_t("stat"),Ve,Xt):"async"==vt?ot(Pt):"@"==It?ot(fe,Pt):gt(_t("stat"),fe,Gt(";"),Xt)}function he(vt){if("("==vt)return ot(Gn,Gt(")"))}function fe(vt,It){return Te(vt,It,!1)}function Ce(vt,It){return Te(vt,It,!0)}function Ee(vt){return"("!=vt?gt():ot(_t(")"),Ke,Gt(")"),Xt)}function Te(vt,It,ge){if(Q.state.fatArrowAt==Q.stream.start){var Ie=ge?ae:Qt;if("("==vt)return ot(Zt,_t(")"),$e(Gn,")"),Xt,Gt("=>"),Ie,Ht);if("variable"==vt)return gt(Zt,kn,Gt("=>"),Ie,Ht)}var Re=ge?We:pn;return X.hasOwnProperty(vt)?ot(Re):"function"==vt?ot(Zn,Re):"class"==vt||D&&"interface"==It?(Q.marked="keyword",ot(_t("form"),z,Xt)):"keyword c"==vt||"async"==vt?ot(ge?Ce:fe):"("==vt?ot(_t(")"),Ke,Gt(")"),Xt,Re):"operator"==vt||"spread"==vt?ot(ge?Ce:fe):"["==vt?ot(_t("]"),ln,Xt,Re):"{"==vt?on(se,"}",null,Re):"quasi"==vt?gt(Ye,Re):"new"==vt?ot(function rt(vt){return function(It){return"."==It?ot(vt?At:Tt):"variable"==It&&D?ot(Qe,vt?We:pn):gt(vt?Ce:fe)}}(ge)):ot()}function Ke(vt){return vt.match(/[;\}\)\],]/)?gt():gt(fe)}function pn(vt,It){return","==vt?ot(Ke):We(vt,It,!1)}function We(vt,It,ge){var Ie=0==ge?pn:We,Re=0==ge?fe:Ce;return"=>"==vt?ot(Zt,ge?ae:Qt,Ht):"operator"==vt?/\+\+|--/.test(It)||D&&"!"==It?ot(Ie):D&&"<"==It&&Q.stream.match(/^([^<>]|<[^<>]*>)*>\s*\(/,!1)?ot(_t(">"),$e(ee,">"),Xt,Ie):"?"==It?ot(fe,Gt(":"),Re):ot(Re):"quasi"==vt?gt(Ye,Ie):";"!=vt?"("==vt?on(Ce,")","call",Ie):"."==vt?ot(oe,Ie):"["==vt?ot(_t("]"),Ke,Gt("]"),Xt,Ie):D&&"as"==It?(Q.marked="keyword",ot(ee,Ie)):"regexp"==vt?(Q.state.lastType=Q.marked="operator",Q.stream.backUp(Q.stream.pos-Q.stream.start-1),ot(Re)):void 0:void 0}function Ye(vt,It){return"quasi"!=vt?gt():"${"!=It.slice(It.length-2)?ot(Ye):ot(Ke,Ne)}function Ne(vt){if("}"==vt)return Q.marked="string-2",Q.state.tokenize=bt,ot(Ye)}function Qt(vt){return B(Q.stream,Q.state),gt("{"==vt?Pt:fe)}function ae(vt){return B(Q.stream,Q.state),gt("{"==vt?Pt:Ce)}function Tt(vt,It){if("target"==It)return Q.marked="keyword",ot(pn)}function At(vt,It){if("target"==It)return Q.marked="keyword",ot(We)}function $t(vt){return":"==vt?ot(Xt,Pt):gt(pn,Gt(";"),Xt)}function oe(vt){if("variable"==vt)return Q.marked="property",ot()}function se(vt,It){return"async"==vt?(Q.marked="property",ot(se)):"variable"==vt||"keyword"==Q.style?(Q.marked="property","get"==It||"set"==It?ot(xe):(D&&Q.state.fatArrowAt==Q.stream.start&&(ge=Q.stream.match(/^\s*:\s*/,!1))&&(Q.state.fatArrowAt=Q.stream.pos+ge[0].length),ot(Ue))):"number"==vt||"string"==vt?(Q.marked=k?"property":Q.style+" property",ot(Ue)):"jsonld-keyword"==vt?ot(Ue):D&&Mt(It)?(Q.marked="keyword",ot(se)):"["==vt?ot(fe,Se,Gt("]"),Ue):"spread"==vt?ot(Ce,Ue):"*"==It?(Q.marked="keyword",ot(se)):":"==vt?gt(Ue):void 0;var ge}function xe(vt){return"variable"!=vt?gt(Ue):(Q.marked="property",ot(Zn))}function Ue(vt){return":"==vt?ot(Ce):"("==vt?gt(Zn):void 0}function $e(vt,It,ge){function Ie(Re,Cn){if(ge?ge.indexOf(Re)>-1:","==Re){var Fe=Q.state.lexical;return"call"==Fe.info&&(Fe.pos=(Fe.pos||0)+1),ot(function(hr,jr){return hr==It||jr==It?gt():gt(vt)},Ie)}return Re==It||Cn==It?ot():ge&&ge.indexOf(";")>-1?gt(vt):ot(Gt(It))}return function(Re,Cn){return Re==It||Cn==It?ot():gt(vt,Ie)}}function on(vt,It,ge){for(var Ie=3;Ie<arguments.length;Ie++)Q.cc.push(arguments[Ie]);return ot(_t(It,ge),$e(vt,It),Xt)}function bn(vt){return"}"==vt?ot():gt(Pt,bn)}function Se(vt,It){if(D){if(":"==vt)return ot(ee);if("?"==It)return ot(Se)}}function xt(vt,It){if(D&&(":"==vt||"in"==It))return ot(ee)}function Bt(vt){if(D&&":"==vt)return Q.stream.match(/^\s*\w+\s+is\b/,!1)?ot(fe,Wt,ee):ot(ee)}function Wt(vt,It){if("is"==It)return Q.marked="keyword",ot()}function ee(vt,It){return"keyof"==It||"typeof"==It||"infer"==It||"readonly"==It?(Q.marked="keyword",ot("typeof"==It?Ce:ee)):"variable"==vt||"void"==It?(Q.marked="type",ot(sn)):"|"==It||"&"==It?ot(ee):"string"==vt||"number"==vt||"atom"==vt?ot(sn):"["==vt?ot(_t("]"),$e(ee,"]",","),Xt,sn):"{"==vt?ot(_t("}"),Le,Xt,sn):"("==vt?ot($e(nr,")"),Ae,sn):"<"==vt?ot($e(ee,">"),ee):"quasi"==vt?gt(fn,sn):void 0}function Ae(vt){if("=>"==vt)return ot(ee)}function Le(vt){return vt.match(/[\}\)\]]/)?ot():","==vt||";"==vt?ot(Le):gt(dn,Le)}function dn(vt,It){return"variable"==vt||"keyword"==Q.style?(Q.marked="property",ot(dn)):"?"==It||"number"==vt||"string"==vt?ot(dn):":"==vt?ot(ee):"["==vt?ot(Gt("variable"),xt,Gt("]"),dn):"("==vt?gt(Sn,dn):vt.match(/[;\}\)\],]/)?void 0:ot()}function fn(vt,It){return"quasi"!=vt?gt():"${"!=It.slice(It.length-2)?ot(fn):ot(ee,Ln)}function Ln(vt){if("}"==vt)return Q.marked="string-2",Q.state.tokenize=bt,ot(fn)}function nr(vt,It){return"variable"==vt&&Q.stream.match(/^\s*[?:]/,!1)||"?"==It?ot(nr):":"==vt?ot(ee):"spread"==vt?ot(nr):gt(ee)}function sn(vt,It){return"<"==It?ot(_t(">"),$e(ee,">"),Xt,sn):"|"==It||"."==vt||"&"==It?ot(ee):"["==vt?ot(ee,Gt("]"),sn):"extends"==It||"implements"==It?(Q.marked="keyword",ot(ee)):"?"==It?ot(ee,Gt(":"),ee):void 0}function Qe(vt,It){if("<"==It)return ot(_t(">"),$e(ee,">"),Xt,sn)}function In(){return gt(ee,mr)}function mr(vt,It){if("="==It)return ot(ee)}function yn(vt,It){return"enum"==It?(Q.marked="keyword",ot(An)):gt(kn,Se,$n,Tr)}function kn(vt,It){return D&&Mt(It)?(Q.marked="keyword",ot(kn)):"variable"==vt?(yt(It),ot()):"spread"==vt?ot(kn):"["==vt?on(Wn,"]"):"{"==vt?on(Pn,"}"):void 0}function Pn(vt,It){return"variable"!=vt||Q.stream.match(/^\s*:/,!1)?("variable"==vt&&(Q.marked="property"),"spread"==vt?ot(kn):"}"==vt?gt():"["==vt?ot(fe,Gt("]"),Gt(":"),Pn):ot(Gt(":"),kn,$n)):(yt(It),ot($n))}function Wn(){return gt(kn,$n)}function $n(vt,It){if("="==It)return ot(Ce)}function Tr(vt){if(","==vt)return ot(yn)}function rr(vt,It){if("keyword b"==vt&&"else"==It)return ot(_t("form","else"),Pt,Xt)}function Ar(vt,It){return"await"==It?ot(Ar):"("==vt?ot(_t(")"),dr,Xt):void 0}function dr(vt){return"var"==vt?ot(yn,_n):"variable"==vt?ot(_n):gt(_n)}function _n(vt,It){return")"==vt?ot():";"==vt?ot(_n):"in"==It||"of"==It?(Q.marked="keyword",ot(fe,_n)):gt(fe,_n)}function Zn(vt,It){return"*"==It?(Q.marked="keyword",ot(Zn)):"variable"==vt?(yt(It),ot(Zn)):"("==vt?ot(Zt,_t(")"),$e(Gn,")"),Xt,Bt,Pt,Ht):D&&"<"==It?ot(_t(">"),$e(In,">"),Xt,Zn):void 0}function Sn(vt,It){return"*"==It?(Q.marked="keyword",ot(Sn)):"variable"==vt?(yt(It),ot(Sn)):"("==vt?ot(Zt,_t(")"),$e(Gn,")"),Xt,Bt,Ht):D&&"<"==It?ot(_t(">"),$e(In,">"),Xt,Sn):void 0}function Rn(vt,It){return"keyword"==vt||"variable"==vt?(Q.marked="type",ot(Rn)):"<"==It?ot(_t(">"),$e(In,">"),Xt):void 0}function Gn(vt,It){return"@"==It&&ot(fe,Gn),"spread"==vt?ot(Gn):D&&Mt(It)?(Q.marked="keyword",ot(Gn)):D&&"this"==vt?ot(Se,$n):gt(kn,Se,$n)}function z(vt,It){return"variable"==vt?st(vt,It):nt(vt,It)}function st(vt,It){if("variable"==vt)return yt(It),ot(nt)}function nt(vt,It){return"<"==It?ot(_t(">"),$e(In,">"),Xt,nt):"extends"==It||"implements"==It||D&&","==vt?("implements"==It&&(Q.marked="keyword"),ot(D?ee:fe,nt)):"{"==vt?ot(_t("}"),kt,Xt):void 0}function kt(vt,It){return"async"==vt||"variable"==vt&&("static"==It||"get"==It||"set"==It||D&&Mt(It))&&Q.stream.match(/^\s+[\w$\xa1-\uffff]/,!1)?(Q.marked="keyword",ot(kt)):"variable"==vt||"keyword"==Q.style?(Q.marked="property",ot(ne,kt)):"number"==vt||"string"==vt?ot(ne,kt):"["==vt?ot(fe,Se,Gt("]"),ne,kt):"*"==It?(Q.marked="keyword",ot(kt)):D&&"("==vt?gt(Sn,kt):";"==vt||","==vt?ot(kt):"}"==vt?ot():"@"==It?ot(fe,kt):void 0}function ne(vt,It){if("!"==It||"?"==It)return ot(ne);if(":"==vt)return ot(ee,$n);if("="==It)return ot(Ce);var ge=Q.state.lexical.prev;return gt(ge&&"interface"==ge.info?Sn:Zn)}function Xe(vt,It){return"*"==It?(Q.marked="keyword",ot(Dn,Gt(";"))):"default"==It?(Q.marked="keyword",ot(fe,Gt(";"))):"{"==vt?ot($e(zn,"}"),Dn,Gt(";")):gt(Pt)}function zn(vt,It){return"as"==It?(Q.marked="keyword",ot(Gt("variable"))):"variable"==vt?gt(Ce,zn):void 0}function Ve(vt){return"string"==vt?ot():"("==vt?gt(fe):"."==vt?gt(pn):gt(ye,ct,Dn)}function ye(vt,It){return"{"==vt?on(ye,"}"):("variable"==vt&&yt(It),"*"==It&&(Q.marked="keyword"),ot(hn))}function ct(vt){if(","==vt)return ot(ye,ct)}function hn(vt,It){if("as"==It)return Q.marked="keyword",ot(ye)}function Dn(vt,It){if("from"==It)return Q.marked="keyword",ot(fe)}function ln(vt){return"]"==vt?ot():gt($e(Ce,"]"))}function An(){return gt(_t("form"),kn,Gt("{"),_t("}"),$e(lr,"}"),Xt,Xt)}function lr(){return gt(kn,$n)}function we(vt,It,ge){return It.tokenize==tt&&/^(?:operator|sof|keyword [bcd]|case|new|export|default|spread|[\[{}\(,;:]|=>)$/.test(It.lastType)||"quasi"==It.lastType&&/\{\s*$/.test(vt.string.slice(0,vt.pos-(ge||0)))}return Zt.lex=ie.lex=!0,Ht.lex=!0,Xt.lex=!0,{startState:function(vt){var It={tokenize:tt,lastType:"sof",cc:[],lexical:new J((vt||0)-T,0,"block",!1),localVars:m.localVars,context:m.localVars&&new jt(null,null,!1),indented:vt||0};return m.globalVars&&"object"==typeof m.globalVars&&(It.globalVars=m.globalVars),It},token:function(vt,It){if(vt.sol()&&(It.lexical.hasOwnProperty("align")||(It.lexical.align=!1),It.indented=vt.indentation(),B(vt,It)),It.tokenize!=ut&&vt.eatSpace())return null;var ge=It.tokenize(vt,It);return"comment"==_?ge:(It.lastType="operator"!=_||"++"!=b&&"--"!=b?_:"incdec",at(It,ge,_,b,vt))},indent:function(vt,It){if(vt.tokenize==ut||vt.tokenize==bt)return h.Pass;if(vt.tokenize!=tt)return 0;var ge,Ie=It&&It.charAt(0),Re=vt.lexical;if(!/^\s*else\b/.test(It))for(var Cn=vt.cc.length-1;Cn>=0;--Cn){var Fe=vt.cc[Cn];if(Fe==Xt)Re=Re.prev;else if(Fe!=rr&&Fe!=Ht)break}for(;("stat"==Re.type||"form"==Re.type)&&("}"==Ie||(ge=vt.cc[vt.cc.length-1])&&(ge==pn||ge==We)&&!/^[,\.=+\-*:?[\(]/.test(It));)Re=Re.prev;C&&")"==Re.type&&"stat"==Re.prev.type&&(Re=Re.prev);var hr=Re.type,jr=Ie==hr;return"vardef"==hr?Re.indented+("operator"==vt.lastType||","==vt.lastType?Re.info.length+1:0):"form"==hr&&"{"==Ie?Re.indented:"form"==hr?Re.indented+T:"stat"==hr?Re.indented+(function kr(vt,It){return"operator"==vt.lastType||","==vt.lastType||S.test(It.charAt(0))||/[,.]/.test(It.charAt(0))}(vt,It)?C||T:0):"switch"!=Re.info||jr||0==m.doubleIndentSwitch?Re.align?Re.column+(jr?0:1):Re.indented+(jr?0:T):Re.indented+(/^(?:case|default)\b/.test(It)?T:2*T)},electricInput:/^\s*(?:case .*?:|default:|\{|\})$/,blockCommentStart:A?null:"/*",blockCommentEnd:A?null:"*/",blockCommentContinue:A?null:" * ",lineComment:A?null:"//",fold:"brace",closeBrackets:"()[]{}''\"\"``",helperType:A?"json":"javascript",jsonldMode:k,jsonMode:A,expressionAllowed:we,skipExpression:function(vt){at(vt,"atom","atom","true",new h.StringStream("",2,null))}}}),h.registerHelper("wordChars","javascript",/[\w$]/),h.defineMIME("text/javascript","javascript"),h.defineMIME("text/ecmascript","javascript"),h.defineMIME("application/javascript","javascript"),h.defineMIME("application/x-javascript","javascript"),h.defineMIME("application/ecmascript","javascript"),h.defineMIME("application/json",{name:"javascript",json:!0}),h.defineMIME("application/x-json",{name:"javascript",json:!0}),h.defineMIME("application/manifest+json",{name:"javascript",json:!0}),h.defineMIME("application/ld+json",{name:"javascript",jsonld:!0}),h.defineMIME("text/typescript",{name:"javascript",typescript:!0}),h.defineMIME("application/typescript",{name:"javascript",typescript:!0})}(M(631))},589:(x,g,M)=>{!function(h){"use strict";var y={autoSelfClosers:{area:!0,base:!0,br:!0,col:!0,command:!0,embed:!0,frame:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0,menuitem:!0},implicitlyClosed:{dd:!0,li:!0,optgroup:!0,option:!0,p:!0,rp:!0,rt:!0,tbody:!0,td:!0,tfoot:!0,th:!0,tr:!0},contextGrabbers:{dd:{dd:!0,dt:!0},dt:{dd:!0,dt:!0},li:{li:!0},option:{option:!0,optgroup:!0},optgroup:{optgroup:!0},p:{address:!0,article:!0,aside:!0,blockquote:!0,dir:!0,div:!0,dl:!0,fieldset:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,menu:!0,nav:!0,ol:!0,p:!0,pre:!0,section:!0,table:!0,ul:!0},rp:{rp:!0,rt:!0},rt:{rp:!0,rt:!0},tbody:{tbody:!0,tfoot:!0},td:{td:!0,th:!0},tfoot:{tbody:!0},th:{td:!0,th:!0},thead:{tbody:!0,tfoot:!0},tr:{tr:!0}},doNotIndent:{pre:!0},allowUnquoted:!0,allowMissing:!0,caseFold:!0},m={autoSelfClosers:{},implicitlyClosed:{},contextGrabbers:{},doNotIndent:{},allowUnquoted:!1,allowMissing:!1,allowMissingTagName:!1,caseFold:!1};h.defineMode("xml",function(_,b){var T,C,k=_.indentUnit,A={},I=b.htmlMode?y:m;for(var D in I)A[D]=I[D];for(var D in b)A[D]=b[D];function L(ot,Ot){function yt(Mt){return Ot.tokenize=Mt,Mt(ot,Ot)}var Et=ot.next();return"<"==Et?ot.eat("!")?ot.eat("[")?ot.match("CDATA[")?yt(G("atom","]]>")):null:ot.match("--")?yt(G("comment","--\x3e")):ot.match("DOCTYPE",!0,!0)?(ot.eatWhile(/[\w\._\-]/),yt(Y(1))):null:ot.eat("?")?(ot.eatWhile(/[\w\._\-]/),Ot.tokenize=G("meta","?>"),"meta"):(T=ot.eat("/")?"closeTag":"openTag",Ot.tokenize=U,"tag bracket"):"&"==Et?(ot.eat("#")?ot.eat("x")?ot.eatWhile(/[a-fA-F\d]/)&&ot.eat(";"):ot.eatWhile(/[\d]/)&&ot.eat(";"):ot.eatWhile(/[\w\.\-:]/)&&ot.eat(";"))?"atom":"error":(ot.eatWhile(/[^&<]/),null)}function U(ot,Ot){var yt=ot.next();if(">"==yt||"/"==yt&&ot.eat(">"))return Ot.tokenize=L,T=">"==yt?"endTag":"selfcloseTag","tag bracket";if("="==yt)return T="equals",null;if("<"==yt){Ot.tokenize=L,Ot.state=bt,Ot.tagName=Ot.tagStart=null;var Et=Ot.tokenize(ot,Ot);return Et?Et+" tag error":"tag error"}return/[\'\"]/.test(yt)?(Ot.tokenize=function S(ot){var Ot=function(yt,Et){for(;!yt.eol();)if(yt.next()==ot){Et.tokenize=U;break}return"string"};return Ot.isInAttribute=!0,Ot}(yt),Ot.stringStartCol=ot.column(),Ot.tokenize(ot,Ot)):(ot.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/),"word")}function G(ot,Ot){return function(yt,Et){for(;!yt.eol();){if(yt.match(Ot)){Et.tokenize=L;break}yt.next()}return ot}}function Y(ot){return function(Ot,yt){for(var Et;null!=(Et=Ot.next());){if("<"==Et)return yt.tokenize=Y(ot+1),yt.tokenize(Ot,yt);if(">"==Et){if(1==ot){yt.tokenize=L;break}return yt.tokenize=Y(ot-1),yt.tokenize(Ot,yt)}}return"meta"}}function q(ot){return ot&&ot.toLowerCase()}function tt(ot,Ot,yt){this.prev=ot.context,this.tagName=Ot||"",this.indent=ot.indented,this.startOfLine=yt,(A.doNotIndent.hasOwnProperty(Ot)||ot.context&&ot.context.noIndent)&&(this.noIndent=!0)}function ht(ot){ot.context&&(ot.context=ot.context.prev)}function ut(ot,Ot){for(var yt;;){if(!ot.context||(yt=ot.context.tagName,!A.contextGrabbers.hasOwnProperty(q(yt))||!A.contextGrabbers[q(yt)].hasOwnProperty(q(Ot))))return;ht(ot)}}function bt(ot,Ot,yt){return"openTag"==ot?(yt.tagStart=Ot.column(),F):"closeTag"==ot?B:bt}function F(ot,Ot,yt){return"word"==ot?(yt.tagName=Ot.current(),C="tag",K):A.allowMissingTagName&&"endTag"==ot?(C="tag bracket",K(ot,Ot,yt)):(C="error",F)}function B(ot,Ot,yt){if("word"==ot){var Et=Ot.current();return yt.context&&yt.context.tagName!=Et&&A.implicitlyClosed.hasOwnProperty(q(yt.context.tagName))&&ht(yt),yt.context&&yt.context.tagName==Et||!1===A.matchClosing?(C="tag",X):(C="tag error",J)}return A.allowMissingTagName&&"endTag"==ot?(C="tag bracket",X(ot,Ot,yt)):(C="error",J)}function X(ot,Ot,yt){return"endTag"!=ot?(C="error",X):(ht(yt),bt)}function J(ot,Ot,yt){return C="error",X(ot,0,yt)}function K(ot,Ot,yt){if("word"==ot)return C="attribute",at;if("endTag"==ot||"selfcloseTag"==ot){var Et=yt.tagName,Mt=yt.tagStart;return yt.tagName=yt.tagStart=null,"selfcloseTag"==ot||A.autoSelfClosers.hasOwnProperty(q(Et))?ut(yt,Et):(ut(yt,Et),yt.context=new tt(yt,Et,Mt==yt.indented)),bt}return C="error",K}function at(ot,Ot,yt){return"equals"==ot?Q:(A.allowMissing||(C="error"),K(ot,0,yt))}function Q(ot,Ot,yt){return"string"==ot?gt:"word"==ot&&A.allowUnquoted?(C="string",K):(C="error",K(ot,0,yt))}function gt(ot,Ot,yt){return"string"==ot?gt:K(ot,0,yt)}return L.isInText=!0,{startState:function(ot){var Ot={tokenize:L,state:bt,indented:ot||0,tagName:null,tagStart:null,context:null};return null!=ot&&(Ot.baseIndent=ot),Ot},token:function(ot,Ot){if(!Ot.tagName&&ot.sol()&&(Ot.indented=ot.indentation()),ot.eatSpace())return null;T=null;var yt=Ot.tokenize(ot,Ot);return(yt||T)&&"comment"!=yt&&(C=null,Ot.state=Ot.state(T||yt,ot,Ot),C&&(yt="error"==C?yt+" error":C)),yt},indent:function(ot,Ot,yt){var Et=ot.context;if(ot.tokenize.isInAttribute)return ot.tagStart==ot.indented?ot.stringStartCol+1:ot.indented+k;if(Et&&Et.noIndent)return h.Pass;if(ot.tokenize!=U&&ot.tokenize!=L)return yt?yt.match(/^(\s*)/)[0].length:0;if(ot.tagName)return!1!==A.multilineTagIndentPastTag?ot.tagStart+ot.tagName.length+2:ot.tagStart+k*(A.multilineTagIndentFactor||1);if(A.alignCDATA&&/<!\[CDATA\[/.test(Ot))return 0;var Mt=Ot&&/^<(\/)?([\w_:\.-]*)/.exec(Ot);if(Mt&&Mt[1])for(;Et;){if(Et.tagName==Mt[2]){Et=Et.prev;break}if(!A.implicitlyClosed.hasOwnProperty(q(Et.tagName)))break;Et=Et.prev}else if(Mt)for(;Et;){var jt=A.contextGrabbers[q(Et.tagName)];if(!jt||!jt.hasOwnProperty(q(Mt[2])))break;Et=Et.prev}for(;Et&&Et.prev&&!Et.startOfLine;)Et=Et.prev;return Et?Et.indent+k:ot.baseIndent||0},electricInput:/<\/[\s\w:]+>$/,blockCommentStart:"\x3c!--",blockCommentEnd:"--\x3e",configuration:A.htmlMode?"html":"xml",helperType:A.htmlMode?"html":"xml",skipAttribute:function(ot){ot.state==Q&&(ot.state=K)},xmlCurrentTag:function(ot){return ot.tagName?{name:ot.tagName,close:"closeTag"==ot.type}:null},xmlCurrentContext:function(ot){for(var Ot=[],yt=ot.context;yt;yt=yt.prev)Ot.push(yt.tagName);return Ot.reverse()}}}),h.defineMIME("text/xml","xml"),h.defineMIME("application/xml","xml"),h.mimeModes.hasOwnProperty("text/html")||h.defineMIME("text/html",{name:"xml",htmlMode:!0})}(M(631))},858:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>h});const h={run:function(y){y.DomComponents.clear(),y.CssComposer.clear()}}},884:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>_});var h=M(50),y=M(163),m=M(668);const _={run:function(b){(0,h.bindAll)(this,"onKeyUp","enableDragger","disableDragger"),this.editor=b,this.canvasModel=this.canvas.getCanvasView().model,this.toggleMove(1)},stop:function(b){this.toggleMove(),this.disableDragger()},onKeyUp:function(b){" "===(0,y.getKeyChar)(b)&&this.editor.stopCommand(this.id)},enableDragger:function(b){this.toggleDragger(1,b)},disableDragger:function(b){this.toggleDragger(0,b)},toggleDragger:function(b,T){var C=this.canvasModel,k=this.em,A=this.dragger,I=b?"add":"remove";this.getCanvas().classList[I]("".concat(this.ppfx,"is__grabbing")),A||(A=new m.Z({getPosition:function(){return{x:C.get("x"),y:C.get("y")}},setPosition:function(D){var L=D.x,U=D.y;C.set({x:L,y:U})},onStart:function(D,L){k.trigger("canvas:move:start",L)},onDrag:function(D,L){k.trigger("canvas:move",L)},onEnd:function(D,L){k.trigger("canvas:move:end",L)}}),this.dragger=A),b?A.start(T):A.stop()},toggleMove:function(b){var T=this.ppfx,C=b?"add":"remove",k=b?"on":"off",A={on:y.on,off:y.off},I=this.getCanvas(),D=["".concat(T,"is__grab")];!b&&D.push("".concat(T,"is__grabbing")),D.forEach(function(L){return I.classList[C](L)}),A[k](document,"keyup",this.onKeyUp),A[k](I,"mousedown",this.enableDragger),A[k](document,"mouseup",this.disableDragger)}}},790:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>b,defineCommand:()=>_});var h,y=M(346),m=(h=function(T,C){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,A){k.__proto__=A}||function(k,A){for(var I in A)Object.prototype.hasOwnProperty.call(A,I)&&(k[I]=A[I])})(T,C)},function(T,C){if("function"!=typeof C&&null!==C)throw new TypeError("Class extends value "+String(C)+" is not a constructor or null");function k(){this.constructor=T}h(T,C),T.prototype=null===C?Object.create(C):(k.prototype=C.prototype,new k)});function _(T){return T}const b=function(T){function C(k){var A=T.call(this,0)||this;A.config=k||{},A.em=A.config.em||{};var I=A.config.stylePrefix;return A.pfx=I,A.ppfx=A.config.pStylePrefix,A.hoverClass="".concat(I,"hover"),A.badgeClass="".concat(I,"badge"),A.plhClass="".concat(I,"placeholder"),A.freezClass="".concat(A.ppfx,"freezed"),A.canvas=A.em.Canvas,A.init(A.config),A}return m(C,T),C.prototype.onFrameScroll=function(k){},C.prototype.getCanvas=function(){return this.canvas.getElement()},C.prototype.getCanvasBody=function(){return this.canvas.getBody()},C.prototype.getCanvasTools=function(){return this.canvas.getToolsEl()},C.prototype.offset=function(k){var A=k.getBoundingClientRect();return{top:A.top+k.ownerDocument.body.scrollTop,left:A.left+k.ownerDocument.body.scrollLeft}},C.prototype.init=function(k){},C.prototype.callRun=function(k,A){void 0===A&&(A={});var I=this.id;if(k.trigger("run:".concat(I,":before"),A),!A||!A.abort){var D=A.sender||k,L=this.run(k,D,A);return k.trigger("run:".concat(I),L,A),k.trigger("run",I,L,A),L}k.trigger("abort:".concat(I),A)},C.prototype.callStop=function(k,A){void 0===A&&(A={});var I=this.id,D=A.sender||k;k.trigger("stop:".concat(I,":before"),A);var L=this.stop(k,D,A);return k.trigger("stop:".concat(I),L,A),k.trigger("stop",I,L,A),L},C.prototype.stopCommand=function(k){this.em.Commands.stop(this.id,k)},C.prototype.run=function(k,A,I){},C.prototype.stop=function(k,A,I){},C}(y.Hn)},180:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>m});var h=M(50);const m={run:function(_,b,T){var C=this;void 0===T&&(T={});var k=[],A=T.component||_.getSelectedAll();return(A=(0,h.isArray)(A)?function(_,b,T){if(T||2===arguments.length)for(var C,k=0,A=b.length;k<A;k++)!C&&k in b||(C||(C=Array.prototype.slice.call(b,0,k)),C[k]=b[k]);return _.concat(C||Array.prototype.slice.call(b))}([],A,!0):[A]).filter(Boolean).forEach(function(I){if(!I.get("removable"))return k.push(I),C.em.logWarning("The element is not removable",{component:I});I.remove()}),_.select(k),A}}},544:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>b});var h=M(50),y=M(668),m=function(){return m=Object.assign||function(T){for(var C,k=1,A=arguments.length;k<A;k++)for(var I in C=arguments[k])Object.prototype.hasOwnProperty.call(C,I)&&(T[I]=C[I]);return T},m.apply(this,arguments)},_="dmode";const b={run:function(T,C,k){var A=this;void 0===k&&(k={}),(0,h.bindAll)(this,"setPosition","onStart","onDrag","onEnd","getPosition","getGuidesStatic","renderGuide","getGuidesTarget");var I=k.target,D=k.event,L=k.mode,U=k.dragger,S=void 0===U?{}:U,G=I.getEl(),Y=m({doc:G.ownerDocument,onStart:this.onStart,onEnd:this.onEnd,onDrag:this.onDrag,getPosition:this.getPosition,setPosition:this.setPosition,guidesStatic:function(){return A.guidesStatic},guidesTarget:function(){return A.guidesTarget}},S);this.setupGuides(),this.opts=k,this.editor=T,this.em=T.getModel(),this.target=I,this.isTran="translate"==L,this.guidesContainer=this.getGuidesContainer(),this.guidesTarget=this.getGuidesTarget(),this.guidesStatic=this.getGuidesStatic();var q=this.dragger;return q?q.setOptions(Y):(q=new y.Z(Y),this.dragger=q),D&&q.start(D),this.toggleDrag(1),this.em.trigger("".concat(_,":start"),this.getEventOpts()),q},getEventOpts:function(){return{mode:this.opts.mode,target:this.target,guidesTarget:this.guidesTarget,guidesStatic:this.guidesStatic}},stop:function(){this.toggleDrag()},setupGuides:function(){(this.guides||[]).forEach(function(T){var C=T.guide;C&&C.parentNode.removeChild(C)}),this.guides=[]},getGuidesContainer:function(){var T=this,C=this.guidesEl;if(!C){var k=this,A=k.editor,I=k.em,D=k.opts,L=A.getConfig().stylePrefix,U=document.createElement("div"),S=document.createElement("div"),G='<div class="'.concat(L,"guide-info__line ").concat(L,'danger-bg">\n        <div class="').concat(L,"guide-info__content ").concat(L,'danger-color"></div>\n      </div>');(C=document.createElement("div")).className="".concat(L,"guides"),U.className="".concat(L,"guide-info ").concat(L,"guide-info__x"),S.className="".concat(L,"guide-info ").concat(L,"guide-info__y"),U.innerHTML=G,S.innerHTML=G,C.appendChild(U),C.appendChild(S),A.Canvas.getGlobalToolsEl().appendChild(C),this.guidesEl=C,this.elGuideInfoX=U,this.elGuideInfoY=S,this.elGuideInfoContentX=U.querySelector(".".concat(L,"guide-info__content")),this.elGuideInfoContentY=S.querySelector(".".concat(L,"guide-info__content")),I.on("canvas:update frame:scroll",(0,h.debounce)(function(){var Y;T.updateGuides(),D.debug&&(null===(Y=T.guides)||void 0===Y||Y.forEach(function(q){return T.renderGuide(q)}))},200))}return C},getGuidesStatic:function(){var T=this,C=[],k=this.target.getEl(),A=k.parentNode,I=void 0===A?{}:A;return(0,h.each)(I.children,function(D){return C=C.concat(k!==D?T.getElementGuides(D):[])}),C.concat(this.getElementGuides(I))},getGuidesTarget:function(){return this.getElementGuides(this.target.getEl())},updateGuides:function(T){var C,k,A=this;(T||this.guides).forEach(function(I){var D=I.origin,L=C===D?k:A.getElementPos(D);C=D,k=L,(0,h.each)(A.getGuidePosUpdate(I,L),function(U,S){return I[S]=U}),I.originRect=L})},getGuidePosUpdate:function(T,C){var k={},A=C.top,I=C.height,D=C.left,L=C.width;switch(T.type){case"t":k.y=A;break;case"b":k.y=A+I;break;case"l":k.x=D;break;case"r":k.x=D+L;break;case"x":k.x=D+L/2;break;case"y":k.y=A+I/2}return k},renderGuide:function(T){void 0===T&&(T={});var C=T.guide||document.createElement("div"),k="px",A=T.active?2:1,I=C.children[0];return C.style="position: absolute; background-color: ".concat(T.active?"green":"red",";"),C.children.length||((I=document.createElement("div")).style="position: absolute; color: red; padding: 5px; top: 0; left: 0;",C.appendChild(I)),T.y?(C.style.width="100%",C.style.height="".concat(A).concat(k),C.style.top="".concat(T.y).concat(k),C.style.left=0):(C.style.width="".concat(A).concat(k),C.style.height="100%",C.style.left="".concat(T.x).concat(k),C.style.top="0".concat(k)),!T.guide&&this.guidesContainer.appendChild(C),C},getElementPos:function(T){return this.editor.Canvas.getElementPos(T,{noScroll:1})},getElementGuides:function(T){var C=this,k=this.opts,A=this.getElementPos(T),I=A.top,D=A.height,L=A.left,U=A.width,S=[{type:"t",y:I},{type:"b",y:I+D},{type:"l",x:L},{type:"r",x:L+U},{type:"x",x:L+U/2},{type:"y",y:I+D/2}].map(function(G){return m(m({},G),{origin:T,originRect:A,guide:k.debug&&C.renderGuide(G)})});return S.forEach(function(G){var Y;return null===(Y=C.guides)||void 0===Y?void 0:Y.push(G)}),S},getTranslate:function(T,C){void 0===C&&(C="x");var k=0;return(T||"").split(" ").forEach(function(A){var I=A.trim(),D="translate".concat(C.toUpperCase(),"(");0===I.indexOf(D)&&(k=parseFloat(I.replace(D,"")))}),k},setTranslate:function(T,C,k){var A="translate".concat(C.toUpperCase(),"("),I="".concat(A).concat(k,")"),D=(T||"").split(" ").map(function(L){return 0===L.trim().indexOf(A)&&(L=I),L}).join(" ");return D.indexOf(A)<0&&(D+=" ".concat(I)),D},getPosition:function(){var T=this.target,C=this.isTran,k=T.getStyle(),A=k.left,I=k.top,D=k.transform,L=0,U=0;return C?(L=this.getTranslate(D),U=this.getTranslate(D,"y")):(L=parseFloat(A||0),U=parseFloat(I||0)),{x:L,y:U}},setPosition:function(T){var C=T.x,k=T.y,A=T.end,I=T.position,D=T.width,L=T.height,U=this,S=U.target,G=U.isTran,Y=U.em,tt=!A,ht="".concat(parseInt(C,10)).concat("px"),ut="".concat(parseInt(k,10)).concat("px"),bt={};if(G){var F=S.getStyle().transform||"";F=this.setTranslate(F,"x",ht),bt={transform:F=this.setTranslate(F,"y",ut),__p:tt},S.addStyle(bt,{avoidStore:!A})}else{var B={position:I,width:D,height:L},X={left:ht,top:ut,__p:tt};(0,h.keys)(B).forEach(function(J){var K=B[J];K&&(X[J]=K)}),bt=X,S.addStyle(bt,{avoidStore:!A})}Y?.Styles.__emitCmpStyleUpdate(bt,{components:Y.getSelected()})},_getDragData:function(){var T=this.target;return{target:T,parent:T.parent(),index:T.index()}},onStart:function(T){var C=this,k=C.target,A=C.editor,I=C.isTran,D=C.opts,L=D.center,U=D.onStart,S=A.Canvas,G=k.getStyle(),Y="absolute",q=[Y,"relative"];if(U&&U(this._getDragData()),!I&&G.position!==Y){var tt=S.offset(k.getEl()),ht=tt.left,ut=tt.top,bt=tt.width,F=tt.height,B=k.parent(),X=void 0;do{var J=B.getStyle();X=q.indexOf(J.position)>=0?B:null,B=B.parent()}while(B&&!X);if(L){var K=S.getMouseRelativeCanvas(T);ht=K.x,ut=K.y}else if(X){var at=S.offset(X.getEl());ht-=at.left,ut-=at.top}this.setPosition({x:ht,y:ut,width:"".concat(bt,"px"),height:"".concat(F,"px"),position:Y})}},onDrag:function(){for(var T=this,C=[],k=0;k<arguments.length;k++)C[k]=arguments[k];var I=this.guidesTarget,D=this.opts,L=D.onDrag;this.updateGuides(I),D.debug&&I.forEach(function(U){return T.renderGuide(U)}),D.guidesInfo&&this.renderGuideInfo(I.filter(function(U){return U.active})),L&&L(this._getDragData())},onEnd:function(T,C,k){void 0===k&&(k={});var A=this,I=A.editor,D=A.opts,L=A.id,U=D.onEnd;U&&U(T,k,m(m({event:T},k),this._getDragData())),I.stopCommand(L),this.hideGuidesInfo(),this.em.trigger("".concat(_,":end"),this.getEventOpts())},hideGuidesInfo:function(){var T=this;["X","Y"].forEach(function(C){var k=T["elGuideInfo".concat(C)];k&&(k.style.display="none")})},renderGuideInfo:function(T){var C=this;void 0===T&&(T=[]);var k=this.guidesStatic;this.hideGuidesInfo(),T.forEach(function(A){var I=A.origin,D=A.x,L=C.getElementPos(I),U=(0,h.isUndefined)(D)?"y":"x",S="y"===U,G=L[S?"left":"top"],Y=L.rect[S?"left":"top"],q=S?G+L.width:G+L.height,tt=S?Y+L.rect.width:Y+L.rect.height,ht=C["elGuideInfo".concat(U.toUpperCase())],ut=C["elGuideInfoContent".concat(U.toUpperCase())],bt=ht.style,F=k?.filter(function(ie){return ie.type===A.type}).map(function(ie){var Ht=ie.originRect,_t=Ht.left,Xt=Ht.width,Gt=Ht.top,Pt=Ht.height,he=S?_t+Xt:Gt+Pt;return{gap:he<G?G-he:(S?_t:Gt)-q,guide:ie}}).filter(function(ie){return ie.gap>0}).sort(function(ie,Ht){return ie.gap-Ht.gap}).map(function(ie){return ie.guide})[0];if(F){var B=F.originRect,X=B.left,J=B.width,K=B.top,at=B.height,Q=B.rect,gt=S?X<L.left:K<L.top,ot=S?X:K,Ot=S?Q.left:Q.top,yt=S?X+J:K+at,Et=S?Q.left+Q.width:Q.top+Q.height,Mt=S?A.y:A.x,jt=gt?yt:q,Ut="".concat(Mt,"px"),le=gt?G-yt:ot-q,Zt=gt?Y-Et:Ot-tt;bt.display="",bt[S?"top":"left"]=Ut,bt[S?"left":"top"]="".concat(jt,"px"),bt[S?"width":"height"]="".concat(le,"px"),ut.innerHTML="".concat(Math.round(Zt),"px"),C.em.trigger("".concat(_,":active"),m(m({},C.getEventOpts()),{guide:A,guidesStatic:k,matched:F,posFirst:Mt,posSecond:jt,size:le,sizeRaw:Zt,elGuideInfo:ht,elGuideInfoCnt:ut}))}})},toggleDrag:function(T){var C=this.ppfx,k=this.editor,A=T?"add":"remove",I=["".concat(C,"is__grabbing")],D=k.Canvas,L=D.getBody();I.forEach(function(U){return L.classList[A](U)}),D[T?"startAutoscroll":"stopAutoscroll"]()}}},236:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>h});const h={run:function(y){if(y.Canvas.hasFocus()){var m=[];y.getSelectedAll().forEach(function(_){var b=_.components(),T=b&&b.filter(function(C){return C.get("selectable")})[0];T&&m.push(T)}),m.length&&y.select(m)}}}},368:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>h});const h={run:function(y,m,_){if(void 0===_&&(_={}),y.Canvas.hasFocus()||_.force){var b=[];y.getSelectedAll().forEach(function(T){for(var C=T.parent();C&&!C.get("selectable");)C=C.parent();C&&b.push(C)}),b.length&&y.select(b)}}}},243:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>h});const h={run:function(y){if(y.Canvas.hasFocus()){var m=[];y.getSelectedAll().forEach(function(_){var b=_.parent();if(b){var T,C=b.components().length,k=0,A=0;do{k++,T=(A=_.index()+k)<=C?b.getChildAt(A):null}while(T&&!T.get("selectable"));m.push(T||_)}}),m.length&&y.select(m)}}}},400:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>h});const h={run:function(y){if(y.Canvas.hasFocus()){var m=[];y.getSelectedAll().forEach(function(_){var b=_.parent();if(b){var T,C=0,k=0;do{C++,T=(k=_.index()-C)>=0?b.getChildAt(k):null}while(T&&!T.get("selectable"));m.push(T||_)}}),m.length&&y.select(m)}}}},910:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>y});var h=M(50);const y={run:function(m,_,b){void 0===b&&(b={});var T=b.target,C=[];if(!T.get("styles"))return C;var k=T.get("type"),A=m.Pages.getAllWrappers();if(!(0,h.flatten)(A.map(function(D){return D.findType(k)})).length){var I=m.CssComposer.getAll();C=I.filter(function(D){return D.get("group")==="cmp:".concat(k)}),I.remove(C)}return C}}},744:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>y});const y={run:function(m){var _=m.getModel(),b=function(m,_,b){if(b||2===arguments.length)for(var T,C=0,k=_.length;C<k;C++)!T&&C in _||(T||(T=Array.prototype.slice.call(_,0,C)),T[C]=_[C]);return m.concat(T||Array.prototype.slice.call(_))}([],m.getSelectedAll(),!0);b.length&&_.set("clipboard",b)}}},517:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>_});var h=M(50),y=M(895),m=M(407);const _=(0,h.extend)({},m.default,{init:function(){(0,h.bindAll)(this,"startDelete","stopDelete","onDelete"),this.hoverClass=this.pfx+"hover-delete",this.badgeClass=this.pfx+"badge-red"},enable:function(){this.$el.find("*").mouseover(this.startDelete).mouseout(this.stopDelete).click(this.onDelete)},startDelete:function(b){b.stopPropagation();var T=(0,y.default)(b.target);T.data("model").get("removable")&&(T.addClass(this.hoverClass),this.attachBadge(T.get(0)))},stopDelete:function(b){b.stopPropagation(),(0,y.default)(b.target).removeClass(this.hoverClass),this.badge&&this.badge.css({left:-1e3,top:-1e3})},onDelete:function(b){b.stopPropagation();var T=(0,y.default)(b.target);T.data("model").get("removable")&&(T.data("model").destroy(),this.removeBadge(),this.clean())},updateBadgeLabel:function(b){this.badge.html("Remove "+b.getName())}})},457:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>y});var h=M(491);const y={run:function(m,_,b){var T=this;void 0===b&&(b={}),_&&_.set&&_.set("active",0);var C=m.getConfig(),k=m.Modal,A=C.stylePrefix;if(this.cm=m.CodeManager||null,!this.editors){var I=this.buildEditor("htmlmixed","hopscotch","HTML"),D=this.buildEditor("css","hopscotch","CSS");this.htmlEditor=I.model,this.cssEditor=D.model;var L=(0,h.ut)("div",{class:"".concat(A,"export-dl")});L.appendChild(I.el),L.appendChild(D.el),this.editors=L}k.open({title:C.textViewCode,content:this.editors}).getModel().once("change:open",function(){return m.stopCommand("".concat(T.id))}),this.htmlEditor.setContent(m.getHtml(b.optsHtml)),this.cssEditor.setContent(m.getCss(b.optsCss))},stop:function(m){var _=m.Modal;_&&_.close()},buildEditor:function(m,_,b){var T=this.em.CodeManager,C=T.createViewer({label:b,codeName:m,theme:_});return{model:C,el:new T.EditorView({model:C,config:T.getConfig()}).render().el}}}},975:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>y});var h=M(50);const y={isEnabled:function(){var m=document;return!!(m.fullscreenElement||m.webkitFullscreenElement||m.mozFullScreenElement)},enable:function(m){var _="";return m.requestFullscreen?m.requestFullscreen():m.webkitRequestFullscreen?(_="webkit",m.webkitRequestFullscreen()):m.mozRequestFullScreen?(_="moz",m.mozRequestFullScreen()):m.msRequestFullscreen&&m.msRequestFullscreen(),_},disable:function(){var m=document;this.isEnabled()&&(m.exitFullscreen?m.exitFullscreen():m.webkitExitFullscreen?m.webkitExitFullscreen():m.mozCancelFullScreen?m.mozCancelFullScreen():m.msExitFullscreen&&m.msExitFullscreen())},fsChanged:function(m){this.isEnabled()||(this.stopCommand({sender:this.sender}),document.removeEventListener("".concat(m||"","fullscreenchange"),this.fsChanged))},run:function(m,_,b){void 0===b&&(b={}),this.sender=_;var T=b.target,C=(0,h.isElement)(T)?T:document.querySelector(T),k=this.enable(C||m.getContainer());this.fsChanged=this.fsChanged.bind(this,k),document.addEventListener(k+"fullscreenchange",this.fsChanged),m.trigger("change:canvasOffset")},stop:function(m,_){_&&_.set&&_.set("active",!1),this.disable(),m&&m.trigger("change:canvasOffset")}}},191:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>T});var h=M(50),y=M(895),m=M(163),_=M(407),b=M(189);const T=(0,h.extend)({},b.default,_.default,{init:function(C){_.default.init.apply(this,arguments),(0,h.bindAll)(this,"initSorter","rollback","onEndMove"),this.opt=C,this.hoverClass=this.ppfx+"highlighter-warning",this.badgeClass=this.ppfx+"badge-warning",this.noSelClass=this.ppfx+"no-select"},enable:function(){for(var C=[],k=0;k<arguments.length;k++)C[k]=arguments[k];_.default.enable.apply(this,C),this.getBadgeEl().addClass(this.badgeClass),this.getHighlighterEl().addClass(this.hoverClass);var A=this.$wrapper;A.css("cursor","move"),A.on("mousedown",this.initSorter),A.addClass(this.noSelClass)},toggleClipboard:function(){},initSorter:function(C){var k=(0,y.default)(C.target).data("model").get("draggable");k&&(this.cacheEl=null,this.startSelectPosition(C.target,this.frameEl.contentDocument),this.sorter.draggable=k,this.sorter.onEndMove=this.onEndMove.bind(this),this.stopSelectComponent(),this.$wrapper.off("mousedown",this.initSorter),(0,m.on)(this.getContentWindow(),"keydown",this.rollback))},initSorterFromModel:function(C){var k=C.get("draggable");if(k){this.cacheEl=null;var A=C.view.el;this.startSelectPosition(A,this.frameEl.contentDocument),this.sorter.draggable=k,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,m.on)(this.getContentWindow(),"keydown",this.rollback)}},initSorterFromModels:function(C){this.cacheEl=null;var k=C[C.length-1],A=(this.em.get("currentFrame")||{}).model,I=k.getEl(A),D=I.ownerDocument;this.startSelectPosition(I,D,{onStart:this.onStart}),this.sorter.draggable=k.get("draggable"),this.sorter.toMove=C,this.sorter.onMoveClb=this.onDrag,this.sorter.onEndMove=this.onEndMoveFromModel.bind(this),this.stopSelectComponent(),(0,m.on)(this.getContentWindow(),"keydown",this.rollback)},onEndMoveFromModel:function(){(0,m.off)(this.getContentWindow(),"keydown",this.rollback)},onEndMove:function(){this.enable(),(0,m.off)(this.getContentWindow(),"keydown",this.rollback)},onSelect:function(C,k){},rollback:function(C,k){(27==(C.which||C.keyCode)||k)&&(this.sorter.moved=!1,this.sorter.endMove())},getBadgeEl:function(){return this.$badge||(this.$badge=(0,y.default)(this.getBadge())),this.$badge},getHighlighterEl:function(){return this.$hl||(this.$hl=(0,y.default)(this.canvas.getHighlighter())),this.$hl},stop:function(){for(var C=[],k=0;k<arguments.length;k++)C[k]=arguments[k];_.default.stop.apply(this,C),this.getBadgeEl().removeClass(this.badgeClass),this.getHighlighterEl().removeClass(this.hoverClass),this.$wrapper.css("cursor","").unbind().removeClass(this.noSelClass)}})},912:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>m});var h=M(50),y=M(491);const m={open:function(_){var b=this,T=this,C=T.editor,k=T.title,A=T.config,I=T.am,D=A.custom;if((0,h.isFunction)(D.open))return D.open(I.__customData());C.Modal.open({title:k,content:_}).onceClose(function(){return C.stopCommand(b.id)})},close:function(){var _=this.config.custom;if((0,h.isFunction)(_.close))return _.close(this.am.__customData());var b=this.editor.Modal;b&&b.close()},run:function(_,b,T){void 0===T&&(T={});var C=_.AssetManager,k=C.getConfig(),A=T.types,I=void 0===A?[]:A,D=T.accept,L=T.select;if(this.title=T.modalTitle||_.t("assetManager.modalTitle")||"",this.editor=_,this.config=k,this.am=C,C.setTarget(T.target),C.onClick(T.onClick),C.onDblClick(T.onDblClick),C.onSelect(T.onSelect),C.__behaviour({select:L,types:I,options:T}),k.custom)this.rendered=this.rendered||(0,y.ut)("div"),this.rendered.className="".concat(k.stylePrefix,"custom-wrp"),C.__behaviour({container:this.rendered}),C.__trgCustom();else{if(!this.rendered||I){var U=C.getAll().filter(function(G){return G});I&&I.length&&(U=U.filter(function(G){return-1!==I.indexOf(G.get("type"))})),C.render(U),this.rendered=C.getContainer()}if(D){var S=this.rendered.querySelector("input#".concat(k.stylePrefix,"uploadFile"));S&&S.setAttribute("accept",D)}}return this.open(this.rendered),this},stop:function(_){this.editor=_,this.close(this.rendered)}}},117:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>m});var h=M(50),y=M(491);const m={open:function(){var _=this,b=_.container,T=_.editor,C=_.bm,k=_.config,A=k.custom,I=k.appendTo;if((0,h.isFunction)(A.open))return A.open(C.__customData());if(this.firstRender&&!I){var D="views-container",L=T.Panels;(L.getPanel(D)||L.addPanel({id:D})).set("appendContent",b).trigger("change:appendContent"),A||b.appendChild(C.render())}b&&(b.style.display="block")},close:function(){var _=this.container,b=this.config.custom;if((0,h.isFunction)(b.close))return b.close(this.bm.__customData());_&&(_.style.display="none")},run:function(_){var b=_.Blocks;this.config=b.getConfig(),this.firstRender=!this.container,this.container=this.container||(0,y.ut)("div"),this.editor=_,this.bm=b;var T=this.container;b.__behaviour({container:T}),this.config.custom&&b.__trgCustom(),this.open()},stop:function(){this.close()}}},614:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>h});const h={run:function(y){var m=y.LayerManager,_=y.Panels,b=m.getConfig();if(!b.appendTo){if(!this.layers){var T="views-container",C=document.createElement("div"),k=_.getPanel(T)||_.addPanel({id:T});b.custom?m.__trgCustom({container:C}):C.appendChild(m.render()),k.set("appendContent",C).trigger("change:appendContent"),this.layers=C}this.layers.style.display="block"}},stop:function(){var y=this.layers;y&&(y.style.display="none")}}},801:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>y});var h=M(895);const y={run:function(m,_){if(this.sender=_,!this.$cnt){var b=m.getConfig(),T=m.Panels,C=m.DeviceManager,k=m.SelectorManager,A=m.StyleManager,I="change:appendContent",D=(0,h.default)("<div></div>"),L=(0,h.default)("<div></div>"),U=(0,h.default)("<div></div>"),S=(0,h.default)("<div></div>");if(this.$cnt=D,this.$cntInner=L,L.append(U),L.append(S),D.append(L),C&&b.showDevices){var G=T.addPanel({id:"devices-c"}),Y=C.render();G.set("appendContent",Y).trigger(I)}var q=k.getConfig();q.custom?k.__trgCustom({container:U.get(0)}):q.appendTo||U.append(k.render([])),this.sm=A;var tt=A.getConfig(),ht=tt.stylePrefix;this.$header=(0,h.default)('<div class="'.concat(ht,'header">').concat(m.t("styleManager.empty"),"</div>")),D.append(this.$header),tt.custom?A.__trgCustom({container:S.get(0)}):tt.appendTo||S.append(A.render());var ut="views-container";(T.getPanel(ut)||T.addPanel({id:ut})).set("appendContent",D).trigger(I);var bt=m.getModel();this.listenTo(bt,A.events.target,this.toggleSm)}this.toggleSm()},toggleSm:function(){var m=this,_=m.sender,b=m.sm,T=m.$cntInner,C=m.$header;_&&_.get&&!_.get("active")||!b||(b.getSelected()?(T?.show(),C?.hide()):(T?.hide(),C?.show()))},stop:function(){var m,_;null===(m=this.$cntInner)||void 0===m||m.hide(),null===(_=this.$header)||void 0===_||_.hide()}}},395:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>y});var h=M(895);const y={run:function(m,_){this.sender=_;var b,T=m.getModel(),C=m.Config.stylePrefix,k=m.TraitManager,A=k.getConfig();if(!A.appendTo){if(!this.$cn){this.$cn=(0,h.default)("<div></div>"),this.$cn2=(0,h.default)("<div></div>"),this.$cn.append(this.$cn2),this.$header=(0,h.default)("<div>").append('<div class="'.concat(A.stylePrefix,'header">').concat(T.t("traitManager.empty"),"</div>")),this.$cn.append(this.$header),A.custom?k.__trgCustom({container:this.$cn2.get(0)}):(this.$cn2.append('<div class="'.concat(C,'traits-label">').concat(T.t("traitManager.label"),"</div>")),this.$cn2.append(k.render()));var I=m.Panels;null==(b=I.getPanel("views-container")?I.getPanel("views-container"):I.addPanel({id:"views-container"}))||b.set("appendContent",this.$cn.get(0)).trigger("change:appendContent"),this.target=m.getModel(),this.listenTo(this.target,"component:toggled",this.toggleTm)}this.toggleTm()}},toggleTm:function(){var m=this.sender;m&&m.get&&!m.get("active")||(1===this.target.getSelectedAll().length?(this.$cn2.show(),this.$header.hide()):(this.$cn2.hide(),this.$header.show()))},stop:function(){this.$cn2&&this.$cn2.hide(),this.$header&&this.$header.hide()}}},98:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>y});var h=M(50);const y={run:function(m,_,b){void 0===b&&(b={});var T=m.getModel().get("clipboard"),C=m.getSelected();T&&C&&(m.getSelectedAll().forEach(function(k){var A=k.collection;if(A){var I,D={at:k.index()+1,action:b.action||"paste-component"};if((0,h.contains)(T,k)&&k.get("copyable"))I=A.add(k.clone(),D);else{var L=T.filter(function(U){return U.get("copyable")}).filter(function(U){return m.Components.canMove(k.parent(),U).result});I=A.add(L.map(function(U){return U.clone()}),D)}(I=(0,h.isArray)(I)?I:[I]).forEach(function(U){return m.trigger("component:paste",U)})}}),C.emitUpdate())}}},129:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>_});var h=M(50),m="core:component-outline";const _={getPanels:function(b){return this.panels||(this.panels=b.Panels.getPanels()),this.panels},preventDrag:function(b){b.abort=1},tglEffects:function(b){var T=this.em,C=b?"on":"off";if(T){var k=T.Canvas,A=k.getBody(),I=k.getToolbarEl();I&&(I.style.display=b?"none":"");var D=A.querySelectorAll(".".concat(this.ppfx,"no-pointer"));(0,h.each)(D,function(L){return L.style.pointerEvents=b?"all":""}),T[C]("run:tlb-move:before",this.preventDrag)}},run:function(b,T){var C=this;this.sender=T,this.selected=function(b,T,C){if(C||2===arguments.length)for(var k,A=0,I=T.length;A<I;A++)!k&&A in T||(k||(k=Array.prototype.slice.call(T,0,A)),k[A]=T[A]);return b.concat(k||Array.prototype.slice.call(T))}([],b.getSelectedAll(),!0),b.select(),this.shouldRunSwVisibility||(this.shouldRunSwVisibility=b.Commands.isActive(m)),this.shouldRunSwVisibility&&b.stopCommand(m),b.getModel().stopDefault();var k=this.getPanels(b),A=b.Canvas.getElement(),I=b.getEl(),D=b.Config.stylePrefix;if(!this.helper){var L=document.createElement("span");L.className="".concat(D,"off-prv fa fa-eye-slash"),I.appendChild(L),L.onclick=function(){return C.stopCommand()},this.helper=L}this.helper.style.display="inline-block",k.forEach(function(S){return S.set("visible",!1)});var U=A.style;U.width="100%",U.height="100%",U.top="0",U.left="0",U.padding="0",U.margin="0",b.refresh(),this.tglEffects(1)},stop:function(b){var T=this.sender,C=void 0===T?{}:T,k=this.selected;C.set&&C.set("active",0);var A=this.getPanels(b);this.shouldRunSwVisibility&&(b.runCommand(m),this.shouldRunSwVisibility=!1),b.getModel().runDefault(),A.forEach(function(I){return I.set("visible",!0)}),b.Canvas.getElement().setAttribute("style",""),k&&b.select(k),delete this.selected,this.helper&&(this.helper.style.display="none"),b.refresh(),this.tglEffects()}}},116:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>y});var h=function(){return h=Object.assign||function(m){for(var _,b=1,T=arguments.length;b<T;b++)for(var C in _=arguments[b])Object.prototype.hasOwnProperty.call(_,C)&&(m[C]=_[C]);return m},h.apply(this,arguments)};const y={run:function(m,_,b){var T=b||{},C=m.Canvas,k=C.getCanvasView(),A=h({appendTo:C.getResizerEl(),prefix:m.getConfig().stylePrefix,posFetcher:k.getElementPos.bind(k),mousePosFetcher:C.getMouseRelativePos},T.options||{}),I=this.canvasResizer;return I&&!T.forceNew||(this.canvasResizer=new m.Utils.Resizer(A),I=this.canvasResizer),I.setOptions(A,!0),I.blur(),I.focus(T.el),I},stop:function(){var m;null===(m=this.canvasResizer)||void 0===m||m.blur()}}},407:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>bt});var h,y=M(50),m=M(895),_=M(346),b=(h=function(F,B){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,J){X.__proto__=J}||function(X,J){for(var K in J)Object.prototype.hasOwnProperty.call(J,K)&&(X[K]=J[K])})(F,B)},function(F,B){if("function"!=typeof B&&null!==B)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function X(){this.constructor=F}h(F,B),F.prototype=null===B?Object.create(B):(X.prototype=B.prototype,new X)});const T=function(F){function B(){return null!==F&&F.apply(this,arguments)||this}return b(B,F),B.prototype.defaults=function(){return{command:"",attributes:{}}},B}(_.Hn);var F,C=(F=function(B,X){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,K){J.__proto__=K}||function(J,K){for(var at in K)Object.prototype.hasOwnProperty.call(K,at)&&(J[at]=K[at])})(B,X)},function(B,X){if("function"!=typeof X&&null!==X)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");function J(){this.constructor=B}F(B,X),B.prototype=null===X?Object.create(X):(J.prototype=X.prototype,new J)}),k=function(F){function B(){return null!==F&&F.apply(this,arguments)||this}return C(B,F),B}(_.FE);const A=k;k.prototype.model=T;var I=M(330),D=function(){var F=function(B,X){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,K){J.__proto__=K}||function(J,K){for(var at in K)Object.prototype.hasOwnProperty.call(K,at)&&(J[at]=K[at])})(B,X)};return function(B,X){if("function"!=typeof X&&null!==X)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");function J(){this.constructor=B}F(B,X),B.prototype=null===X?Object.create(X):(J.prototype=X.prototype,new J)}}(),L=function(){return L=Object.assign||function(F){for(var B,X=1,J=arguments.length;X<J;X++)for(var K in B=arguments[X])Object.prototype.hasOwnProperty.call(B,K)&&(F[K]=B[K]);return F},L.apply(this,arguments)};const U=function(F){function B(X){var J=F.call(this,X)||this;return J.em=X.config.em,J}return D(B,F),B.prototype.events=function(){return this.model.get("events")||{mousedown:"handleClick"}},B.prototype.attributes=function(){return this.model.get("attributes")},B.prototype.handleClick=function(X){X.preventDefault(),X.stopPropagation();var J=this.em,K=J.Canvas.getFrameEl().getBoundingClientRect(),at=K.left,Q=K.top,gt=L(L({},X),{clientX:X.clientX-at,clientY:X.clientY-Q});J.trigger("toolbar:run:before",{event:gt}),this.execCommand(gt)},B.prototype.execCommand=function(X){var J=this.em,K={event:X},at=this.model.get("command"),Q=J.Editor;(0,y.isFunction)(at)&&at(Q,null,K),(0,y.isString)(at)&&Q.runCommand(at,K)},B.prototype.render=function(){var X=this,J=X.em,K=X.$el,at=X.model,Q=at.get("id"),gt=at.get("label"),ot=J.getConfig().stylePrefix;return K.addClass("".concat(ot,"toolbar-item")),Q&&K.addClass("".concat(ot,"toolbar-item__").concat(Q)),gt&&K.append(gt),this},B}(_.G7);var S=function(){var F=function(B,X){return(F=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(J,K){J.__proto__=K}||function(J,K){for(var at in K)Object.prototype.hasOwnProperty.call(K,at)&&(J[at]=K[at])})(B,X)};return function(B,X){if("function"!=typeof X&&null!==X)throw new TypeError("Class extends value "+String(X)+" is not a constructor or null");function J(){this.constructor=B}F(B,X),B.prototype=null===X?Object.create(X):(J.prototype=X.prototype,new J)}}(),G=function(F){function B(X){var J=F.call(this,X)||this,K=X.em;return J.em=K,J.config={em:K},J.listenTo(J.collection,"reset",J.render),J}return S(B,F),B.prototype.onRender=function(){var X=this.em.config.stylePrefix;this.el.className="".concat(X,"toolbar-items")},B}(I.Z);const Y=G;G.prototype.itemView=U;var q,tt=M(491),ht=M(163),ut=function(){return ut=Object.assign||function(F){for(var B,X=1,J=arguments.length;X<J;X++)for(var K in B=arguments[X])Object.prototype.hasOwnProperty.call(B,K)&&(F[K]=B[K]);return F},ut.apply(this,arguments)};const bt={init:function(F){(0,y.bindAll)(this,"onHover","onOut","onClick","onFrameScroll","onFrameUpdated","onContainerChange")},enable:function(){this.frameOff=this.canvasOff=this.adjScroll=null,this.startSelectComponent(),q=!0},startSelectComponent:function(){this.toggleSelectComponent(1),this.em.getSelected()&&this.onSelect()},stopSelectComponent:function(){this.toggleSelectComponent()},toggleSelectComponent:function(F){var B=this,X=this.em,J=X.getConfig().listenToEl,K=X.getContainer().parentNode,at=F?"on":"off",Q={on:ht.on,off:ht.off};!J.length&&K&&J.push(K),Q[at](window,"resize",this.onFrameUpdated),Q[at](J,"scroll",this.onContainerChange),X[at]("component:toggled component:update undo redo",this.onSelect,this),X[at]("change:componentHovered",this.onHovered,this),X[at]("component:resize styleable:change component:input",this.updateGlobalPos,this),X[at]("component:update:toolbar",this._upToolbar,this),X[at]("change:canvasOffset",this.updateAttached,this),X[at]("frame:updated",this.onFrameUpdated,this),X[at]("canvas:updateTools",this.onFrameUpdated,this),X.Canvas.getFrames().forEach(function(gt){var yt,Et,ot=gt.view,Ot=ot?.getWindow();Ot&&(yt=Ot,Et=ot?.getBody(),Q[at](Et,"mouseover",B.onHover),Q[at](Et,"mouseleave",B.onOut),Q[at](Et,"click",B.onClick),Q[at](yt,"scroll",B.onFrameScroll,!0))})},onHover:function(F){F.stopPropagation();var B=this.em,X=F.target,J=(0,ht.getViewEl)(X),K=J&&J._getFrame(),at=(0,m.default)(X),Q=at.data("model");if(!Q)for(var gt=at.parent();!Q&&gt.length&&!(0,tt.Mx)(gt[0]);)Q=gt.data("model"),gt=gt.parent();this.currentDoc=X.ownerDocument,B.setHovered(Q,{useValid:!0}),K&&B.set("currentFrame",K)},onFrameUpdated:function(){this.updateLocalPos(),this.updateGlobalPos()},onHovered:function(F,B){var X,J=this,K={};B?null===(X=B.views)||void 0===X||X.forEach(function(at){var Q=at.el,gt=J.getElementPos(Q);K={el:Q,pos:gt,component:B,view:(0,ht.getViewEl)(Q)},J.updateToolsLocal(K),Q.ownerDocument===J.currentDoc&&(J.elHovered=K)}):(this.currentDoc=null,this.elHovered=0,this.updateToolsLocal(),this.canvas.getFrames().forEach(function(at){var Q=at.view,gt=Q&&Q.getToolsEl();gt&&J.toggleToolsEl(0,0,{el:gt})}))},onSelect:(0,y.debounce)(function(){var F=this.em,B=F.getSelected(),X=F.get("currentFrame")||{},J=B&&B.getView(X.model),K=J&&J.el,at={};K&&(0,tt.pn)(K)&&(at={el:K,pos:this.getElementPos(K),component:B,view:(0,ht.getViewEl)(K)}),this.elSelected=at,this.updateToolsGlobal(),this.updateLocalPos(at),this.initResize(B)},0),updateGlobalPos:function(){var F=this.getElSelected();F.el&&(F.pos=this.getElementPos(F.el),this.updateToolsGlobal())},updateLocalPos:function(F){var B=this.getElHovered();B.el&&(B.pos=this.getElementPos(B.el),this.updateToolsLocal(F))},getElHovered:function(){return this.elHovered||{}},getElSelected:function(){return this.elSelected||{}},onOut:function(){this.em.setHovered(0)},toggleToolsEl:function(F,B,X){void 0===X&&(X={});var J=X.el||this.canvas.getToolsEl(B);return J&&(J.style.display=F?"":"none"),J||{}},showElementOffset:function(F,B,X){void 0===X&&(X={}),q&&this.editor.runCommand("show-offset",{el:F,elPos:B,view:X.view,force:1,top:0,left:0})},hideElementOffset:function(F){this.editor.stopCommand("show-offset",{view:F})},showFixedElementOffset:function(F,B){this.editor.runCommand("show-offset",{el:F,elPos:B,state:"Fixed"})},hideFixedElementOffset:function(){this.editor&&this.editor.stopCommand("show-offset",{state:"Fixed"})},hideHighlighter:function(F){this.canvas.getHighlighter(F).style.opacity=0},onClick:function(F){F.stopPropagation(),F.preventDefault();var B=this.em;if(B.get("_cmpDrag"))return B.set("_cmpDrag");var X=(0,m.default)(F.target),J=X.data("model");if(!J)for(var K=X.parent();!J&&K.length&&!(0,tt.Mx)(K[0]);)J=K.data("model"),K=K.parent();if(J){if(B.isEditing()&&!J.get("textable")&&J.isChildOf("text"))return;this.select(J,F)}},select:function(F,B){void 0===B&&(B={}),F&&(this.editor.select(F,{event:B,useValid:!0}),this.initResize(F))},updateBadge:function(F,B,X){void 0===X&&(X={});var J=this.canvas,K=(0,m.default)(F).data("model");if(K&&K.get("badgable")){var at=this.getBadge(X);if(!X.posOnly){var Q=this.canvas.getConfig(),gt=K.getIcon(),ot=Q.pStylePrefix||"",Ot="".concat(ot,"badge"),yt=Q.customBadgeLabel,Et="".concat(gt?'<div class="'.concat(Ot,'__icon">').concat(gt,"</div>"):"",'\n        <div class="').concat(Ot,'__name">').concat(K.getName(),"</div>");at.innerHTML=yt?yt(K):Et}var jt=at.style;jt.display="block";var Ut=J.getTargetToElementFixed(F,at,{pos:B}).top,le=X.leftOff<0?-X.leftOff:0;jt.top=Ut+"px",jt.left=le+"px"}},showHighlighter:function(F){this.canvas.getHighlighter(F).style.opacity=""},initResize:function(F){var B,X=this.em,J=this.canvas,K=X?.Editor,at=X?.config.stylePrefix||"",Q="".concat(at,"resizing"),gt=!(0,y.isElement)(F)&&(0,ht.isTaggableNode)(F)?F:X.getSelected(),ot=gt&&gt.get("resizable"),Ot={},yt=function(Mt,jt,Ut){var le=Ut.docs;le&&le.forEach(function(Zt){var ie=Zt.body,Ht=ie.className||"";ie.className=("add"==Mt?"".concat(Ht," ").concat(Q):Ht.replace(Q,"")).trim()})};if(K&&ot){var Et=(0,y.isElement)(F)?F:gt.getEl();Ot={onStart:function(Mt,jt){void 0===jt&&(jt={});var Ut=jt.el,le=jt.config,Zt=jt.resizer,ie=le.keyHeight,Ht=le.keyWidth,_t=le.currentUnit,Xt=le.keepAutoHeight,Gt=le.keepAutoWidth;yt("add",0,jt),B=X.Styles.getModelToStyle(gt),J.toggleFramesEvents(!1);var Pt=getComputedStyle(Ut),he=B.getStyle(),fe=he[Ht];le.autoWidth=Gt&&"auto"===fe,isNaN(parseFloat(fe))&&(fe=Pt[Ht]);var Ce=he[ie];le.autoHeight=Xt&&"auto"===Ce,isNaN(parseFloat(Ce))&&(Ce=Pt[ie]),Zt.startDim.w=parseFloat(fe),Zt.startDim.h=parseFloat(Ce),q=!1,_t&&(le.unitHeight=(0,ht.getUnitFromValue)(Ce),le.unitWidth=(0,ht.getUnitFromValue)(fe))},onMove:function(){K.trigger("component:resize")},onEnd:function(Mt,jt){yt("remove",0,jt),K.trigger("component:resize"),J.toggleFramesEvents(!0),q=!0},updateTarget:function(Mt,jt,Ut){if(void 0===Ut&&(Ut={}),B){var le=Ut.store,Zt=Ut.selectedHandler,ie=Ut.config,Ht=ie.keyHeight,_t=ie.keyWidth,Xt=ie.autoHeight,Gt=ie.autoWidth,Pt=ie.unitWidth,he=ie.unitHeight,fe=["tc","bc"].indexOf(Zt)>=0,Ce=["cl","cr"].indexOf(Zt)>=0,Ee={};if(!fe){var Te=J.getBody().offsetWidth,Ke=jt.w<Te?jt.w:Te;Ee[_t]=Gt?"auto":"".concat(Ke).concat(Pt)}Ce||(Ee[Ht]=Xt?"auto":"".concat(jt.h).concat(he)),X.getDragMode(gt)&&(Ee.top="".concat(jt.t).concat(he),Ee.left="".concat(jt.l).concat(Pt));var pn=ut(ut({},Ee),{__p:!le});B.addStyle(pn,{avoidStore:!le}),X.Styles.__emitCmpStyleUpdate(pn,{components:X.getSelected()})}}},"object"==typeof ot&&(Ot=ut(ut(ut({},Ot),ot),{parent:Ot})),this.resizer=K.runCommand("resize",{el:Et,options:Ot,force:1})}else K.stopCommand("resize"),this.resizer=null},updateToolbar:function(F){var B=this.config.em,X=F==B?B.getSelected():F,J=this.canvas.getToolbarEl(),K=J.style,at=X.get("toolbar"),Q=B.config.showToolbar;if(X&&Q&&at&&at.length){if(K.display="",!this.toolbar){J.innerHTML="",this.toolbar=new A(at);var gt=new Y({collection:this.toolbar,em:B});J.appendChild(gt.render().el)}this.toolbar.reset(at),K.top="-100px",K.left="0"}else K.display="none"},updateToolbarPos:function(F){var X=this.canvas.getToolbarEl().style;X.top="".concat(F.top).concat("px"),X.left="".concat(F.left).concat("px"),X.opacity=""},getCanvasPosition:function(){return this.canvas.getCanvasView().getPosition()},getBadge:function(F){return void 0===F&&(F={}),this.canvas.getBadgeEl(F.view)},onFrameScroll:function(){this.updateTools()},updateTools:function(){this.updateLocalPos(),this.updateGlobalPos()},isCompSelected:function(F){return F&&"selected"===F.get("status")},updateToolsLocal:function(F){var B=this.em.getConfig(),X=F||this.getElHovered(),J=X.el,K=X.pos,at=X.view,Q=X.component;if(J){var gt=Q.get("hoverable"),ot=this.lastHovered!==J,Ot=ot?{}:{posOnly:1};ot&&gt&&(this.lastHovered=J,this.showHighlighter(at),this.showElementOffset(J,K,{view:at})),this.isCompSelected(Q)&&(this.hideHighlighter(at),!B.showOffsetsSelected&&this.hideElementOffset(at));var Et=this.toggleToolsEl(1,at),Mt=Et.style,jt=this.canvas.canvasRectOffset(J,K),Ut=jt.top,le=jt.left;this.updateBadge(J,K,ut(ut({},Ot),{view:at,topOff:Ut,leftOff:le})),Mt.top=Ut+"px",Mt.left=le+"px",Mt.width=K.width+"px",Mt.height=K.height+"px",this._trgToolUp("local",{component:Q,el:Et,top:Ut,left:le,width:K.width,height:K.height})}else this.lastHovered=0},_upToolbar:(0,y.debounce)(function(){this.updateToolsGlobal({force:1})},0),_trgToolUp:function(F,B){void 0===B&&(B={}),this.em.trigger("canvas:tools:update",ut({type:F},B))},updateToolsGlobal:function(F){void 0===F&&(F={});var B=this.getElSelected(),X=B.el,J=B.pos,K=B.component;if(!X)return this.toggleToolsEl(),void(this.lastSelected=0);var at=this.canvas;(this.lastSelected!==X||F.force)&&(this.lastSelected=X,this.updateToolbar(K));var Q="px",gt=this.toggleToolsEl(1),ot=gt.style,Ot=at.getTargetToElementFixed(X,at.getToolbarEl(),{pos:J}),yt=Ot.canvasOffsetTop,Et=Ot.canvasOffsetLeft;ot.top=yt+Q,ot.left=Et+Q,ot.width=J.width+Q,ot.height=J.height+Q,this.updateToolbarPos({top:Ot.top,left:Ot.left}),this._trgToolUp("global",{component:K,el:gt,top:yt,left:Et,width:J.width,height:J.height})},updateAttached:(0,y.debounce)(function(){this.updateGlobalPos()},0),onContainerChange:(0,y.debounce)(function(){this.em.refreshCanvas()},150),getElementPos:function(F){return this.canvas.getCanvasView().getElementPos(F,{noScroll:!0})},hideBadge:function(){this.getBadge().style.display="none"},cleanPrevious:function(F){F&&F.set({status:"",state:""})},getContentWindow:function(){return this.canvas.getWindow()},run:function(F){(0,ht.hasWin)()&&(this.editor=F&&F.get("Editor"),this.enable())},stop:function(F,B,X){if(void 0===X&&(X={}),(0,ht.hasWin)()){var J=this.em,K=this.editor;this.onHovered(),this.stopSelectComponent(),!X.preserveSelected&&J.setSelected(),this.toggleToolsEl(),K&&K.stopCommand("resize")}}}},189:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>y});var h=M(895);const y={startSelectPosition:function(m,_,b){var T=this;void 0===b&&(b={}),this.isPointed=!1;var C=this.em.Utils,k=m.ownerDocument.body;C&&!this.sorter&&(this.sorter=new C.Sorter({container:k,placer:this.canvas.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,direction:"a",document:_,wmargin:1,nested:1,em:this.em,canvasRelative:1,scale:function(){return T.em.getZoomDecimal()}})),b.onStart&&(this.sorter.onStart=b.onStart),m&&this.sorter.startSort(m,{container:k})},getOffsetDim:function(){var m=this.offset(this.canvas.getFrameEl()),_=this.offset(this.canvas.getElement());return{top:m.top-_.top,left:m.left-_.left}},stopSelectPosition:function(){this.posTargetCollection=null,this.posIndex="after"==this.posMethod&&0!==this.cDim.length?this.posIndex+1:this.posIndex,this.sorter&&(this.sorter.moved=0,this.sorter.endMove()),this.cDim&&(this.posIsLastEl=0!==this.cDim.length&&"after"==this.posMethod&&this.posIndex==this.cDim.length,this.posTargetEl=0===this.cDim.length?(0,h.default)(this.outsideElem):!this.posIsLastEl&&this.cDim[this.posIndex]?(0,h.default)(this.cDim[this.posIndex][5]).parent():(0,h.default)(this.outsideElem),this.posTargetModel=this.posTargetEl.data("model"),this.posTargetCollection=this.posTargetEl.data("model-comp"))},enable:function(){this.startSelectPosition()},nearFloat:function(m,_,b){var T=m||0,C=_||"before",k=b.length,A=0!==k&&"after"==C&&T==k;return 0!==k&&(!A&&!b[T][4]||b[T-1]&&!b[T-1][4]||A&&!b[T-1][4])?1:0},run:function(){this.enable()},stop:function(){this.stopSelectPosition(),this.$wrapper.css("cursor",""),this.$wrapper.unbind()}}},804:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>b});var h=M(50),y=M(895),m=M(163),_=function(){return _=Object.assign||function(T){for(var C,k=1,A=arguments.length;k<A;k++)for(var I in C=arguments[k])Object.prototype.hasOwnProperty.call(C,I)&&(T[I]=C[I]);return T},_.apply(this,arguments)};const b={getOffsetMethod:function(T){return"get"+(T||"")+"OffsetViewerEl"},run:function(T,C,k){var A=k||{},I=A.state||"",D=T.getConfig(),L=this.em.getZoomDecimal(),U=A.el||"";if(!D.showOffsets||(0,m.isTextNode)(U)||!D.showOffsetsSelected&&"Fixed"==I)T.stopCommand("".concat(this.id),k);else{var S=T.Canvas,G=_({},A.elPos||S.getElementPos(U));(0,h.isUndefined)(A.top)||(G.top=A.top),(0,h.isUndefined)(A.left)||(G.left=A.left);var Y=window.getComputedStyle(U),q=this.ppfx,tt=I+"State",ht=S[this.getOffsetMethod(I)](k.view);ht.style.opacity="";var ut=this["marginT"+I],bt=this["marginB"+I],F=this["marginL"+I],B=this["marginR"+I],X=this["padT"+I],J=this["padB"+I],K=this["padL"+I],at=this["padR"+I];if(ht.childNodes.length&&(this[tt]="1",ut=ht.querySelector("[data-offset-m-t]"),bt=ht.querySelector("[data-offset-m-b]"),F=ht.querySelector("[data-offset-m-l]"),B=ht.querySelector("[data-offset-m-r]"),X=ht.querySelector("[data-offset-p-t]"),J=ht.querySelector("[data-offset-p-b]"),K=ht.querySelector("[data-offset-p-l]"),at=ht.querySelector("[data-offset-p-r]")),!this[tt]){var Q=I.toLowerCase(),gt=Q+"margin-v",ot=Q+"padding-v",Ot=(0,y.default)('<div class="'.concat(q,'marginName">')).get(0),yt=(0,y.default)('<div class="'.concat(q,'paddingName">')).get(0),Et=q+ot+"-el",Mt="".concat(q+gt+"-el"," ").concat(q+gt),jt="".concat(Et," ").concat(q+ot);ut=(0,y.default)('<div class="'.concat(Mt,'-top"></div>')).get(0),bt=(0,y.default)('<div class="'.concat(Mt,'-bottom"></div>')).get(0),F=(0,y.default)('<div class="'.concat(Mt,'-left"></div>')).get(0),B=(0,y.default)('<div class="'.concat(Mt,'-right"></div>')).get(0),X=(0,y.default)('<div class="'.concat(jt,'-top"></div>')).get(0),J=(0,y.default)('<div class="'.concat(jt,'-bottom"></div>')).get(0),K=(0,y.default)('<div class="'.concat(jt,'-left"></div>')).get(0),at=(0,y.default)('<div class="'.concat(jt,'-right"></div>')).get(0),this["marginT"+I]=ut,this["marginB"+I]=bt,this["marginL"+I]=F,this["marginR"+I]=B,this["padT"+I]=X,this["padB"+I]=J,this["padL"+I]=K,this["padR"+I]=at,Ot.appendChild(ut),Ot.appendChild(bt),Ot.appendChild(F),Ot.appendChild(B),yt.appendChild(X),yt.appendChild(J),yt.appendChild(K),yt.appendChild(at),ht.appendChild(Ot),ht.appendChild(yt),this[tt]="1"}var Ut="px",le=parseFloat(Y.marginLeft.replace(Ut,""))*L,Zt=parseFloat(Y.marginRight.replace(Ut,""))*L,ie=parseFloat(Y.marginTop.replace(Ut,""))*L,Ht=parseFloat(Y.marginBottom.replace(Ut,""))*L,_t=ut.style,Xt=bt.style,Gt=F.style,Pt=B.style,he=X.style,fe=J.style,Ce=K.style,Ee=at.style,Te=parseFloat(G.left),Ke=parseFloat(Y.width)*L+Ut;_t.height=ie+Ut,_t.width=Ke,_t.top=G.top-ie+Ut,_t.left=Te+Ut,Xt.height=Ht+Ut,Xt.width=Ke,Xt.top=G.top+G.height+Ut,Xt.left=Te+Ut;var pn=G.height+ie+Ht+Ut,We=G.top-ie+Ut;Gt.height=pn,Gt.width=le+Ut,Gt.top=We,Gt.left=Te-le+Ut,Pt.height=pn,Pt.width=Zt+Ut,Pt.top=We,Pt.left=Te+G.width+Ut;var Ye=parseFloat(Y.paddingTop)*L;he.height=Ye+Ut;var Ne=parseFloat(Y.paddingBottom)*L;fe.height=Ne+Ut;var Qt=G.height-Ne-Ye+Ut,ae=G.top+Ye+Ut;Ce.height=Qt,Ce.width=parseFloat(Y.paddingLeft)*L+Ut,Ce.top=ae;var rt=parseFloat(Y.paddingRight)*L;Ee.height=Qt,Ee.width=rt+Ut,Ee.top=ae}},stop:function(T,C,k){void 0===k&&(k={});var A=(k||{}).state||"",I=this.getOffsetMethod(A);T.Canvas[I](k.view).style.opacity=0}}},434:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>m});var h=M(50),y=M(163);const m={init:function(){(0,h.bindAll)(this,"_onFramesChange")},run:function(_){this.toggleVis(_,!0)},stop:function(_){this.toggleVis(_,!1)},toggleVis:function(_,b){if(void 0===b&&(b=!0),!_.Commands.isActive("preview")){var T=_.Canvas,C=b?"on":"off";T.getModel()[C]("change:frames",this._onFramesChange),this.handleFrames(T.getFrames(),b)}},handleFrames:function(_,b){var T=this;_.forEach(function(C){var k;!(null===(k=C.view)||void 0===k)&&k.loaded&&T._upFrame(C,b),C.__ol||(C.on("loaded",function(){return T._upFrame(C)}),C.__ol=!0)})},_onFramesChange:function(_,b){this.handleFrames(b)},_upFrame:function(_,b){var T,C=this,k=C.ppfx,A=C.em,I=C.id,D=((0,y.isDef)(b)?b:A.Commands.isActive(I))?"add":"remove",L="".concat(k,"dashed");null===(T=_.view)||void 0===T||T.getBody().classList[D](L)}}},346:(x,g,M)=>{"use strict";M.d(g,{FE:()=>T,G7:()=>C,Hn:()=>b});var h,y=M(316),m=M.n(y),_=(h=function(k,A){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(I,D){I.__proto__=D}||function(I,D){for(var L in D)Object.prototype.hasOwnProperty.call(D,L)&&(I[L]=D[L])})(k,A)},function(k,A){if("function"!=typeof A&&null!==A)throw new TypeError("Class extends value "+String(A)+" is not a constructor or null");function I(){this.constructor=k}h(k,A),k.prototype=null===A?Object.create(A):(I.prototype=A.prototype,new I)}),b=function(k){function A(){return null!==k&&k.apply(this,arguments)||this}return _(A,k),A}(m().Model),T=function(k){function A(){return null!==k&&k.apply(this,arguments)||this}return _(A,k),A}(m().Collection),C=function(k){function A(){return null!==k&&k.apply(this,arguments)||this}return _(A,k),A}(m().View)},330:(x,g,M)=>{"use strict";M.d(g,{Z:()=>T});var h,y=M(50),m=M(346),_=(h=function(C,k){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,I){A.__proto__=I}||function(A,I){for(var D in I)Object.prototype.hasOwnProperty.call(I,D)&&(A[D]=I[D])})(C,k)},function(C,k){if("function"!=typeof k&&null!==k)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");function A(){this.constructor=C}h(C,k),C.prototype=null===k?Object.create(k):(A.prototype=k.prototype,new A)}),b=function(C){function k(A,I,D){void 0===A&&(A={}),void 0===D&&(D=!1);var L=C.call(this,A)||this;return L.itemsView="",L.itemType="type",L.reuseView=!1,L.config=I||A.config||{},D&&L.listenTo(L.collection,"add",L.addTo),L.items=[],L}return _(k,C),k.prototype.addTo=function(A){this.add(A)},k.prototype.itemViewNotFound=function(A){var I=this.config,D=this.ns,L=I.em,U="".concat(D?"[".concat(D,"]: "):"","'").concat(A,"' type not found");L&&L.logWarning(U)},k.prototype.add=function(A,I){var D,L=this,U=L.config,S=L.reuseView,G=L.items,Y=this.itemsView||{},q=I||null,tt=this.itemView,ht=A.get(this.itemType);Y[ht]?tt=Y[ht]:!ht||Y[ht]||(0,y.includes)(["button","checkbox","color","date","datetime-local","email","file","hidden","image","month","number","password","radio","range","reset","search","submit","tel","text","time","url","week"],ht)||this.itemViewNotFound(ht),D=A.view&&S?A.view:new tt({model:A,config:U},U),G&&G.push(D);var ut=D.render().el;q?q.appendChild(ut):this.$el.append(ut)},k.prototype.render=function(){var A=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(I){this.add(I,A)},this),this.$el.append(A),this.onRender(),this},k.prototype.onRender=function(){},k.prototype.onRemoveBefore=function(A,I){},k.prototype.onRemove=function(A,I){},k.prototype.remove=function(A){void 0===A&&(A={});var I=this.items;return this.onRemoveBefore(I,A),this.clearItems(),C.prototype.remove.call(this),this.onRemove(I,A),this},k.prototype.clearItems=function(){this.items},k}(m.G7);const T=b;b.prototype.itemView=""},668:(x,g,M)=>{"use strict";M.d(g,{Z:()=>b});var h=M(50),y=M(163),m=function(){return m=Object.assign||function(T){for(var C,k=1,A=arguments.length;k<A;k++)for(var I in C=arguments[k])Object.prototype.hasOwnProperty.call(C,I)&&(T[I]=C[I]);return T},m.apply(this,arguments)},_=["x","y"];const b=function(){function T(C){return void 0===C&&(C={}),this.opts={snapOffset:5,scale:1},(0,h.bindAll)(this,"drag","stop","keyHandle","handleScroll"),this.setOptions(C),this.delta={x:0,y:0},this.lastScroll={x:0,y:0},this.lastScrollDiff={x:0,y:0},this.startPointer={x:0,y:0},this.startPosition={x:0,y:0},this.globScrollDiff={x:0,y:0},this.currentPointer={x:0,y:0},this.position={x:0,y:0},this.guidesStatic=[],this.guidesTarget=[],this.docs=[],this}return T.prototype.setOptions=function(C){void 0===C&&(C={}),this.opts=m(m({},this.opts),C)},T.prototype.toggleDrag=function(C){var k=this.getDocumentEl(),A=this.getContainerEl(),I=this.getWindowEl(),D=C?"on":"off",L={on:y.on,off:y.off};L[D](A,"mousemove dragover",this.drag),L[D](k,"mouseup dragend touchend",this.stop),L[D](k,"keydown",this.keyHandle),L[D](I,"scroll",this.handleScroll)},T.prototype.handleScroll=function(){var C=this.lastScroll,k=this.delta,A=this.getScrollInfo(),I={x:A.x-C.x,y:A.y-C.y};this.move(k.x+I.x,k.y+I.y),this.lastScrollDiff=I},T.prototype.start=function(C){var k=this.opts,A=k.onStart;this.toggleDrag(!0),this.startPointer=this.getPointerPos(C),this.guidesStatic=(0,h.result)(k,"guidesStatic")||[],this.guidesTarget=(0,h.result)(k,"guidesTarget")||[],(0,h.isFunction)(A)&&A(C,this),this.startPosition=this.getStartPosition(),this.lastScrollDiff={x:0,y:0},this.globScrollDiff={x:0,y:0},this.drag(C)},T.prototype.drag=function(C){var k=this,A=this,I=A.opts,D=A.lastScrollDiff,L=A.globScrollDiff,U=I.onDrag,S=this.startPointer,G=this.getPointerPos(C),Y={x:L.x+D.x,y:L.y+D.y};this.globScrollDiff=Y;var q={x:G.x-S.x+Y.x,y:G.y-S.y+Y.y};this.lastScrollDiff={x:0,y:0};var tt=this.lockedAxis;"x"===(tt=C.shiftKey?!tt&&this.detectAxisLock(q.x,q.y):null)?q.x=S.x:"y"===tt&&(q.y=S.y);var ht=function(J){_.forEach(function(K){return J[K]=J[K]*(0,h.result)(I,"scale")}),k.delta=J,k.move(J.x,J.y),(0,h.isFunction)(U)&&U(C,k)},ut=m({},q);if(this.currentPointer=G,this.lockedAxis=tt,this.lastScroll=this.getScrollInfo(),ht(q),this.guidesTarget.length){var bt=this.snapGuides(ut),F=bt.newDelta,B=bt.trgX,X=bt.trgY;(B||X)&&ht(F)}0===C.which&&this.stop(C)},T.prototype.snapGuides=function(C){var k=this,A=C,I=this.trgX,D=this.trgY;return this.guidesTarget.forEach(function(L){L.x&&k.trgX||L.y&&k.trgY||(L.active=!1,k.guidesStatic.forEach(function(U){if(!(L.y&&U.x||L.x&&U.y)){var S=L.y&&U.y,G=S?"y":"x",Y=L[G],q=U[G],tt=C[G],ht=S?D:I;if(k.isPointIn(Y,q)&&(0,h.isUndefined)(ht)){var ut=tt-(Y-q);k.setGuideLock(L,ut)}}}))}),I=this.trgX,D=this.trgY,_.forEach(function(L){var U=L.toUpperCase(),S=k["trg".concat(U)];S&&!k.isPointIn(C[L],S.lock)&&(k.setGuideLock(S,null),S=null),S&&!(0,h.isUndefined)(S.lock)&&(A[L]=S.lock)}),{newDelta:A,trgX:this.trgX,trgY:this.trgY}},T.prototype.isPointIn=function(C,k,A){var I=(void 0===A?{}:A).offset||this.opts.snapOffset||0;return C>=k&&C<=k+I||C<=k&&C>=k-I},T.prototype.setGuideLock=function(C,k){var A=(0,h.isUndefined)(C.x)?"Y":"X",I="trg".concat(A);return null!==k?(C.active=!0,C.lock=k,this[I]=C):(delete C.active,delete C.lock,delete this[I]),C},T.prototype.stop=function(C,k){void 0===k&&(k={});var A=this.delta,I=!!k.cancel,D=I?0:A.x,L=I?0:A.y;this.toggleDrag(),this.lockedAxis=null,this.move(D,L,!0);var U=this.opts.onEnd;(0,h.isFunction)(U)&&U(C,this,{cancelled:I})},T.prototype.keyHandle=function(C){(0,y.isEscKey)(C)&&this.stop(C,{cancel:!0})},T.prototype.move=function(C,k,A){var I=this.el,D=this.opts,L=this.startPosition;if(L){var U=D.setPosition,S=L.x+C,G=L.y+k;this.position={x:S,y:G,end:A},(0,h.isFunction)(U)&&U(this.position),I&&(I.style.left="".concat(S,"px"),I.style.top="".concat(G,"px"))}},T.prototype.getContainerEl=function(){var C=this.opts.container;return C?[C]:this.getDocumentEl()},T.prototype.getWindowEl=function(){return this.getContainerEl().map(function(C){var k=C.ownerDocument||C;return k.defaultView||k.parentWindow})},T.prototype.getDocumentEl=function(C){var k=this.opts.doc;if(C=C||this.el,!this.docs.length){var A=[document];C&&A.push(C.ownerDocument),k&&A.push(k),this.docs=A}return this.docs},T.prototype.getPointerPos=function(C){var k=this.opts.getPointerPosition,A=(0,y.getPointerEvent)(C);return k?k(C):{x:A.clientX,y:A.clientY}},T.prototype.getStartPosition=function(){var C=this.el,k=this.opts.getPosition,A={x:0,y:0};return(0,h.isFunction)(k)?A=k():C&&(A={x:parseFloat(C.style.left),y:parseFloat(C.style.top)}),A},T.prototype.getScrollInfo=function(){var C=this.opts.doc,k=C&&C.body;return{y:k?k.scrollTop:0,x:k?k.scrollLeft:0}},T.prototype.detectAxisLock=function(C,k){var A=C,I=k,D=Math.abs(A),L=Math.abs(I);return I>=D||I<=-D?"x":A>L||A<-L?"y":void 0},T}()},895:(x,g,M)=>{"use strict";M.r(g),M.d(g,{default:()=>Se});var h=typeof document<"u"?document:null,y=typeof window<"u"?window:null,m=Array.prototype,_=m.filter,b=m.indexOf,T=m.map,C=m.push,k=m.reverse,A=m.slice,I=m.splice,D=/^#[\w-]*$/,L=/^\.[\w-]*$/,U=/<.+>/,S=/^\w+$/;function G(xt,Bt){return void 0===Bt&&(Bt=h),L.test(xt)?Bt.getElementsByClassName(xt.slice(1)):S.test(xt)?Bt.getElementsByTagName(xt):Bt.querySelectorAll(xt)}function Y(xt,Bt){if(void 0===Bt&&(Bt=h),xt){if(xt.__cash)return xt;var Wt=xt;if(K(xt)){if(Bt.__cash&&(Bt=Bt[0]),!(Wt=D.test(xt)?Bt.getElementById(xt.slice(1)):U.test(xt)?$e(xt):G(xt,Bt)))return}else if(J(xt))return this.ready(xt);(Wt.nodeType||Wt===y)&&(Wt=[Wt]),this.length=Wt.length;for(var ee=0,Ae=this.length;ee<Ae;ee++)this[ee]=Wt[ee]}}function q(xt,Bt){return new Y(xt,Bt)}var tt=q.fn=q.prototype=Y.prototype={constructor:q,__cash:!0,length:0,splice:I};tt.get=function(xt){return void 0===xt?A.call(this):this[xt<0?xt+this.length:xt]},tt.eq=function(xt){return q(this.get(xt))},tt.first=function(){return this.eq(0)},tt.last=function(){return this.eq(-1)},tt.map=function(xt){return q(T.call(this,function(Bt,Wt){return xt.call(Bt,Wt,Bt)}))},tt.slice=function(){return q(A.apply(this,arguments))};var ht=/(?:^\w|[A-Z]|\b\w)/g,ut=/[\s-_]+/g;function bt(xt){return xt.replace(ht,function(Bt,Wt){return Bt[Wt?"toUpperCase":"toLowerCase"]()}).replace(ut,"")}function F(xt,Bt){for(var Wt=0,ee=xt.length;Wt<ee&&!1!==Bt.call(xt[Wt],xt[Wt],Wt,xt);Wt++);}q.camelCase=bt,q.each=F,tt.each=function(xt){return F(this,function(Bt,Wt){return xt.call(Bt,Wt,Bt)}),this},tt.removeProp=function(xt){return this.each(function(Bt,Wt){delete Wt[xt]})},q.extend=tt.extend=function(xt){void 0===xt&&(xt=this);for(var Bt=arguments,Wt=Bt.length,ee=Wt<2?0:1;ee<Wt;ee++)for(var Ae in Bt[ee])xt[Ae]=Bt[ee][Ae];return xt};var B=1;function X(xt,Bt){var Wt=xt&&(xt.matches||xt.webkitMatchesSelector||xt.mozMatchesSelector||xt.msMatchesSelector||xt.oMatchesSelector);return!!Wt&&Wt.call(xt,Bt)}function J(xt){return"function"==typeof xt}function K(xt){return"string"==typeof xt}function at(xt){return!isNaN(parseFloat(xt))&&isFinite(xt)}q.guid=B,q.matches=X,q.isFunction=J,q.isString=K,q.isNumeric=at;var Q=Array.isArray;function gt(xt){return K(xt)?function(Bt,Wt){return X(Wt,xt)}:xt.__cash?function(Bt,Wt){return xt.is(Wt)}:function(Bt,Wt,ee){return Wt===ee}}q.isArray=Q,tt.prop=function(xt,Bt){if(xt){if(K(xt))return arguments.length<2?this[0]&&this[0][xt]:this.each(function(ee,Ae){Ae[xt]=Bt});for(var Wt in xt)this.prop(Wt,xt[Wt]);return this}},tt.filter=function(xt){if(!xt)return q();var Bt=J(xt)?xt:gt(xt);return q(_.call(this,function(Wt,ee){return Bt.call(Wt,ee,Wt,xt)}))};var ot=/\S+/g;function Ot(xt){return K(xt)&&xt.match(ot)||[]}function yt(xt){return xt.filter(function(Bt,Wt,ee){return ee.indexOf(Bt)===Wt})}function Et(xt,Bt,Wt){if(1===xt.nodeType){var ee=y.getComputedStyle(xt,null);return Bt?Wt?ee.getPropertyValue(Bt):ee[Bt]:ee}}function Mt(xt,Bt){return parseInt(Et(xt,Bt),10)||0}tt.hasClass=function(xt){var Bt=Ot(xt),Wt=!1;return Bt.length&&this.each(function(ee,Ae){return!(Wt=Ae.classList.contains(Bt[0]))}),Wt},tt.removeAttr=function(xt){var Bt=Ot(xt);return Bt.length?this.each(function(Wt,ee){F(Bt,function(Ae){ee.removeAttribute(Ae)})}):this},tt.attr=function(xt,Bt){if(xt){if(K(xt)){if(arguments.length<2){if(!this[0])return;var Wt=this[0].getAttribute(xt);return null===Wt?void 0:Wt}return null===Bt?this.removeAttr(xt):this.each(function(Ae,Le){Le.setAttribute(xt,Bt)})}for(var ee in xt)this.attr(ee,xt[ee]);return this}},tt.toggleClass=function(xt,Bt){var Wt=Ot(xt),ee=void 0!==Bt;return Wt.length?this.each(function(Ae,Le){F(Wt,function(dn){ee?Bt?Le.classList.add(dn):Le.classList.remove(dn):Le.classList.toggle(dn)})}):this},tt.addClass=function(xt){return this.toggleClass(xt,!0)},tt.removeClass=function(xt){return arguments.length?this.toggleClass(xt,!1):this.attr("class","")},q.unique=yt,tt.add=function(xt,Bt){return q(yt(this.get().concat(q(xt,Bt).get())))};var jt=/^--/;function Ut(xt){return jt.test(xt)}var le={},Zt=h&&h.createElement("div"),ie=Zt?Zt.style:{},Ht=["webkit","moz","ms","o"];function _t(xt,Bt){if(void 0===Bt&&(Bt=Ut(xt)),Bt)return xt;if(!le[xt]){var Wt=bt(xt),ee=""+Wt.charAt(0).toUpperCase()+Wt.slice(1);F((Wt+" "+Ht.join(ee+" ")+ee).split(" "),function(Ae){if(Ae in ie)return le[xt]=Ae,!1})}return le[xt]}q.prefixedProp=_t;var Xt={animationIterationCount:!0,columnCount:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0};function Gt(xt,Bt,Wt){return void 0===Wt&&(Wt=Ut(xt)),Wt||Xt[xt]||!at(Bt)?Bt:Bt+"px"}tt.css=function(xt,Bt){if(K(xt)){var Wt=Ut(xt);return xt=_t(xt,Wt),arguments.length<2?this[0]&&Et(this[0],xt,Wt):xt?(Bt=Gt(xt,Bt,Wt),this.each(function(Ae,Le){1===Le.nodeType&&(Wt?Le.style.setProperty(xt,Bt):Le.style[xt]=Bt)})):this}for(var ee in xt)this.css(ee,xt[ee]);return this};var Pt="__cashData",he=/^data-(.*)/;function fe(xt){return xt[Pt]=xt[Pt]||{}}function Ce(xt,Bt){var Wt=fe(xt);if(Bt){if(!(Bt in Wt)){var ee=xt.dataset?xt.dataset[Bt]||xt.dataset[bt(Bt)]:q(xt).attr("data-"+Bt);if(void 0!==ee){try{ee=JSON.parse(ee)}catch{}Wt[Bt]=ee}}return Wt[Bt]}return Wt}function Ee(xt,Bt){return Mt(xt,"border"+(Bt?"Left":"Top")+"Width")+Mt(xt,"padding"+(Bt?"Left":"Top"))+Mt(xt,"padding"+(Bt?"Right":"Bottom"))+Mt(xt,"border"+(Bt?"Right":"Bottom")+"Width")}function Te(xt,Bt){for(var Wt=0,ee=Bt.length;Wt<ee;Wt++)if(xt.indexOf(Bt[Wt])<0)return!1;return!0}function Ke(xt,Bt,Wt){F(xt[Wt],function(ee){ee[0];var Ae=ee[1];Bt.removeEventListener(Wt,Ae)}),delete xt[Wt]}q.hasData=function(xt){return Pt in xt},tt.data=function(xt,Bt){var Wt=this;if(!xt)return this[0]?(F(this[0].attributes,function(Ae){var Le=Ae.name.match(he);Le&&Wt.data(Le[1])}),Ce(this[0])):void 0;if(K(xt))return void 0===Bt?this[0]&&Ce(this[0],xt):this.each(function(Ae,Le){return fn=xt,Ln=Bt,void(fe(Le)[fn]=Ln);var fn,Ln});for(var ee in xt)this.data(ee,xt[ee]);return this},tt.removeData=function(xt){return this.each(function(Bt,Wt){return ee=Wt,void(void 0===(Ae=xt)?delete ee[Pt]:delete fe(ee)[Ae]);var ee,Ae})},F(["Width","Height"],function(xt){tt["inner"+xt]=function(){if(this[0])return this[0]===y?y["inner"+xt]:this[0]["client"+xt]}}),F(["width","height"],function(xt,Bt){tt[xt]=function(Wt){return this[0]?arguments.length?(Wt=parseInt(Wt,10),this.each(function(ee,Ae){if(1===Ae.nodeType){var Le=Et(Ae,"boxSizing");Ae.style[xt]=Gt(xt,Wt+("border-box"===Le?Ee(Ae,!Bt):0))}})):this[0]===y?this[0][bt("outer-"+xt)]:this[0].getBoundingClientRect()[xt]-Ee(this[0],!Bt):void 0===Wt?void 0:this}}),F(["Width","Height"],function(xt,Bt){tt["outer"+xt]=function(Wt){if(this[0])return this[0]===y?y["outer"+xt]:this[0]["offset"+xt]+(Wt?Mt(this[0],"margin"+(Bt?"Top":"Left"))+Mt(this[0],"margin"+(Bt?"Bottom":"Right")):0)}});var pn="__cashEvents",We=".";function Ye(xt){return xt[pn]=xt[pn]||{}}function Ne(xt){var Bt=xt.split(We);return[Bt[0],Bt.slice(1).sort()]}function Qt(xt,Bt,Wt,ee){var Ae=Ye(xt);if(Bt){var Le=Ae[Bt];if(!Le)return;ee&&(ee.guid=ee.guid||B++),Ae[Bt]=Le.filter(function(dn){var fn=dn[0],Ln=dn[1];if(ee&&Ln.guid!==ee.guid||!Te(fn,Wt))return!0;xt.removeEventListener(Bt,Ln)})}else if(Wt&&Wt.length)for(Bt in Ae)Qt(xt,Bt,Wt,ee);else for(Bt in Ae)Ke(Ae,xt,Bt)}tt.off=function(xt,Bt){var Wt=this;return void 0===xt?this.each(function(ee,Ae){return Qt(Ae)}):F(Ot(xt),function(ee){var Ae=Ne(ee),Le=Ae[0],dn=Ae[1];Wt.each(function(fn,Ln){return Qt(Ln,Le,dn,Bt)})}),this},tt.on=function(xt,Bt,Wt,ee){var Ae=this;if(!K(xt)){for(var Le in xt)this.on(Le,Bt,xt[Le]);return this}return J(Bt)&&(Wt=Bt,Bt=!1),F(Ot(xt),function(dn){var fn=Ne(dn),Ln=fn[0],nr=fn[1];Ae.each(function(sn,Qe){var In=function mr(yn){if(!yn.namespace||Te(nr,yn.namespace.split(We))){var kn=Qe;if(Bt){for(var Pn=yn.target;!X(Pn,Bt);)if(Pn===Qe||!(Pn=Pn.parentNode))return;kn=Pn}yn.namespace=yn.namespace||"";var Wn=Wt.call(kn,yn,yn.data);ee&&Qt(Qe,Ln,nr,mr),!1===Wn&&(yn.preventDefault(),yn.stopPropagation())}};In.guid=Wt.guid=Wt.guid||B++,function(mr,yn,kn,Pn){Pn.guid=Pn.guid||B++;var Wn=Ye(mr);Wn[yn]=Wn[yn]||[],Wn[yn].push([kn,Pn]),mr.addEventListener(yn,Pn)}(Qe,Ln,nr,In)})}),this},tt.one=function(xt,Bt,Wt){return this.on(xt,Bt,Wt,!0)},tt.ready=function(xt){var Bt=function(){return xt(q)};return"loading"!==h.readyState?setTimeout(Bt):h.addEventListener("DOMContentLoaded",Bt),this},tt.trigger=function(xt,Bt){var Wt=xt;if(K(xt)){var ee=Ne(xt),Ae=ee[0],Le=ee[1];(Wt=h.createEvent("HTMLEvents")).initEvent(Ae,!0,!0),Wt.namespace=Le.join(We)}return Wt.data=Bt,this.each(function(dn,fn){fn.dispatchEvent(Wt)})};var ae=/select-one/i,rt=/select-multiple/i;function Tt(xt){var Wt,Bt=xt.type;return ae.test(Bt)?(Wt=xt).selectedIndex<0?null:Wt.options[Wt.selectedIndex].value:rt.test(Bt)?function(Wt){var ee=[];return F(Wt.options,function(Ae){!Ae.selected||Ae.disabled||Ae.parentNode.disabled||ee.push(Ae.value)}),ee}(xt):xt.value}var At=/%20/g,$t=/file|reset|submit|button|image/i,oe=/radio|checkbox/i;tt.serialize=function(){var xt="";return this.each(function(Bt,Wt){F(Wt.elements||[Wt],function(ee){if(!ee.disabled&&ee.name&&"FIELDSET"!==ee.tagName&&!$t.test(ee.type)&&(!oe.test(ee.type)||ee.checked)){var Ae=Tt(ee);void 0!==Ae&&F(Q(Ae)?Ae:[Ae],function(Le){var dn,fn;xt+=(dn=ee.name,fn=Le,"&"+encodeURIComponent(dn)+"="+encodeURIComponent(fn).replace(At,"+"))})}})}),xt.substr(1)},tt.val=function(xt){return void 0===xt?this[0]&&Tt(this[0]):this.each(function(Bt,Wt){var ee=rt.test(Wt.type),Ae=null===xt?ee?[]:"":xt;ee&&Q(Ae)?F(Wt.options,function(Le){Le.selected=Ae.indexOf(Le.value)>=0}):Wt.value=Ae})},tt.clone=function(){return this.map(function(xt,Bt){return Bt.cloneNode(!0)})},tt.detach=function(){return this.each(function(xt,Bt){Bt.parentNode&&Bt.parentNode.removeChild(Bt)})};var se,xe=/^\s*<(\w+)[^>]*>/,Ue=/^\s*<(\w+)\s*\/?>(?:<\/\1>)?\s*$/;function $e(xt){if(function(){if(!se){var ee=h.createElement("table"),Ae=h.createElement("tr");se={"*":h.createElement("div"),tr:h.createElement("tbody"),td:Ae,th:Ae,thead:ee,tbody:ee,tfoot:ee}}}(),!K(xt))return[];if(Ue.test(xt))return[h.createElement(RegExp.$1)];var Bt=xe.test(xt)&&RegExp.$1,Wt=se[Bt]||se["*"];return Wt.innerHTML=xt,q(Wt.childNodes).detach().get()}function on(xt,Bt,Wt){if(void 0!==Bt){var ee=K(Bt);!ee&&Bt.length?F(Bt,function(Ae){return on(xt,Ae,Wt)}):F(xt,ee?function(Ae){Ae.insertAdjacentHTML(Wt?"afterbegin":"beforeend",Bt)}:function(Ae,Le){return dn=Ae,fn=Le?Bt.cloneNode(!0):Bt,void(Wt?dn.insertBefore(fn,dn.childNodes[0]):dn.appendChild(fn));var dn,fn})}}q.parseHTML=$e,tt.empty=function(){var xt=this[0];if(xt)for(;xt.firstChild;)xt.removeChild(xt.firstChild);return this},tt.append=function(){var xt=this;return F(arguments,function(Bt){on(xt,Bt)}),this},tt.appendTo=function(xt){return on(q(xt),this),this},tt.html=function(xt){if(void 0===xt)return this[0]&&this[0].innerHTML;var Bt=xt.nodeType?xt[0].outerHTML:xt;return this.each(function(Wt,ee){ee.innerHTML=Bt})},tt.insertAfter=function(xt){var Bt=this;return q(xt).each(function(Wt,ee){var Ae=ee.parentNode;Bt.each(function(Le,dn){Ae.insertBefore(Wt?dn.cloneNode(!0):dn,ee.nextSibling)})}),this},tt.after=function(){var xt=this;return F(k.apply(arguments),function(Bt){k.apply(q(Bt).slice()).insertAfter(xt)}),this},tt.insertBefore=function(xt){var Bt=this;return q(xt).each(function(Wt,ee){var Ae=ee.parentNode;Bt.each(function(Le,dn){Ae.insertBefore(Wt?dn.cloneNode(!0):dn,ee)})}),this},tt.before=function(){var xt=this;return F(arguments,function(Bt){q(Bt).insertBefore(xt)}),this},tt.prepend=function(){var xt=this;return F(arguments,function(Bt){on(xt,Bt,!0)}),this},tt.prependTo=function(xt){return on(q(xt),k.apply(this.slice()),!0),this},tt.remove=function(){return this.detach().off()},tt.replaceWith=function(xt){var Bt=this;return this.each(function(Wt,ee){var Ae=ee.parentNode;if(Ae){var Le=Wt?q(xt).clone():q(xt);if(!Le[0])return Bt.remove(),!1;Ae.replaceChild(Le[0],ee),q(Le[0]).after(Le.slice(1))}})},tt.replaceAll=function(xt){return q(xt).replaceWith(this),this},tt.text=function(xt){return void 0===xt?this[0]?this[0].textContent:"":this.each(function(Bt,Wt){Wt.textContent=xt})};var bn=h&&h.documentElement;tt.offset=function(){var xt=this[0];if(xt){var Bt=xt.getBoundingClientRect();return{top:Bt.top+y.pageYOffset-bn.clientTop,left:Bt.left+y.pageXOffset-bn.clientLeft}}},tt.offsetParent=function(){return q(this[0]&&this[0].offsetParent)},tt.position=function(){var xt=this[0];if(xt)return{left:xt.offsetLeft,top:xt.offsetTop}},tt.children=function(xt){var Bt=[];return this.each(function(Wt,ee){C.apply(Bt,ee.children)}),Bt=q(yt(Bt)),xt?Bt.filter(function(Wt,ee){return X(ee,xt)}):Bt},tt.contents=function(){var xt=[];return this.each(function(Bt,Wt){C.apply(xt,"IFRAME"===Wt.tagName?[Wt.contentDocument]:Wt.childNodes)}),q(xt.length&&yt(xt))},tt.find=function(xt){for(var Bt=[],Wt=0,ee=this.length;Wt<ee;Wt++){var Ae=G(xt,this[Wt]);Ae.length&&C.apply(Bt,Ae)}return q(Bt.length&&yt(Bt))},tt.has=function(xt){var Bt=K(xt)?function(Wt,ee){return!!G(xt,ee).length}:function(Wt,ee){return ee.contains(xt)};return this.filter(Bt)},tt.is=function(xt){if(!xt||!this[0])return!1;var Bt=gt(xt),Wt=!1;return this.each(function(ee,Ae){return!(Wt=Bt(ee,Ae,xt))}),Wt},tt.next=function(){return q(this[0]&&this[0].nextElementSibling)},tt.not=function(xt){if(!xt||!this[0])return this;var Bt=gt(xt);return this.filter(function(Wt,ee){return!Bt(Wt,ee,xt)})},tt.parent=function(){var xt=[];return this.each(function(Bt,Wt){Wt&&Wt.parentNode&&xt.push(Wt.parentNode)}),q(yt(xt))},tt.index=function(xt){var Bt=xt?q(xt)[0]:this[0],Wt=xt?this:q(Bt).parent().children();return b.call(Wt,Bt)},tt.closest=function(xt){return xt&&this[0]?this.is(xt)?this.filter(xt):this.parent().closest(xt):q()},tt.parents=function(xt){var Bt,Wt=[];return this.each(function(ee,Ae){for(Bt=Ae;Bt&&Bt.parentNode&&Bt!==h.body.parentNode;)Bt=Bt.parentNode,(!xt||xt&&X(Bt,xt))&&Wt.push(Bt)}),q(yt(Wt))},tt.prev=function(){return q(this[0]&&this[0].previousElementSibling)},tt.siblings=function(){var xt=this[0];return this.parent().children().filter(function(Bt,Wt){return Wt!==xt})};const Se=q},491:(x,g,M)=>{"use strict";M.d(g,{$Q:()=>U,FW:()=>I,G1:()=>b,GX:()=>ht,L_:()=>C,Mx:()=>T,R3:()=>S,SJ:()=>tt,cx:()=>k,dL:()=>L,pn:()=>D,rw:()=>Y,sE:()=>A,t3:()=>q,ut:()=>G});var h=M(50),y=function(ut,bt,F){if(F||2===arguments.length)for(var B,X=0,J=bt.length;X<J;X++)!B&&X in bt||(B||(B=Array.prototype.slice.call(bt,0,X)),B[X]=bt[X]);return ut.concat(B||Array.prototype.slice.call(bt))},b="transitionend oTransitionEnd transitionend webkitTransitionEnd",T=function(ut){return ut&&9===ut.nodeType},C=function(ut){var bt=ut&&ut.parentNode;bt&&bt.removeChild(ut)};function k(){for(var ut=[],bt=0;bt<arguments.length;bt++)ut[bt]=arguments[bt];return(Array.isArray(ut[0])?ut[0]:y([],ut,!0)).filter(Boolean).join(" ")}var A=function(ut,bt){return ut.querySelectorAll(bt)},I=function(ut,bt){return void 0===bt&&(bt={}),ut&&ut.setAttribute&&(0,h.each)(bt,function(F,B){return ut.setAttribute(B,F)})},D=function(ut){return ut&&!!(ut.offsetWidth||ut.offsetHeight||ut.getClientRects().length)},L=function(ut,bt){var F;null===(F=ut.parentNode)||void 0===F||F.replaceChild(bt,ut)},U=function(ut,bt,F){var B=ut.childNodes,X=B.length,J=(0,h.isUndefined)(F)?X:F;(0,h.isString)(bt)&&(ut.insertAdjacentHTML("beforeEnd",bt),bt=ut.lastChild,ut.removeChild(bt)),J>=X?ut.appendChild(bt):ut.insertBefore(bt,B[J])},S=function(ut,bt){return U(ut,bt)},G=function(ut,bt,F){void 0===bt&&(bt={});var B=document.createElement(ut);return bt&&(0,h.each)(bt,function(X,J){return B.setAttribute(J,X)}),F&&((0,h.isString)(F)?B.innerHTML=F:B.appendChild(F)),B},Y=function(ut){return document.createTextNode(ut)},q=function(ut,bt){var F,B=ut.type;try{F=new window[bt](B,ut)}catch{(F=document.createEvent(bt)).initEvent(B,!0,!0)}return F._parentEvent=ut,0===B.indexOf("key")&&(F.keyCodeVal=ut.keyCode,["keyCode","which"].forEach(function(X){Object.defineProperty(F,X,{get:function(){return this.keyCodeVal}})})),F},tt=function(ut,bt){void 0===bt&&(bt=[]),(Array.isArray(bt)?bt:[bt]).forEach(function(F){var B=F.tag||"div",X=F.attributes||{},J=document.createElement(B);(0,h.each)(X,function(K,at){J.setAttribute(at,K)}),ut.appendChild(J)})},ht=function(ut){var bt=ut?.ownerDocument||document,F=bt.documentElement,B=bt.defaultView||window;return{x:(B.pageXOffset||F.scrollLeft||0)-(F.clientLeft||0),y:(B.pageYOffset||F.scrollTop||0)-(F.clientTop||0)}}},163:(x,g,M)=>{"use strict";M.r(g),M.d(g,{appendStyles:()=>D,buildBase64UrlFromSvg:()=>Gt,camelCase:()=>q,capitalize:()=>le,createId:()=>Xt,deepMerge:()=>at,escape:()=>J,escapeNodeContent:()=>K,find:()=>X,getElRect:()=>gt,getElement:()=>ut,getGlobal:()=>T,getKeyChar:()=>yt,getKeyCode:()=>Ot,getModel:()=>Q,getPointerEvent:()=>ot,getUiClass:()=>I,getUnitFromValue:()=>G,getViewEl:()=>Ht,hasDnd:()=>ht,hasWin:()=>b,isCommentNode:()=>F,isComponent:()=>Zt,isDef:()=>_,isEmptyObj:()=>Ut,isEnterKey:()=>Mt,isEscKey:()=>Et,isObject:()=>jt,isRule:()=>ie,isTaggableNode:()=>B,isTextNode:()=>bt,matches:()=>A,normalizeFloat:()=>tt,off:()=>S,on:()=>U,setViewEl:()=>_t,shallowDiff:()=>L,toLowerCase:()=>C,upFirst:()=>Y});var h=M(50),y=function(){return y=Object.assign||function(Pt){for(var he,fe=1,Ce=arguments.length;fe<Ce;fe++)for(var Ee in he=arguments[fe])Object.prototype.hasOwnProperty.call(he,Ee)&&(Pt[Ee]=he[Ee]);return Pt},y.apply(this,arguments)},_=function(Pt){return void 0!==Pt},b=function(){return typeof window<"u"},T=function(){return typeof globalThis<"u"?globalThis:typeof window<"u"?window:M.g},C=function(Pt){return(Pt||"").toLowerCase()},k=b()?window.Element.prototype:{},A=k.matches||k.webkitMatchesSelector||k.mozMatchesSelector||k.msMatchesSelector,I=function(Pt,he){var fe=Pt.getConfig(),Ce=fe.stylePrefix;return[fe.customUI&&"".concat(Ce,"cui"),he].filter(function(Ee){return Ee}).join(" ")},D=function(Pt,he){void 0===he&&(he={});var fe=(0,h.isArray)(Pt)?function(Pt,he,fe){if(fe||2===arguments.length)for(var Ce,Ee=0,Te=he.length;Ee<Te;Ee++)!Ce&&Ee in he||(Ce||(Ce=Array.prototype.slice.call(he,0,Ee)),Ce[Ee]=he[Ee]);return Pt.concat(Ce||Array.prototype.slice.call(he))}([],Pt,!0):[Pt];if(fe.length){var Ce=fe.shift();if(Ce&&(!he.unique||!document.querySelector('link[href="'.concat(Ce,'"]')))){var Ee=document.head,Te=document.createElement("link");Te.href=Ce,Te.rel="stylesheet",he.prepand?Ee.insertBefore(Te,Ee.firstChild):Ee.appendChild(Te)}D(fe)}},L=function(Pt,he){var fe={},Ce=(0,h.keys)(he);for(var Ee in Pt)if(Pt.hasOwnProperty(Ee)){var Te=Pt[Ee],Ke=he[Ee];Ce.indexOf(Ee)>=0?Te!==Ke&&(fe[Ee]=Ke):fe[Ee]=null}for(var Ee in he)he.hasOwnProperty(Ee)&&(0,h.isUndefined)(Pt[Ee])&&(fe[Ee]=he[Ee]);return fe},U=function(Pt,he,fe,Ce){var Ee=he.split(/\s+/);Pt=Pt instanceof Array?Pt:[Pt];for(var Te=function(pn){Pt.forEach(function(We){return We&&We.addEventListener(Ee[pn],fe,Ce)})},Ke=0;Ke<Ee.length;++Ke)Te(Ke)},S=function(Pt,he,fe,Ce){var Ee=he.split(/\s+/);Pt=Pt instanceof Array?Pt:[Pt];for(var Te=function(pn){Pt.forEach(function(We){return We&&We.removeEventListener(Ee[pn],fe,Ce)})},Ke=0;Ke<Ee.length;++Ke)Te(Ke)},G=function(Pt){return Pt.replace(parseFloat(Pt),"")},Y=function(Pt){return Pt[0].toUpperCase()+Pt.toLowerCase().slice(1)},q=function(Pt){return Pt.replace(/-./g,function(he){return he[1].toUpperCase()})},tt=function(Pt,he,fe){void 0===he&&(he=1),void 0===fe&&(fe=0);var Ce=0;if(isNaN(Pt))return fe;if(Pt=parseFloat(Pt),Math.floor(Pt)!==Pt){var Ee=he.toString().split(".")[1];Ce=Ee?Ee.length:0}return Ce?parseFloat(Pt.toFixed(Ce)):Pt},ht=function(Pt){return"draggable"in document.createElement("i")&&(!Pt||Pt.config.nativeDnD)},ut=function(Pt){return(0,h.isElement)(Pt)||bt(Pt)?Pt:Pt&&Pt.getEl?Pt.getEl():void 0},bt=function(Pt){return Pt&&3===Pt.nodeType},F=function(Pt){return Pt&&8===Pt.nodeType},B=function(Pt){return Pt&&!bt(Pt)&&!F(Pt)},X=function(Pt,he){var fe=null;return Pt.some(function(Ce,Ee){return he(Ce,Ee,Pt)?(fe=Ce,1):0}),fe},J=function(Pt){return void 0===Pt&&(Pt=""),"".concat(Pt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;").replace(/`/g,"&#96;")},K=function(Pt){return void 0===Pt&&(Pt=""),"".concat(Pt).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},at=function(){for(var Pt=[],he=0;he<arguments.length;he++)Pt[he]=arguments[he];for(var fe=y({},Pt[0]),Ce=1;Ce<Pt.length;Ce++){var Ee=y({},Pt[Ce]);for(var Te in Ee){var Ke=fe[Te],pn=Ee[Te];jt(Ke)&&jt(pn)?fe[Te]=at(Ke,pn):fe[Te]=pn}}return fe},Q=function(Pt,he){var fe=Pt;return!he&&Pt&&Pt.__cashData?fe=Pt.__cashData.model:(0,h.isElement)(Pt)&&(fe=he(Pt).data("model")),fe},gt=function(Pt){var he,fe={top:0,left:0,width:0,height:0};if(!Pt)return fe;if(bt(Pt)){var Ce=document.createRange();Ce.selectNode(Pt),he=Ce.getBoundingClientRect(),Ce.detach()}return he||(Pt.getBoundingClientRect?Pt.getBoundingClientRect():fe)},ot=function(Pt){return Pt.touches&&Pt.touches[0]?Pt.touches[0]:Pt},Ot=function(Pt){return Pt.which||Pt.keyCode},yt=function(Pt){return String.fromCharCode(Ot(Pt))},Et=function(Pt){return 27===Ot(Pt)},Mt=function(Pt){return 13===Ot(Pt)},jt=function(Pt){return null!==Pt&&!Array.isArray(Pt)&&"object"==typeof Pt},Ut=function(Pt){return Object.keys(Pt).length<=0},le=function(Pt){return void 0===Pt&&(Pt=""),Pt&&Pt.charAt(0).toUpperCase()+Pt.substring(1)},Zt=function(Pt){return Pt&&Pt.toHTML},ie=function(Pt){return Pt&&Pt.toCSS},Ht=function(Pt){return Pt.__gjsv},_t=function(Pt,he){Pt.__gjsv=he},Xt=function(Pt){void 0===Pt&&(Pt=16);for(var he="",fe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",Ce=fe.length,Ee=0;Ee<Pt;Ee++)he+=fe.charAt(Math.floor(Math.random()*Ce));return he},Gt=function(Pt){if(Pt&&"<svg"===Pt.substr(0,4)){var he="";return b()?he=window.btoa(Pt):typeof Buffer<"u"&&(he=Buffer.from(Pt,"utf8").toString("base64")),he?"data:image/svg+xml;base64,".concat(he):Pt}return Pt}},828:(x,g,M)=>{var h={"./CanvasClear":858,"./CanvasClear.ts":858,"./CanvasMove":884,"./CanvasMove.ts":884,"./CommandAbstract":790,"./CommandAbstract.ts":790,"./ComponentDelete":180,"./ComponentDelete.ts":180,"./ComponentDrag":544,"./ComponentDrag.ts":544,"./ComponentEnter":236,"./ComponentEnter.ts":236,"./ComponentExit":368,"./ComponentExit.ts":368,"./ComponentNext":243,"./ComponentNext.ts":243,"./ComponentPrev":400,"./ComponentPrev.ts":400,"./ComponentStyleClear":910,"./ComponentStyleClear.ts":910,"./CopyComponent":744,"./CopyComponent.ts":744,"./DeleteComponent":517,"./DeleteComponent.ts":517,"./ExportTemplate":457,"./ExportTemplate.ts":457,"./Fullscreen":975,"./Fullscreen.ts":975,"./MoveComponent":191,"./MoveComponent.ts":191,"./OpenAssets":912,"./OpenAssets.ts":912,"./OpenBlocks":117,"./OpenBlocks.ts":117,"./OpenLayers":614,"./OpenLayers.ts":614,"./OpenStyleManager":801,"./OpenStyleManager.ts":801,"./OpenTraitManager":395,"./OpenTraitManager.ts":395,"./PasteComponent":98,"./PasteComponent.ts":98,"./Preview":129,"./Preview.ts":129,"./Resize":116,"./Resize.ts":116,"./SelectComponent":407,"./SelectComponent.ts":407,"./SelectPosition":189,"./SelectPosition.ts":189,"./ShowOffset":804,"./ShowOffset.ts":804,"./SwitchVisibility":434,"./SwitchVisibility.ts":434};function y(_){var b=m(_);return M(b)}function m(_){if(!M.o(h,_)){var b=new Error("Cannot find module '"+_+"'");throw b.code="MODULE_NOT_FOUND",b}return h[_]}y.keys=function(){return Object.keys(h)},y.resolve=m,x.exports=y,y.id=828},50:(x,g,M)=>{"use strict";M.r(g),M.d(g,{VERSION:()=>y,after:()=>ri,all:()=>oi,allKeys:()=>Se,any:()=>as,assign:()=>$n,before:()=>Lo,bind:()=>Oi,bindAll:()=>is,chain:()=>Si,chunk:()=>$s,clone:()=>dr,collect:()=>Fr,compact:()=>za,compose:()=>Ia,constant:()=>Ke,contains:()=>jn,countBy:()=>Fa,create:()=>Ar,debounce:()=>ki,default:()=>Xs,defaults:()=>Tr,defer:()=>La,delay:()=>Uo,detect:()=>vn,difference:()=>qo,drop:()=>Mr,each:()=>Hr,escape:()=>we,every:()=>oi,extend:()=>Wn,extendOwn:()=>$n,filter:()=>co,find:()=>vn,findIndex:()=>Vo,findKey:()=>Bs,findLastIndex:()=>Mi,findWhere:()=>br,first:()=>Oo,flatten:()=>qa,foldl:()=>or,foldr:()=>Br,forEach:()=>Hr,functions:()=>kn,get:()=>Gn,groupBy:()=>Gs,has:()=>z,head:()=>Oo,identity:()=>st,include:()=>jn,includes:()=>jn,indexBy:()=>Ws,indexOf:()=>Ni,initial:()=>cs,inject:()=>or,intersection:()=>ii,invert:()=>yn,invoke:()=>Vs,isArguments:()=>Ce,isArray:()=>Pt,isArrayBuffer:()=>jt,isBoolean:()=>K,isDataView:()=>Gt,isDate:()=>Ot,isElement:()=>at,isEmpty:()=>$t,isEqual:()=>bn,isError:()=>Et,isFinite:()=>Ee,isFunction:()=>Zt,isMap:()=>Ln,isMatch:()=>oe,isNaN:()=>Te,isNull:()=>X,isNumber:()=>ot,isObject:()=>B,isRegExp:()=>yt,isSet:()=>sn,isString:()=>gt,isSymbol:()=>Mt,isTypedArray:()=>ae,isUndefined:()=>J,isWeakMap:()=>nr,isWeakSet:()=>Qe,iteratee:()=>zn,keys:()=>At,last:()=>us,lastIndexOf:()=>Us,map:()=>Fr,mapObject:()=>ye,matcher:()=>nt,matches:()=>nt,max:()=>po,memoize:()=>Fs,methods:()=>kn,min:()=>Gr,mixin:()=>Ys,negate:()=>yr,noop:()=>ct,now:()=>An,object:()=>Ga,omit:()=>Va,once:()=>So,pairs:()=>mr,partial:()=>Cr,partition:()=>Ba,pick:()=>ls,pluck:()=>uo,property:()=>kt,propertyOf:()=>hn,random:()=>ln,range:()=>ps,reduce:()=>or,reduceRight:()=>Br,reject:()=>Pr,rest:()=>Mr,restArguments:()=>F,result:()=>jr,sample:()=>qs,select:()=>co,shuffle:()=>ja,size:()=>Li,some:()=>as,sortBy:()=>Ha,sortedIndex:()=>ss,tail:()=>Mr,take:()=>Oo,tap:()=>_n,template:()=>hr,templateSettings:()=>It,throttle:()=>Ai,times:()=>Dn,toArray:()=>Kn,toPath:()=>Zn,transpose:()=>Ro,unescape:()=>vt,union:()=>Ii,uniq:()=>Go,unique:()=>Go,uniqueId:()=>ao,unzip:()=>Ro,values:()=>In,where:()=>Di,without:()=>Qn,wrap:()=>lo,zip:()=>Ri});var h={};M.r(h),M.d(h,{VERSION:()=>y,after:()=>ri,all:()=>oi,allKeys:()=>Se,any:()=>as,assign:()=>$n,before:()=>Lo,bind:()=>Oi,bindAll:()=>is,chain:()=>Si,chunk:()=>$s,clone:()=>dr,collect:()=>Fr,compact:()=>za,compose:()=>Ia,constant:()=>Ke,contains:()=>jn,countBy:()=>Fa,create:()=>Ar,debounce:()=>ki,default:()=>Wa,defaults:()=>Tr,defer:()=>La,delay:()=>Uo,detect:()=>vn,difference:()=>qo,drop:()=>Mr,each:()=>Hr,escape:()=>we,every:()=>oi,extend:()=>Wn,extendOwn:()=>$n,filter:()=>co,find:()=>vn,findIndex:()=>Vo,findKey:()=>Bs,findLastIndex:()=>Mi,findWhere:()=>br,first:()=>Oo,flatten:()=>qa,foldl:()=>or,foldr:()=>Br,forEach:()=>Hr,functions:()=>kn,get:()=>Gn,groupBy:()=>Gs,has:()=>z,head:()=>Oo,identity:()=>st,include:()=>jn,includes:()=>jn,indexBy:()=>Ws,indexOf:()=>Ni,initial:()=>cs,inject:()=>or,intersection:()=>ii,invert:()=>yn,invoke:()=>Vs,isArguments:()=>Ce,isArray:()=>Pt,isArrayBuffer:()=>jt,isBoolean:()=>K,isDataView:()=>Gt,isDate:()=>Ot,isElement:()=>at,isEmpty:()=>$t,isEqual:()=>bn,isError:()=>Et,isFinite:()=>Ee,isFunction:()=>Zt,isMap:()=>Ln,isMatch:()=>oe,isNaN:()=>Te,isNull:()=>X,isNumber:()=>ot,isObject:()=>B,isRegExp:()=>yt,isSet:()=>sn,isString:()=>gt,isSymbol:()=>Mt,isTypedArray:()=>ae,isUndefined:()=>J,isWeakMap:()=>nr,isWeakSet:()=>Qe,iteratee:()=>zn,keys:()=>At,last:()=>us,lastIndexOf:()=>Us,map:()=>Fr,mapObject:()=>ye,matcher:()=>nt,matches:()=>nt,max:()=>po,memoize:()=>Fs,methods:()=>kn,min:()=>Gr,mixin:()=>Ys,negate:()=>yr,noop:()=>ct,now:()=>An,object:()=>Ga,omit:()=>Va,once:()=>So,pairs:()=>mr,partial:()=>Cr,partition:()=>Ba,pick:()=>ls,pluck:()=>uo,property:()=>kt,propertyOf:()=>hn,random:()=>ln,range:()=>ps,reduce:()=>or,reduceRight:()=>Br,reject:()=>Pr,rest:()=>Mr,restArguments:()=>F,result:()=>jr,sample:()=>qs,select:()=>co,shuffle:()=>ja,size:()=>Li,some:()=>as,sortBy:()=>Ha,sortedIndex:()=>ss,tail:()=>Mr,take:()=>Oo,tap:()=>_n,template:()=>hr,templateSettings:()=>It,throttle:()=>Ai,times:()=>Dn,toArray:()=>Kn,toPath:()=>Zn,transpose:()=>Ro,unescape:()=>vt,union:()=>Ii,uniq:()=>Go,unique:()=>Go,uniqueId:()=>ao,unzip:()=>Ro,values:()=>In,where:()=>Di,without:()=>Qn,wrap:()=>lo,zip:()=>Ri});var y="1.13.4",m="object"==typeof self&&self.self===self&&self||"object"==typeof global&&global.global===global&&global||Function("return this")()||{},_=Array.prototype,b=Object.prototype,T=typeof Symbol<"u"?Symbol.prototype:null,C=_.push,k=_.slice,A=b.toString,I=b.hasOwnProperty,D=typeof ArrayBuffer<"u",L=typeof DataView<"u",U=Array.isArray,S=Object.keys,G=Object.create,Y=D&&ArrayBuffer.isView,q=isNaN,tt=isFinite,ht=!{toString:null}.propertyIsEnumerable("toString"),ut=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],bt=Math.pow(2,53)-1;function F(pt,wt){return wt=null==wt?pt.length-1:+wt,function(){for(var Rt=Math.max(arguments.length-wt,0),Vt=Array(Rt),re=0;re<Rt;re++)Vt[re]=arguments[re+wt];switch(wt){case 0:return pt.call(this,Vt);case 1:return pt.call(this,arguments[0],Vt);case 2:return pt.call(this,arguments[0],arguments[1],Vt)}var Yt=Array(wt+1);for(re=0;re<wt;re++)Yt[re]=arguments[re];return Yt[wt]=Vt,pt.apply(this,Yt)}}function B(pt){var wt=typeof pt;return"function"===wt||"object"===wt&&!!pt}function X(pt){return null===pt}function J(pt){return void 0===pt}function K(pt){return!0===pt||!1===pt||"[object Boolean]"===A.call(pt)}function at(pt){return!(!pt||1!==pt.nodeType)}function Q(pt){var wt="[object "+pt+"]";return function(Rt){return A.call(Rt)===wt}}const gt=Q("String"),ot=Q("Number"),Ot=Q("Date"),yt=Q("RegExp"),Et=Q("Error"),Mt=Q("Symbol"),jt=Q("ArrayBuffer");var Ut=Q("Function"),le=m.document&&m.document.childNodes;"object"!=typeof Int8Array&&"function"!=typeof le&&(Ut=function(pt){return"function"==typeof pt||!1});const Zt=Ut,ie=Q("Object");var Ht=L&&ie(new DataView(new ArrayBuffer(8))),_t=typeof Map<"u"&&ie(new Map),Xt=Q("DataView");const Gt=Ht?function(pt){return null!=pt&&Zt(pt.getInt8)&&jt(pt.buffer)}:Xt,Pt=U||Q("Array");function he(pt,wt){return null!=pt&&I.call(pt,wt)}var fe=Q("Arguments");!function(){fe(arguments)||(fe=function(pt){return he(pt,"callee")})}();const Ce=fe;function Ee(pt){return!Mt(pt)&&tt(pt)&&!isNaN(parseFloat(pt))}function Te(pt){return ot(pt)&&q(pt)}function Ke(pt){return function(){return pt}}function pn(pt){return function(wt){var Rt=pt(wt);return"number"==typeof Rt&&Rt>=0&&Rt<=bt}}function We(pt){return function(wt){return wt?.[pt]}}const Ye=We("byteLength"),Ne=pn(Ye);var Qt=/\[object ((I|Ui)nt(8|16|32)|Float(32|64)|Uint8Clamped|Big(I|Ui)nt64)Array\]/;const ae=D?function(pt){return Y?Y(pt)&&!Gt(pt):Ne(pt)&&Qt.test(A.call(pt))}:Ke(!1),rt=We("length");function Tt(pt,wt){wt=function(me){for(var Pe={},an=me.length,mn=0;mn<an;++mn)Pe[me[mn]]=!0;return{contains:function(Jn){return!0===Pe[Jn]},push:function(Jn){return Pe[Jn]=!0,me.push(Jn)}}}(wt);var Rt=ut.length,Vt=pt.constructor,re=Zt(Vt)&&Vt.prototype||b,Yt="constructor";for(he(pt,Yt)&&!wt.contains(Yt)&&wt.push(Yt);Rt--;)(Yt=ut[Rt])in pt&&pt[Yt]!==re[Yt]&&!wt.contains(Yt)&&wt.push(Yt)}function At(pt){if(!B(pt))return[];if(S)return S(pt);var wt=[];for(var Rt in pt)he(pt,Rt)&&wt.push(Rt);return ht&&Tt(pt,wt),wt}function $t(pt){if(null==pt)return!0;var wt=rt(pt);return"number"==typeof wt&&(Pt(pt)||gt(pt)||Ce(pt))?0===wt:0===rt(At(pt))}function oe(pt,wt){var Rt=At(wt),Vt=Rt.length;if(null==pt)return!Vt;for(var re=Object(pt),Yt=0;Yt<Vt;Yt++){var me=Rt[Yt];if(wt[me]!==re[me]||!(me in re))return!1}return!0}function se(pt){return pt instanceof se?pt:this instanceof se?void(this._wrapped=pt):new se(pt)}function xe(pt){return new Uint8Array(pt.buffer||pt,pt.byteOffset||0,Ye(pt))}se.VERSION=y,se.prototype.value=function(){return this._wrapped},se.prototype.valueOf=se.prototype.toJSON=se.prototype.value,se.prototype.toString=function(){return String(this._wrapped)};var Ue="[object DataView]";function $e(pt,wt,Rt,Vt){if(pt===wt)return 0!==pt||1/pt==1/wt;if(null==pt||null==wt)return!1;if(pt!=pt)return wt!=wt;var re=typeof pt;return("function"===re||"object"===re||"object"==typeof wt)&&on(pt,wt,Rt,Vt)}function on(pt,wt,Rt,Vt){pt instanceof se&&(pt=pt._wrapped),wt instanceof se&&(wt=wt._wrapped);var re=A.call(pt);if(re!==A.call(wt))return!1;if(Ht&&"[object Object]"==re&&Gt(pt)){if(!Gt(wt))return!1;re=Ue}switch(re){case"[object RegExp]":case"[object String]":return""+pt==""+wt;case"[object Number]":return+pt!=+pt?+wt!=+wt:0==+pt?1/+pt==1/wt:+pt==+wt;case"[object Date]":case"[object Boolean]":return+pt==+wt;case"[object Symbol]":return T.valueOf.call(pt)===T.valueOf.call(wt);case"[object ArrayBuffer]":case Ue:return on(xe(pt),xe(wt),Rt,Vt)}var Yt="[object Array]"===re;if(!Yt&&ae(pt)){if(Ye(pt)!==Ye(wt))return!1;if(pt.buffer===wt.buffer&&pt.byteOffset===wt.byteOffset)return!0;Yt=!0}if(!Yt){if("object"!=typeof pt||"object"!=typeof wt)return!1;var me=pt.constructor,Pe=wt.constructor;if(me!==Pe&&!(Zt(me)&&me instanceof me&&Zt(Pe)&&Pe instanceof Pe)&&"constructor"in pt&&"constructor"in wt)return!1}Vt=Vt||[];for(var an=(Rt=Rt||[]).length;an--;)if(Rt[an]===pt)return Vt[an]===wt;if(Rt.push(pt),Vt.push(wt),Yt){if((an=pt.length)!==wt.length)return!1;for(;an--;)if(!$e(pt[an],wt[an],Rt,Vt))return!1}else{var mn,Jn=At(pt);if(an=Jn.length,At(wt).length!==an)return!1;for(;an--;)if(!he(wt,mn=Jn[an])||!$e(pt[mn],wt[mn],Rt,Vt))return!1}return Rt.pop(),Vt.pop(),!0}function bn(pt,wt){return $e(pt,wt)}function Se(pt){if(!B(pt))return[];var wt=[];for(var Rt in pt)wt.push(Rt);return ht&&Tt(pt,wt),wt}function xt(pt){var wt=rt(pt);return function(Rt){if(null==Rt)return!1;var Vt=Se(Rt);if(rt(Vt))return!1;for(var re=0;re<wt;re++)if(!Zt(Rt[pt[re]]))return!1;return pt!==dn||!Zt(Rt[Bt])}}var Bt="forEach",ee=["clear","delete"],Ae=["get","has","set"],Le=ee.concat(Bt,Ae),dn=ee.concat(Ae),fn=["add"].concat(ee,Bt,"has");const Ln=_t?xt(Le):Q("Map"),nr=_t?xt(dn):Q("WeakMap"),sn=_t?xt(fn):Q("Set"),Qe=Q("WeakSet");function In(pt){for(var wt=At(pt),Rt=wt.length,Vt=Array(Rt),re=0;re<Rt;re++)Vt[re]=pt[wt[re]];return Vt}function mr(pt){for(var wt=At(pt),Rt=wt.length,Vt=Array(Rt),re=0;re<Rt;re++)Vt[re]=[wt[re],pt[wt[re]]];return Vt}function yn(pt){for(var wt={},Rt=At(pt),Vt=0,re=Rt.length;Vt<re;Vt++)wt[pt[Rt[Vt]]]=Rt[Vt];return wt}function kn(pt){var wt=[];for(var Rt in pt)Zt(pt[Rt])&&wt.push(Rt);return wt.sort()}function Pn(pt,wt){return function(Rt){var Vt=arguments.length;if(wt&&(Rt=Object(Rt)),Vt<2||null==Rt)return Rt;for(var re=1;re<Vt;re++)for(var Yt=arguments[re],me=pt(Yt),Pe=me.length,an=0;an<Pe;an++){var mn=me[an];wt&&void 0!==Rt[mn]||(Rt[mn]=Yt[mn])}return Rt}}const Wn=Pn(Se),$n=Pn(At),Tr=Pn(Se,!0);function rr(pt){if(!B(pt))return{};if(G)return G(pt);var wt=function(){};wt.prototype=pt;var Rt=new wt;return wt.prototype=null,Rt}function Ar(pt,wt){var Rt=rr(pt);return wt&&$n(Rt,wt),Rt}function dr(pt){return B(pt)?Pt(pt)?pt.slice():Wn({},pt):pt}function _n(pt,wt){return wt(pt),pt}function Zn(pt){return Pt(pt)?pt:[pt]}function Sn(pt){return se.toPath(pt)}function Rn(pt,wt){for(var Rt=wt.length,Vt=0;Vt<Rt;Vt++){if(null==pt)return;pt=pt[wt[Vt]]}return Rt?pt:void 0}function Gn(pt,wt,Rt){var Vt=Rn(pt,Sn(wt));return J(Vt)?Rt:Vt}function z(pt,wt){for(var Rt=(wt=Sn(wt)).length,Vt=0;Vt<Rt;Vt++){var re=wt[Vt];if(!he(pt,re))return!1;pt=pt[re]}return!!Rt}function st(pt){return pt}function nt(pt){return pt=$n({},pt),function(wt){return oe(wt,pt)}}function kt(pt){return pt=Sn(pt),function(wt){return Rn(wt,pt)}}function ne(pt,wt,Rt){if(void 0===wt)return pt;switch(Rt??3){case 1:return function(Vt){return pt.call(wt,Vt)};case 3:return function(Vt,re,Yt){return pt.call(wt,Vt,re,Yt)};case 4:return function(Vt,re,Yt,me){return pt.call(wt,Vt,re,Yt,me)}}return function(){return pt.apply(wt,arguments)}}function Xe(pt,wt,Rt){return null==pt?st:Zt(pt)?ne(pt,wt,Rt):B(pt)&&!Pt(pt)?nt(pt):kt(pt)}function zn(pt,wt){return Xe(pt,wt,1/0)}function Ve(pt,wt,Rt){return se.iteratee!==zn?se.iteratee(pt,wt):Xe(pt,wt,Rt)}function ye(pt,wt,Rt){wt=Ve(wt,Rt);for(var Vt=At(pt),re=Vt.length,Yt={},me=0;me<re;me++){var Pe=Vt[me];Yt[Pe]=wt(pt[Pe],Pe,pt)}return Yt}function ct(){}function hn(pt){return null==pt?ct:function(wt){return Gn(pt,wt)}}function Dn(pt,wt,Rt){var Vt=Array(Math.max(0,pt));wt=ne(wt,Rt,1);for(var re=0;re<pt;re++)Vt[re]=wt(re);return Vt}function ln(pt,wt){return null==wt&&(wt=pt,pt=0),pt+Math.floor(Math.random()*(wt-pt+1))}se.toPath=Zn,se.iteratee=zn;const An=Date.now||function(){return(new Date).getTime()};function lr(pt){var wt=function(Yt){return pt[Yt]},Rt="(?:"+At(pt).join("|")+")",Vt=RegExp(Rt),re=RegExp(Rt,"g");return function(Yt){return Yt=null==Yt?"":""+Yt,Vt.test(Yt)?Yt.replace(re,wt):Yt}}const kr={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},we=lr(kr),vt=lr(yn(kr)),It=se.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var ge=/(.)^/,Ie={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},Re=/\\|'|\r|\n|\u2028|\u2029/g;function Cn(pt){return"\\"+Ie[pt]}var Fe=/^\s*(\w|\$)+\s*$/;function hr(pt,wt,Rt){!wt&&Rt&&(wt=Rt),wt=Tr({},wt,se.templateSettings);var Vt=RegExp([(wt.escape||ge).source,(wt.interpolate||ge).source,(wt.evaluate||ge).source].join("|")+"|$","g"),re=0,Yt="__p+='";pt.replace(Vt,function(mn,Jn,ho,ds,$o){return Yt+=pt.slice(re,$o).replace(Re,Cn),re=$o+mn.length,Jn?Yt+="'+\n((__t=("+Jn+"))==null?'':_.escape(__t))+\n'":ho?Yt+="'+\n((__t=("+ho+"))==null?'':__t)+\n'":ds&&(Yt+="';\n"+ds+"\n__p+='"),mn}),Yt+="';\n";var me,Pe=wt.variable;if(Pe){if(!Fe.test(Pe))throw new Error("variable is not a bare identifier: "+Pe)}else Yt="with(obj||{}){\n"+Yt+"}\n",Pe="obj";Yt="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+Yt+"return __p;\n";try{me=new Function(Pe,"_",Yt)}catch(mn){throw mn.source=Yt,mn}var an=function(mn){return me.call(this,mn,se)};return an.source="function("+Pe+"){\n"+Yt+"}",an}function jr(pt,wt,Rt){var Vt=(wt=Sn(wt)).length;if(!Vt)return Zt(Rt)?Rt.call(pt):Rt;for(var re=0;re<Vt;re++){var Yt=pt?.[wt[re]];void 0===Yt&&(Yt=Rt,re=Vt),pt=Zt(Yt)?Yt.call(pt):Yt}return pt}var _o=0;function ao(pt){var wt=++_o+"";return pt?pt+wt:wt}function Si(pt){var wt=se(pt);return wt._chain=!0,wt}function os(pt,wt,Rt,Vt,re){if(!(Vt instanceof wt))return pt.apply(Rt,re);var Yt=rr(pt.prototype),me=pt.apply(Yt,re);return B(me)?me:Yt}var Bo=F(function(pt,wt){var Rt=Bo.placeholder,Vt=function(){for(var re=0,Yt=wt.length,me=Array(Yt),Pe=0;Pe<Yt;Pe++)me[Pe]=wt[Pe]===Rt?arguments[re++]:wt[Pe];for(;re<arguments.length;)me.push(arguments[re++]);return os(pt,Vt,this,this,me)};return Vt});Bo.placeholder=se;const Cr=Bo,Oi=F(function(pt,wt,Rt){if(!Zt(pt))throw new TypeError("Bind must be called on a function");var Vt=F(function(re){return os(pt,Vt,wt,this,Rt.concat(re))});return Vt}),vr=pn(rt);function qr(pt,wt,Rt,Vt){if(Vt=Vt||[],wt||0===wt){if(wt<=0)return Vt.concat(pt)}else wt=1/0;for(var re=Vt.length,Yt=0,me=rt(pt);Yt<me;Yt++){var Pe=pt[Yt];if(vr(Pe)&&(Pt(Pe)||Ce(Pe)))if(wt>1)qr(Pe,wt-1,Rt,Vt),re=Vt.length;else for(var an=0,mn=Pe.length;an<mn;)Vt[re++]=Pe[an++];else Rt||(Vt[re++]=Pe)}return Vt}const is=F(function(pt,wt){var Rt=(wt=qr(wt,!1,!1)).length;if(Rt<1)throw new Error("bindAll must be passed function names");for(;Rt--;){var Vt=wt[Rt];pt[Vt]=Oi(pt[Vt],pt)}return pt});function Fs(pt,wt){var Rt=function(Vt){var re=Rt.cache,Yt=""+(wt?wt.apply(this,arguments):Vt);return he(re,Yt)||(re[Yt]=pt.apply(this,arguments)),re[Yt]};return Rt.cache={},Rt}const Uo=F(function(pt,wt,Rt){return setTimeout(function(){return pt.apply(null,Rt)},wt)}),La=Cr(Uo,se,1);function Ai(pt,wt,Rt){var Vt,re,Yt,me,Pe=0;Rt||(Rt={});var an=function(){Pe=!1===Rt.leading?0:An(),Vt=null,me=pt.apply(re,Yt),Vt||(re=Yt=null)},mn=function(){var Jn=An();Pe||!1!==Rt.leading||(Pe=Jn);var ho=wt-(Jn-Pe);return re=this,Yt=arguments,ho<=0||ho>wt?(Vt&&(clearTimeout(Vt),Vt=null),Pe=Jn,me=pt.apply(re,Yt),Vt||(re=Yt=null)):Vt||!1===Rt.trailing||(Vt=setTimeout(an,ho)),me};return mn.cancel=function(){clearTimeout(Vt),Pe=0,Vt=re=Yt=null},mn}function ki(pt,wt,Rt){var Vt,re,Yt,me,Pe,an=function(){var Jn=An()-re;wt>Jn?Vt=setTimeout(an,wt-Jn):(Vt=null,Rt||(me=pt.apply(Pe,Yt)),Vt||(Yt=Pe=null))},mn=F(function(Jn){return Pe=this,Yt=Jn,re=An(),Vt||(Vt=setTimeout(an,wt),Rt&&(me=pt.apply(Pe,Yt))),me});return mn.cancel=function(){clearTimeout(Vt),Vt=Yt=Pe=null},mn}function lo(pt,wt){return Cr(wt,pt)}function yr(pt){return function(){return!pt.apply(this,arguments)}}function Ia(){var pt=arguments,wt=pt.length-1;return function(){for(var Rt=wt,Vt=pt[wt].apply(this,arguments);Rt--;)Vt=pt[Rt].call(this,Vt);return Vt}}function ri(pt,wt){return function(){if(--pt<1)return wt.apply(this,arguments)}}function Lo(pt,wt){var Rt;return function(){return--pt>0&&(Rt=wt.apply(this,arguments)),pt<=1&&(wt=null),Rt}}const So=Cr(Lo,2);function Bs(pt,wt,Rt){wt=Ve(wt,Rt);for(var Vt,re=At(pt),Yt=0,me=re.length;Yt<me;Yt++)if(wt(pt[Vt=re[Yt]],Vt,pt))return Vt}function Pi(pt){return function(wt,Rt,Vt){Rt=Ve(Rt,Vt);for(var re=rt(wt),Yt=pt>0?0:re-1;Yt>=0&&Yt<re;Yt+=pt)if(Rt(wt[Yt],Yt,wt))return Yt;return-1}}const Vo=Pi(1),Mi=Pi(-1);function ss(pt,wt,Rt,Vt){for(var re=(Rt=Ve(Rt,Vt,1))(wt),Yt=0,me=rt(pt);Yt<me;){var Pe=Math.floor((Yt+me)/2);Rt(pt[Pe])<re?Yt=Pe+1:me=Pe}return Yt}function Ra(pt,wt,Rt){return function(Vt,re,Yt){var me=0,Pe=rt(Vt);if("number"==typeof Yt)pt>0?me=Yt>=0?Yt:Math.max(Yt+Pe,me):Pe=Yt>=0?Math.min(Yt+1,Pe):Yt+Pe+1;else if(Rt&&Yt&&Pe)return Vt[Yt=Rt(Vt,re)]===re?Yt:-1;if(re!=re)return(Yt=wt(k.call(Vt,me,Pe),Te))>=0?Yt+me:-1;for(Yt=pt>0?me:Pe-1;Yt>=0&&Yt<Pe;Yt+=pt)if(Vt[Yt]===re)return Yt;return-1}}const Ni=Ra(1,Vo,ss),Us=Ra(-1,Mi);function vn(pt,wt,Rt){var Vt=(vr(pt)?Vo:Bs)(pt,wt,Rt);if(void 0!==Vt&&-1!==Vt)return pt[Vt]}function br(pt,wt){return vn(pt,nt(wt))}function Hr(pt,wt,Rt){var Vt,re;if(wt=ne(wt,Rt),vr(pt))for(Vt=0,re=pt.length;Vt<re;Vt++)wt(pt[Vt],Vt,pt);else{var Yt=At(pt);for(Vt=0,re=Yt.length;Vt<re;Vt++)wt(pt[Yt[Vt]],Yt[Vt],pt)}return pt}function Fr(pt,wt,Rt){wt=Ve(wt,Rt);for(var Vt=!vr(pt)&&At(pt),re=(Vt||pt).length,Yt=Array(re),me=0;me<re;me++){var Pe=Vt?Vt[me]:me;Yt[me]=wt(pt[Pe],Pe,pt)}return Yt}function Io(pt){var wt=function(Rt,Vt,re,Yt){var me=!vr(Rt)&&At(Rt),Pe=(me||Rt).length,an=pt>0?0:Pe-1;for(Yt||(re=Rt[me?me[an]:an],an+=pt);an>=0&&an<Pe;an+=pt){var mn=me?me[an]:an;re=Vt(re,Rt[mn],mn,Rt)}return re};return function(Rt,Vt,re,Yt){var me=arguments.length>=3;return wt(Rt,ne(Vt,Yt,4),re,me)}}const or=Io(1),Br=Io(-1);function co(pt,wt,Rt){var Vt=[];return wt=Ve(wt,Rt),Hr(pt,function(re,Yt,me){wt(re,Yt,me)&&Vt.push(re)}),Vt}function Pr(pt,wt,Rt){return co(pt,yr(Ve(wt)),Rt)}function oi(pt,wt,Rt){wt=Ve(wt,Rt);for(var Vt=!vr(pt)&&At(pt),re=(Vt||pt).length,Yt=0;Yt<re;Yt++){var me=Vt?Vt[Yt]:Yt;if(!wt(pt[me],me,pt))return!1}return!0}function as(pt,wt,Rt){wt=Ve(wt,Rt);for(var Vt=!vr(pt)&&At(pt),re=(Vt||pt).length,Yt=0;Yt<re;Yt++){var me=Vt?Vt[Yt]:Yt;if(wt(pt[me],me,pt))return!0}return!1}function jn(pt,wt,Rt,Vt){return vr(pt)||(pt=In(pt)),("number"!=typeof Rt||Vt)&&(Rt=0),Ni(pt,wt,Rt)>=0}const Vs=F(function(pt,wt,Rt){var Vt,re;return Zt(wt)?re=wt:(wt=Sn(wt),Vt=wt.slice(0,-1),wt=wt[wt.length-1]),Fr(pt,function(Yt){var me=re;if(!me){if(Vt&&Vt.length&&(Yt=Rn(Yt,Vt)),null==Yt)return;me=Yt[wt]}return null==me?me:me.apply(Yt,Rt)})});function uo(pt,wt){return Fr(pt,kt(wt))}function Di(pt,wt){return co(pt,nt(wt))}function po(pt,wt,Rt){var Vt,re,Yt=-1/0,me=-1/0;if(null==wt||"number"==typeof wt&&"object"!=typeof pt[0]&&null!=pt)for(var Pe=0,an=(pt=vr(pt)?pt:In(pt)).length;Pe<an;Pe++)null!=(Vt=pt[Pe])&&Vt>Yt&&(Yt=Vt);else wt=Ve(wt,Rt),Hr(pt,function(mn,Jn,ho){((re=wt(mn,Jn,ho))>me||re===-1/0&&Yt===-1/0)&&(Yt=mn,me=re)});return Yt}function Gr(pt,wt,Rt){var Vt,re,Yt=1/0,me=1/0;if(null==wt||"number"==typeof wt&&"object"!=typeof pt[0]&&null!=pt)for(var Pe=0,an=(pt=vr(pt)?pt:In(pt)).length;Pe<an;Pe++)null!=(Vt=pt[Pe])&&Vt<Yt&&(Yt=Vt);else wt=Ve(wt,Rt),Hr(pt,function(mn,Jn,ho){((re=wt(mn,Jn,ho))<me||re===1/0&&Yt===1/0)&&(Yt=mn,me=re)});return Yt}var zs=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;function Kn(pt){return pt?Pt(pt)?k.call(pt):gt(pt)?pt.match(zs):vr(pt)?Fr(pt,st):In(pt):[]}function qs(pt,wt,Rt){if(null==wt||Rt)return vr(pt)||(pt=In(pt)),pt[ln(pt.length-1)];var Vt=Kn(pt),re=rt(Vt);wt=Math.max(Math.min(wt,re),0);for(var Yt=re-1,me=0;me<wt;me++){var Pe=ln(me,Yt),an=Vt[me];Vt[me]=Vt[Pe],Vt[Pe]=an}return Vt.slice(0,wt)}function ja(pt){return qs(pt,1/0)}function Ha(pt,wt,Rt){var Vt=0;return wt=Ve(wt,Rt),uo(Fr(pt,function(re,Yt,me){return{value:re,index:Vt++,criteria:wt(re,Yt,me)}}).sort(function(re,Yt){var me=re.criteria,Pe=Yt.criteria;if(me!==Pe){if(me>Pe||void 0===me)return 1;if(me<Pe||void 0===Pe)return-1}return re.index-Yt.index}),"value")}function zo(pt,wt){return function(Rt,Vt,re){var Yt=wt?[[],[]]:{};return Vt=Ve(Vt,re),Hr(Rt,function(me,Pe){var an=Vt(me,Pe,Rt);pt(Yt,me,an)}),Yt}}const Gs=zo(function(pt,wt,Rt){he(pt,Rt)?pt[Rt].push(wt):pt[Rt]=[wt]}),Ws=zo(function(pt,wt,Rt){pt[Rt]=wt}),Fa=zo(function(pt,wt,Rt){he(pt,Rt)?pt[Rt]++:pt[Rt]=1}),Ba=zo(function(pt,wt,Rt){pt[Rt?0:1].push(wt)},!0);function Li(pt){return null==pt?0:vr(pt)?pt.length:At(pt).length}function Ua(pt,wt,Rt){return wt in Rt}const ls=F(function(pt,wt){var Rt={},Vt=wt[0];if(null==pt)return Rt;Zt(Vt)?(wt.length>1&&(Vt=ne(Vt,wt[1])),wt=Se(pt)):(Vt=Ua,wt=qr(wt,!1,!1),pt=Object(pt));for(var re=0,Yt=wt.length;re<Yt;re++){var me=wt[re],Pe=pt[me];Vt(Pe,me,pt)&&(Rt[me]=Pe)}return Rt}),Va=F(function(pt,wt){var Rt,Vt=wt[0];return Zt(Vt)?(Vt=yr(Vt),wt.length>1&&(Rt=wt[1])):(wt=Fr(qr(wt,!1,!1),String),Vt=function(re,Yt){return!jn(wt,Yt)}),ls(pt,Vt,Rt)});function cs(pt,wt,Rt){return k.call(pt,0,Math.max(0,pt.length-(null==wt||Rt?1:wt)))}function Oo(pt,wt,Rt){return null==pt||pt.length<1?null==wt||Rt?void 0:[]:null==wt||Rt?pt[0]:cs(pt,pt.length-wt)}function Mr(pt,wt,Rt){return k.call(pt,null==wt||Rt?1:wt)}function us(pt,wt,Rt){return null==pt||pt.length<1?null==wt||Rt?void 0:[]:null==wt||Rt?pt[pt.length-1]:Mr(pt,Math.max(0,pt.length-wt))}function za(pt){return co(pt,Boolean)}function qa(pt,wt){return qr(pt,wt,!1)}const qo=F(function(pt,wt){return wt=qr(wt,!0,!0),co(pt,function(Rt){return!jn(wt,Rt)})}),Qn=F(function(pt,wt){return qo(pt,wt)});function Go(pt,wt,Rt,Vt){K(wt)||(Vt=Rt,Rt=wt,wt=!1),null!=Rt&&(Rt=Ve(Rt,Vt));for(var re=[],Yt=[],me=0,Pe=rt(pt);me<Pe;me++){var an=pt[me],mn=Rt?Rt(an,me,pt):an;wt&&!Rt?(me&&Yt===mn||re.push(an),Yt=mn):Rt?jn(Yt,mn)||(Yt.push(mn),re.push(an)):jn(re,an)||re.push(an)}return re}const Ii=F(function(pt){return Go(qr(pt,!0,!0))});function ii(pt){for(var wt=[],Rt=arguments.length,Vt=0,re=rt(pt);Vt<re;Vt++){var Yt=pt[Vt];if(!jn(wt,Yt)){var me;for(me=1;me<Rt&&jn(arguments[me],Yt);me++);me===Rt&&wt.push(Yt)}}return wt}function Ro(pt){for(var wt=pt&&po(pt,rt).length||0,Rt=Array(wt),Vt=0;Vt<wt;Vt++)Rt[Vt]=uo(pt,Vt);return Rt}const Ri=F(Ro);function Ga(pt,wt){for(var Rt={},Vt=0,re=rt(pt);Vt<re;Vt++)wt?Rt[pt[Vt]]=wt[Vt]:Rt[pt[Vt][0]]=pt[Vt][1];return Rt}function ps(pt,wt,Rt){null==wt&&(wt=pt||0,pt=0),Rt||(Rt=wt<pt?-1:1);for(var Vt=Math.max(Math.ceil((wt-pt)/Rt),0),re=Array(Vt),Yt=0;Yt<Vt;Yt++,pt+=Rt)re[Yt]=pt;return re}function $s(pt,wt){if(null==wt||wt<1)return[];for(var Rt=[],Vt=0,re=pt.length;Vt<re;)Rt.push(k.call(pt,Vt,Vt+=wt));return Rt}function Ks(pt,wt){return pt._chain?se(wt).chain():wt}function Ys(pt){return Hr(kn(pt),function(wt){var Rt=se[wt]=pt[wt];se.prototype[wt]=function(){var Vt=[this._wrapped];return C.apply(Vt,arguments),Ks(this,Rt.apply(se,Vt))}}),se}Hr(["pop","push","reverse","shift","sort","splice","unshift"],function(pt){var wt=_[pt];se.prototype[pt]=function(){var Rt=this._wrapped;return null!=Rt&&(wt.apply(Rt,arguments),"shift"!==pt&&"splice"!==pt||0!==Rt.length||delete Rt[0]),Ks(this,Rt)}}),Hr(["concat","join","slice"],function(pt){var wt=_[pt];se.prototype[pt]=function(){var Rt=this._wrapped;return null!=Rt&&(Rt=wt.apply(Rt,arguments)),Ks(this,Rt)}});const Wa=se;var Wo=Ys(h);Wo._=Wo;const Xs=Wo}},qt={};function lt(x){var g=qt[x];if(void 0!==g)return g.exports;var M=qt[x]={exports:{}};return V[x].call(M.exports,M,M.exports,lt),M.exports}lt.n=x=>{var g=x&&x.__esModule?()=>x.default:()=>x;return lt.d(g,{a:g}),g},lt.d=(x,g)=>{for(var M in g)lt.o(g,M)&&!lt.o(x,M)&&Object.defineProperty(x,M,{enumerable:!0,get:g[M]})},lt.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),lt.o=(x,g)=>Object.prototype.hasOwnProperty.call(x,g),lt.r=x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})};var W={};return(()=>{"use strict";lt.r(W),lt.d(W,{default:()=>wm,grapesjs:()=>Uh,usePlugin:()=>Bh});var x=lt(50),g=lt(163);function M(p){for(var a=[],e=1;e<arguments.length;e++)a[e-1]=arguments[e];var o=p.raw;return o.reduce(function(s,c,v){var P=a[v-1],N=o[v-1];return Array.isArray(P)?P=P.join(""):N&&"$"===N.slice(-1)?s=s.slice(0,-1):P=(0,g.escape)(P),s+P+c})}const h={stylePrefix:"gjs-",components:"",style:"",fromElement:!1,projectData:void 0,noticeOnUnload:!0,showOffsets:!1,showOffsetsSelected:!1,forceClass:!0,height:"900px",width:"100%",log:["warning","error"],baseCss:"",protectedCss:"* { box-sizing: border-box; } body {margin: 0;}",canvasCss:"",defaultCommand:"select-comp",showToolbar:!0,showDevices:!0,devicePreviewMode:!1,mediaCondition:"max-width",tagVarStart:"{[ ",tagVarEnd:" ]}",keepEmptyTextNodes:!1,jsInHtml:!0,nativeDnD:!0,multipleSelection:!0,optsHtml:{},optsCss:{},avoidInlineStyle:!0,avoidDefaults:!0,clearStyles:!1,listenToEl:[],cssIcons:"https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css",icons:{close:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',move:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,6V11H18V7.75L22.25,12L18,16.25V13H13V18H16.25L12,22.25L7.75,18H11V13H6V16.25L1.75,12L6,7.75V11H11V6H7.75L12,1.75L16.25,6H13Z"/></svg>',plus:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z" /></svg>',caret:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7,10L12,15L17,10H7Z" /></svg>',delete:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" /></svg>',copy:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M19,21H8V7H19M19,5H8A2,2 0 0,0 6,7V21A2,2 0 0,0 8,23H19A2,2 0 0,0 21,21V7A2,2 0 0,0 19,5M16,1H4A2,2 0 0,0 2,3V17H4V3H16V1Z" /></svg>',arrowUp:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M13,20H11V8L5.5,13.5L4.08,12.08L12,4.16L19.92,12.08L18.5,13.5L13,8V20Z" /></svg>',chevron:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M7.41,15.41L12,10.83L16.59,15.41L18,14L12,8L6,14L7.41,15.41Z" /></svg>',eye:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z" /></svg>',eyeOff:'<svg viewBox="0 0 24 24"><path fill="currentColor" d="M11.83,9L15,12.16C15,12.11 15,12.05 15,12A3,3 0 0,0 12,9C11.94,9 11.89,9 11.83,9M7.53,9.8L9.08,11.35C9.03,11.56 9,11.77 9,12A3,3 0 0,0 12,15C12.22,15 12.44,14.97 12.65,14.92L14.2,16.47C13.53,16.8 12.79,17 12,17A5,5 0 0,1 7,12C7,11.21 7.2,10.47 7.53,9.8M2,4.27L4.28,6.55L4.73,7C3.08,8.3 1.78,10 1,12C2.73,16.39 7,19.5 12,19.5C13.55,19.5 15.03,19.2 16.38,18.66L16.81,19.08L19.73,22L21,20.73L3.27,3M12,7A5,5 0 0,1 17,12C17,12.64 16.87,13.26 16.64,13.82L19.57,16.75C21.07,15.5 22.27,13.86 23,12C21.27,7.61 17,4.5 12,4.5C10.6,4.5 9.26,4.75 8,5.2L10.17,7.35C10.74,7.13 11.35,7 12,7Z" /></svg>'},i18n:{},undoManager:{},assetManager:{},canvas:{},layerManager:{},storageManager:{},richTextEditor:{},domComponents:{},modal:{},codeManager:{},panels:{},commands:{},cssComposer:{},selectorManager:{},deviceManager:{},styleManager:{},blockManager:{},traitManager:{},textViewCode:"Code",keepUnusedStyles:!1,multiFrames:!1,customUI:!1};var b,y=lt(316),m=lt.n(y),_=lt(895),T=lt(346),C=(b=function(p,a){return(b=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,o){e.__proto__=o}||function(e,o){for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(e[s]=o[s])})(p,a)},function(p,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function e(){this.constructor=p}b(p,a),p.prototype=null===a?Object.create(a):(e.prototype=a.prototype,new e)}),k=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return C(a,p),a}(T.Hn);const A=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return C(a,p),a.prototype.getByComponent=function(e){var o=this;return this.filter(function(s){return o.getComponent(s)===e})[0]},a.prototype.addComponent=function(e,o){var s=this,c=((0,x.isArray)(e)?e:[e]).filter(function(v){return!s.hasComponent(v)}).map(function(v){return new k({component:v})})[0];return this.push(c,o)},a.prototype.getComponent=function(e){return e.get("component")},a.prototype.hasComponent=function(e){var o=this.getByComponent(e);return o&&this.contains(o)},a.prototype.lastComponent=function(){var e=this.last();return e?this.getComponent(e):void 0},a.prototype.allComponents=function(){var e=this;return this.map(function(o){return e.getComponent(o)}).filter(function(o){return o})},a.prototype.removeComponent=function(e,o){var s=this,c=((0,x.isArray)(e)?e:[e]).map(function(v){return s.getByComponent(v)});return this.remove(c,o)},a}(T.FE);var p,I=(p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)},function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}),D=function(){return D=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},D.apply(this,arguments)},U=function(){function p(a,e,o){this.cls=[],this._em=a,this._name=e;var s=this.name.charAt(0).toLowerCase()+this.name.slice(1),c=(0,x.isUndefined)(a.config[s])?a.config[this.name]:a.config[s],v=!0===c?{}:c||{};v.pStylePrefix=a.config.pStylePrefix||"",(0,x.isUndefined)(c)||c||(v._disable=1),v.em=a,this._config=(0,g.deepMerge)(o||{},v)}return Object.defineProperty(p.prototype,"em",{get:function(){return this._em},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),p.prototype.render=function(a){},p.prototype.postLoad=function(a){},Object.defineProperty(p.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),p.prototype.getConfig=function(a){return a?this.config[a]:this.config},p.prototype.__logWarn=function(a,e){void 0===e&&(e={}),this.em.logWarning("[".concat(this.name,"]: ").concat(a),e)},p.prototype.__appendTo=function(){var a=this.getConfig().appendTo;if(a){var e=(0,x.isElement)(a)?a:document.querySelector(a);if(!e)return this.__logWarn('"appendTo" element not found');e.appendChild(this.render())}},p}();const S=U;var G=function(p){function a(e,o,s,c,v,P){void 0===P&&(P={});var N=p.call(this,e,o,v)||this;return N.cls=[],N.private=!1,N.all=s,N.events=c,!P.skipListen&&N.__initListen(),N}return I(a,p),a.prototype.postLoad=function(e){},a.prototype.render=function(e){},a.prototype.getProjectData=function(e){var o={},s=this.storageKey;return s&&(o[s]=e||this.getAll()),o},a.prototype.loadProjectData=function(e,o){void 0===e&&(e={}),void 0===o&&(o={});var s=o.all,c=o.onResult,v=o.reset,P=this.storageKey,N={action:"load"},H=s||this.all,R=e[P];if("string"==typeof R)try{R=JSON.parse(R)}catch{this.__logWarn("Data parsing failed",{input:R})}return v&&R&&H.reset(void 0,N),c?R&&c(R,N):R&&(0,g.isDef)(R.length)&&H.reset(R,N),R},a.prototype.clear=function(e){void 0===e&&(e={});var o=this.all;return o&&o.reset(void 0,e),this},a.prototype.getAll=function(){return function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))}([],this.all.models,!0)},a.prototype.getAllMap=function(){return this.getAll().reduce(function(e,o){return e[o.get(o.idAttribute)]=o,e},{})},a.prototype.__initListen=function(e){void 0===e&&(e={});var o=this,s=o.all,c=o.em,v=o.events;s&&c&&s.on("add",function(P,N,H){return c.trigger(v.add,P,H)}).on("remove",function(P,N,H){return c.trigger(v.remove,P,H)}).on("change",function(P,N){return c.trigger(v.update,P,P.changedAttributes(),N)}).on("all",this.__catchAllEvent,this),this.cls=[s].concat(e.collections||[]),(e.propagate||[]).forEach(function(P){var N=P.entity,H=P.event;N.on("all",function(R,it,ft,Ct){var St=D({event:R},Ct||ft);[c,s].map(function(Nt){return Nt.trigger(H,it,St)})})})},a.prototype.__remove=function(e,o){var s=this;void 0===o&&(o={});var c=this.em,v=(0,x.isString)(e)?this.get(e):e,P=function(){return v&&s.all.remove(v,o),v};return!o.silent&&c?.trigger(this.events.removeBefore,v,P,o),!o.abort&&P()},a.prototype.__catchAllEvent=function(e,o,s,c){var v=this.em,P=this.events,N=c||s;v&&P.all&&v.trigger(P.all,{event:e,model:o,options:N}),this.__onAllEvent()},a.prototype.__appendTo=function(e){var o=this.config.appendTo;if(o){var s=(0,x.isElement)(o)?o:document.querySelector(o);if(!s)return this.__logWarn('"appendTo" element not found');s.appendChild(this.render(e))}},a.prototype.__onAllEvent=function(){},a.prototype._createId=function(e){void 0===e&&(e=16);var o,s=this.getAll().length+e,c=this.getAllMap();do{o=(0,g.createId)(s)}while(c[o]);return o},a.prototype.__listenAdd=function(e,o){var s=this;e.on("add",function(c,v,P){return s.em.trigger(o,c,P)})},a.prototype.__listenRemove=function(e,o){var s=this;e.on("remove",function(c,v,P){return s.em.trigger(o,c,P)})},a.prototype.__listenUpdate=function(e,o){var s=this;e.on("change",function(c,v){return s.em.trigger(o,c,c.changedAttributes(),v)})},a.prototype.__destroy=function(){var e;this.cls.forEach(function(o){o.stopListening(),o.reset()}),null===(e=this.view)||void 0===e||e.remove(),this.view=void 0},a}(U);const Y={stylePrefix:"cv-",scripts:[],styles:[],customBadgeLabel:void 0,autoscrollLimit:50,extHl:!1,frameContent:"<!DOCTYPE html>",frameStyle:"\n    body { background-color: #fff }\n    * ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.1) }\n    * ::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.2) }\n    * ::-webkit-scrollbar { width: 10px }\n  ",notTextable:["button","a","input[type=checkbox]","input[type=radio]"],allowExternalDrop:!0};var q=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const tt=function(p){function a(e,o,s){var c=p.call(this,o,s)||this;return c._module=e,c}return q(a,p),Object.defineProperty(a.prototype,"module",{get:function(){return this._module},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"config",{get:function(){return this._module.config},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"em",{get:function(){return this._module.em},enumerable:!1,configurable:!0}),a}(T.Hn);var ht=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const ut=function(p){function a(e,o,s){return p.call(this,o,{module:e,modelConstructor:s})||this}return ht(a,p),a.prototype.add=function(e,o){var s,c=this,v=(0,x.isArray)(e)?e:(0,x.isUndefined)(e)?void 0:[e];return v=null!==(s=v?.map(function(P){return P instanceof c.newModel?P:new c.newModel(c.module,P)}))&&void 0!==s?s:[void 0],p.prototype.add.call(this,(0,x.isArray)(e)?v:v[0],o)},a.prototype.preinitialize=function(e,o){this.newModel=o.modelConstructor,this.module=o.module},a}(T.FE);var bt=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),F=function(){return F=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},F.apply(this,arguments)},B=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))},X="__aw",J="__ah",K=function(p,a){var e,o=p.get(a),s=null===(e=p.view)||void 0===e?void 0:e.el.offsetWidth;return(0,x.isNumber)(o)?o:(0,x.isString)(o)&&o.endsWith("px")?parseFloat(o):s||0},at=function(p){function a(e,o){var s=p.call(this,e,o)||this,c=s.em,v=s.attributes,P=v.styles,N=v.component,H=c.Components,R=H.getConfig(),it=c.Css.getAll(),ft={},Ct={em:c,config:R,frame:s,idMap:ft};if(!(0,g.isComponent)(N)){var St=(0,g.isObject)(N)?N:{components:N};!St.type&&(St.type="wrapper");var Nt=H.getType("wrapper").model;s.set("component",new Nt(St,Ct))}return P?(0,g.isObject)(P)||(Object.keys(ft).length&&Array.isArray(P)&&P.forEach(function(zt){var Ft=zt.selectors;if(Ft&&1==Ft.length){var pe=Ft[0],ve=pe.name&&2===pe.type&&pe;if(ve&&ft[ve.name])ve.name=ft[ve.name];else if((0,x.isString)(pe)&&"#"===pe[0]){var De=pe.substring(1);De&&ft[De]&&(Ft[0]="#".concat(ft[De]))}}}),it.add(P),s.set("styles",it)):s.set("styles",it),!o.width&&s.set(X,1),!o.height&&s.set(J,1),s}return bt(a,p),a.prototype.defaults=function(){return{x:0,y:0,changesCount:0,attributes:{},width:null,height:null,head:[],component:"",styles:"",_undo:!0,_undoexc:["changesCount"]}},Object.defineProperty(a.prototype,"width",{get:function(){return K(this,"width")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"height",{get:function(){return K(this,"height")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"head",{get:function(){return this.get("head")},enumerable:!1,configurable:!0}),a.prototype.onRemove=function(){this.getComponent().remove({root:1})},a.prototype.changesUp=function(e){void 0===e&&(e={}),e.temporary||e.noCount||e.avoidStore||this.set("changesCount",this.get("changesCount")+1)},a.prototype.getComponent=function(){return this.get("component")},a.prototype.getStyles=function(){return this.get("styles")},a.prototype.disable=function(){this.trigger("disable")},a.prototype.remove=function(){this.view=void 0;var e=this.collection;return e&&e.remove(this)},a.prototype.getHead=function(){return B([],this.head,!0)},a.prototype.setHead=function(e){return this.set("head",B([],e,!0))},a.prototype.addHeadItem=function(e){this.head.push(e)},a.prototype.getHeadByAttr=function(e,o,s){return this.head.filter(function(c){return c.attributes&&c.attributes[e]==o&&(!s||s===c.tag)})[0]},a.prototype.removeHeadByAttr=function(e,o,s){var c=this.getHeadByAttr(e,o,s),v=this.head.indexOf(c);v>=0&&this.head.splice(v,1)},a.prototype.addLink=function(e){var o="link";!this.getHeadByAttr("href",e,o)&&this.addHeadItem({tag:o,attributes:{href:e,rel:"stylesheet"}})},a.prototype.removeLink=function(e){this.removeHeadByAttr("href",e,"link")},a.prototype.addScript=function(e){var o="script";!this.getHeadByAttr("src",e,o)&&this.addHeadItem({tag:o,attributes:{src:e}})},a.prototype.removeScript=function(e){this.removeHeadByAttr("src",e,"script")},a.prototype.getPage=function(){var e;return null===(e=this.collection)||void 0===e?void 0:e.page},a.prototype._emitUpdated=function(e){void 0===e&&(e={}),this.em.trigger("frame:updated",F({frame:this},e))},a.prototype.toJSON=function(e){void 0===e&&(e={});var o=tt.prototype.toJSON.call(this,e),s=(0,x.result)(this,"defaults");return e.fromUndo&&delete o.component,delete o.styles,delete o.changesCount,o[X]&&delete o.width,o[J]&&delete o.height,(0,x.forEach)(o,function(c,v){0===v.indexOf("_")&&delete o[v]}),(0,x.forEach)(s,function(c,v){o[v]===c&&delete o[v]}),(0,x.forEach)(["attributes","head"],function(c){(0,x.isEmpty)(o[c])&&delete o[c]}),o},a}(tt);const Q=at;var gt=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const ot=function(p){function a(e,o){void 0===o&&(o=[]);var s=p.call(this,e,o,Q)||this;return s.loadedItems=0,s.itemsToLoad=0,(0,x.bindAll)(s,"itemLoaded"),s.on("reset",s.onReset),s.on("remove",s.onRemove),s}return gt(a,p),a.prototype.onReset=function(e,o){var s=this;(o?.previousModels||[]).map(function(c){return s.onRemove(c)})},a.prototype.onRemove=function(e){e?.onRemove()},a.prototype.itemLoaded=function(){this.loadedItems++,this.loadedItems>=this.itemsToLoad&&(this.trigger("loaded:all"),this.listenToLoadItems(!1))},a.prototype.listenToLoad=function(){this.loadedItems=0,this.itemsToLoad=this.length,this.listenToLoadItems(!0)},a.prototype.listenToLoadItems=function(e){var o=this;this.forEach(function(s){return s[e?"on":"off"]("loaded",o.itemLoaded)})},a}(ut);var Ot=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const yt=function(p){function a(e,o){void 0===o&&(o={});var s=p.call(this,e,o)||this,c=o.em,v={};s.em=c,e.frames||(v.component=e.component,v.styles=e.styles,["component","styles"].map(function(R){return s.unset(R)}));var P=e.frames||[v],N=new ot(c.Canvas,P);N.page=s,s.set("frames",N),!s.getId()&&s.set("id",c?.get("PageManager")._createId());var H=c?.get("UndoManager");return H?.add(N),s}return Ot(a,p),a.prototype.defaults=function(){return{name:"",frames:[],_undo:!0}},a.prototype.onRemove=function(){this.getFrames().reset()},a.prototype.getFrames=function(){return this.get("frames")},a.prototype.getId=function(){return this.id},a.prototype.getName=function(){return this.get("name")},a.prototype.setName=function(e){return this.set({name:e})},a.prototype.getAllFrames=function(){return this.getFrames().models||[]},a.prototype.getMainFrame=function(){return this.getFrames().at(0)},a.prototype.getMainComponent=function(){return this.getMainFrame()?.getComponent()},a.prototype.toJSON=function(e){void 0===e&&(e={});var o=T.Hn.prototype.toJSON.call(this,e),s=(0,x.result)(this,"defaults");return(0,x.forEach)(o,function(c,v){0===v.indexOf("_")&&delete o[v]}),(0,x.forEach)(s,function(c,v){o[v]===c&&delete o[v]}),o},a}(T.Hn);var Et=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Mt=function(){return Mt=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Mt.apply(this,arguments)};const jt=function(p){function a(e,o){var s=p.call(this,e)||this;return s.on("reset",s.onReset),s.on("remove",s.onRemove),s.model=function(c,v){return void 0===v&&(v={}),new yt(c,Mt(Mt({},v),{em:o}))},s}return Et(a,p),a.prototype.onReset=function(e,o){var s,c=this;null===(s=o?.previousModels)||void 0===s||s.map(function(v){return c.onRemove(v)})},a.prototype.onRemove=function(e){e?.onRemove()},a}(T.FE);var Ut=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Zt="page",ie="".concat(Zt,":"),Ht="".concat(ie,"select"),_t="".concat(Ht,":before"),Xt="".concat(ie,"update"),Gt="".concat(ie,"add"),Pt="".concat(Gt,":before"),he="".concat(ie,"remove"),fe="".concat(he,":before"),Ce="change:selected",Te={all:Zt,select:Ht,selectBefore:_t,update:Xt,add:Gt,addBefore:Pt,remove:he,removeBefore:fe},Ke=function(p){function a(e){var o=p.call(this,e,"PageManager",new jt([],e),Te)||this;o.storageKey="pages",(0,x.bindAll)(o,"_onPageChange");var s=new tt({_undo:!0});return o.model=s,o.pages.on("reset",function(c){return c.at(0)&&o.select(c.at(0))}),o.pages.on("all",o.__onChange,o),s.on(Ce,o._onPageChange),o}return Ut(a,p),Object.defineProperty(a.prototype,"pages",{get:function(){return this.all},enumerable:!1,configurable:!0}),a.prototype.getAll=function(){return function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))}([],this.all.models,!0)},a.prototype.__onChange=function(e,o,s,c){var v=c||s;this.em.trigger(Zt,{event:e,page:o,options:v})},a.prototype.onLoad=function(){var e,o=this,s=o.pages,c=o.config,v=o.em,P={silent:!0},N=(null===(e=c.pages)||void 0===e?void 0:e.map(function(R){return new yt(R,{em:v,config:c})}))||[];s.add(N,P);var H=s.length?this.getMain():this.add({type:"main"},P);H&&this.select(H,P)},a.prototype._onPageChange=function(e,o,s){var c=this.em,v=c.Layers,P=o.getMainComponent();v&&P&&v.setRoot(P),c.trigger(Ht,o,e.previous("selected")),this.__onChange(Ce,o,s)},a.prototype.postLoad=function(){var e=this,o=e.em,s=e.model,c=e.pages,v=o.UndoManager;v.add(s),v.add(c),c.on("add remove reset change",function(P,N,H){return o.changesUp(H||N)})},a.prototype.add=function(e,o){var s=this;void 0===o&&(o={});var c=this.em;e.id=e.id||this._createId();var v=function(){var P=s.pages.add(new yt(e,{em:s.em,config:s.config}),o);return o.select&&s.select(P),P};return!o.silent&&c.trigger(Pt,e,v,o),!o.abort&&v()},a.prototype.remove=function(e,o){var s=this;void 0===o&&(o={});var c=this.em,v=(0,x.isString)(e)?this.get(e):e,P=function(){return v&&s.pages.remove(v,o),v};return!o.silent&&c.trigger(fe,v,P,o),!o.abort&&P()},a.prototype.get=function(e){return this.pages.filter(function(o){return o.get(o.idAttribute)===e})[0]},a.prototype.getMain=function(){var e=this.pages;return e.filter(function(o){return"main"===o.get("type")})[0]||e.at(0)},a.prototype.getAllWrappers=function(){var e=this.getAll();return(0,x.unique)((0,x.flatten)(e.map(function(o){return o.getAllFrames().map(function(s){return s.getComponent()})})))},a.prototype.select=function(e,o){void 0===o&&(o={});var s=(0,x.isString)(e)?this.get(e):e;return s&&(this.em.trigger(_t,s,o),this.model.set("selected",s,o)),this},a.prototype.getSelected=function(){return this.model.get("selected")},a.prototype.destroy=function(){var e=this;this.pages.off().reset(),this.model.stopListening(),this.model.clear({silent:!0}),["selected","model"].map(function(o){return e[o]=0})},a.prototype.store=function(){return this.getProjectData()},a.prototype.load=function(e){return this.loadProjectData(e,{all:this.pages,reset:!0})},a.prototype._createId=function(){var e,o=this.getAll().length+16,s=this.getAllMap();do{e=(0,g.createId)(o)}while(s[e]);return e},a}(G);const pn=Ke,We={default:"",devices:[{id:"desktop",name:"Desktop",width:""},{id:"tablet",name:"Tablet",width:"770px",widthMedia:"992px"},{id:"mobileLandscape",name:"Mobile landscape",width:"568px",widthMedia:"768px"},{id:"mobilePortrait",name:"Mobile portrait",width:"320px",widthMedia:"480px"}]};var Ye=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const Ne=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Ye(a,p),a.prototype.defaults=function(){return{name:"",width:null,height:"",widthMedia:null,priority:null}},a.prototype.initialize=function(){var e=this;null===this.get("widthMedia")&&this.set("widthMedia",this.get("width")),null===this.get("width")&&this.set("width",this.get("widthMedia")),!this.get("priority")&&this.set("priority",parseFloat(this.get("widthMedia"))||0),["width","height","widthMedia"].forEach(function(o){return e.checkUnit(o)})},a.prototype.checkUnit=function(e){var o=this.get(e)||"";(parseFloat(o)||0).toString()===o.toString()&&this.set(e,"".concat(o,"px"))},a.prototype.getName=function(){return this.get("name")||this.get("id")},a.prototype.getWidthMedia=function(){return this.get("widthMedia")||""},a}(T.Hn);var Qt=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ae=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Qt(a,p),a}(T.FE);const rt=ae;ae.prototype.model=Ne;var Tt=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const $t=function(p){function a(e){var o=p.call(this,e)||this;return o.config=e.config||{},o.em=o.config.em,o.ppfx=o.config.pStylePrefix||"",o.listenTo(o.em,"change:device",o.updateSelect),o}return Tt(a,p),a.prototype.template=function(e){var o=e.ppfx,s=e.label;return M(oe||(oe=function(p,a){return Object.defineProperty?Object.defineProperty(p,"raw",{value:a}):p.raw=a,p}(['\n      <div class="','device-label">','</div>\n      <div class="',"field ",'select">\n        <span id="','input-holder">\n          <select class="','devices"></select>\n        </span>\n        <div class="','sel-arrow">\n          <div class="','d-s-arrow"></div>\n        </div>\n      </div>\n      <button style="display:none" class="','add-trasp" data-add-trasp>+</button>\n    '],['\n      <div class="','device-label">','</div>\n      <div class="',"field ",'select">\n        <span id="','input-holder">\n          <select class="','devices"></select>\n        </span>\n        <div class="','sel-arrow">\n          <div class="','d-s-arrow"></div>\n        </div>\n      </div>\n      <button style="display:none" class="','add-trasp" data-add-trasp>+</button>\n    '])),o,s,o,o,o,o,o,o,o)},a.prototype.events=function(){return{change:"updateDevice","click [data-add-trasp]":"startAdd"}},a.prototype.startAdd=function(){},a.prototype.updateDevice=function(){var e=this.em;if(e){var o=this.devicesEl;e.set("device",o?o.val():"")}},a.prototype.updateSelect=function(){var e=this.em,o=this.devicesEl;if(e&&e.getDeviceModel&&o){var s=e.getDeviceModel();o.val(s?s.get("id"):"")}},a.prototype.getOptions=function(){var e=this.collection,o=this.em,s="";return e.forEach(function(c){var v=c.attributes,P=v.name,N=v.id,H=o&&o.t&&o.t("deviceManager.devices.".concat(N))||P;s+='<option value="'.concat(N||P,'">').concat(H,"</option>")}),s},a.prototype.render=function(){var e=this,o=e.em,s=e.ppfx,c=e.$el,v=e.el,P=o&&o.t&&o.t("deviceManager.device");return c.html(this.template({ppfx:s,label:P})),this.devicesEl=c.find(".".concat(s,"devices")),this.devicesEl.append(this.getOptions()),this.devicesEl.val(o.get("device")),v.className="".concat(s,"devices-c"),this},a}(T.G7);var oe,se=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),xe=function(){return xe=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},xe.apply(this,arguments)},$e="".concat("device",":"),on="".concat($e,"select"),bn=("".concat(on,":before"),"".concat($e,"update")),Se="".concat($e,"add"),xt=("".concat(Se,":before"),"".concat($e,"remove")),Bt="".concat(xt,":before"),Wt="change:device",ee={all:"device",select:on,update:bn,add:Se,remove:xt,removeBefore:Bt},Ae=function(p){function a(e){var o,s=this;return(s=p.call(this,e,"DeviceManager",new rt,ee,We)||this).Device=Ne,s.Devices=rt,s.storageKey="",s.devices=s.all,null===(o=s.config.devices)||void 0===o||o.forEach(function(c){return s.add(c,{silent:!0})}),s.select(s.config.default||s.devices.at(0)),e.on(Wt,s._onSelect,s),s}return se(a,p),a.prototype._onSelect=function(e,o,s){var c=this.em,v=this.events,P=e.previous("device"),N=this.get(o),H=v.select;c.trigger(H,N,this.get(P)),this.__catchAllEvent(H,N,s)},a.prototype.add=function(e,o){var s;void 0===o&&(o={});var c=o;if((0,x.isString)(e)){var v=o;s=xe(xe({},c=arguments[2]||{}),{id:e,name:c.name||e,width:v})}else s=e;return s.id||(s.id=s.name||this._createId()),this.devices.add(s,c)},a.prototype.get=function(e){return this.getAll().filter(function(o){return o.get("name")===e})[0]||this.devices.get(e)||null},a.prototype.remove=function(e,o){return void 0===o&&(o={}),this.__remove(e,o)},a.prototype.getDevices=function(){return this.devices.models},a.prototype.select=function(e,o){void 0===o&&(o={});var s=(0,x.isString)(e)?this.get(e):e;return s&&this.em.set("device",s.get("id"),o),this},a.prototype.getSelected=function(){return this.get(this.em.get("device"))},a.prototype.getAll=function(){return this.devices},a.prototype.render=function(){var e,o=this.em;return null===(e=this.view)||void 0===e||e.remove(),this.view=new $t({collection:this.devices,config:xe({em:o},this.config)}),this.view.render().el},a.prototype.destroy=function(){this.__destroy()},a}(G);const Le=Ae;var dn=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),fn=function(p){function a(e){var o=this,s=e.em,c=e.config,v=c.scripts,P=c.styles;return(o=p.call(this,e,{scripts:v,styles:P})||this).set("frames",new ot(e)),o.listenTo(o,"change:zoom",o.onZoomChange),o.listenTo(s,"change:device ".concat(bn),o.updateDevice),o.listenTo(s,Ht,o._pageUpdated),o}return dn(a,p),a.prototype.defaults=function(){return{frame:"",frames:[],rulers:!1,zoom:100,x:0,y:0,scripts:[],styles:[]}},Object.defineProperty(a.prototype,"frames",{get:function(){return this.get("frames")},enumerable:!1,configurable:!0}),a.prototype.init=function(){var e=this.em.Pages.getMain();this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},a.prototype._pageUpdated=function(e,o){var s=this.em;s.setSelected(),s.get("readyCanvas")&&s.stopDefault(),o?.getFrames().map(function(c){return c.disable()}),this.set("frames",e.getFrames()),this.updateDevice({frame:e.getMainFrame()})},a.prototype.updateDevice=function(e){void 0===e&&(e={});var o=this.em,s=o.getDeviceModel(),c=e.frame||o.getCurrentFrameModel();if(c&&s){var v=s.attributes,P=v.width,N=v.height;c.set({width:P,height:N},{noUndo:1})}},a.prototype.onZoomChange=function(){this.get("zoom")<1&&this.set("zoom",1)},a}(tt);const Ln=fn;var nr=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const sn=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return nr(a,p),Object.defineProperty(a.prototype,"pfx",{get:function(){return this.ppfx+this.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ppfx",{get:function(){return this.em.config.stylePrefix||""},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"module",{get:function(){var e,o;return null!==(o=null===(e=this.model)||void 0===e?void 0:e.module)&&void 0!==o?o:this.collection.module},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"config",{get:function(){return this.module.config},enumerable:!1,configurable:!0}),a.prototype.preinitialize=function(e){this.className=""},a}(T.G7);var Qe=lt(491),In=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const mr=function(p){function a(e,o){void 0===e&&(e={}),void 0===o&&(o=!1);var s=p.call(this,e)||this;return s.itemsView="",s.itemType="type",s.reuseView=!1,s.viewCollection=[],o&&s.listenTo(s.collection,"add",s.addTo),s}return In(a,p),a.prototype.addTo=function(e){this.add(e)},a.prototype.itemViewNotFound=function(e){},a.prototype.add=function(e,o){var s,c=this.reuseView,v=this.viewCollection,P=o||null,N=e.get(this.itemType);s=e.view&&c?e.view:this.renderView(e,N),v.push(s);var H=s.render().el;P?P.appendChild(H):this.$el.append(H)},a.prototype.render=function(){var e=this,o=document.createDocumentFragment();return this.clearItems(),this.$el.empty(),this.collection.length&&this.collection.each(function(s){return e.add(s,o)}),this.$el.append(o),this.onRender(),this},a.prototype.onRender=function(){},a.prototype.onRemoveBefore=function(e,o){},a.prototype.onRemove=function(e,o){},a.prototype.remove=function(e){void 0===e&&(e={});var o=this.viewCollection;return this.onRemoveBefore(o,e),this.clearItems(),T.G7.prototype.remove.apply(this,e),this.onRemove(o,e),this},a.prototype.clearItems=function(){this.viewCollection},a}(sn);var yn=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const kn=function(p){function a(e){void 0===e&&(e={});var o=p.call(this,e)||this;o.config=e.config||{};var s=o.model;return o.listenTo(s,"change",o.render),o.listenTo(s,"destroy remove",o.remove),o.listenTo(s.get("selectors"),"change",o.render),o}return yn(a,p),a.prototype.tagName=function(){return"style"},a.prototype.render=function(){var e=this.model,o=this.el,s=e.get("important");return o.innerHTML=e.toCSS({important:s}),this},a}(T.G7);var Pn=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const Wn=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Pn(a,p),a.prototype._createElement=function(){return document.createTextNode("")},a.prototype.render=function(){var e=this.model,o=e.get("important");return this.el.textContent=e.getDeclaration({important:o}),this},a}(kn);var $n=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Tr=function(p,a){return"".concat(p).concat(a?"-".concat(parseFloat(a)):"")},rr=function(p){function a(e){var o=p.call(this,e)||this;(0,x.bindAll)(o,"sortRules");var s=e.config||{};o.atRules={},o.config=s,o.em=s.em,o.pfx=s.stylePrefix||"",o.className=o.pfx+"rules";var c=o.collection;return o.listenTo(c,"add",o.addTo),o.listenTo(c,"reset",o.render),o}return $n(a,p),a.prototype.addTo=function(e){this.addToCollection(e)},a.prototype.addToCollection=function(e,o){if(this.renderStarted){var s,c,v=o||null,P={model:e,config:this.config};if("keyframes"===e.get("atRuleType")){var N=e.getAtRule(),H=this.atRules[N];if(!H){var R=document.createElement("style");H=document.createTextNode(""),R.appendChild(document.createTextNode("".concat(N,"{"))),R.appendChild(H),R.appendChild(document.createTextNode("}")),this.atRules[N]=H,s=R}c=new Wn(P),H.appendData(c.render().el.textContent)}else s=(c=new kn(P)).render().el;var it=this.className,ft=e.get("mediaText"),Ct=Tr(it),St=Ct;if(ft&&(St=Tr(it,this.getMediaWidth(ft))),s){var Nt=v||this.el,zt=void 0;try{zt=Nt.querySelector("#".concat(St))}catch{}zt||(zt=Nt.querySelector("#".concat(Ct))),zt?.appendChild(s)}return s}},a.prototype.getMediaWidth=function(e){return e&&e.replace("(".concat(this.em.getConfig().mediaCondition,": "),"").replace(")","")},a.prototype.sortRules=function(e,o){var s=-1!==(this.em.getConfig().mediaCondition||"").indexOf("min-width");return s?(s?e:o)-(s?o:e):0},a.prototype.render=function(){var e=this;this.renderStarted=!0,this.atRules={};var o=this,s=o.em,c=o.$el,v=o.collection,P=this.className,N=document.createDocumentFragment();c.empty();var H=s.Devices.getAll().pluck("priority").sort(this.sortRules);return H.every(function(R){return R})&&H.unshift(0),H.forEach(function(R){return N.appendChild((0,Qe.ut)("div",{id:Tr(P,R)}))}),v.each(function(R){return e.addToCollection(R,N)}),c.append(N),c.attr("class",P),this},a}(T.G7);const Ar=rr;var dr=function(){return dr=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},dr.apply(this,arguments)},_n=function(){function p(a,e){var o=this;this.em=a,this.canvas=a.Canvas;var s=e||this.canvas.getFrames().map(function(v){return v.getComponent().getEl()}),c=Array.isArray(s)?s:[s];this.el=c[0],this.counter=0,(0,x.bindAll)(this,"handleDragEnter","handleDragOver","handleDrop","handleDragLeave"),c.forEach(function(v){return o.toggleEffects(v,!0)})}return p.prototype.toggleEffects=function(a,e){var o={on:g.on,off:g.off},s=e?"on":"off";o[s](a,"dragenter",this.handleDragEnter),o[s](a,"dragover",this.handleDragOver),o[s](a,"drop",this.handleDrop),o[s](a,"dragleave",this.handleDragLeave)},p.prototype.__customTglEff=function(a){var e,o=a?g.on:g.off,s=this.el.ownerDocument,c=null===(e=s.defaultView)||void 0===e?void 0:e.frameElement;this.sortOpts=a?{onStart:function(v){var P=v.sorter;(0,g.on)(c,"pointermove",P.onMove)},onEnd:function(v){var P=v.sorter;(0,g.off)(c,"pointermove",P.onMove)},customTarget:function(v){var P=v.event;return s.elementFromPoint(P.clientX,P.clientY)}}:null,o(c,"pointerenter",this.handleDragEnter),o(c,"pointermove",this.handleDragOver),o(document,"pointerup",this.handleDrop),o(c,"pointerout",this.handleDragLeave)},p.prototype.startCustom=function(){this.__customTglEff(!0)},p.prototype.endCustom=function(a){this.over?this.endDrop(a):this.__customTglEff(!1)},p.prototype.endDrop=function(a,e){var o=this.em,s=this.dragStop;this.counter=0,s&&s(a||!this.over),this.__customTglEff(!1),o.trigger("canvas:dragend",e)},p.prototype.handleDragLeave=function(a){this.updateCounter(-1,a)},p.prototype.updateCounter=function(a,e){this.counter+=a,0===this.counter&&this.endDrop(!0,e)},p.prototype.handleDragEnter=function(a){var e=this,o=this.em,s=this.canvas,c=a.dataTransfer,v=o.get("dragContent");if((v||s.getConfig().allowExternalDrop)&&(this.updateCounter(1,a),!this.over)){this.over=!0;var P,N,H=o.Utils,R=v||"<br>";if(o.stopDefault(),o.inAbsoluteMode()){var it=o.Components.getWrapper(),ft=it.append({})[0],Ct=o.Commands.run("core:component-drag",{event:a,guidesInfo:1,center:1,target:ft,onEnd:function(Nt,zt,Ft){var pe;if(!Ft.cancelled){pe=it.append(R)[0];var ve=s.getOffset(),De=ft.getStyle(),je=De.top,nn=De.left,cn=De.position,wn=(0,Qe.GX)(Nt.target),Nn=parseInt("".concat(parseFloat(nn)+wn.x-ve.left),10),wr=parseInt("".concat(parseFloat(je)+wn.y-ve.top),10);pe.addStyle({left:Nn+"px",top:wr+"px",position:cn})}e.handleDragEnd(pe,c),ft.remove()}});P=function(Nt){return Ct.stop(a,{cancel:Nt})},N=function(Nt){return R=Nt}}else{var St=new H.Sorter(dr({em:o,wmargin:1,nested:1,canvasRelative:1,direction:"a",container:this.el,placer:s.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:"gjs-",onEndMove:function(Nt){return e.handleDragEnd(Nt,c)},document:this.el.ownerDocument},this.sortOpts||{}));St.setDropContent(R),St.startSort(),this.sorter=St,P=function(Nt){Nt&&(St.moved=!1),St.endMove()},N=function(Nt){return St.setDropContent(Nt)}}this.dragStop=P,this.dragContent=N,o.trigger("canvas:dragenter",c,R)}},p.prototype.handleDragEnd=function(a,e){var o=this.em;this.over=!1,a&&(o.set("dragResult",a),o.trigger("canvas:drop",e,a)),o.runDefault({preserveSelected:1})},p.prototype.handleDragOver=function(a){a.preventDefault(),this.em.trigger("canvas:dragover",a)},p.prototype.handleDrop=function(a){a.preventDefault();var e=this.dragContent,o=a.dataTransfer,s=this.getContentByData(o).content;a.target.style.border="",s&&e&&e(s),this.endDrop(!s,a)},p.prototype.getContentByData=function(a){var e=this.em,o=a&&a.types,s=a&&a.files||[],c=e.get("dragContent"),v=a&&a.getData("text");if(s.length){v=[];for(var P=0;P<s.length;P++){var N=s[P],H=N.type.split("/")[0];"image"==H&&v.push({type:H,file:N,attributes:{alt:N.name}})}}else if(c)v=c;else if((0,x.indexOf)(o,"text/html")>=0)v=a&&a.getData("text/html").replace(/<\/?meta[^>]*>/g,"");else if((0,x.indexOf)(o,"text/uri-list")>=0)v={type:"link",attributes:{href:v},content:v};else if((0,x.indexOf)(o,"text/json")>=0){var R=a&&a.getData("text/json");R&&(v=JSON.parse(R))}else 1===o.length&&"text/plain"===o[0]&&(v="<div>".concat(v,"</div>"));var it={content:v};return e.trigger("canvas:dragdata",a,it),it},p}();const Zn=_n;var Sn=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Rn=function(){return Rn=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Rn.apply(this,arguments)},z=function(p){function a(e,o){var s=p.call(this,{model:e})||this;s.dragging=!1,s.loaded=!1,s.lastMaxHeight=0,s.tools={},(0,x.bindAll)(s,"updateClientY","stopAutoscroll","autoscroll","_emitUpdate");var c=s.el;s.module._config=Rn(Rn({},s.config||{}),{frameView:s}),s.frameWrapView=o,s.showGlobalTools=(0,x.debounce)(s.showGlobalTools.bind(s),50);var v=s.getCanvasModel();return s.listenTo(e,"change:head",s.updateHead),s.listenTo(v,"change:styles",s.renderStyles),e.view=s,(0,g.setViewEl)(c,s),s}return Sn(a,p),Object.defineProperty(a.prototype,"tagName",{get:function(){return"iframe"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"attributes",{get:function(){return{allowfullscreen:"allowfullscreen"}},enumerable:!1,configurable:!0}),a.prototype.updateHead=function(){var e=this.model,o=this.getHead(),s=[],c=[],v=e.head,P=e.previous("head"),N=function(R){return void 0===R&&(R={}),Object.keys(R).sort().map(function(it){return"[".concat(it,'="').concat(R[it],'"]')}).join("")},H=function(R,it,ft){R.forEach(function(Ct){var St=Ct.tag,Nt=Ct.attributes;!it.some(function(zt){return zt.tag===St&&N(zt.attributes)===N(Nt)})&&ft.push(Ct)})};H(v,P,c),H(P,v,s),s.forEach(function(R){var it,ft=o.querySelector("".concat(R.tag).concat(N(R.attributes)));null===(it=ft?.parentNode)||void 0===it||it.removeChild(ft)}),(0,Qe.SJ)(o,c)},a.prototype.getEl=function(){return this.el},a.prototype.getCanvasModel=function(){return this.em.Canvas.getModel()},a.prototype.getWindow=function(){return this.getEl().contentWindow},a.prototype.getDoc=function(){return this.getEl().contentDocument},a.prototype.getHead=function(){return this.getDoc().querySelector("head")},a.prototype.getBody=function(){return this.getDoc().querySelector("body")},a.prototype.getWrapper=function(){return this.getBody().querySelector("[data-gjs-type=wrapper]")},a.prototype.getJsContainer=function(){return this.jsContainer||(this.jsContainer=(0,Qe.ut)("div",{class:"".concat(this.ppfx,"js-cont")})),this.jsContainer},a.prototype.getToolsEl=function(){var e;return null===(e=this.frameWrapView)||void 0===e?void 0:e.elTools},a.prototype.getGlobalToolsEl=function(){return this.em.Canvas.getGlobalToolsEl()},a.prototype.getHighlighter=function(){return this._getTool("[data-hl]")},a.prototype.getBadgeEl=function(){return this._getTool("[data-badge]")},a.prototype.getOffsetViewerEl=function(){return this._getTool("[data-offset]")},a.prototype.getRect=function(){return this.rect||(this.rect=this.el.getBoundingClientRect()),this.rect},a.prototype.getOffsetRect=function(){var e=this.el,o=this.getBody(),s=o.scrollTop,c=o.scrollLeft,v=e.offsetHeight,P=e.offsetWidth;return{top:e.offsetTop,left:e.offsetLeft,height:v,width:P,scrollTop:s,scrollLeft:c,scrollBottom:s+v,scrollRight:c+P}},a.prototype._getTool=function(e){var o=this.tools,s=this.getToolsEl();return o[e]||(o[e]=s.querySelector(e)),o[e]},a.prototype.remove=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var s=this.wrapper;return this._toggleEffects(!1),this.tools={},s&&s.remove(),sn.prototype.remove.apply(this,e),this},a.prototype.startAutoscroll=function(){var e=this;this.lastMaxHeight=this.getWrapper().offsetHeight-this.el.offsetHeight,setTimeout(function(){e._toggleAutoscrollFx(!0),requestAnimationFrame(e.autoscroll)},0)},a.prototype.autoscroll=function(){if(this.dragging){var e=this.lastClientY,o=this.em.Canvas,s=this.getWindow(),c=s.pageYOffset,v=e||0,P=o.getConfig().autoscrollLimit,N=this.getRect().height-P,H=c;v<P&&(H-=P-v),v>N&&(H+=v-N),!(0,x.isUndefined)(e)&&H!==c&&H>0&&H<this.lastMaxHeight&&(this.getGlobalToolsEl().style.opacity="0",this.showGlobalTools(),s.scrollTo(0,H)),requestAnimationFrame(this.autoscroll)}},a.prototype.updateClientY=function(e){e.preventDefault(),this.lastClientY=(0,g.getPointerEvent)(e).clientY*this.em.getZoomDecimal()},a.prototype.showGlobalTools=function(){this.getGlobalToolsEl().style.opacity=""},a.prototype.stopAutoscroll=function(){this.dragging&&this._toggleAutoscrollFx(!1)},a.prototype._toggleAutoscrollFx=function(e){this.dragging=e;var o=this.getWindow(),s=e?"on":"off",c={on:g.on,off:g.off};c[s](o,"mousemove dragover",this.updateClientY),c[s](o,"mouseup",this.stopAutoscroll)},a.prototype.render=function(){var e=this,o=e.$el,s=e.ppfx,c=e.em;return o.attr({class:"".concat(s,"frame")}),this.renderScripts(),c.trigger("frame:render",this),this},a.prototype.renderScripts=function(){var e=this,o=this,s=o.el,c=o.model,v=o.em,P="frame:load",N={el:s,model:c,view:this},H=this.getCanvasModel(),R=function(it){var ft;if(it.length>0){var Ct=it.shift(),St=(0,Qe.ut)("script",Rn({type:"text/javascript"},(0,x.isString)(Ct)?{src:Ct}:Ct));St.onerror=St.onload=R.bind(null,it),null===(ft=s.contentDocument)||void 0===ft||ft.head.appendChild(St)}else e.renderBody(),v&&v.trigger(P,N)};s.onload=function(){var it=e.config.frameContent;if(it){var ft=e.getDoc();ft.open(),ft.write(it),ft.close()}v&&v.trigger("".concat(P,":before"),N),R(function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))}([],H.get("scripts"),!0))}},a.prototype.renderStyles=function(e){void 0===e&&(e={});var o=this.getHead(),s=this.getCanvasModel(),c=function(it){return it.map(function(ft){return{tag:"link",attributes:Rn({rel:"stylesheet"},(0,x.isString)(ft)?{href:ft}:ft)}})},v=c(e.prev||s.previous("styles")),P=c(s.get("styles")),N=[],H=[],R=function(it,ft,Ct){it.forEach(function(St){var Nt=St.attributes.href;!ft.some(function(zt){return zt.attributes.href===Nt})&&Ct.push(St)})};R(P,v,H),R(v,P,N),N.forEach(function(it){var ft,Ct=o.querySelector('link[href="'.concat(it.attributes.href,'"]'));null===(ft=Ct?.parentNode)||void 0===ft||ft.removeChild(Ct)}),(0,Qe.SJ)(o,H)},a.prototype.renderBody=function(){var e,o,s=this,c=this,v=c.config,P=c.em,N=c.model,H=c.ppfx,R=this.getDoc(),it=this.getBody(),ft=this.getWindow(),Ct=P.config;ft._isEditor=!0,this.renderStyles({prev:[]}),(0,Qe.R3)(it,"<style>\n      ".concat(Ct.baseCss||v.frameStyle||"",'\n\n      [data-gjs-type="wrapper"] {\n        min-height: 100vh;\n        padding-top: 0.001em;\n      }\n\n      .').concat(H,"dashed *[data-gjs-highlightable] {\n        outline: 1px dashed rgba(170,170,170,0.7);\n        outline-offset: -2px;\n      }\n\n      .").concat(H,"selected {\n        outline: 2px solid #3b97e3 !important;\n        outline-offset: -2px;\n      }\n\n      .").concat(H,"selected-parent {\n        outline: 2px solid ").concat("#ffca6f"," !important\n      }\n\n      .").concat(H,"no-select {\n        user-select: none;\n        -webkit-user-select:none;\n        -moz-user-select: none;\n      }\n\n      .").concat(H,"freezed {\n        opacity: 0.5;\n        pointer-events: none;\n      }\n\n      .").concat(H,"no-pointer {\n        pointer-events: none;\n      }\n\n      .").concat(H,"plh-image {\n        background: #f5f5f5;\n        border: none;\n        height: 100px;\n        width: 100px;\n        display: block;\n        outline: 3px solid #ffca6f;\n        cursor: pointer;\n        outline-offset: -2px\n      }\n\n      .").concat(H,"grabbing {\n        cursor: grabbing;\n        cursor: -webkit-grabbing;\n      }\n\n      .").concat(H,"is__grabbing {\n        overflow-x: hidden;\n      }\n\n      .").concat(H,"is__grabbing,\n      .").concat(H,"is__grabbing * {\n        cursor: grabbing !important;\n      }\n\n      ").concat(Ct.canvasCss||"","\n      ").concat(Ct.protectedCss||"","\n    </style>"));var St=N.getComponent(),Nt=P.Components.getType("wrapper").view;this.wrapper=new Nt({model:St,config:Rn(Rn({},St.config),{em:P,frameView:this})}).render(),(0,Qe.R3)(it,null===(e=this.wrapper)||void 0===e?void 0:e.el),(0,Qe.R3)(it,new Ar({collection:N.getStyles(),config:Rn(Rn({},P.Css.getConfig()),{frameView:this})}).render().el),(0,Qe.R3)(it,this.getJsContainer()),(0,g.on)(it,"click",function(zt){var Ft;return zt&&"A"==(null===(Ft=zt.target)||void 0===Ft?void 0:Ft.tagName)&&zt.preventDefault()}),(0,g.on)(it,"submit",function(zt){return zt&&zt.preventDefault()}),[{event:"keydown keyup keypress",class:"KeyboardEvent"},{event:"mousedown mousemove mouseup",class:"MouseEvent"},{event:"pointerdown pointermove pointerup",class:"PointerEvent"},{event:"wheel",class:"WheelEvent"}].forEach(function(zt){return zt.event.split(" ").forEach(function(Ft){R.addEventListener(Ft,function(pe){return s.el.dispatchEvent((0,Qe.t3)(pe,zt.class))})})}),this._toggleEffects(!0),(0,g.hasDnd)(P)&&(this.droppable=new Zn(P,null===(o=this.wrapper)||void 0===o?void 0:o.el)),this.loaded=!0,N.trigger("loaded")},a.prototype._toggleEffects=function(e){var o=e?g.on:g.off,s=this.getWindow();s&&o(s,"".concat(Qe.G1," resize"),this._emitUpdate)},a.prototype._emitUpdate=function(){this.model._emitUpdated()},a}(sn);const st=z;var nt=lt(668),kt=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ne=function(){return ne=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},ne.apply(this,arguments)};const Xe=function(p){function a(e,o){var s=p.call(this,{model:e})||this;return(0,x.bindAll)(s,"onScroll","frameLoaded","updateOffset","remove","startDrag"),ne(ne({},e.config),{frameWrapView:s}),s.cv=o,s.frame=new st(e,s),s.classAnim="".concat(s.ppfx,"frame-wrapper--anim"),s.updateOffset=(0,x.debounce)(s.updateOffset.bind(s),0),s.updateSize=(0,x.debounce)(s.updateSize.bind(s),0),s.listenTo(e,"loaded",s.frameLoaded),s.listenTo(e,"change:x change:y",s.updatePos),s.listenTo(e,"change:width change:height",s.updateSize),s.listenTo(e,"destroy remove",s.remove),s.updatePos(),s.setupDragger(),s}return kt(a,p),a.prototype.events=function(){return{"click [data-action-remove]":"remove","mousedown [data-action-move]":"startDrag"}},a.prototype.setupDragger=function(){var e,o,s,c=this,v=this.module,P=this.model,N=function(H){v.toggleFramesEvents(H)};this.dragger=new nt.Z({onStart:function(){var H=P.attributes,R=H.x,it=H.y;s=c.em.getZoomMultiplier(),e=R,o=it,N(!1)},onEnd:function(){return N(!0)},setPosition:function(H){P.set({x:e+H.x*s,y:o+H.y*s})}})},a.prototype.startDrag=function(e){var o;e&&(null===(o=this.dragger)||void 0===o||o.start(e))},a.prototype.__clear=function(e){var o=this.frame;o&&o.remove(e),(0,Qe.L_)(this.elTools)},a.prototype.remove=function(e){var o=this;return this.__clear(e),sn.prototype.remove.apply(this,e),["frame","dragger","cv","elTools"].forEach(function(s){return o[s]=0}),this},a.prototype.updateOffset=function(){var e,o=this,s=o.em,c=o.$el,v=o.frame;s&&!s.destroyed&&(s.runDefault({preserveSelected:1}),c.removeClass(this.classAnim),null===(e=v?.model)||void 0===e||e._emitUpdated())},a.prototype.updatePos=function(e){var o=this.model,s=this.el,c=o.attributes,v=c.x,P=c.y,N=s.style;this.frame.rect=void 0,N.left=isNaN(v)?v:"".concat(v,"px"),N.top=isNaN(P)?P:"".concat(P,"px"),e&&this.updateOffset()},a.prototype.updateSize=function(){this.updateDim()},a.prototype.updateDim=function(){var e=this,o=e.em,s=e.el,c=e.$el,v=e.model,P=e.classAnim,N=e.frame;if(N){N.rect=void 0,c.addClass(P);var H=this.__handleSize(),R=H.noChanges,it=H.width,ft=H.height;((0,x.isNull)(it)||(0,x.isNull)(ft))&&v.set(ne(ne({},it?{}:{width:s.offsetWidth}),ft?{}:{height:s.offsetHeight}),{silent:1}),o.stopDefault({preserveSelected:1}),R?this.updateOffset():setTimeout(this.updateOffset,350)}},a.prototype.onScroll=function(){var e=this.frame;this.em.trigger("frame:scroll",{frame:e,body:e.getBody(),target:e.getWindow()})},a.prototype.frameLoaded=function(){this.frame.getWindow().onscroll=this.onScroll,this.updateDim()},a.prototype.__handleSize=function(){var o=this.model,s=this.el.style,c=o.attributes,v=c.width,P=c.height,N=s.width||"",H=s.height||"",R=v||"",it=P||"",ft=N==R&&H==it;return s.width=(0,x.isNumber)(R)?"".concat(R).concat("px"):R,s.height=(0,x.isNumber)(it)?"".concat(it).concat("px"):it,{noChanges:ft,width:v,height:P,newW:R,newH:it}},a.prototype.render=function(){var e=this,o=e.frame,s=e.$el,c=e.ppfx,v=e.cv,P=e.model,N=e.el,H=P.attributes.onRender;this.__clear(),this.__handleSize(),o.render(),s.empty().attr({class:"".concat(c,"frame-wrapper")}).append('\n      <div class="'.concat(c,'frame-wrapper__top gjs-two-color" data-frame-top>\n        <div class="').concat(c,'frame-wrapper__name" data-action-move>\n          ').concat(P.get("name")||"",'\n        </div>\n        <div class="').concat(c,'frame-wrapper__top-r">\n          <div class="').concat(c,'frame-wrapper__icon" data-action-remove style="display: none">\n            <svg viewBox="0 0 24 24"><path d="M19 4h-3.5l-1-1h-5l-1 1H5v2h14M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12z"></path></svg>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(c,'frame-wrapper__right" data-frame-right></div>\n      <div class="').concat(c,'frame-wrapper__left" data-frame-left></div>\n      <div class="').concat(c,'frame-wrapper__bottom" data-frame-bottom></div>\n      ')).append(o.el);var R=(0,Qe.ut)("div",{class:"".concat(c,"tools"),style:"pointer-events:none; display: none"},'\n      <div class="'.concat(c,'highlighter" data-hl></div>\n      <div class="').concat(c,'badge" data-badge></div>\n      <div class="').concat(c,'placeholder">\n        <div class="').concat(c,'placeholder-int"></div>\n      </div>\n      <div class="').concat(c,'ghost"></div>\n      <div class="').concat(c,'toolbar" style="pointer-events:all"></div>\n      <div class="').concat(c,'resizer"></div>\n      <div class="').concat(c,'offset-v" data-offset>\n        <div class="gjs-marginName" data-offset-m>\n          <div class="gjs-margin-v-el gjs-margin-v-top" data-offset-m-t></div>\n          <div class="gjs-margin-v-el gjs-margin-v-bottom" data-offset-m-b></div>\n          <div class="gjs-margin-v-el gjs-margin-v-left" data-offset-m-l></div>\n          <div class="gjs-margin-v-el gjs-margin-v-right" data-offset-m-r></div>\n        </div>\n        <div class="gjs-paddingName" data-offset-m>\n          <div class="gjs-padding-v-el gjs-padding-v-top" data-offset-p-t></div>\n          <div class="gjs-padding-v-el gjs-padding-v-bottom" data-offset-p-b></div>\n          <div class="gjs-padding-v-el gjs-padding-v-left" data-offset-p-l></div>\n          <div class="gjs-padding-v-el gjs-padding-v-right" data-offset-p-r></div>\n        </div>\n      </div>\n      <div class="').concat(c,'offset-fixed-v"></div>\n    '));this.elTools=R;var it=v?.toolsWrapper;return it&&it.appendChild(R),H&&H({el:N,elTop:N.querySelector("[data-frame-top]"),elRight:N.querySelector("[data-frame-right]"),elBottom:N.querySelector("[data-frame-bottom]"),elLeft:N.querySelector("[data-frame-left]"),frame:P,frameWrapperView:this,remove:this.remove,startDrag:this.startDrag}),this},a}(sn);var zn=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ve=function(p){function a(e,o){void 0===e&&(e={});var s=p.call(this,e,!0)||this;return s.listenTo(s.collection,"reset",s.render),s.canvasView=o.canvasView,s._module=o.module,s}return zn(a,p),a.prototype.onRemoveBefore=function(e,o){void 0===o&&(o={}),e.forEach(function(s){return s.remove(o)})},a.prototype.onRender=function(){var e=this.$el,o=this.ppfx;e.attr({class:"".concat(o,"frames")})},a.prototype.clearItems=function(){(this.viewCollection||[]).forEach(function(e){return e.remove()}),this.viewCollection=[]},a.prototype.renderView=function(e,o){return new Xe(e,this.canvasView)},a}(mr);const ye=Ve;var ct=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),hn=function(){return hn=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},hn.apply(this,arguments)},Dn=function(p){function a(e){var o=p.call(this,{model:e})||this;o.ready=!1,(0,x.bindAll)(o,"clearOff","onKeyPress","onCanvasMove");var s=o,c=s.em,v=s.pfx;return o.className="".concat(v,"canvas").concat(c.config.customUI?"":" ".concat(v,"canvas-bg")),o._initFrames(),o.listenTo(c,"change:canvasOffset",o.clearOff),o.listenTo(c,"component:selected",o.checkSelected),o.listenTo(e,"change:zoom change:x change:y",o.updateFrames),o.listenTo(e,"change:frames",o._onFramesUpdate),o.toggleListeners(!0),o}return ct(a,p),a.prototype.events=function(){return{wheel:"onWheel"}},a.prototype.template=function(){var e=this.pfx;return'\n      <div class="'.concat(e,'canvas__frames" data-frames></div>\n      <div id="').concat(e,'tools" class="').concat(e,'canvas__tools" data-tools></div>\n    ')},a.prototype._onFramesUpdate=function(){this._initFrames(),this._renderFrames()},a.prototype._initFrames=function(){var e=this,o=e.frames,s=e.model,c=e.config,v=e.em,P=s.frames;v.set("readyCanvas",0),P.once("loaded:all",function(){return v.set("readyCanvas",1)}),o?.remove(),this.frames=new ye({collection:P},hn(hn({},c),{canvasView:this}))},a.prototype.checkSelected=function(e,o){var s;void 0===o&&(o={});var c=o.scroll,v=this.em.get("currentFrame");c&&(null===(s=e.views)||void 0===s||s.forEach(function(P){P._getFrame()===v&&P.scrollIntoView(c)}))},a.prototype.remove=function(){for(var e,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return null===(e=this.frames)||void 0===e||e.remove(),this.frames=void 0,sn.prototype.remove.apply(this,o),this.toggleListeners(!1),this},a.prototype.preventDefault=function(e){var o;e&&(e.preventDefault(),null===(o=e._parentEvent)||void 0===o||o.preventDefault())},a.prototype.onCanvasMove=function(e){},a.prototype.toggleListeners=function(e){this.el;var o=e?g.on:g.off;o(document,"keypress",this.onKeyPress),o(window,"scroll resize",this.clearOff)},a.prototype.onKeyPress=function(e){var o=this.em;" "!==(0,g.getKeyChar)(e)||1===o.getZoomDecimal()||o.Canvas.isInputFocused()||(this.preventDefault(e),o.Editor.runCommand("core:canvas-move"))},a.prototype.onWheel=function(e){if((e.ctrlKey||e.metaKey)&&this.em.getConfig().multiFrames){this.preventDefault(e);var o=this.model,s=Math.max(-1,Math.min(1,e.wheelDelta||-e.detail)),c=o.get("zoom");o.set("zoom",c+2*s)}},a.prototype.updateFrames=function(e){var o=this.em,s={preserveSelected:1};this.updateFramesArea(),this.clearOff(),o.stopDefault(s),o.trigger("canvas:update",e),this.timerZoom&&clearTimeout(this.timerZoom),this.timerZoom=setTimeout(function(){return o.runDefault(s)},300)},a.prototype.updateFramesArea=function(){var e=this,o=e.framesArea,s=e.model,c=e.module;if(o){var v=s.attributes,P=v.x,N=v.y,H=c.getZoomDecimal(),R=c.getZoomMultiplier();o.style.transform="scale(".concat(H,") translate(").concat(P*R,"px, ").concat(N*R,"px)")}},a.prototype.fitViewport=function(e){var o;void 0===e&&(e={});var s=this,c=s.em,v=s.module,P=s.model,N=this.getCanvasOffset(),H=e.el,R=H&&(0,g.getViewEl)(H).frameView,it=R?R.model:e.frame||c.getCurrentFrameModel()||P.frames.at(0),ft=it.attributes,Nt={x:ft.x??0,y:ft.y??0,width:it.width,height:it.height};if(H){var zt=this.getElBoxRect(H);Nt.x=Nt.x+zt.x,Nt.y=Nt.y+zt.y,Nt.width=zt.width,Nt.height=zt.height}var Ft=e.ignoreHeight,pe=null!==(o=e.gap)&&void 0!==o?o:0,ve=(0,x.isNumber)(pe),De=ve?pe:pe.x,je=ve?pe:pe.y,nn=Nt.width+2*De,cn=Nt.height+2*je,wn=N.width,Nn=N.height,wr=wn/nn,Zr=Nn/cn,Sr=Ft?wr:Math.min(wr,Zr),oo=100*Sr;v.setZoom(oo);var Lr={x:(-Nt.x+(it.width>=wn?wn/2-nn/2:-De)+De)*Sr,y:(-Nt.y+Nn/2-cn/2+je)*Sr};if(Ft){var Do=v.getZoomMultiplier(),ei=(Nn*Do-Nn)/2;Lr.y=(-Nt.y+je)*Sr-ei/Do}v.setCoords(Lr.x,Lr.y)},a.prototype.isElInViewport=function(e){var o=(0,g.getElement)(e),s=(0,g.getElRect)(o),c=this.getFrameOffset(o),v=s.top,P=s.left;return v>=0&&P>=0&&v<=c.height&&P<=c.width},a.prototype.offset=function(e,o){void 0===o&&(o={});var s=o.noScroll,c=(0,g.getElRect)(e),v=s?{x:0,y:0}:(0,Qe.GX)(e);return{top:c.top+v.y,left:c.left+v.x,width:c.width,height:c.height}},a.prototype.getElBoxRect=function(e){var o=(0,g.getElRect)(e),s=o.width,c=o.height;return{x:o.left,y:o.top,width:s,height:c}},a.prototype.getViewportRect=function(e){void 0===e&&(e={});var o=this.getCanvasOffset(),s=o.top,c=o.left,v=o.width,P=o.height,N=this.module;if(e.toWorld){var H=N.getZoomMultiplier(),R=N.getCoords(),it=this.getViewportDelta();return{x:(-R.x-it.x||0)*H,y:(-R.y-it.y||0)*H,width:v*H,height:P*H}}return{x:c,y:s,width:v,height:P}},a.prototype.getViewportDelta=function(){var e=this.module.getZoomMultiplier(),o=this.getCanvasOffset(),s=o.width,c=o.height;return{x:(s*e-s)/2/e,y:(c*e-c)/2/e}},a.prototype.clearOff=function(){this.frmOff=void 0,this.cvsOff=void 0},a.prototype.getFrameOffset=function(e){var o;if(!this.frmOff||e){var s=null===(o=this.frame)||void 0===o?void 0:o.el,c=e?.ownerDocument.defaultView,v=c?c.frameElement:s;this.frmOff=this.offset(v||s)}return this.frmOff},a.prototype.getCanvasOffset=function(){return this.cvsOff||(this.cvsOff=this.offset(this.el)),this.cvsOff},a.prototype.getElementPos=function(e,o){void 0===o&&(o={});var s=this.module.getZoomDecimal(),c=this.getFrameOffset(e),v=this.el,P=this.getCanvasOffset(),N=this.offset(e,o),H=o.avoidFrameOffset?0:c.top,R=o.avoidFrameOffset?0:c.left,it=o.avoidFrameZoom?N.top:N.top*s,ft=o.avoidFrameZoom?N.left:N.left*s;return{top:o.avoidFrameOffset?it:it+H-P.top+v.scrollTop,left:o.avoidFrameOffset?ft:ft+R-P.left+v.scrollLeft,height:o.avoidFrameZoom?N.height:N.height*s,width:o.avoidFrameZoom?N.width:N.width*s,zoom:s,rect:N}},a.prototype.getElementOffsets=function(e){if(!e||(0,g.isTextNode)(e))return{};var o={},s=window.getComputedStyle(e),c=this.module.getZoomDecimal();return["marginTop","marginRight","marginBottom","marginLeft","paddingTop","paddingRight","paddingBottom","paddingLeft"].forEach(function(v){o[v]=parseFloat(s[v])*c}),o},a.prototype.getPosition=function(e){var o;void 0===e&&(e={});var s=null===(o=this.frame)||void 0===o?void 0:o.el.contentDocument;if(!s)return{top:0,left:0,width:0,height:0};var c=s.body,v=this.module.getZoomDecimal(),P=this.getFrameOffset(),N=this.getCanvasOffset(),H=e.noScroll;return{top:P.top+(H?0:c.scrollTop)*v-N.top,left:P.left+(H?0:c.scrollLeft)*v-N.left,width:N.width,height:N.height}},a.prototype.updateScript=function(e){var o=e.model,s=o.getId();e.scriptContainer||(e.scriptContainer=(0,Qe.ut)("div",{"data-id":s}),this.getJsContainer().appendChild(e.scriptContainer)),e.el.id=s,e.scriptContainer.innerHTML="";var c=document.createElement("script"),v=o.getScriptString(),P=o.get("script-props")?v:"function(){\n".concat(v,"\n;}"),N=JSON.stringify(o.__getScriptProps());c.innerHTML="\n      setTimeout(function() {\n        var item = document.getElementById('".concat(s,"');\n        if (!item) return;\n        (").concat(P,".bind(item))(").concat(N,")\n      }, 1);"),setTimeout(function(){e.scriptContainer?.appendChild(c)},0)},a.prototype.getJsContainer=function(e){var o=this.getFrameView(e);return o&&o.getJsContainer()},a.prototype.getFrameView=function(e){return e?._getFrame()||this.em.get("currentFrame")},a.prototype._renderFrames=function(){if(this.ready){var e=this,o=e.model,s=e.frames,c=e.em,v=e.framesArea,P=o.frames;P.listenToLoad(),s.render();var H=P.at(0)?.view;c.setCurrentFrame(H),v?.appendChild(s.el),this.frame=H,this.updateFramesArea()}},a.prototype.renderFrames=function(){this._renderFrames()},a.prototype.render=function(){var e=this,o=e.el,s=e.$el,c=e.ppfx,v=e.config,P=e.em;s.html(this.template());var N=s.find("[data-frames]");this.framesArea=N.get(0);var H=s.find("[data-tools]");return this.toolsWrapper=H.get(0),H.append('\n      <div class="'.concat(c,"tools ").concat(c,'tools-gl" style="pointer-events:none">\n        <div class="').concat(c,'placeholder">\n          <div class="').concat(c,'placeholder-int"></div>\n        </div>\n      </div>\n      <div id="').concat(c,'tools" style="pointer-events:none">\n        ').concat(v.extHl?'<div class="'.concat(c,'highlighter-sel"></div>'):"",'\n        <div class="').concat(c,'badge"></div>\n        <div class="').concat(c,'ghost"></div>\n        <div class="').concat(c,'toolbar" style="pointer-events:all"></div>\n        <div class="').concat(c,'resizer"></div>\n        <div class="').concat(c,'offset-v"></div>\n        <div class="').concat(c,'offset-fixed-v"></div>\n      </div>\n    ')),this.toolsEl=o.querySelector("#".concat(c,"tools")),this.hlEl=o.querySelector(".".concat(c,"highlighter")),this.badgeEl=o.querySelector(".".concat(c,"badge")),this.placerEl=o.querySelector(".".concat(c,"placeholder")),this.ghostEl=o.querySelector(".".concat(c,"ghost")),this.toolbarEl=o.querySelector(".".concat(c,"toolbar")),this.resizerEl=o.querySelector(".".concat(c,"resizer")),this.offsetEl=o.querySelector(".".concat(c,"offset-v")),this.fixedOffsetEl=o.querySelector(".".concat(c,"offset-fixed-v")),this.toolsGlobEl=o.querySelector(".".concat(c,"tools-gl")),this.el.className=(0,g.getUiClass)(P,this.className),this.ready=!0,this._renderFrames(),this},a}(sn);const ln=Dn;var An=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),lr=function(){return lr=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},lr.apply(this,arguments)},we=function(p){function a(e){var o=p.call(this,e,"Canvas",Y)||this;return o.canvas=new Ln(o),o.model=o.canvas,o.startAutoscroll=o.startAutoscroll.bind(o),o.stopAutoscroll=o.stopAutoscroll.bind(o),o}return An(a,p),a.prototype.getCanvasView=function(){return this.canvasView},a.prototype.postLoad=function(){this.model.init()},a.prototype.getModel=function(){return this.canvas},a.prototype.getElement=function(){return this.getCanvasView().el},a.prototype.getFrame=function(e){return this.getFrames()[e||0]},a.prototype.getFrameEl=function(){return(this.canvasView||{}).frame?.el},a.prototype.getFramesEl=function(){var e;return null===(e=this.canvasView)||void 0===e?void 0:e.framesArea},a.prototype.getWindow=function(){return(this.canvasView||{}).frame?.getWindow()},a.prototype.getDocument=function(){return this.getFrameEl()?.contentDocument},a.prototype.getBody=function(){return this.getDocument()?.body},a.prototype._getLocalEl=function(e,o,s){var c=e,v=o?._getFrame();return v?v[s]():c},a.prototype.getGlobalToolsEl=function(){var e;return null===(e=this.canvasView)||void 0===e?void 0:e.toolsGlobEl},a.prototype.getToolsEl=function(e){return this._getLocalEl(this.getCanvasView().toolsEl,e,"getToolsEl")},a.prototype.getHighlighter=function(e){return this._getLocalEl(this.getCanvasView().hlEl,e,"getHighlighter")},a.prototype.getBadgeEl=function(e){return this._getLocalEl(this.getCanvasView().badgeEl,e,"getBadgeEl")},a.prototype.getPlacerEl=function(){return this.getCanvasView().placerEl},a.prototype.getGhostEl=function(){return this.getCanvasView().ghostEl},a.prototype.getToolbarEl=function(){return this.getCanvasView().toolbarEl},a.prototype.getResizerEl=function(){return this.getCanvasView().resizerEl},a.prototype.getOffsetViewerEl=function(e){return this._getLocalEl(this.getCanvasView().offsetEl,e,"getOffsetViewerEl")},a.prototype.getFixedOffsetViewerEl=function(){return this.getCanvasView().fixedOffsetEl},a.prototype.render=function(){var e;return null===(e=this.canvasView)||void 0===e||e.remove(),this.canvasView=new ln(this.canvas),this.canvasView.render().el},a.prototype.getOffset=function(){var e=this.offset(this.getFrameEl()),o=this.offset(this.getElement());return{top:e.top-o.top,left:e.left-o.left}},a.prototype.offset=function(e){return this.getCanvasView().offset(e)},a.prototype.setCustomBadgeLabel=function(e){this.config.customBadgeLabel=e},a.prototype.getElementPos=function(e,o){return this.getCanvasView().getElementPos(e,o)},a.prototype.getElementOffsets=function(e){return this.getCanvasView().getElementOffsets(e)},a.prototype.getRect=function(){var e,o=null!==(e=this.getCanvasView().getPosition())&&void 0!==e?e:{},s=o.top,c=void 0===s?0:s,v=o.left,P=void 0===v?0:v;return lr(lr({},this.getCanvasView().getCanvasOffset()),{topScroll:c,leftScroll:P})},a.prototype.getTargetToElementDim=function(e,o,s){void 0===s&&(s={});var c=s||{},v=this.getCanvasView().getPosition();if(v){var P=c.elPos||this.getCanvasView().getElementPos(o),N=s.toRight||0,H=c.targetHeight||e.offsetHeight,R=c.targetWidth||e.offsetWidth,it=c.event||null,ft=P.top-H,Ct=P.left;Ct+=N?P.width:0;var St=(Ct=N?Ct-R:Ct)<v.left?v.left:Ct,Nt=ft<v.top?v.top:ft,zt={top:Nt=Nt>P.top+P.height?P.top+P.height:Nt,left:St,elementTop:P.top,elementLeft:P.left,elementWidth:P.width,elementHeight:P.height,targetWidth:e.offsetWidth,targetHeight:e.offsetHeight,canvasTop:v.top,canvasLeft:v.left,canvasWidth:v.width,canvasHeight:v.height};return it&&this.em&&this.em.trigger(it,zt),zt}},a.prototype.canvasRectOffset=function(e,o,s){var c=this;void 0===s&&(s={});var v=function(P,N,H){void 0===N&&(N=1);var R=c.em.getZoomDecimal(),it=N?"top":"left",ft=P.ownerDocument,Ct=s.offset?ft.defaultView?.frameElement:{},St=Ct.offsetTop,Nt=void 0===St?0:St,zt=Ct.offsetLeft,Ft=void 0===zt?0:zt,pe=ft.body||{},ve=pe.scrollTop,De=void 0===ve?0:ve,je=pe.scrollLeft,nn=N?De:void 0===je?0:je,cn=N?Nt:Ft;return H[it]-(nn-cn)*R};return{top:v(e,1,o),left:v(e,0,o)}},a.prototype.getTargetToElementFixed=function(e,o,s){void 0===s&&(s={});var c=s.pos||this.getElementPos(e,{noScroll:!0}),v=s.canvasOff||this.canvasRectOffset(e,c),P=o.offsetHeight||0,N=o.offsetWidth||0,H=c.left+c.width,R=this.getCanvasView(),it=R.getPosition(),ft=R.getFrameOffset(e),Ct=s.event,St=-P,Nt=(0,x.isUndefined)(s.left)?c.width-N:s.left;if(Nt=c.left<-Nt?-c.left:Nt,Nt=H>it.width?Nt-(H-it.width):Nt,v.top<P){var zt=c.height+P;zt<ft.height?St+=zt:St=-v.top<c.height?-v.top:c.height}var Ft={top:St,left:Nt,canvasOffsetTop:v.top,canvasOffsetLeft:v.left,elRect:c,canvasOffset:v,canvasRect:it,targetWidth:N,targetHeight:P};return Ct&&this.em.trigger(Ct,Ft),Ft},a.prototype.getMouseRelativePos=function(e,o){void 0===o&&(o={});var s=0,c=0,v=o.subWinOffset,P=e.target.ownerDocument,N=P.defaultView||P.parentWindow,H=N.frameElement,R=v?N.pageYOffset:0,it=v?N.pageXOffset:0;if(H){var ft=H.getBoundingClientRect();s=ft.top||0,c=ft.left||0}return{y:e.clientY+s-R,x:e.clientX+c-it}},a.prototype.getMouseRelativeCanvas=function(e,o){var s,c=this.getZoomDecimal(),v=null!==(s=this.getCanvasView().getPosition(o))&&void 0!==s?s:{},P=v.top,N=void 0===P?0:P,H=v.left,R=void 0===H?0:H;return{y:e.clientY*c+N,x:e.clientX*c+R}},a.prototype.hasFocus=function(){return this.getDocument().hasFocus()},a.prototype.isInputFocused=function(){var e=this.getDocument(),o=this.getFrameEl(),s=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))}(["body"],this.config.notTextable,!0),c=o&&document.activeElement===o?e&&e.activeElement:document.activeElement;return c&&!s.some(function(v){return c.matches(v)})},a.prototype.scrollTo=function(e,o){void 0===o&&(o={});var s=(0,g.getElement)(e),c=s&&(0,g.getViewEl)(s);c&&c.scrollIntoView(o)},a.prototype.startAutoscroll=function(e){var o=e&&e.view||this.em.getCurrentFrame();o&&o.startAutoscroll()},a.prototype.stopAutoscroll=function(e){var o=e&&e.view||this.em.getCurrentFrame();o&&o.stopAutoscroll()},a.prototype.setZoom=function(e){return this.canvas.set("zoom","string"==typeof e?parseFloat(e):e),this},a.prototype.getZoom=function(){return parseFloat(this.canvas.get("zoom"))},a.prototype.setCoords=function(e,o,s){var c;void 0===s&&(s={});var v=e||0===e,P=o||0===o,N={x:this.canvas.get("x"),y:this.canvas.get("y")};if(v&&(N.x=parseFloat("".concat(e))),P&&(N.y=parseFloat("".concat(o))),s.toWorld){var H=null===(c=this.canvasView)||void 0===c?void 0:c.getViewportDelta();H&&(v&&(N.x=N.x-H.x),P&&(N.y=N.y-H.y))}return this.canvas.set(N),this},a.prototype.getCoords=function(){var e=this.canvas.attributes;return{x:e.x,y:e.y}},a.prototype.getZoomDecimal=function(){return this.getZoom()/100},a.prototype.getZoomMultiplier=function(){var e=this.getZoomDecimal();return e?1/e:1},a.prototype.fitViewport=function(e){var o;null===(o=this.canvasView)||void 0===o||o.fitViewport(e)},a.prototype.toggleFramesEvents=function(e){this.getFramesEl().style.pointerEvents=e?"":"none"},a.prototype.getFrames=function(){return this.canvas.frames.map(function(e){return e})},a.prototype.addFrame=function(e,o){return void 0===e&&(e={}),void 0===o&&(o={}),this.canvas.frames.add(new Q(this,lr({},e)),o)},a.prototype.getLastDragResult=function(){return this.em.get("dragResult")},a.prototype.destroy=function(){var e,o=this;this.canvas.stopListening(),null===(e=this.canvasView)||void 0===e||e.remove(),["model","droppable"].forEach(function(s){return o[s]={}})},a}(S);const vt=we,It={stylePrefix:"comp-",components:[],draggableComponents:!0,disableTextInnerChilds:!1,processor:void 0,voidElements:["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]};var ge="text/html",Ie=ge,Re=function(){return Re=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Re.apply(this,arguments)},Fe="parse:html";const hr=function(p,a){return void 0===a&&(a={}),{compTypes:"",modelAttrStart:"data-gjs-",getPropAttribute:function(e,o){var s=e.replace(this.modelAttrStart,""),c=o?.length||0,v=o?.substring(0,1),P=o?.substring(c-1),N="true"===o||"false"!==o&&o;try{N="{"==v&&"}"==P||"["==v&&"]"==P?JSON.parse(N):N}catch{}return{name:s,value:N}},splitPropsFromAttr:function(e){var o=this;void 0===e&&(e={});var s={},c={};return(0,x.each)(e,function(v,P){if(0===P.indexOf(o.modelAttrStart)){var N=o.getPropAttribute(P,v);s[N.name]=N.value}else c[P]=v}),{props:s,attrs:c}},parseStyle:function(e){for(var o={};e.indexOf("/*")>=0;){var s=e.indexOf("/*"),c=e.indexOf("*/")+2;e=e.replace(e.slice(s,c),"")}for(var v=e.split(";"),P=0,N=v.length;P<N;P++){var H=v[P].trim();if(H){var R=H.split(":"),it=R[0].trim(),ft=R.slice(1).join(":").trim();o[it]?((0,x.isArray)(o[it])||(o[it]=[o[it]]),o[it].push(ft)):o[it]=ft}}return o},parseClass:function(e){for(var o=[],s=e.split(" "),c=0,v=s.length;c<v;c++){var P=s[c].trim();P&&o.push(P)}return o},parseNode:function(e,o){void 0===o&&(o={});for(var s=[],c=e.childNodes,v=0,P=c.length;v<P;v++){var N=c[v],H=N.attributes||[],R=H.length,it=s[s.length-1],ft=N.childNodes.length,Ct=this.compTypes,St={};if(Ct){var Nt="",zt=N.getAttribute&&N.getAttribute("".concat(this.modelAttrStart,"type"));if(zt)St={type:zt};else{for(var Ft=0;Ft<Ct.length;Ft++){var pe=Ct[Ft];if(Nt=pe.model.isComponent(N,o)){"object"!=typeof Nt&&(Nt={type:pe.id});break}}St=Nt}}if(!St.tagName){var ve=N.tagName||"",De=N.namespaceURI||"";St.tagName=ve&&"http://www.w3.org/1999/xhtml"===De?ve.toLowerCase():ve}R&&(St.attributes={});for(var je=0;je<R;je++){var nn=H[je].nodeName,cn=H[je].nodeValue;if("style"==nn)St.style=this.parseStyle(cn);else if("class"==nn)St.classes=this.parseClass(cn);else{if("contenteditable"==nn)continue;if(0===nn.indexOf(this.modelAttrStart)){var wn=this.getPropAttribute(nn,cn);St[wn.name]=wn.value}else""===cn&&!0===N[nn]&&(cn=!0),St.attributes[nn]=cn}}if(ft&&!St.components){var Nn=N.childNodes[0];1===ft&&3===Nn.nodeType?(!St.type&&(St.type="text"),St.components={type:"textnode",content:Nn.nodeValue}):St.components=this.parseNode(N,Re(Re({},o),{inSvg:o.inSvg||"svg"===St.type}))}if("textnode"==St.type){if(it&&"textnode"==it.type){it.content+=St.content;continue}if(!o.keepEmptyTextNodes){var wr=N.nodeValue;if(" "!=wr&&!wr.trim())continue}}ft||"/>"!=="".concat(N.outerHTML).slice(-2)||(St.void=!0);var Zr=St.components;if(!St.type&&Zr){for(var Sr=1,oo=0,Lr=0;Lr<Zr.length;Lr++){var Do=Zr[Lr],ei=Do.type;if(["text","textnode"].indexOf(ei)<0&&a.textTags.indexOf(Do.tagName)<0){Sr=0;break}"textnode"==ei&&(oo=1)}Sr&&oo&&(St.type="text")}(St.tagName||"textnode"==St.type)&&s.push(St)}return s},parse:function(e,o,s){var c;void 0===s&&(s={});var v=p?.get("Config")||{},P={},N=Re(Re({},a),s),H=Re(Re(Re({},a.optionsHtml),{htmlType:(null===(c=a.optionsHtml)||void 0===c?void 0:c.htmlType)||a.htmlType}),s),R=(0,x.isFunction)(N.parserHtml)?N.parserHtml(e,H):function(pe,ve){void 0===ve&&(ve={});var De,je=new DOMParser,nn=ve.htmlType||Ie,cn=nn===ge,wn=cn?pe:"<div>".concat(pe,"</div>"),Nn=je.parseFromString(wn,nn);if(cn){var wr=Nn.head,Zr=Nn.body,Sr=wr.querySelectorAll("script");(0,x.each)(Sr,function(Lr){return Zr.appendChild(Lr)});var oo=[];(0,x.each)(wr.children,function(Lr){return oo.push(Lr)}),(0,x.each)(oo,function(Lr,Do){return Zr.insertBefore(Lr,Zr.children[Do])}),De=Zr}else De=Nn.firstChild;return De}(e,H),it=R.querySelectorAll("script"),ft=it.length;if(!((0,x.isUndefined)(v.allowScripts)?H.allowScripts:v.allowScripts))for(;ft--;)it[ft].parentNode.removeChild(it[ft]);if(H.allowUnsafeAttr||this.__clearUnsafeAttr(R),o){for(var Ct=R.querySelectorAll("style"),St=Ct.length,Nt="";St--;)Nt=Ct[St].innerHTML+Nt,Ct[St].parentNode.removeChild(Ct[St]);Nt&&(P.css=o.parse(Nt))}p&&p.trigger("".concat(Fe,":root"),{input:e,root:R});var zt=this.parseNode(R,N),Ft=1!==zt.length||N.returnArray?zt:zt[0];return P.html=Ft,p&&p.trigger(Fe,{input:e,output:P}),P},__clearUnsafeAttr:function(e){var o=this,s=e.attributes||[],c=e.childNodes||[],v=[];(0,x.each)(s,function(P){var N=P.nodeName||"";0===N.indexOf("on")&&v.push(N)}),v.map(function(P){return e.removeAttribute(P)}),(0,x.each)(c,function(P){return o.__clearUnsafeAttr(P)})}}};var jr=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),_o=function(){return _o=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},_o.apply(this,arguments)},ao=hr(),Si=function(p){return(0,x.isArray)(p)?p[p.length-1]:p};const os=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return jr(a,p),a.prototype.parseStyle=function(e){return ao.parseStyle(e)},a.prototype.extendStyle=function(e){return _o(_o({},this.getStyle()),e)},a.prototype.getStyle=function(e){var o=this.get("style")||{},s=_o({},o);return e&&(0,x.isString)(e)?s[e]:s},a.prototype.setStyle=function(e,o){var s=this;void 0===e&&(e={}),void 0===o&&(o={}),(0,x.isString)(e)&&(e=this.parseStyle(e));var c=this.getStyle(o),v=_o({},e),P=_o({},v);(0,x.keys)(P).forEach(function(H){""===P[H]&&delete P[H]}),this.set("style",P,o);var N=(0,g.shallowDiff)(c,v);return delete N.__p,(0,x.keys)(N).forEach(function(H){var R=s.em;o.noEvent||(s.trigger("change:style:".concat(H)),R&&(R.trigger("styleable:change",s,H,o),R.trigger("styleable:change:".concat(H),s,H,o)))}),v},a.prototype.addStyle=function(e,o,s){var c;void 0===o&&(o=""),void 0===s&&(s={}),"string"==typeof e?((c={})[e]=o,e=c):s=o||{},e=this.extendStyle(e),this.setStyle(e,s)},a.prototype.removeStyle=function(e){var o=this.getStyle();delete o[e],this.setStyle(o)},a.prototype.styleToString=function(e){void 0===e&&(e={});var o=[],s=this.getStyle(e),c=e.important,v=function(N){var H=(0,x.isArray)(c)?c.indexOf(N)>=0:c;if("__"===N.substring(0,2))return"continue";var R=s[N];((0,x.isArray)(R)?R:[R]).forEach(function(it){var ft="".concat(it).concat(H?" !important":"");ft&&o.push("".concat(N,":").concat(ft,";"))})};for(var P in s)v(P);return o.join("")},a.prototype.getSelectors=function(){return this.get("selectors")||this.get("classes")},a.prototype.getSelectorsString=function(e){return this.selectorsToString?this.selectorsToString(e):this.getSelectors().getFullString()},a}(T.Hn);var Bo=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Cr=function(){return Cr=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Cr.apply(this,arguments)},Oi=function(p,a){var e={};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&a.indexOf(o)<0&&(e[o]=p[o]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(p);s<o.length;s++)a.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(p,o[s])&&(e[o[s]]=p[o[s]])}return e},vr=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))},qr=function(p,a){return void 0===a&&(a=[]),p?(((0,x.isArray)(p)||(0,x.isFunction)(p.map)?p:[p]).map(function(e){a.push(e.getId()),qr(e.components().models,a)}),a):[]},is=function(p,a,e){void 0===a&&(a={}),void 0===e&&(e={}),e.visitedCmps=e.visitedCmps||{};var o=e.visitedCmps;return((0,x.isArray)(p)?p:[p]).map(function(s){var c=s.attributes,v=void 0===c?{}:c,P=s.components,N=s.tagName,H=v.id,R=(v.draggable,Oi(v,["id","draggable"])),it=s;if(H&&(o[H]?(o[H].push(it),H=jn.getNewId(a),it.attributes.id=H):(o[H]=[],a[H]&&(it=a[H],N&&it.set({tagName:N},Cr(Cr({},e),{silent:!0})),(0,x.keys)(R).length&&it.addAttributes(R,Cr({},e))))),P){var ft=is(P,a);if((0,x.isFunction)(it.components)){var Ct=it.components();Ct.length>0&&Ct.reset(ft,e)}else it.components=ft}return it})},Fs=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Bo(a,p),a.prototype.initialize=function(e,o){void 0===o&&(o={}),this.opt=o,this.listenTo(this,"add",this.onAdd),this.listenTo(this,"remove",this.removeChildren),this.listenTo(this,"reset",this.resetChildren);var s=o.em,c=o.config;this.config=c,this.em=s,this.domc=o.domc||s?.Components},a.prototype.resetChildren=function(e,o){var s=this;void 0===o&&(o={});var c=this,v=o.previousModels||[],P=v.filter(function(R){return!e.get(R.cid)}),N=qr(e),H=qr(v).filter(function(R){return N.indexOf(R)>=0});o.keepIds=(o.keepIds||[]).concat(H),P.forEach(function(R){return s.removeChildren(R,c,o)}),e.each(function(R){return s.onAdd(R)})},a.prototype.resetFromString=function(e,o){var s,c;void 0===e&&(e=""),void 0===o&&(o={}),o.keepIds=qr(this);var v=this,P=v.domc,N=v.em,H=v.parent,R=N?.Css,it=P?.allById()||{},ft=this.parseString(e,o),Ct=is(ft,it,o),St=o.visitedCmps,Nt=void 0===St?{}:St;Object.keys(Nt).forEach(function(zt){var Ft=Nt[zt];if(Ft.length){var pe=R?.getRules("#".concat(zt))||[];pe.length&&Ft.forEach(function(ve){pe.forEach(function(De){var je=De.clone();je.set("selectors",["#".concat(ve.attributes.id)]),R.getAll().add(je)})})}}),this.reset(Ct,o),N?.trigger("component:content",H,o,e),null===(c=(s=H).__checkInnerChilds)||void 0===c||c.call(s)},a.prototype.removeChildren=function(e,o,s){var c=this;if(void 0===s&&(s={}),e){var v=this.domc,P=this.em,N=s.temporary||s.fromUndo;if(e.prevColl=this,!N){var H=e.getId(),R=P.Selectors.getAll(),it=P.Css.getAll(),ft=(s.keepIds||[]).indexOf(H)<0;delete(v?v.allById():{})[H];var Ct=ft?it.remove(it.filter(function(Nt){return Nt.getSelectors().getFullString()==="#".concat(H)}),s):[];R.remove(Ct.map(function(Nt){return Nt.getSelectors().at(0)})),e.opt.temporary||(P.Commands.run("core:component-style-clear",{target:e}),e.removed(),e.trigger("removed"),P.trigger("component:remove",e)),e.components().forEach(function(Nt){return c.removeChildren(Nt,o,s)})}var St=e.components();P.stopListening(St),P.stopListening(e),P.stopListening(e.get("classes")),e.__postRemove()}},a.prototype.model=function(e,o){var s,c=o.collection.opt,v=c.em,P=v.Components.componentTypes;o.em=v,o.config=c.config,o.componentTypes=P,o.domc=c.domc;for(var N=0;N<P.length;N++)if(P[N].id==e.type){s=P[N].model;break}return s||(s=P[P.length-1].model,v&&e.type&&v.logWarning("Component type '".concat(e.type,"' not found"),{attrs:e,options:o})),new s(e,o)},a.prototype.parseString=function(e,o){void 0===o&&(o={});var s=this.em,c=this.domc,v=s.Css,P=s.Parser.parseHtml(e);if(jn.checkId(P.html,P.css,c.componentsById,o),P.css&&v&&!o.temporary){o.at;var N=Oi(o,["at"]);v.addCollection(P.css,Cr(Cr({},N),{extend:1}))}return P.html},a.prototype.add=function(e,o){var s=this;void 0===o&&(o={}),o.keepIds=vr(vr([],o.keepIds||[],!0),qr(o.previousModels),!0),(0,x.isString)(e)?e=this.parseString(e,o):(0,x.isArray)(e)&&(e=vr([],e,!0)).forEach(function(P,N){if((0,x.isString)(P)){var H=s.parseString(P,o);e[N]=(0,x.isArray)(H)&&!H.length?null:H}});var c=(0,x.isArray)(e);e=(c?e:[e]).filter(Boolean).map(function(P){return s.processDef(P)}),e=c?(0,x.flatten)(e,1):e[0];var v=T.FE.prototype.add.apply(this,[e,o]);return this.__firstAdd=v,v},a.prototype.processDef=function(e){if(e.cid&&e.ccid)return e;var o=this.em,s=this.config,c=(void 0===s?{}:s).processor,v=e;if(c){var P=c(v=Cr({},v));P&&((0,x.each)(v,function(Ct,St){return delete v[St]}),(0,x.extend)(v,P))}if(v.$$typeof&&"object"==typeof v.props){(v=Cr({},v)).props=Cr({},v.props);var N=o.Components,H=o.Parser.parserHtml;(0,x.each)(v,function(Ct,St){(0,x.includes)(["props","type"],St)||delete v[St]});var R=v.props,it=R.children;delete R.children,delete v.props;var ft=H.splitPropsFromAttr(R);v.attributes=ft.attrs,it&&(v.components=it),v.type?N.getType(v.type)||(v.tagName=v.type,delete v.type):v.type="textnode",(0,x.extend)(v,ft.props)}return v},a.prototype.onAdd=function(e,o,s){void 0===s&&(s={});var c=this.domc,v=this.em,P=e.getStyle(),N=v&&v.getConfig().avoidInlineStyle;if(c&&c.Component.ensureInList(e),!(0,x.isEmpty)(P)&&!N&&v&&v.get&&v.getConfig().forceClass&&!s.temporary){var H=e.cid;v.Css.setClassRule(H,P),e.setStyle({}),e.addClass(H)}e.__postAdd({recursive:!0})},a}(T.FE);const Uo=Fs;var La=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),lo=function(p){function a(e,o){void 0===o&&(o={});var s=p.call(this,e,o)||this,c=o.config,v=void 0===c?{}:c,P=s.get("name"),N=s.get("label");P?N||s.set("label",P):s.set("name",N);var H=s.get("name"),R=v.escapeName,it=R?R(H):a.escapeName(H);return s.set("name",it),s.em=o.em,s}return La(a,p),a.prototype.defaults=function(){return{name:"",label:"",type:1,active:!0,private:!1,protected:!1,_undo:!0}},a.prototype.isId=function(){return 2===this.get("type")},a.prototype.isClass=function(){return 1===this.get("type")},a.prototype.getFullName=function(e){void 0===e&&(e={});var o=e.escape,s=this.get("name"),c="";switch(this.get("type")){case 1:c=".";break;case 2:c="#"}return c+(o?o(s):s)},a.prototype.toString=function(){return this.getFullName()},a.prototype.getLabel=function(){return this.get("label")},a.prototype.setLabel=function(e){return this.set("label",e)},a.prototype.getActive=function(){return this.get("active")},a.prototype.setActive=function(e){return this.set("active",e)},a.prototype.toJSON=function(e){void 0===e&&(e={});var o=this.em,s=T.Hn.prototype.toJSON.call(this,[e]),c=(0,x.result)(this,"defaults");if(o&&o.getConfig().avoidDefaults){(0,x.forEach)(c,function(P,N){s[N]===P&&delete s[N]}),s.label===s.name&&delete s.label;var v=(0,x.keys)(s).length;1===v&&s.name&&(s=s.name),2===v&&s.name&&s.type&&(s=this.getFullName())}return s},a.escapeName=function(e){return"".concat(e).trim().replace(/([^a-z0-9\w-\:@]+)/gi,"-")},a.TYPE_CLASS=1,a.TYPE_ID=2,a}(T.Hn);const yr=lo;lo.prototype.idAttribute="name";var Ia=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ri=function(p,a){return p.reduce(function(e,o,s){return e.concat(ri(p.slice(s+1),"".concat(a).concat(o)))},[a])},Lo=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Ia(a,p),a.prototype.modelId=function(e){return"".concat(e.name,"_").concat(e.type||yr.TYPE_CLASS)},a.prototype.getStyleable=function(){return(0,x.filter)(this.models,function(e){return e.get("active")&&!e.get("private")})},a.prototype.getValid=function(e){var o=(void 0===e?{}:e).noDisabled;return(0,x.filter)(this.models,function(s){return!s.get("private")}).filter(function(s){return o?s.get("active"):1})},a.prototype.getFullString=function(e,o){void 0===o&&(o={});var s=[];return(e||this).forEach(function(c){return s.push(c.getFullName(o))}),o.sort&&s.sort(),s.join("").trim()},a.prototype.getFullName=function(e){void 0===e&&(e={});var o=e.combination,s=e.array,c=[],v=this.map(function(P){return P.getFullName(e)}).sort();return o?v.forEach(function(P,N){c=c.concat(ri(v.slice(N+1),P))}):c=v,s?c:o?c.join(","):c.join("")},a}(T.FE);const So=Lo;Lo.prototype.model=yr;var Bs=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Pi=function(){return Pi=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Pi.apply(this,arguments)};const Vo=function(p){function a(e,o){var s=p.call(this,e)||this,c=s.attributes,v=c.target,P=c.name;return!s.get("id")&&s.set("id",P),v&&s.setTarget(v),s.em=o,s}return Bs(a,p),a.prototype.defaults=function(){return{type:"text",label:"",name:"",unit:"",step:1,value:"",default:"",placeholder:"",changeProp:!1,options:[]}},a.prototype.setTarget=function(e){if(e){var o=this.attributes,s=o.name,c=o.changeProp,v=o.value;this.target=e,this.unset("target");var P=c?"change:".concat(s):"change:attributes:".concat(s);this.listenTo(e,P,this.targetUpdated);var N=v||this.getValue();!(0,x.isUndefined)(N)&&this.set({value:N},{silent:!0})}},a.prototype.getId=function(){return this.get("id")},a.prototype.getType=function(){return this.get("type")},a.prototype.getName=function(){return this.get("name")},a.prototype.getLabel=function(e){var o;void 0===e&&(e={});var s=e.locale,c=void 0===s||s,v=this.getId(),P=this.get("label")||this.getName();return c&&(null===(o=this.em)||void 0===o?void 0:o.t("traitManager.traits.labels.".concat(v)))||P},a.prototype.getValue=function(){return this.getTargetValue()},a.prototype.setValue=function(e,o){var s,c=this;void 0===o&&(o={});var v={},P=this.get("setValue");P?P({value:e,editor:null===(s=this.em)||void 0===s?void 0:s.getEditor(),trait:this,component:this.target,partial:!!o.partial,emitUpdate:function(){return c.targetUpdated()}}):(o.partial&&(v.avoidStore=!0),this.setTargetValue(e,v),!1===o.partial&&(this.setTargetValue(""),this.setTargetValue(e)))},a.prototype.getDefault=function(){return this.get("default")},a.prototype.getOptions=function(){return this.get("options")||[]},a.prototype.getOption=function(e){var o=this,s=(0,g.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(c){return o.getOptionId(c)===s})[0]},a.prototype.getOptionId=function(e){return e.id||e.value},a.prototype.getOptionLabel=function(e,o){var s;void 0===o&&(o={});var c=o.locale,v=void 0===c||c,P=(0,x.isString)(e)?this.getOption(e):e,N=this.getOptionId(P),H=P.label||P.name||N,R=this.getName();return v&&(null===(s=this.em)||void 0===s?void 0:s.t("traitManager.traits.options.".concat(R,".").concat(N)))||H},a.prototype.props=function(){return this.attributes},a.prototype.targetUpdated=function(){var e,o=this.getTargetValue();this.set({value:o},{fromTarget:1}),null===(e=this.em)||void 0===e||e.trigger("trait:update",{trait:this,component:this.target})},a.prototype.getTargetValue=function(){var e,o,s=this.getName(),c=this.target,v=this.get("getValue");return o=v?v({editor:null===(e=this.em)||void 0===e?void 0:e.getEditor(),trait:this,component:c}):this.get("changeProp")?c.get(s):c.getAttributes()[s],(0,x.isUndefined)(o)?"":o},a.prototype.setTargetValue=function(e,o){var s;void 0===o&&(o={});var c=this.target,v=this.attributes,P=this.getName();if(!(0,x.isUndefined)(e)){var N=e;if("false"===e?N=!1:"true"===e&&(N=!0),"checkbox"===this.getType()){var H=v.valueTrue,R=v.valueFalse;N&&!(0,x.isUndefined)(H)&&(N=H),N||(0,x.isUndefined)(R)||(N=R)}this.get("changeProp")?c.set(P,N,o):c.addAttributes(((s={})[P]=N,s),o)}},a.prototype.setValueFromInput=function(e,o,s){void 0===o&&(o=!0),void 0===s&&(s={});var c={value:e};this.set(c,Pi(Pi({},s),{avoidStore:1})),o&&(this.set("value","",s),this.set(c,s))},a.prototype.getInitValue=function(){var e,o=this.target,s=this.getName();if(o){var c=o.get("attributes");e=this.get("changeProp")?o.get(s):c[s]}return e||this.get("value")||this.get("default")},a}(T.Hn);var Mi=function(){function p(a){void 0===a&&(a={}),this.config=a}return p.prototype.build=function(a,e){return(0,x.isString)(a)?this.buildFromString(a,e):new Vo(a,e)},p.prototype.buildFromString=function(a,e){var o={name:a,type:"text"};return"target"===a&&(o.type="select",o.default=!1,o.options=this.config.optionsTarget),new Vo(o,e)},p}();const ss=Mi;var Ra=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const Ni=function(p){function a(e,o){var s,c=this;(c=p.call(this,e)||this).em=o.em,c.listenTo(c,"add",c.handleAdd),c.listenTo(c,"reset",c.handleReset);var P=(null===(s=c.em)||void 0===s?void 0:s.Traits)?.getConfig();return c.tf=new ss(P),c}return Ra(a,p),a.prototype.handleReset=function(e,o){var s=(void 0===o?{}:o).previousModels;(void 0===s?[]:s).forEach(function(c){return c.trigger("remove")})},a.prototype.handleAdd=function(e){e.em=this.em;var o=this.target;o&&(e.target=o)},a.prototype.setTarget=function(e){this.target=e,this.models.forEach(function(o){return o.setTarget(e)})},a.prototype.add=function(e,o){if(null!=e){var s=this.target,c=this.em;if((0,x.isArray)(e)){for(var v=[],P=0,N=e.length;P<N;P++){var H=e[P];v[P]=H instanceof Vo?H:this.tf.build(H,c),v[P].setTarget(s)}return p.prototype.add.call(this,v,o)}var R=e instanceof Vo?e:this.tf.build(e,c);return R.setTarget(s),p.prototype.add.call(this,R,o)}},a}(T.FE);var Us=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),vn=function(){return vn=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},vn.apply(this,arguments)},br=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))},Hr=function(p){return p.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&")},Fr=function(p){return!!p?.getConfig().avoidInlineStyle},Io="component:drag",or="__symbols",Br="__symbol",co="__symbol_ovrd",Pr="component:update",oi="".concat(Pr,"-inside"),as=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Us(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){var e;return(e={tagName:"div",type:"",name:"",removable:!0,draggable:!0,droppable:!0,badgable:!0,stylable:!0,"stylable-require":"","style-signature":"",unstylable:"",highlightable:!0,copyable:!0,resizable:!1,editable:!1,layerable:!0,selectable:!0,hoverable:!0,locked:!1,void:!1,state:"",status:"",content:"",icon:"",style:"",styles:"",classes:"",script:"","script-props":"","script-export":"",attributes:{},traits:["id","title"],propagate:"",dmode:"",toolbar:null})[Br]=0,e[or]=0,e[co]=0,e._undo=!0,e._undoexc=["status","open"],e},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"classes",{get:function(){return this.get("classes")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"traits",{get:function(){return this.get("traits")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"content",{get:function(){var e;return null!==(e=this.get("content"))&&void 0!==e?e:""},enumerable:!1,configurable:!0}),a.prototype.init=function(){},a.prototype.updated=function(e,o,s){},a.prototype.removed=function(){},a.prototype.initialize=function(e,o){var s=this;void 0===e&&(e={}),void 0===o&&(o={}),(0,x.bindAll)(this,"__upSymbProps","__upSymbCls","__upSymbComps");var c=o.em,v=this.parent(),P=v?.attributes,N=this.get("propagate");if(N&&this.set("propagate",(0,x.isArray)(N)?N:[N]),P&&P.propagate&&!N){var H={},R=P.propagate;R.forEach(function(Nt){return H[Nt]=v.get(Nt)}),H.propagate=R,this.set(vn(vn({},H),e))}if(o&&o.config&&o.config.voidElements.indexOf(this.get("tagName"))>=0&&this.set("void",!0),o.em=c,this.opt=o,this.em=c,this.frame=o.frame,this.config=o.config||{},this.set("attributes",vn(vn({},(0,x.result)(this,"defaults").attributes||{}),this.get("attributes")||{})),this.ccid=a.createId(this,o),this.initClasses(),this.initComponents(),this.initTraits(),this.initToolbar(),this.initScriptProps(),this.listenTo(this,"change:script",this.scriptUpdated),this.listenTo(this,"change:tagName",this.tagUpdated),this.listenTo(this,"change:attributes",this.attrUpdated),this.listenTo(this,"change:attributes:id",this._idUpdated),this.on("change:toolbar",this.__emitUpdateTlb),this.on("change",this.__onChange),this.on(oi,this.__propToParent),this.set("status",""),this.views=[],["classes","traits","components"].forEach(function(Nt){var zt="add remove ".concat("components"!==Nt?"change":"");s.listenTo(s.get(Nt),zt.trim(),function(){for(var Ft=[],pe=0;pe<arguments.length;pe++)Ft[pe]=arguments[pe];return s.emitUpdate.apply(s,br([Nt],Ft,!1))})}),!o.temporary){var it=c&&c.Css,ft=this.attributes,Ct=ft.styles,St=ft.type;Ct&&it&&it.addCollection(Ct,{avoidUpdateStyle:!0},{group:"cmp:".concat(St)}),this.__postAdd(),this.init(),this.__isSymbolOrInst()&&this.__initSymb(),c&&c.trigger("component:create",this)}},a.prototype.__postAdd=function(e){void 0===e&&(e={});var s=this.em?.UndoManager,c=this.components();s&&!this.__hasUm&&(s.add(c),s.add(this.getSelectors()),this.__hasUm=!0),e.recursive&&c.map(function(v){return v.__postAdd(e)})},a.prototype.__postRemove=function(){var o=this.em?.get("UndoManager");o&&(o.remove(this.components()),o.remove(this.getSelectors()),delete this.__hasUm)},a.prototype.__onChange=function(e,o){var s=this,c=this.changedAttributes()||{};(0,x.keys)(c).forEach(function(v){return s.emitUpdate(v)}),["status","open","toolbar","traits"].forEach(function(v){return delete c[v]}),(0,g.isEmptyObj)(c)||(this.__changesUp(o),this.__propSelfToParent({component:this,changed:c,options:o}))},a.prototype.__changesUp=function(e){var o=this.em;[this.frame,o].forEach(function(s){return s&&s.changesUp(e)})},a.prototype.__propSelfToParent=function(e){this.trigger(Pr,e),this.__propToParent(e)},a.prototype.__propToParent=function(e){var o=this.parent();o&&o.trigger(oi,e)},a.prototype.__emitUpdateTlb=function(){this.emitUpdate("toolbar")},a.prototype.is=function(e){return this.get("type")==e},a.prototype.props=function(){return this.attributes},a.prototype.index=function(){var e=this.collection;return e?e.indexOf(this):0},a.prototype.setDragMode=function(e){return this.set("dmode",e)},a.prototype.getDragMode=function(){return this.get("dmode")||""},a.prototype.find=function(e){var o,s=[],c=null===(o=this.view)||void 0===o?void 0:o.$el.find(e);return c?.each(function(v){var P=c.eq(v).data("model");P&&s.push(P)}),s},a.prototype.findType=function(e){var o=[],s=function(c){return c.forEach(function(v){v.is(e)&&o.push(v),s(v.components())})};return s(this.components()),o},a.prototype.closest=function(e){var o,s=null===(o=this.view)||void 0===o?void 0:o.$el.closest(e);return s?.length?s.data("model"):void 0},a.prototype.closestType=function(e){for(var o=this.parent();o&&!o.is(e);)o=o.parent();return o},a.prototype.contains=function(e){var o=!1;if(!e)return o;var s=function(c){!o&&c.forEach(function(v){v===e&&(o=!0),!o&&s(v.components())})};return s(this.components()),o},a.prototype.tagUpdated=function(){this.trigger("rerender")},a.prototype.replaceWith=function(e){var o=this.collection,s=o.indexOf(this);return o.remove(this),o.add(e,{at:s})},a.prototype.attrUpdated=function(e,o,s){var c=this;void 0===s&&(s={});var v=this.get("attributes"),P=v.class;P&&this.setClass(P),delete v.class;var N=v.style;N&&this.setStyle(N),delete v.style;var H=vn({},this.previous("attributes")),R=(0,g.shallowDiff)(H,this.get("attributes"));(0,x.keys)(R).forEach(function(it){return c.trigger("change:attributes:".concat(it),c,R[it],s)})},a.prototype.setAttributes=function(e,o){return void 0===o&&(o={}),this.set("attributes",vn({},e),o),this},a.prototype.addAttributes=function(e,o){return void 0===o&&(o={}),this.setAttributes(vn(vn({},this.getAttributes({noClass:!0})),e),o)},a.prototype.removeAttributes=function(e,o){void 0===e&&(e=[]),void 0===o&&(o={});var s=Array.isArray(e)?e:[e],c=this.getAttributes();return s.map(function(v){return delete c[v]}),this.setAttributes(c,o)},a.prototype.getStyle=function(e,o){void 0===e&&(e={}),void 0===o&&(o={});var s=this.em,c=(0,x.isString)(e)?e:"",v=c?o:e;if(Fr(s)&&!v.inline){var P=s.get("state"),N=s.Css.getIdRule(this.getId(),vn({state:P},v));if(this.rule=N,N)return N.getStyle(c)}return p.prototype.getStyle.call(this,c)},a.prototype.setStyle=function(e,o){var s=this;void 0===e&&(e={}),void 0===o&&(o={});var v=this.opt,P=this.em;if(!Fr(P)||v.temporary||o.inline)e=p.prototype.setStyle.apply(this,arguments);else{var N=this.get("style")||{};e=(0,x.isString)(e)?this.parseStyle(e):e,e=vn(vn({},e),N);var H=P.get("state"),R=P.Css,it=this.getStyle(o);this.rule=R.setIdRule(this.getId(),e,vn({state:H},o));var ft=(0,g.shallowDiff)(it,e);this.set("style","",{silent:!0}),(0,x.keys)(ft).forEach(function(Ct){return s.trigger("change:style:".concat(Ct))})}return e},a.prototype.getAttributes=function(e){void 0===e&&(e={});var o=this.em,s=[],c=vn({},this.get("attributes")),v=o?.Selectors,P=this.getId();if(e.noClass?delete c.class:(this.classes.forEach(function(R){return s.push((0,x.isString)(R)?R:R.get("name"))}),s.length&&(c.class=s.join(" "))),!e.noStyle){var N=this.get("style");(0,g.isObject)(N)&&!(0,g.isEmptyObj)(N)&&(c.style=this.styleToString({inline:1}))}if(!(0,x.has)(c,"id")){var H=!1;!Fr(o)&&(0,x.isEmpty)(this.getStyle())||(H=!!v?.get(P,v.Selector.TYPE_ID)),(this.__getSymbol()||this.__getSymbols())&&(H=!0),H&&(c.id=P)}return c},a.prototype.addClass=function(e){var o=this.em.Selectors.addClass(e);return this.classes.add(o)},a.prototype.setClass=function(e){return this.classes.reset(),this.addClass(e)},a.prototype.removeClass=function(e){var o=[];e=(0,x.isArray)(e)?e:[e];var s=this.classes,c=yr.TYPE_CLASS;return e.forEach(function(v){v.split(" ").forEach(function(P){var N=s.where({name:P,type:c})[0];N&&o.push(s.remove(N))})}),o},a.prototype.getClasses=function(){var e=this.getAttributes().class;return e?e.split(" "):[]},a.prototype.__logSymbol=function(e,o,s){void 0===s&&(s={});var c=this.__getSymbol(),v=this.__getSymbols();(c||v)&&this.em.log(e,{model:this,toUp:o,context:"symbols",opts:s})},a.prototype.__initSymb=function(){this.__symbReady||(this.on("change",this.__upSymbProps),this.__symbReady=!0)},a.prototype.__isSymbol=function(){return(0,x.isArray)(this.get(or))},a.prototype.__isSymbolOrInst=function(){return!(!this.__isSymbol()&&!this.get(Br))},a.prototype.__isSymbolTop=function(){var e=this.parent();return this.__isSymbolOrInst()&&(!e||e&&!e.__isSymbol()&&!e.__getSymbol())},a.prototype.__isSymbolNested=function(){if(!this.__isSymbolOrInst()||this.__isSymbolTop())return!1;var e=(this.__isSymbol()?this:this.__getSymbol()).__getSymbTop(),o=this.__getSymbTop();return(o.__isSymbol()?o:o.__getSymbol())!==e},a.prototype.__getAllById=function(){var e=this.em;return e?e.Components.allById():{}},a.prototype.__getSymbol=function(){var e=this.get(Br);if(e&&(0,x.isString)(e)){var o=this.__getAllById()[e];o?(e=o,this.set(Br,o)):e=0}return e},a.prototype.__getSymbols=function(){var e=this,o=this.get(or);return o&&(0,x.isArray)(o)&&(o.forEach(function(s,c){s&&(0,x.isString)(s)&&(o[c]=e.__getAllById()[s])}),o=o.filter(function(s){return s&&!(0,x.isString)(s)})),o},a.prototype.__isSymbOvrd=function(e){void 0===e&&(e="");var o=this.get(co),s=e.split(":")[0],c=e!==s?[e,s]:[e];return!0===o||(0,x.isArray)(o)&&c.some(function(v){return o.indexOf(v)>=0})},a.prototype.__getSymbToUp=function(e){var o=this;void 0===e&&(e={});var s=[],c=e.changed;if(e.fromInstance||e.noPropagate||e.fromUndo||c&&this.__isSymbOvrd(c))return s;var v=this.__getSymbols()||[],P=this.__getSymbol();return(P?br([P],P.__getSymbols()||[],!0):v).filter(function(N){return N!==o}).filter(function(N){return!(c&&N.__isSymbOvrd(c))})},a.prototype.__getSymbTop=function(e){for(var o=this,s=this.parent(e);s&&(s.__isSymbol()||s.__getSymbol());)o=s,s=s.parent(e);return o},a.prototype.__upSymbProps=function(e,o){var s=this;void 0===o&&(o={});var c=this.changedAttributes()||{},v=c.attributes||{};if(delete c.status,delete c.open,delete c[or],delete c[Br],delete c[co],delete c.attributes,delete v.id,(0,g.isEmptyObj)(v)||(c.attributes=v),!(0,g.isEmptyObj)(c)){var P=this.__getSymbToUp(o);(0,x.keys)(c).map(function(N){s.__isSymbOvrd(N)&&delete c[N]}),this.__logSymbol("props",P,{opts:o,changed:c}),P.forEach(function(N){var H=vn({},c);(0,x.keys)(H).map(function(R){N.__isSymbOvrd(R)&&delete H[R]}),N.set(H,vn({fromInstance:s},o))})}},a.prototype.__upSymbCls=function(e,o,s){var c=this;void 0===s&&(s={});var v=this.__getSymbToUp(s);this.__logSymbol("classes",v,{opts:s}),v.forEach(function(P){P.set("classes",c.get("classes"),{fromInstance:c})}),this.__changesUp(s)},a.prototype.__upSymbComps=function(e,o,s){var c=this,v=s||o||{},P={fromInstance:v.fromInstance,fromUndo:v.fromUndo},N=e.opt.temporary;if(s)if(s.add){var H=[],R=!!this.__getSymbols();if((ve=this.__getSymbToUp(vn(vn({},P),{changed:"components:add"}))).length){var it=e.__getSymbol();H=(it?it.__getSymbols():e.__getSymbols())||[],(H=br([],H,!0)).push(it||e)}!N&&this.__logSymbol("add",ve,{opts:s,addedInstances:H.map(function(je){return je.cid}),added:e.cid}),ve.forEach(function(je){var nn=je.__getSymbTop(),cn=H.filter(function(wn){var Nn=wn.__getSymbTop({prev:1});return nn&&Nn&&Nn===nn})[0]||e.clone({symbol:!0,symbolInv:R});je.append(cn,vn({fromInstance:c},s))})}else{var ft=e.__getSymbol();if(ft&&!s.temporary&&ft.set(or,ft.__getSymbols().filter(function(je){return je!==e})),!e.__isSymbolTop()){var Ct="components:remove",St=s.index,Nt=e.parent(),zt=vn({fromInstance:e},s),Ft=e.__isSymbolNested(),pe=function(je){var nn=je.parent();nn&&!nn.__isSymbOvrd(Ct)&&je.remove(zt)};ve=Nt?.__isSymbOvrd(Ct)?[]:e.__getSymbToUp(P),Ft&&(ve=Nt?.__getSymbToUp(vn(vn({},P),{changed:Ct})),pe=function(je){var nn=je.components().at(St);nn&&nn.remove(vn({fromInstance:Nt},zt))}),!N&&this.__logSymbol("remove",ve,{opts:s,removed:e.cid,isSymbNested:Ft}),ve.forEach(pe)}}else{var ve=this.__getSymbToUp(vn(vn({},P),{changed:"components:reset"})),De=e.models;this.__logSymbol("reset",ve,{components:De}),ve.forEach(function(je){var nn=De.map(function(cn){return cn.clone({symbol:!0})});je.components().reset(nn,vn({fromInstance:c},o))})}this.__changesUp(v)},a.prototype.initClasses=function(e,o,s){void 0===s&&(s={});var c=this.get("attributes").class||[],v=[this,"change:classes",this.initClasses],P=this.get("classes")||c,N=(0,x.isString)(P)?P.split(" "):P;this.stopListening.apply(this,v);var H=this.normalizeClasses(N),R=new So([]);return this.set("classes",R,s),R.add(H),R.on("add remove reset",this.__upSymbCls),this.listenTo.apply(this,v),this},a.prototype.initComponents=function(){var e=[this,"change:components",this.initComponents];this.stopListening.apply(this,e);var o=new Uo([],this.opt);o.parent=this;var s=this.get("components"),c=!this.opt.avoidChildren;return this.set("components",o),c&&s&&o.add((0,x.isFunction)(s)?s(this):s,this.opt),o.on("add remove reset",this.__upSymbComps),this.listenTo.apply(this,e),this},a.prototype.initTraits=function(e){var o=this.em,s="change:traits";this.off(s,this.initTraits),this.__loadTraits();var c=vn({},this.get("attributes")),v=this.traits;return v.each(function(P){if(!P.get("changeProp")){var N=P.get("name"),H=P.getInitValue();N&&H&&(c[N]=H)}}),v.length&&this.set("attributes",c),this.on(s,this.initTraits),e&&o&&o.trigger("component:toggled"),this},a.prototype.initScriptProps=function(){if(!this.opt.temporary){var e="script-props",o=["change:".concat(e),this.initScriptProps];this.off.apply(this,o);var s=this.previous(e)||[],c=this.get(e)||[],v=s.map(function(N){return"change:".concat(N)}).join(" "),P=c.map(function(N){return"change:".concat(N)}).join(" ");v&&this.off(v,this.__scriptPropsChange),P&&this.on(P,this.__scriptPropsChange),this.on.apply(this,o)}},a.prototype.__scriptPropsChange=function(e,o,s){void 0===s&&(s={}),s.avoidStore||this.trigger("rerender")},a.prototype.append=function(e,o){void 0===o&&(o={});var s=((0,x.isArray)(e)?br([],e,!0):[e]).map(function(v){return(0,x.isString)(v)||v.collection&&v.collection.remove(v,{temporary:!0}),v}),c=this.components().add(s,o);return(0,x.isArray)(c)?c:[c]},a.prototype.components=function(e,o){void 0===o&&(o={});var s=this.get("components");return(0,x.isUndefined)(e)?s:(s.reset(void 0,o),e?this.append(e,o):[])},a.prototype.getChildAt=function(e){return this.components().at(e||0)||void 0},a.prototype.getLastChild=function(){var e=this.components();return e.at(e.length-1)||null},a.prototype.empty=function(e){return void 0===e&&(e={}),this.components().reset(void 0,e),this},a.prototype.parent=function(e){void 0===e&&(e={});var o=this.collection||e.prev&&this.prevColl;return o?o.parent:void 0},a.prototype.parents=function(){var e=this.parent();return e?[e].concat(e.parents()):[]},a.prototype.scriptUpdated=function(){this.set("scriptUpdated",1)},a.prototype.initToolbar=function(){var e=this.em,o=this,s=e&&e.getConfig().stylePrefix||"";if(!o.get("toolbar")&&e){var c=[];o.collection&&c.push({label:e.getIcon("arrowUp"),command:function(v){return v.runCommand("core:component-exit",{force:1})}}),o.get("draggable")&&c.push({attributes:{class:"".concat(s,"no-touch-actions"),draggable:!0},label:e.getIcon("move"),command:"tlb-move"}),o.get("copyable")&&c.push({label:e.getIcon("copy"),command:"tlb-clone"}),o.get("removable")&&c.push({label:e.getIcon("delete"),command:"tlb-delete"}),o.set("toolbar",c)}},a.prototype.__loadTraits=function(e,o){void 0===o&&(o={});var s=e||this.traits;if(!(s instanceof Ni)){s=(0,x.isFunction)(s)?s(this):s;var c=new Ni([],this.opt);c.setTarget(this),s.length&&(s.forEach(function(v){return v.attributes&&delete v.attributes.value}),c.add(s)),this.set({traits:c},o)}return this},a.prototype.getTraits=function(){return this.__loadTraits(),br([],this.traits.models,!0)},a.prototype.setTraits=function(e){var o=(0,x.isArray)(e)?e:[e];return this.set({traits:o}),this.getTraits()},a.prototype.getTrait=function(e){return this.getTraits().filter(function(o){return o.get("id")===e||o.get("name")===e})[0]||null},a.prototype.updateTrait=function(e,o){var s,c=this.getTrait(e);return c&&c.set(o),null===(s=this.em)||void 0===s||s.trigger("component:toggled"),this},a.prototype.getTraitIndex=function(e){var o=this.getTrait(e);return o?this.traits.indexOf(o):-1},a.prototype.removeTrait=function(e){var o,s=this,c=((0,x.isArray)(e)?e:[e]).map(function(N){return s.getTrait(N)}),v=this.traits,P=c.length?v.remove(c):[];return null===(o=this.em)||void 0===o||o.trigger("component:toggled"),(0,x.isArray)(P)?P:[P]},a.prototype.addTrait=function(e,o){var s;void 0===o&&(o={}),this.__loadTraits();var c=this.traits.add(e,o);return null===(s=this.em)||void 0===s||s.trigger("component:toggled"),(0,x.isArray)(c)?c:[c]},a.prototype.normalizeClasses=function(e){var o=[],c=this.em?.Selectors;return c?e.models?br([],e.models,!0):(e.forEach(function(v){return o.push(c.add(v))}),o):[]},a.prototype.clone=function(e){void 0===e&&(e={});var o=this.em,s=vn({},this.attributes),c=vn({},this.opt),v=this.getId(),P=o?.Css;s.attributes=vn({},s.attributes),delete s.attributes.id,s.components=[],s.classes=[],s.traits=[],this.__isSymbolTop()&&(e.symbol=!0),this.get("components").each(function(Ct,St){s.components[St]=Ct.clone(vn(vn({},e),{_inner:1}))}),this.get("traits").each(function(Ct,St){s.traits[St]=Ct.clone()}),this.get("classes").each(function(Ct,St){s.classes[St]=Ct.get("name")}),s.status="",c.collection=null;var N=new this.constructor(s,c),H="#".concat(N.getId());(P?P.getRules("#".concat(v)):[]).forEach(function(Ct){var St=Ct.clone();St.set("selectors",[H]),P.getAll().add(St)}),N.set(or,0);var R=this.__getSymbol(),it=this.__getSymbols();e.symbol||!R&&!it?R?(R.set(or,br(br([],R.__getSymbols(),!0),[N],!1)),N.__initSymb()):e.symbol&&(this.__isSymbol()?(this.set(or,br(br([],it,!0),[N],!1)),N.set(Br,this),N.__initSymb()):e.symbolInv?(this.set(or,[N]),N.set(Br,this),[this,N].map(function(Ct){return Ct.__initSymb()})):(N.set(or,[this]),[this,N].map(function(Ct){return Ct.__initSymb()}),this.set(Br,N))):(N.set(Br,0),N.set(or,0));var ft="component:clone";return o&&o.trigger(ft,N),this.trigger(ft,N),N},a.prototype.getName=function(e){void 0===e&&(e={});var o=this.em,s=this.attributes,c=s.type,v=s.tagName,P=s.name,N=c||v,H=c?"":v,R="domComponents.names.",it=P&&o?.t("".concat(R).concat(P)),ft=H&&o?.t("".concat(R).concat(H)),Ct=o&&(o.t("".concat(R).concat(c))||o.t("".concat(R).concat(v))),St=this.get("custom-name");return(e.noCustom?"":St)||it||P||ft||(0,g.capitalize)(H)||Ct||(0,g.capitalize)(N)},a.prototype.getIcon=function(){var e=this.get("icon");return e?e+" ":""},a.prototype.toHTML=function(e){void 0===e&&(e={});var o=this,s=[],c=e.tag||o.get("tagName"),v=o.get("void"),P=e.attributes,N=this.getAttrToHTML();if(delete e.tag,P&&((0,x.isFunction)(P)?N=P(o,N)||{}:(0,g.isObject)(P)&&(N=P)),e.withProps){var H=this.toJSON();(0,x.forEach)(H,function(Ft,pe){"_"!==pe[0]&&["classes","attributes","components"].indexOf(pe)<0&&(N["data-gjs-".concat(pe)]=(0,x.isArray)(Ft)||(0,g.isObject)(Ft)?JSON.stringify(Ft):Ft)})}for(var R in N){var it=N[R];if(!(0,x.isUndefined)(it)&&null!==it)if((0,x.isBoolean)(it))it&&s.push(R);else{var ft="";if(e.altQuoteAttr&&(0,x.isString)(it)&&it.indexOf('"')>=0)ft="'".concat(it.replace(/'/g,"&apos;"),"'");else{var Ct=(0,x.isString)(it)?it.replace(/"/g,"&quot;"):it;ft='"'.concat(Ct,'"')}s.push("".concat(R,"=").concat(ft))}}var St=s.length?" ".concat(s.join(" ")):"",Nt=o.getInnerHTML(e),zt="<".concat(c).concat(St).concat(v?"/":"",">").concat(Nt);return!v&&(zt+="</".concat(c,">")),zt},a.prototype.getInnerHTML=function(e){return this.__innerHTML(e)},a.prototype.__innerHTML=function(e){void 0===e&&(e={});var o=this.components();return o.length?o.map(function(s){return s.toHTML(e)}).join(""):this.content},a.prototype.getAttrToHTML=function(){var e=this.getAttributes();return Fr(this.em)&&delete e.style,e},a.prototype.toJSON=function(e){void 0===e&&(e={});var o=y.Model.prototype.toJSON.call(this,e);if(o.attributes=this.getAttributes(),delete o.attributes.class,delete o.toolbar,delete o.traits,delete o.status,delete o.open,delete o._undoexc,!e.fromUndo){var s=o[Br],c=o[or];c&&(0,x.isArray)(c)&&(o[or]=c.filter(function(v){return v}).map(function(v){return v.getId?v.getId():v})),s&&!(0,x.isString)(s)&&(o[Br]=s.getId())}return this.em.getConfig().avoidDefaults&&this.getChangedProps(o),o},a.prototype.getChangedProps=function(e){var o=e||y.Model.prototype.toJSON.apply(this),s=(0,x.result)(this,"defaults");return(0,x.forEach)(s,function(c,v){-1===["type"].indexOf(v)&&o[v]===c&&delete o[v]}),(0,x.isEmpty)(o.type)&&delete o.type,(0,x.forEach)(["attributes","style"],function(c){(0,x.isEmpty)(s[c])&&(0,x.isEmpty)(o[c])&&delete o[c]}),(0,x.forEach)(["classes","components"],function(c){(!o[c]||(0,x.isEmpty)(s[c])&&!o[c].length)&&delete o[c]}),o},a.prototype.getId=function(){return(this.get("attributes")||{}).id||this.ccid||this.cid},a.prototype.setId=function(e,o){var s=vn({},this.get("attributes"));return s.id=e,this.set("attributes",s,o),this},a.prototype.getEl=function(e){void 0===e&&(e=void 0);var o=this.getView(e);return o&&o.el},a.prototype.getView=function(e){var o=this.view,s=this.views;return e&&(o=s.filter(function(c){return c._getFrame()===e.view})[0]),o},a.prototype.getCurrentView=function(){var e=(this.em.get("currentFrame")||{}).model;return this.getView(e)},a.prototype.__getScriptProps=function(){var e=this.props();return(this.get("script-props")||[]).reduce(function(o,s){return o[s]=e[s],o},{})},a.prototype.getScriptString=function(e){var o=this,s=e||this.get("script")||"";if(!s)return s;if(this.get("script-props"))s=s.toString().trim();else{if("function"==typeof s){var c=s.toString().trim();s=(c=c.replace(/^function[\s\w]*\(\)\s?\{/,"").replace(/\}$/,"")).trim()}var v=this.em.getConfig(),P=Hr(v.tagVarStart||"{[ "),N=Hr(v.tagVarEnd||" ]}"),H=new RegExp("".concat(P,"([\\w\\d-]*)").concat(N),"g");s=s.replace(H,function(R,it){o.scriptUpdated();var ft=o.attributes[it]||"";return(0,x.isArray)(ft)||"object"==typeof ft?JSON.stringify(ft):ft})}return s},a.prototype.emitUpdate=function(e){for(var o,s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];var v=this.em,P=Pr+(e?":".concat(e):""),N=e&&this.get(e);e&&this.updated.apply(this,br([e,N,e&&this.previous(e)],s,!1)),this.trigger.apply(this,br([P],s,!1)),v&&v.trigger.apply(v,br([P,this],s,!1)),["components","classes"].indexOf(e)>=0&&this.__propSelfToParent({component:this,changed:(o={},o[e]=N,o),options:s[2]||s[1]||{}})},a.prototype.onAll=function(e){return(0,x.isFunction)(e)&&(e(this),this.components().forEach(function(o){return o.onAll(e)})),this},a.prototype.forEachChild=function(e){(0,x.isFunction)(e)&&this.components().forEach(function(o){e(o),o.forEachChild(e)})},a.prototype.remove=function(e){var o=this;void 0===e&&(e={});var s=this.em,c=this.collection,v=function(){c&&c.remove(o,vn(vn({},e),{action:"remove-component"})),c||(o.components("",e),o.components().removeChildren(o,void 0,e))},P=vn({},e);return[this,s].map(function(N){return N.trigger("component:remove:before",o,v,P)}),!P.abort&&v(),this},a.prototype.move=function(e,o){if(void 0===o&&(o={}),e){var s=o.at,c=this.index(),v=e===this.parent();v&&(c===s||c===s-1)||(v&&s&&s>c&&(o.at=s-1),this.remove({temporary:1}),e.append(this,o),this.emitUpdate())}return this},a.prototype.isInstanceOf=function(e){var o,s,c=null===(s=null===(o=this.em)||void 0===o?void 0:o.Components.getType(e))||void 0===s?void 0:s.model;return!!c&&this instanceof c},a.prototype.isChildOf=function(e){for(var o=(0,x.isString)(e),s=this.parent();s;){if(o){if(s.isInstanceOf(e))return!0}else if(s===e)return!0;s=s.parent()}return!1},a.prototype.resetId=function(e){void 0===e&&(e={});var o=this.em,s=this.getId();if(!s)return this;var c=a.createId(this);this.setId(c);var v=o?.Css.getIdRule(s),P=v?.get("selectors").at(0);return P?.set("name",c),this},a.prototype._getStyleRule=function(e){var o=(void 0===e?{}:e).id,s=this.em,c=o||this.getId();return s?.Css.getIdRule(c)},a.prototype._getStyleSelector=function(e){return this._getStyleRule(e)?.get("selectors").at(0)},a.prototype._idUpdated=function(e,o,s){if(void 0===s&&(s={}),!s.idUpdate){var c=this.ccid,v=(this.get("attributes")||{}).id,P=(this.previous("attributes")||{}).id||c,N=a.getList(this);if(N[v]||!v&&P)return this.setId(P,{idUpdate:!0});delete N[P],N[v]=this,this.ccid=v;var H=this._getStyleSelector({id:P});H&&H.set({name:v,label:v})}},a.getDefaults=function(){return(0,x.result)(this.prototype,"defaults")},a.isComponent=function(e){return{tagName:(0,g.toLowerCase)(e.tagName)}},a.ensureInList=function(e){var o=a.getList(e),s=e.getId(),c=o[s];if(c){if(c!==e){var v=a.getIncrementId(s,o);e.setId(v),o[v]=e}}else o[s]=e;e.components().forEach(function(P){return a.ensureInList(P)})},a.createId=function(e,o){void 0===o&&(o={});var s,c=a.getList(e),v=o.idMap,P=void 0===v?{}:v,N=e.get("attributes").id;return N?(s=a.getIncrementId(N,c,o),e.setId(s),N!==s&&(P[N]=s)):s=a.getNewId(c),c[s]=e,s},a.getNewId=function(e){for(var o=Object.keys(e).length.toString().length+2,s=(Math.random()+1.1).toString(36).slice(-o),c="i".concat(s);e[c];)c=a.getNewId(e);return c},a.getIncrementId=function(e,o,s){void 0===s&&(s={});var c=s.keepIds,v=1,P=e;if((void 0===c?[]:c).indexOf(e)<0)for(;o[P];)v++,P="".concat(e,"-").concat(v);return P},a.getList=function(e){var o=e.opt,s=void 0===o?{}:o,c=s.domc,v=s.em,P=c||v?.Components;return P?P.componentsById:{}},a.checkId=function(e,o,s,c){void 0===o&&(o=[]),void 0===s&&(s={}),void 0===c&&(c={});var v=(0,x.isArray)(e)?e:[e],P=c.keepIds,N=void 0===P?[]:P;v.forEach(function(H){H.attributes;var R=H.attributes,it=void 0===R?{}:R,ft=H.components,Ct=it.id;if(Ct&&s[Ct]&&N.indexOf(Ct)<0){var St=a.getIncrementId(Ct,s);it.id=St,(0,x.isArray)(o)&&o.forEach(function(Nt){var zt=Nt.selectors;zt.forEach(function(Ft,pe){Ft==="#".concat(Ct)&&(zt[pe]="#".concat(St))})})}ft&&a.checkId(ft,o,s,c)})},a}(os);const jn=as;var Vs=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),uo=function(p){function a(){var e=null!==p&&p.apply(this,arguments)||this;return e.compView=Kn,e}return Vs(a,p),a.prototype.initialize=function(e){this.opts=e||{},this.config=e.config||{},this.em=this.config.em;var o=this.collection;this.listenTo(o,"add",this.addTo),this.listenTo(o,"reset",this.resetChildren),this.listenTo(o,"remove",this.removeChildren)},a.prototype.removeChildren=function(e,o,s){var c=this;void 0===s&&(s={}),e.views.forEach(function(v){if(v){var P=v.childrenView,N=v.scriptContainer;P&&P.stopListening(),(0,Qe.L_)(N),v.remove.apply(v)}}),e.components().forEach(function(v){return c.removeChildren(v,o,s)})},a.prototype.addTo=function(e,o,s){void 0===o&&(o={}),void 0===s&&(s={});var c=this.em,v=this.collection.indexOf(e);if(this.addToCollection(e,null,v),c&&!s.temporary){var P=function(N){c.trigger("component:add",N),N.components().forEach(function(H){return P(H)})};P(e)}},a.prototype.addToCollection=function(e,o,s){for(var c=this,v=c.config,P=c.opts,N=c.em,H=o||null,R=v.frameView,it=R?.model&&e.getView(R.model),ft=P.componentTypes||N?.Components.getTypes(),Ct=e.get("type")||"default",St=this.compView,Nt=0;Nt<ft.length;Nt++)if(ft[Nt].id==Ct){St=ft[Nt].view;break}var zt,Ft=it||new St({model:e,config:v,componentTypes:ft});try{zt=Ft.render().el}catch(je){zt=document.createTextNode(""),N.logError(je)}if(H)H.appendChild(zt);else{var pe=this.parentEl,ve=pe.childNodes;if((0,x.isUndefined)(s))pe.appendChild(zt);else{var De=ve.length==s;De&&s--,De||!ve.length?pe.appendChild(zt):pe.insertBefore(zt,ve[s])}}return e.opt.temporary||null==N||N.trigger("component:mount",e),zt},a.prototype.resetChildren=function(e,o){var s=this,c=(void 0===o?{}:o).previousModels,v=void 0===c?[]:c;this.parentEl.innerHTML="",v.forEach(function(P){return s.removeChildren(P,s.collection)}),e.each(function(P){return s.addToCollection(P)})},a.prototype.render=function(e){var o=this,s=this.el,c=document.createDocumentFragment();return this.parentEl=e||this.el,this.collection.each(function(v){return o.addToCollection(v,c)}),s.innerHTML="",s.appendChild(c),this},a}(T.G7);const Di=uo;var po=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Gr=function(){return Gr=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Gr.apply(this,arguments)},zs=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return po(a,p),a.prototype.className=function(){return this.getClasses()},a.prototype.tagName=function(){return this.model.get("tagName")},a.prototype.initialize=function(e){void 0===e&&(e={});var o=this.model,s=e.config||{},c=s.em,v=o.opt||{},P=this.$el,N=this.el;this.opts=e,this.modelOpt=v,this.config=s,this.em=c,this.pfx=s.stylePrefix||"",this.ppfx=s.pStylePrefix||"",this.attr=o.get("attributes"),this.classe=this.attr.class||[],this.listenTo(o,"change:style",this.updateStyle),this.listenTo(o,"change:attributes",this.renderAttributes),this.listenTo(o,"change:highlightable",this.updateHighlight),this.listenTo(o,"change:status change:locked",this.updateStatus),this.listenTo(o,"change:script rerender",this.reset),this.listenTo(o,"change:content",this.updateContent),this.listenTo(o,"change",this.handleChange),this.listenTo(o,"active",this.onActive),this.listenTo(o,"disable",this.onDisable),P.data("model",o),(0,g.setViewEl)(N,this),o.view=this,this._getFrame()&&o.views.push(this),this.initClasses(),this.initComponents({avoidRender:!0}),this.events=Gr(Gr({},this.constructor.getEvents()),{dragstart:"handleDragStart"}),this.delegateEvents(),!v.temporary&&this.init(this._clbObj())},Object.defineProperty(a.prototype,"__cmpStyleOpts",{get:function(){return{state:"",mediaText:""}},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"frameView",{get:function(){return this.opts.config.frameView},enumerable:!1,configurable:!0}),a.prototype.__isDraggable=function(){var e=this.model,o=this.config,s=e.attributes.draggable;return o.draggableComponents&&s},a.prototype._clbObj=function(){var e=this,o=e.em,s=e.model,c=e.el;return{editor:o?.getEditor(),model:s,el:c}},a.prototype.init=function(e){},a.prototype.removed=function(e){},a.prototype.onRender=function(e){},a.prototype.onActive=function(e){},a.prototype.onDisable=function(){},a.prototype.remove=function(){var e;p.prototype.remove.call(this);var o=this.model,s=this.$el,c=o.views,v=this._getFrame()||{};return o.components().forEach(function(P){P.getView(v.model)?.remove()}),null===(e=this.childrenView)||void 0===e||e.remove(),c.splice(c.indexOf(this),1),this.removed(this._clbObj()),s.data({model:"",collection:"",view:""}),this},a.prototype.handleDragStart=function(e){if(!this.__isDraggable())return!1;e.stopPropagation(),e.preventDefault(),this.em.Commands.run("tlb-move",{target:this.model,event:e})},a.prototype.initClasses=function(){var e=this.model,o="change:classes",s=e.get("classes");s instanceof So&&(this.stopListening(e,o,this.initClasses),this.listenTo(e,o,this.initClasses),this.listenTo(s,"add remove change",this.updateClasses),s.length&&this.importClasses())},a.prototype.initComponents=function(e){void 0===e&&(e={});var o=this,s=o.model,c=o.$el,v=o.childrenView,P=s.get("components"),N=[s,"change:components",this.initComponents];P instanceof Uo&&(c.data("collection",P),v&&v.remove(),this.stopListening.apply(this,N),!e.avoidRender&&this.renderChildren(),this.listenTo.apply(this,N))},a.prototype.handleChange=function(){var e=this.model,o=(0,x.keys)(e.changed);if(1!==o.length||"status"!==o[0])for(var s in e.emitUpdate(),e.changed)e.emitUpdate(s)},a.prototype.importClasses=function(){var e=this.em.Selectors;e&&this.model.classes.each(function(o){e.add(o.get("name"))})},a.prototype.updateStatus=function(e){void 0===e&&(e={});var o=this,s=o.em,c=o.el,v=o.ppfx,P=o.model,N=s?.Canvas.getConfig().extHl,H=P.get("status"),R="".concat(v,"selected"),it="".concat(R,"-parent"),ft="".concat(v,"freezed"),Ct="".concat(v,"hovered"),St="".concat(v,"no-pointer"),Nt=[R,it,ft,Ct,St],zt=N&&!e.noExtHl?"":R;this.$el.removeClass(Nt.join(" "));var Ft=[c.getAttribute("class")||""];switch(H){case"selected":Ft.push(zt);break;case"selected-parent":Ft.push(it);break;case"freezed":Ft.push(ft);break;case"freezed-selected":Ft.push(ft,zt);break;case"hovered":!e.avoidHover&&Ft.push(Ct)}P.get("locked")&&Ft.push(St);var pe=Ft.filter(Boolean).join(" ");pe&&c.setAttribute("class",pe)},a.prototype.updateHighlight=function(){var e=this.model,o=e.get("textable"),s=e.get("highlightable")&&(o||!e.isChildOf("text"));this.setAttribute("data-gjs-highlightable",!!s||"")},a.prototype.updateStyle=function(e,o,s){void 0===s&&(s={});var c=this.model,v=this.em;if(Fr(v)&&!s.inline){var P=this.__cmpStyleOpts,N=c.getStyle(P);!(0,x.isEmpty)(N)&&c.setStyle(N,P)}else this.setAttribute("style",c.styleToString(s))},a.prototype.updateClasses=function(){var e=this.model.classes.pluck("name").join(" ");this.setAttribute("class",e),this.updateStatus(),this.onAttrUpdate()},a.prototype.setAttribute=function(e,o){var s=this.$el;o?s.attr(e,o):s.removeAttr(e)},a.prototype.getClasses=function(){return this.model.getClasses().join(" ")},a.prototype.updateAttributes=function(){var e=[],o=this,s=o.model,c=o.$el,v=o.el,P=s.attributes,N=P.textable,H=P.type,R=Gr(Gr({id:s.getId(),"data-gjs-type":H||"default"},this.__isDraggable()&&{draggable:!0}),N&&{contenteditable:"false"});(0,x.each)(v.attributes,function(ft){return e.push(ft.nodeName)}),e.forEach(function(ft){return c.removeAttr(ft)}),this.updateStyle(),this.updateHighlight();var it=Gr(Gr({},R),s.getAttributes());(0,x.keys)(it).forEach(function(ft){return!1===it[ft]&&delete it[ft]}),c.attr(it)},a.prototype.updateContent=function(){var e=this.model.content,o=this.model.components().length;this.getChildrenContainer().innerHTML=o?"":e},a.prototype.prevDef=function(e){e.preventDefault()},a.prototype.updateScript=function(){var e=this.model,o=this.em;e.get("script")&&o?.Canvas.getCanvasView().updateScript(this)},a.prototype.getChildrenContainer=function(){var e=this.el;return"function"==typeof this.getChildrenSelector?e=this.el.querySelector(this.getChildrenSelector()):this.getTemplate,e},a.prototype.getOffsetRect=function(){var e={},o=this.el,s=0,c=0,v=function(P){var N=P.offsetParent;N?(s+=N.offsetTop,c+=N.offsetLeft,v(N)):(e.top=o.offsetTop+s,e.left=o.offsetLeft+c,e.bottom=e.top+o.offsetHeight,e.right=e.left+o.offsetWidth)};return v(o),e},a.prototype.isInViewport=function(e){var o,s=(void 0===e?{}:e).rect,c=this.el.ownerDocument,v=c.body,P=null===(o=c.defaultView)||void 0===o?void 0:o.frameElement,N=s||this.getOffsetRect(),H=N.top,R=N.left,it=this._getFrame().getOffsetRect();return H>=it.scrollTop&&R>=it.scrollLeft&&H<=it.scrollBottom&&R<=P?.offsetWidth+v.scrollLeft},a.prototype.scrollIntoView=function(e){var o;void 0===e&&(e={});var s=this.getOffsetRect();if(!this.isInViewport({rect:s})||e.force){var c=this.el;"smooth"!==e.behavior?null===(o=c.ownerDocument.defaultView)||void 0===o||o.scrollTo(0,s.top):c.scrollIntoView(Gr({behavior:"smooth",block:"nearest"},e))}},a.prototype.reset=function(){var e=this.el;this.el="",this._ensureElement(),this._setData(),(0,Qe.dL)(e,this.el),this.render()},a.prototype._setData=function(){var e=this.model,o=e.components();this.$el.data({model:e,collection:o,view:this})},a.prototype._getFrame=function(){var e;return null===(e=this.em)||void 0===e?void 0:e.get("Canvas").config.frameView},a.prototype.renderChildren=function(){this.updateContent();var e=this.getChildrenContainer(),o=this.childrenView||new Di({collection:this.model.get("components"),config:this.config,componentTypes:this.opts.componentTypes});o.render(e),this.childrenView=o;for(var s=Array.prototype.slice.call(o.el.childNodes),c=0,v=s.length;c<v;c++)e.appendChild(s.shift())},a.prototype.renderAttributes=function(){this.updateAttributes(),this.updateClasses()},a.prototype.onAttrUpdate=function(){},a.prototype.render=function(){return this.renderAttributes(),this.modelOpt.temporary||(this.renderChildren(),this.updateScript(),(0,g.setViewEl)(this.el,this),this.postRender()),this},a.prototype.postRender=function(){this.modelOpt.temporary||this.onRender(this._clbObj())},a.getEvents=function(){return(0,x.result)(this.prototype,"events")},a}(T.G7);const Kn=zs;var qs=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const ja=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return qs(a,p),a.prototype.tagName=function(){return"div"},a}(Kn);var Ha=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),zo=function(){return zo=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},zo.apply(this,arguments)};const Gs=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Ha(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return zo(zo({},p.prototype.defaults),{type:"cell",tagName:"td",draggable:["tr"]})},enumerable:!1,configurable:!0}),a.isComponent=function(e){return["td","th"].indexOf((0,g.toLowerCase)(e.tagName))>=0},a}(jn);var Ws=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const Fa=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Ws(a,p),a}(Kn);var Ba=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Li=function(){return Li=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Li.apply(this,arguments)};const ls=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Ba(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return Li(Li({},p.prototype.defaults),{tagName:"tr",draggable:["thead","tbody","tfoot"],droppable:["th","td"]})},enumerable:!1,configurable:!0}),a.isComponent=function(e){return"tr"===(0,g.toLowerCase)(e.tagName)},a}(jn);var Va=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const cs=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Va(a,p),a}(Kn);var Oo=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Mr=function(){return Mr=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Mr.apply(this,arguments)},us="table";const za=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Oo(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return Mr(Mr({},p.prototype.defaults),{type:us,tagName:us,droppable:["tbody","thead","tfoot"]})},enumerable:!1,configurable:!0}),a.prototype.initialize=function(e,o){p.prototype.initialize.call(this,e,o);var s=this.get("components");!s.length&&s.add({type:"tbody"})},a.isComponent=function(e){return(0,g.toLowerCase)(e.tagName)===us},a}(jn),qa=Kn.extend({events:{}});var qo=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Qn=function(){return Qn=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Qn.apply(this,arguments)},Go="tbody";const Ii=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return qo(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return Qn(Qn({},p.prototype.defaults),{type:Go,tagName:Go,draggable:["table"],droppable:["tr"],columns:1,rows:1})},enumerable:!1,configurable:!0}),a.prototype.initialize=function(e,o){p.prototype.initialize.call(this,e,o);var s=this.get("components"),c=this.get("columns"),v=this.get("rows");if(!s.length){for(var P=[];v--;){for(var N=[],H=c;H--;)N.push({type:"cell",classes:["cell"]});P.push({type:"row",classes:["row"],components:N})}s.add(P)}},a.isComponent=function(e){return(0,g.toLowerCase)(e.tagName)===Go},a}(jn);var ii=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ro=function(){return Ro=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Ro.apply(this,arguments)},Ri="thead";const Ga=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return ii(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return Ro(Ro({},p.prototype.defaults),{type:Ri,tagName:Ri})},enumerable:!1,configurable:!0}),a.isComponent=function(e){return(0,g.toLowerCase)(e.tagName)===Ri},a}(Ii);var ps=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const $s=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return ps(a,p),a}(Kn);var Ks=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const Ys=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Ks(a,p),a}(Kn);var Wa=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Wo=function(){return Wo=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Wo.apply(this,arguments)},Xs="tfoot";const pt=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Wa(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return Wo(Wo({},p.prototype.defaults),{type:Xs,tagName:Xs})},enumerable:!1,configurable:!0}),a.isComponent=function(e){return(0,g.toLowerCase)(e.tagName)===Xs},a}(Ii);var wt=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const Rt=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return wt(a,p),a}(Kn);var Vt=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),re=function(){return re=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},re.apply(this,arguments)},Yt='xmlns="http://www.w3.org/2000/svg" width="100" viewBox="0 0 24 24" style="fill: rgba(0,0,0,0.15); transform: scale(0.75)"',me=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Vt(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return re(re({},p.prototype.defaults),{type:"image",tagName:"img",void:!0,droppable:0,editable:1,highlightable:0,resizable:{ratioDefault:1},traits:["alt"],src:"<svg ".concat(Yt,'>\n        <path d="M8.5 13.5l2.5 3 3.5-4.5 4.5 6H5m16 1V5a2 2 0 0 0-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2z"></path>\n      </svg>'),fallback:"<svg ".concat(Yt,'>\n        <path d="M2.28 3L1 4.27l2 2V19c0 1.1.9 2 2 2h12.73l2 2L21 21.72 2.28 3m2.55 0L21 19.17V5a2 2 0 0 0-2-2H4.83M8.5 13.5l2.5 3 1-1.25L14.73 18H5l3.5-4.5z"></path>\n      </svg>'),file:""})},enumerable:!1,configurable:!0}),a.prototype.initialize=function(e,o){p.prototype.initialize.call(this,e,o);var s=this.get("attributes").src;s&&(0,g.buildBase64UrlFromSvg)((0,x.result)(this,"defaults").src)!==s&&this.set("src",s,{silent:!0})},a.prototype.initToolbar=function(){p.prototype.initToolbar.call(this);var e=this.em;if(e){var o="image-editor";if(e.Commands.has(o)){for(var s=!1,c=this.get("toolbar"),v=0;v<c.length;v++)if("image-editor"===c[v].command){s=!0;break}s||(c.push({attributes:{class:"fa fa-pencil"},command:o}),this.set("toolbar",c))}}},a.prototype.getAttrToHTML=function(){var e=p.prototype.getAttrToHTML.call(this),o=this.getSrcResult();return o&&(e.src=o),e},a.prototype.getSrcResult=function(e){void 0===e&&(e={});var o=this.get(e.fallback?"fallback":"src")||"",s=o;return o&&"<svg"===o.substr(0,4)&&(s=(0,g.buildBase64UrlFromSvg)(o)),s},a.prototype.isDefaultSrc=function(){var e=this.get("src"),o=(0,x.result)(this,"defaults").src;return e===o||e===(0,g.buildBase64UrlFromSvg)(o)},a.prototype.toJSON=function(e){var o=p.prototype.toJSON.call(this,e),s=o.attributes;return s&&o.src===s.src&&delete o.src,o},a.prototype.parseUri=function(e){var o={};if((0,g.hasWin)())(o=document.createElement("a")).href=e;else if(typeof URL<"u")try{o=new URL(e)}catch{}return{hostname:o.hostname||"",pathname:o.pathname||"",protocol:o.protocol||"",search:o.search||"",hash:o.hash||"",port:o.port||"",query:function(s){void 0===s&&(s="");for(var c={},v=s.substring(1).split("&"),P=0;P<v.length;P++){var N=v[P].split("="),H=decodeURIComponent(N[0]);H&&(c[H]=decodeURIComponent(N[1]||""))}return c}(o.search)}},a.isComponent=function(e){return"img"===(0,g.toLowerCase)(e.tagName)},a}(jn);const Pe=me;var an=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),mn=function(){return mn=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},mn.apply(this,arguments)},Jn=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return an(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){var e=p.prototype.defaults;return mn(mn({},e),{type:"map",src:"",void:!1,mapUrl:"https://maps.google.com/maps",tagName:"iframe",mapType:"q",address:"",zoom:"1",attributes:{frameborder:0},toolbar:e.toolbar,traits:[{label:"Address",name:"address",placeholder:"eg. London, UK",changeProp:1},{type:"select",label:"Map type",name:"mapType",changeProp:1,options:[{value:"q",name:"Roadmap"},{value:"w",name:"Satellite"}]},{label:"Zoom",name:"zoom",type:"range",min:"1",max:"20",changeProp:1}]})},enumerable:!1,configurable:!0}),a.prototype.initialize=function(e,o){this.get("src")?this.parseFromSrc():this.updateSrc(),p.prototype.initialize.call(this,e,o),this.listenTo(this,"change:address change:zoom change:mapType",this.updateSrc)},a.prototype.updateSrc=function(){this.set("src",this.getMapUrl())},a.prototype.getMapUrl=function(){var e=this.get("address"),o=this.get("zoom"),s=this.get("mapType");return e=e?"&q="+e:"",o=o?"&z="+o:"",s=s?"&t="+s:"",this.get("mapUrl")+"?"+e+o+s+"&output=embed"},a.prototype.parseFromSrc=function(){var e=this.parseUri(this.get("src")).query;e.q&&this.set("address",e.q),e.z&&this.set("zoom",e.z),e.t&&this.set("mapType",e.t)},a.isComponent=function(e){if("iframe"==(0,g.toLowerCase)(e.tagName)&&/maps\.google\.com/.test(e.src))return{type:"map",src:e.src}},a}(Pe);const ho=Jn;var ds=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),$o=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return ds(a,p),a.prototype.tagName=function(){return"img"},a.prototype.events=function(){return{dblclick:"onActive",click:"initResize",error:"onError",load:"onLoad",dragstart:"noDrag"}},a.prototype.initialize=function(e){p.prototype.initialize.call(this,e),this.listenTo(this.model,"change:src",this.updateSrc),this.classEmpty="".concat(this.ppfx,"plh-image"),this.fetchFile()},a.prototype.fetchFile=function(){if(!this.modelOpt.temporary){var e=this.model,o=this.em,s=e.get("file");if(s&&o)o.Assets.FileUploader()?.uploadFile({dataTransfer:{files:[s]}},function(v){var P=v&&v.data&&v.data[0],N=P&&((0,x.isString)(P)?P:P.src);N&&e.set({src:N})}),e.set("file","")}},a.prototype.updateSrc=function(){var e=this.model;e.addAttributes({src:e.getSrcResult()}),this.updateClasses()},a.prototype.updateClasses=function(){p.prototype.updateClasses.call(this);var e=this,o=e.el,s=e.classEmpty,c=e.model,v=c.getSrcResult()&&!c.isDefaultSrc()?"remove":"add";o.classList[v](s)},a.prototype.onActive=function(e){e?.stopPropagation();var o=this.em,s=this.model,c=o?.Assets;c&&s.get("editable")&&c.open({select:function(v,P){s.set({src:v.getSrc()}),P&&c.close()},target:s,types:["image"],accept:"image/*"})},a.prototype.onError=function(){var e=this.model.getSrcResult({fallback:!0});e&&(this.el.src=e)},a.prototype.onLoad=function(){this.em.trigger("change:canvasOffset")},a.prototype.noDrag=function(e){return e.preventDefault(),!1},a.prototype.render=function(){if(this.renderAttributes(),this.modelOpt.temporary)return this;this.updateSrc();var e=this.$el,o=this.model,s=e.attr("class")||"";return!o.get("src")&&e.attr("class","".concat(s," ").concat(this.classEmpty).trim()),this.postRender(),this},a}(Kn);const fo=$o;var ji=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const qc=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return ji(a,p),a.prototype.tagName=function(){return"div"},a.prototype.events=function(){return{}},a.prototype.initialize=function(e){p.prototype.initialize.call(this,e),this.classEmpty=this.ppfx+"plh-map"},a.prototype.updateSrc=function(){this.getIframe().src=this.model.get("src")},a.prototype.getIframe=function(){if(!this.iframe){var e=document.createElement("iframe");e.src=this.model.get("src"),e.frameBorder="0",e.style.height="100%",e.style.width="100%",e.className=this.ppfx+"no-pointer",this.iframe=e}return this.iframe},a.prototype.render=function(){return p.prototype.render.call(this),this.updateClasses(),this.el.appendChild(this.getIframe()),this},a}(fo);var Gc=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),$a=function(){return $a=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},$a.apply(this,arguments)};const Hl=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Gc(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return $a($a({},p.prototype.defaults),{type:"text",droppable:!1,editable:!0})},enumerable:!1,configurable:!0}),a.prototype.initialize=function(e,o){p.prototype.initialize.call(this,e,o),this.__checkInnerChilds()},a.prototype.__checkInnerChilds=function(){var e=this.em.Components.config.disableTextInnerChilds;if(e){var o=function(s){s.isInstanceOf("textnode")||s.set({locked:!0,layerable:!1})};(0,x.isFunction)(e)?this.forEachChild(function(s){e(s)&&o(s)}):this.forEachChild(o)}},a}(jn);var kp=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Zs=function(){return Zs=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Zs.apply(this,arguments)},Qs=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return kp(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return Zs(Zs({},p.prototype.defaults),{type:"link",tagName:"a",traits:["title","href","target"]})},enumerable:!1,configurable:!0}),a.isComponent=function(e,o){var s;if(void 0===o&&(o={}),"a"===(0,g.toLowerCase)(e.tagName)){var c=o.textTags||[];s={type:"link",editable:!1};var v=e.childNodes;v.length||delete s.editable,(0,x.forEach)(v,function(P){var N=P.tagName;(3==P.nodeType&&""!==P.textContent.trim()||N&&c.indexOf((0,g.toLowerCase)(N))>=0)&&delete s.editable})}return s},a}(Hl);const Wc=Qs;var $c=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Hi=function(){return Hi=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Hi.apply(this,arguments)},Fi=function(p,a,e,o){return new(e||(e=Promise))(function(s,c){function v(H){try{N(o.next(H))}catch(R){c(R)}}function P(H){try{N(o.throw(H))}catch(R){c(R)}}function N(H){var R;H.done?s(H.value):(R=H.value,R instanceof e?R:new e(function(it){it(R)})).then(v,P)}N((o=o.apply(p,a||[])).next())})},Js=function(p,a){var e,o,s,c,v={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function P(N){return function(H){return function(R){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,R[0]&&(v=0)),v;)try{if(e=1,o&&(s=2&R[0]?o.return:R[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,R[1])).done)return s;switch(o=0,s&&(R=[2&R[0],s.value]),R[0]){case 0:case 1:s=R;break;case 4:return v.label++,{value:R[1],done:!1};case 5:v.label++,o=R[1],R=[0];continue;case 7:R=v.ops.pop(),v.trys.pop();continue;default:if(!((s=(s=v.trys).length>0&&s[s.length-1])||6!==R[0]&&2!==R[0])){v=0;continue}if(3===R[0]&&(!s||R[1]>s[0]&&R[1]<s[3])){v.label=R[1];break}if(6===R[0]&&v.label<s[1]){v.label=s[1],s=R;break}if(s&&v.label<s[2]){v.label=s[2],v.ops.push(R);break}s[2]&&v.ops.pop(),v.trys.pop();continue}R=a.call(p,v)}catch(it){R=[6,it],o=0}finally{e=s=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([N,H])}}},Ka=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return $c(a,p),a.prototype.events=function(){return{dblclick:"onActive",input:"onInput"}},a.prototype.initialize=function(e){p.prototype.initialize.call(this,e),(0,x.bindAll)(this,"disableEditing","onDisable");var o=this.model,s=this.em;this.listenTo(o,"focus",this.onActive),this.listenTo(o,"change:content",this.updateContentText),this.listenTo(o,"sync:content",this.syncContent),this.rte=s?.RichTextEditor},a.prototype.updateContentText=function(e,o,s){void 0===s&&(s={}),!s.fromDisable&&this.disableEditing()},a.prototype.canActivate=function(){var e,o=this,s=o.model,c=o.rteEnabled,P=o.em?.getEditing()===s,N=!0,H=!1;if((c||!s.get("editable")||P||(H=s.isChildOf("text")))&&(N=!1,H&&!s.get("textable"))){for(var R=s.parent();R&&!R.isInstanceOf("text");)R=R.parent();R&&R.get("editable")?e=R:N=!0}return{result:N,delegate:e}},a.prototype.onActive=function(e){var o,s;return Fi(this,void 0,void 0,function(){var c,v,P,N,H,R,it,ft,Ct;return Js(this,function(St){switch(St.label){case 0:return v=(c=this).rte,P=c.em,N=this.canActivate(),H=N.result,R=N.delegate,H?(null===(s=e?.stopPropagation)||void 0===s||s.call(e),it=this,[4,this.getContent()]):(R&&(null===(o=e?.stopPropagation)||void 0===o||o.call(e),P.setSelected(R),R.trigger("active",e)),[2]);case 1:if(it.lastContent=St.sent(),!v)return[3,5];St.label=2;case 2:return St.trys.push([2,4,,5]),ft=this,[4,v.enable(this,this.activeRte,{event:e})];case 3:return ft.activeRte=St.sent(),[3,5];case 4:return Ct=St.sent(),P.logError(Ct),[3,5];case 5:return this.toggleEvents(!0),[2]}})})},a.prototype.onDisable=function(){this.disableEditing()},a.prototype.disableEditing=function(e){return void 0===e&&(e={}),Fi(this,void 0,void 0,function(){var o,s,c,v,P,N,H,R;return Js(this,function(it){switch(it.label){case 0:if(s=(o=this).model,c=o.rte,v=o.activeRte,P=o.em,N=s&&s.get("editable"),!c)return[3,8];it.label=1;case 1:return it.trys.push([1,3,,4]),[4,c.disable(this,v)];case 2:return it.sent(),[3,4];case 3:return H=it.sent(),P.logError(H),[3,4];case 4:return(R=N)?[4,this.getContent()]:[3,6];case 5:R=it.sent()!==this.lastContent,it.label=6;case 6:return R?[4,this.syncContent(e)]:[3,8];case 7:it.sent(),this.lastContent="",it.label=8;case 8:return this.toggleEvents(),[2]}})})},a.prototype.getContent=function(){return Fi(this,void 0,void 0,function(){var e,o,s,c;return Js(this,function(v){switch(v.label){case 0:return o=(e=this).rte,s=e.activeRte,c="",o?[4,o.getContent(this,s)]:[3,2];case 1:c=v.sent(),v.label=2;case 2:return[2,c]}})})},a.prototype.syncContent=function(e){return void 0===e&&(e={}),Fi(this,void 0,void 0,function(){var o,s,c,v,P,N;return Js(this,function(H){switch(H.label){case 0:return s=(o=this).model,c=o.rte,o.rteEnabled||e.force?[4,this.getContent()]:[2];case 1:return v=H.sent(),P=s.components(),N=Hi({fromDisable:1},e),s.set("content","",N),c?.customRte&&!c.customRte.parseContent?(P.length&&P.reset(void 0,Hi(Hi({},e),{keepIds:qr(P)})),s.set("content",v,N)):P.resetFromString(v,e),[2]}})})},a.prototype.insertComponent=function(e,o){var s;void 0===o&&(o={});var c=this.model,v=this.el.ownerDocument.getSelection();if(v?.rangeCount){var P=v.getRangeAt(0),N=P.startContainer,H=P.startOffset,R=(0,g.getModel)(N),it=[];if(R&&null!==(s=R.is)&&void 0!==s&&s.call(R,"textnode")){var ft=R.collection;ft.forEach(function(Nt){if(Nt===R){var zt="textnode",Ft=Nt.content;it.push({type:zt,content:Ft.slice(0,H)}),it.push(e),it.push({type:zt,content:Ft.slice(H)})}else it.push(Nt)});var Ct=it.filter(Boolean),St=Ct.indexOf(e);return ft.reset(Ct,o),ft.at(St)}}return c.append(e,o)},a.prototype.onInput=function(){var e=this.em,o="component",s=["".concat(o,":update"),"".concat(o,":input")].join(" ");e&&e.trigger(s,this.model)},a.prototype.disablePropagation=function(e){e.stopPropagation()},a.prototype.toggleEvents=function(e){var o=this,s=o.em,c=o.model,v=o.$el,P={on:g.on,off:g.off},N=e?"on":"off";s.setEditing(!!e&&this),this.rteEnabled=!!e;var H=[this.el.ownerDocument,document];if(P.off(H,"mousedown",this.onDisable),P[N](H,"mousedown",this.onDisable),s[N]("toolbar:run:before",this.onDisable),c&&(c[N]("removed",this.onDisable),c.trigger("rte:".concat(e?"enable":"disable"))),v?.off("mousedown",this.disablePropagation),v&&v[N]("mousedown",this.disablePropagation),this.config.draggableComponents)for(var R=this.el;R;)R.draggable=!e,(R=R.parentNode)&&"BODY"==R.tagName&&(R=0)},a}(Kn);const wo=Ka;var Kc=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const Ya=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Kc(a,p),a.prototype.render=function(){return p.prototype.render.call(this),this.el.addEventListener("click",this.prevDef,!0),this},a}(wo);var Bl=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ta=function(){return ta=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},ta.apply(this,arguments)},Xa="label";const Ul=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Bl(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return ta(ta({},p.prototype.defaults),{type:Xa,tagName:Xa,traits:["id","title","for"]})},enumerable:!1,configurable:!0}),a.isComponent=function(e){return(0,g.toLowerCase)(e.tagName)===Xa},a}(Hl);var Pp=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const Mp=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Pp(a,p),a}(Ya);var Np=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ko=function(){return Ko=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Ko.apply(this,arguments)},si="video",ai="yt",li="vi",Bi="ytnc",Yo=function(p){return p&&"0"!==p},Ui=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Np(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return Ko(Ko({},p.prototype.defaults),{type:si,tagName:si,videoId:"",void:!1,provider:"so",ytUrl:"https://www.youtube.com/embed/",ytncUrl:"https://www.youtube-nocookie.com/embed/",viUrl:"https://player.vimeo.com/video/",loop:!1,poster:"",muted:0,autoplay:!1,controls:!0,color:"",list:"",rel:1,modestbranding:0,sources:[],attributes:{allowfullscreen:"allowfullscreen"}})},enumerable:!1,configurable:!0}),a.prototype.initialize=function(e,o){this.em=o.em,this.get("src")&&this.parseFromSrc(),this.updatePropsFromAttr(),this.updateTraits(),this.on("change:provider",this.updateTraits),this.on("change:videoId change:provider",this.updateSrc),p.prototype.initialize.call(this,e,o)},a.prototype.updatePropsFromAttr=function(){if("so"===this.get("provider")){var e=this.get("attributes"),o=e.controls,s=e.autoplay,c=e.loop,v={};(0,g.isDef)(o)&&(v.controls=!!o),(0,g.isDef)(s)&&(v.autoplay=!!s),(0,g.isDef)(c)&&(v.loop=!!c),(0,g.isEmptyObj)(v)||this.set(v)}},a.prototype.updateTraits=function(){var e,o=this.em,s="iframe";switch(this.get("provider")){case ai:case Bi:e=this.getYoutubeTraits();break;case li:e=this.getVimeoTraits();break;default:s="video",e=this.getSourceTraits()}this.set({tagName:s},{silent:!0}),this.set({traits:e}),o.get("ready")&&o.trigger("component:toggled")},a.prototype.parseFromSrc=function(){var e=this.get("provider"),o=this.parseUri(this.get("src")),s=o.query;switch(e){case ai:case Bi:case li:this.set("videoId",o.pathname.split("/").pop()),s.list&&this.set("list",s.list),Yo(s.autoplay)&&this.set("autoplay",!0),Yo(s.loop)&&this.set("loop",!0),0===parseInt(s.controls)&&this.set("controls",!1),Yo(s.color)&&this.set("color",s.color),"0"===s.rel&&this.set("rel",0),"1"===s.modestbranding&&this.set("modestbranding",1)}},a.prototype.updateSrc=function(){var e="";switch(this.get("provider")){case ai:e=this.getYoutubeSrc();break;case Bi:e=this.getYoutubeNoCookieSrc();break;case li:e=this.getVimeoSrc()}this.set({src:e})},a.prototype.getAttrToHTML=function(){var e=p.prototype.getAttrToHTML.call(this);switch(this.get("provider")){case ai:case Bi:case li:break;default:e.loop=!!this.get("loop"),e.autoplay=!!this.get("autoplay"),e.controls=!!this.get("controls")}return e},a.prototype.getProviderTrait=function(){return{type:"select",label:"Provider",name:"provider",changeProp:!0,options:[{value:"so",name:"HTML5 Source"},{value:ai,name:"Youtube"},{value:Bi,name:"Youtube (no cookie)"},{value:li,name:"Vimeo"}]}},a.prototype.getSourceTraits=function(){return[this.getProviderTrait(),{label:"Source",name:"src",placeholder:"eg. ./media/video.mp4",changeProp:!0},{label:"Poster",name:"poster",placeholder:"eg. ./media/image.jpg"},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait()]},a.prototype.getYoutubeTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. jNQXAC9IVRw",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait(),this.getControlsTrait(),{type:"checkbox",label:"Related",name:"rel",changeProp:!0},{type:"checkbox",label:"Modest",name:"modestbranding",changeProp:!0}]},a.prototype.getVimeoTraits=function(){return[this.getProviderTrait(),{label:"Video ID",name:"videoId",placeholder:"eg. 123456789",changeProp:!0},{label:"Color",name:"color",placeholder:"eg. FF0000",changeProp:!0},this.getAutoplayTrait(),this.getLoopTrait()]},a.prototype.getAutoplayTrait=function(){return{type:"checkbox",label:"Autoplay",name:"autoplay",changeProp:!0}},a.prototype.getLoopTrait=function(){return{type:"checkbox",label:"Loop",name:"loop",changeProp:!0}},a.prototype.getControlsTrait=function(){return{type:"checkbox",label:"Controls",name:"controls",changeProp:!0}},a.prototype.getYoutubeSrc=function(){var e=this.get("videoId"),o=this.get("ytUrl"),s=this.get("list");return o+=e+(e.indexOf("?")<0?"?":""),o+=s?"&list=".concat(s):"",o+=this.get("autoplay")?"&autoplay=1&muted=1":"",o+=this.get("controls")?"":"&controls=0&showinfo=0",o+=this.get("loop")?"&loop=1&playlist=".concat(e):"",(o+=this.get("rel")?"":"&rel=0")+(this.get("modestbranding")?"&modestbranding=1":"")},a.prototype.getYoutubeNoCookieSrc=function(){var e=this.getYoutubeSrc();return e.replace(this.get("ytUrl"),this.get("ytncUrl"))},a.prototype.getVimeoSrc=function(){var e=this.get("viUrl");return e+=this.get("videoId")+"?",e+=this.get("autoplay")?"&autoplay=1&muted=1":"",e+=this.get("loop")?"&loop=1":"",(e+=this.get("controls")?"":"&title=0&portrait=0&badge=0")+(this.get("color")?"&color="+this.get("color"):"")},a.isComponent=function(e){var o=e.tagName,s=e.src,c=/youtube\.com\/embed/.test(s),v=/youtube-nocookie\.com\/embed/.test(s),P=/player\.vimeo\.com\/video/.test(s),N=c||v||P;if((0,g.toLowerCase)(o)==si||"iframe"==(0,g.toLowerCase)(o)&&N){var H={type:"video"};return s&&(H.src=s),N&&(c?H.provider=ai:v?H.provider=Bi:P&&(H.provider=li)),H}},a}(Pe);const Wr=Ui;var ci=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ui=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return ci(a,p),a.prototype.tagName=function(){return"div"},a.prototype.events=function(){return{}},a.prototype.initialize=function(){Kn.prototype.initialize.apply(this,arguments);var e=this.model,s=["loop","autoplay","controls","color","rel","modestbranding","poster"].map(function(c){return"change:".concat(c)}).join(" ");this.listenTo(e,"change:provider",this.updateProvider),this.listenTo(e,"change:src",this.updateSrc),this.listenTo(e,s,this.updateVideo)},a.prototype.updateProvider=function(){var e=this.model.get("provider");this.el.innerHTML="",this.el.appendChild(this.renderByProvider(e))},a.prototype.updateSrc=function(){var e=this.model,o=this.videoEl;if(o){var s=e.get("provider"),c=e.get("src");switch(s){case"yt":c=e.getYoutubeSrc();break;case"ytnc":c=e.getYoutubeNoCookieSrc();break;case"vi":c=e.getVimeoSrc()}o.src=c}},a.prototype.updateVideo=function(){var e=this.model,o=this.videoEl;switch(e.get("provider")){case"yt":case"ytnc":case"vi":e.trigger("change:videoId");break;default:if(o){var s=o;s.loop=e.get("loop"),s.autoplay=e.get("autoplay"),s.controls=e.get("controls"),s.poster=e.get("poster")}}},a.prototype.renderByProvider=function(e){var o;switch(e){case"yt":o=this.renderYoutube();break;case"ytnc":o=this.renderYoutubeNoCookie();break;case"vi":o=this.renderVimeo();break;default:o=this.renderSource()}return this.videoEl=o,o},a.prototype.renderSource=function(){var e=document.createElement("video");return e.src=this.model.get("src"),this.initVideoEl(e),e},a.prototype.renderYoutube=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},a.prototype.renderYoutubeNoCookie=function(){var e=document.createElement("iframe");return e.src=this.model.getYoutubeNoCookieSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},a.prototype.renderVimeo=function(){var e=document.createElement("iframe");return e.src=this.model.getVimeoSrc(),e.frameBorder="0",e.setAttribute("allowfullscreen","true"),this.initVideoEl(e),e},a.prototype.initVideoEl=function(e){e.className=this.ppfx+"no-pointer",e.style.height="100%",e.style.width="100%"},a.prototype.render=function(){Kn.prototype.render.apply(this),this.updateClasses();var e=this.model.get("provider");return this.el.appendChild(this.renderByProvider(e)),this.updateVideo(),this},a}(fo);const Qa=ui;var Dp=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ea=function(){return ea=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},ea.apply(this,arguments)},pi="script";const Yc=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Dp(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return ea(ea({},p.prototype.defaults),{type:pi,tagName:pi,droppable:!1,draggable:!1,layerable:!1})},enumerable:!1,configurable:!0}),a.isComponent=function(e){if((0,g.toLowerCase)(e.tagName)==pi){var o={type:pi};return e.src&&(o.src=e.src,o.onload=e.onload),o}},a}(jn);var Vl=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ja=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Vl(a,p),a.prototype.tagName=function(){return"script"},a.prototype.events=function(){return{}},a.prototype.render=function(){var e=this.model,o=this.em,s=e.get("src"),v=o&&o.get("scriptCount")||0,P="";if(s){var N=e.get("onload"),H="script".concat(v),R="script".concat(v+1),it="".concat(H,"Start"),ft="".concat(R,"Start");P="\n        var ".concat(H," = document.createElement('script');\n        ").concat(H,".onload = function() {\n          ").concat(N?"".concat(N,"();\n"):"","\n          typeof ").concat(ft," == 'function' && ").concat(ft,"();\n        };\n        ").concat(H,".src = '").concat(s,"';\n        function ").concat(it,"() { document.body.appendChild(").concat(H,"); };\n        ").concat(v?"":"".concat(it,"();"),"\n      "),o&&o.set("scriptCount",v+1)}else P=e.__innerHTML();return this.el.innerHTML=P,this.postRender(),this},a}(fo);const Lp=Ja;var zl=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),na=function(){return na=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},na.apply(this,arguments)};const tl=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return zl(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return na(na({},p.prototype.defaults),{type:"svg",tagName:"svg",highlightable:!1,resizable:{ratioDefault:!0}})},enumerable:!1,configurable:!0}),a.prototype.getName=function(){var e=this.get("tagName"),o=this.get("custom-name");return e=e.charAt(0).toUpperCase()+e.slice(1),o||e},a.isComponent=function(e){return"svg"===(0,g.toLowerCase)(e.tagName)},a}(jn);var hs=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Vi=function(){return Vi=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Vi.apply(this,arguments)};const Xc=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return hs(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return Vi(Vi({},p.prototype.defaults),{selectable:!1,hoverable:!1,layerable:!1})},enumerable:!1,configurable:!0}),a.isComponent=function(e,o){return void 0===o&&(o={}),!!o.inSvg},a}(tl);var el=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ip=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return el(a,p),a.prototype._createElement=function(e){return document.createElementNS("http://www.w3.org/2000/svg",e)},a}(Kn);const Zc=Ip;var Rp=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),fs=function(){return fs=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},fs.apply(this,arguments)};const nl=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Rp(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return fs(fs({},p.prototype.defaults),{tagName:"",droppable:!1,layerable:!1,selectable:!1,editable:!0})},enumerable:!1,configurable:!0}),a.prototype.toHTML=function(){var e=this.content;return this.parent()?.is("script")?e:this.__escapeContent(e)},a.prototype.__escapeContent=function(e){return(0,g.escapeNodeContent)(e)},a.isComponent=function(e){var o;if(3===e.nodeType)return{type:"textnode",content:null!==(o=e.textContent)&&void 0!==o?o:""}},a}(jn);var gs=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),zi=function(){return zi=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},zi.apply(this,arguments)};const jp=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return gs(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return zi({},p.prototype.defaults)},enumerable:!1,configurable:!0}),a.prototype.toHTML=function(){return"\x3c!--".concat(this.content,"--\x3e")},a.isComponent=function(e){var o;if(8==e.nodeType)return{tagName:"NULL",type:"comment",content:null!==(o=e.textContent)&&void 0!==o?o:""}},a}(nl);var rl=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const ql=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return rl(a,p),a.prototype._setAttributes=function(){},a.prototype.renderAttributes=function(){},a.prototype.updateStatus=function(){},a.prototype.updateClasses=function(){},a.prototype.setAttribute=function(){},a.prototype.updateAttributes=function(){},a.prototype.initClasses=function(){},a.prototype.initComponents=function(){},a.prototype.delegateEvents=function(){return this},a.prototype._createElement=function(){return document.createTextNode("")},a.prototype.render=function(){var e=this.model,o=this.el;return e.opt.temporary||(o.textContent=e.content),this},a}(Kn);var oa=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const Qc=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return oa(a,p),a.prototype._createElement=function(){return document.createComment(this.model.content)},a}(ql);var qi=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),di=function(){return di=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},di.apply(this,arguments)};const Gi=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return qi(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return di(di({},p.prototype.defaults),{tagName:"body",removable:!1,copyable:!1,draggable:!1,components:[],traits:[],stylable:["background","background-color","background-image","background-repeat","background-attachment","background-position","background-size"]})},enumerable:!1,configurable:!0}),a.prototype.__postAdd=function(){var e,o=null===(e=this.em)||void 0===e?void 0:e.UndoManager;return!this.__hasUm&&o?.add(this),p.prototype.__postAdd.call(this)},a.prototype.__postRemove=function(){var e;return(null===(e=this.em)||void 0===e?void 0:e.UndoManager)?.remove(this),p.prototype.__postRemove.call(this)},a.isComponent=function(){return!1},a}(jn);var ia=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Xo=function(){return Xo=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Xo.apply(this,arguments)},ol="iframe";const Jc=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return ia(a,p),Object.defineProperty(a.prototype,"defaults",{get:function(){return Xo(Xo({},p.prototype.defaults),{type:ol,tagName:ol,droppable:!1,resizable:!0,traits:["id","title","src"],attributes:{frameborder:"0"}})},enumerable:!1,configurable:!0}),a.isComponent=function(e){return(0,g.toLowerCase)(e.tagName)===ol},a}(jn);var tu=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const Hp=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return tu(a,p),a.prototype.tagName=function(){return"div"},a.prototype.initialize=function(e){p.prototype.initialize.call(this,e),this.listenTo(this.model,"change:attributes:src",this.updateSrc)},a.prototype.updateSrc=function(){var e=(0,Qe.sE)(this.el,"iframe")[0];e&&(0,Qe.FW)(e,{src:this.__getSrc()})},a.prototype.render=function(){p.prototype.render.call(this);var e=(0,Qe.ut)("iframe",{class:"".concat(this.ppfx,"no-pointer"),style:"width: 100%; height: 100%; border: none",src:this.__getSrc()});return this.el.appendChild(e),this},a.prototype.__getSrc=function(){return this.model.getAttributes().src||""},a}(Kn);var Wi=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Er=function(){return Er=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Er.apply(this,arguments)},Bp=function(p){function a(e){var o=p.call(this,e,"DomComponents",new Uo(void 0,{em:e}))||this;for(var s in o.componentTypes=[{id:"cell",model:Gs,view:Fa},{id:"row",model:ls,view:cs},{id:"table",model:za,view:qa},{id:"thead",model:Ga,view:$s},{id:"tbody",model:Ii,view:Ys},{id:"tfoot",model:pt,view:Rt},{id:"map",model:ho,view:qc},{id:"link",model:Wc,view:Ya},{id:"label",model:Ul,view:Mp},{id:"video",model:Wr,view:Qa},{id:"image",model:Pe,view:fo},{id:"script",model:Yc,view:Lp},{id:"svg-in",model:Xc,view:Zc},{id:"svg",model:tl,view:Zc},{id:"iframe",model:Jc,view:Hp},{id:"comment",model:jp,view:Qc},{id:"textnode",model:nl,view:ql},{id:"text",model:Hl,view:wo},{id:"wrapper",model:Gi,view:ja},{id:"default",model:jn,view:Kn}],o.componentsById={},o.Component=jn,o.Components=Uo,o.ComponentsView=Di,o.storageKey="components",e&&(o.config.components=e.config.components||o.config.components),It)s in o.config||(o.config[s]=It[s]);var c=o.config.pStylePrefix;if(c&&(o.config.stylePrefix=c+o.config.stylePrefix),e){e.get("Parser").compTypes=o.componentTypes,e.on("change:componentHovered",o.componentHovered,o);var v=e.get("selected");e.listenTo(v,"add",function(P,N,H){return o.selectAdd(v.getComponent(P),H)}),e.listenTo(v,"remove",function(P,N,H){return o.selectRemove(v.getComponent(P),H)})}return o}return Wi(a,p),a.prototype.load=function(e){var o=this;return this.loadProjectData(e,{onResult:function(s){var c=o.getWrapper();if(c||(o.em.Pages.add({},{select:!0}),c=o.getWrapper()),(0,x.isArray)(s))s.length&&c.components(s);else{var v=s.components,P=void 0===v?[]:v,N=function(p,a){var e={};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&a.indexOf(o)<0&&(e[o]=p[o]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(p);s<o.length;s++)a.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(p,o[s])&&(e[o[s]]=p[o[s]])}return e}(s,["components"]);c.set(N),c.components(P)}}})},a.prototype.store=function(){return{}},a.prototype.getComponent=function(){var o=this.em.Pages.getSelected()?.getMainFrame();return o?.getComponent()},a.prototype.getWrapper=function(){return this.getComponent()},a.prototype.getComponents=function(){return this.getWrapper()?.components()},a.prototype.addComponent=function(e,o){return void 0===o&&(o={}),this.getComponents().add(e,o)},a.prototype.render=function(){var e;return null===(e=this.componentView)||void 0===e?void 0:e.render().el},a.prototype.clear=function(e){return void 0===e&&(e={}),this.getComponents()?.filter(Boolean).forEach(function(s){return s.remove(e)}),this},a.prototype.setComponents=function(e,o){void 0===o&&(o={}),this.clear(o).addComponent(e,o)},a.prototype.addType=function(e,o){var s=this.em,c=o.model,v=void 0===c?{}:c,P=o.view,N=void 0===P?{}:P,H=o.isComponent,R=o.extend,it=o.extendView,ft=o.extendFn,Ct=void 0===ft?[]:ft,St=o.extendFnView,Nt=void 0===St?[]:St,zt=this.getType(e),Ft=this.getType(R),pe=this.getType(it),ve=Ft||zt||this.getType("default"),De=ve.model,je=pe?pe.view:ve.view,nn=function(Nn,wr,Zr){return Nn.reduce(function(Sr,oo){var Lr=wr[oo],Do=Zr.prototype[oo];return Lr&&Do&&(Sr[oo]=function(){for(var ei=[],Oa=0;Oa<arguments.length;Oa++)ei[Oa]=arguments[Oa];Do.bind(this).apply(void 0,ei),Lr.bind(this).apply(void 0,ei)}),Sr},{})};if("object"==typeof v){var cn={defaults:v.defaults};delete v.defaults,o.model=De.extend(Er(Er({},v),nn(Ct,v,De)),{isComponent:!zt||Ft||H?H||function(){return 0}:De.isComponent}),Object.defineProperty(o.model.prototype,"defaults",{get:function(){return Er(Er({},(0,x.result)(De.prototype,"defaults")||{}),(0,x.result)(cn,"defaults")||{})}})}"object"==typeof N&&(o.view=je.extend(Er(Er({},N),nn(Nt,N,je)))),zt?(zt.model=o.model,zt.view=o.view):(o.id=e,this.componentTypes.unshift(o));var wn="component:type:".concat(zt?"update":"add");return s?.trigger(wn,zt||o),this},a.prototype.getType=function(e){for(var o=this.componentTypes,s=0;s<o.length;s++)if(o[s].id==e)return o[s]},a.prototype.removeType=function(e){var o=this.componentTypes,s=this.getType(e);if(s){var c=o.indexOf(s);return o.splice(c,1),s}},a.prototype.getTypes=function(){return this.componentTypes},a.prototype.selectAdd=function(e,o){var s=this;void 0===o&&(o={}),e&&(e.set({status:"selected"}),["component:selected","component:toggled"].forEach(function(c){return s.em.trigger(c,e,o)}))},a.prototype.selectRemove=function(e,o){var s=this;void 0===o&&(o={}),e&&(this.em,e.set({status:"",state:""}),["component:deselected","component:toggled"].forEach(function(c){return s.em.trigger(c,e,o)}))},a.prototype.componentHovered=function(){var e=this.em,o=e.get("componentHovered"),s=e.previous("componentHovered"),c="hovered";s&&s.get("status")==c&&s.set({status:"",state:""}),o&&(0,x.isEmpty)(o.get("status"))&&o.set("status",c)},a.prototype.getShallowWrapper=function(){var e=this.shallow,o=this.em;if(!e&&o){var s=o.shallow;if(!s)return;var c=s.Components;if(c.componentTypes=this.componentTypes,e=c.getWrapper()){var v=[Pr,oi].join(" ");e.on(v,(0,x.debounce)(function(){return e?.components("")},100))}this.shallow=e}return e},a.prototype.canMove=function(e,o,s){var c=s||0===s?s:null,v={result:!1,reason:0,target:e,source:null};if(!o||!e)return v;var P=o.toHTML?o:null;P||(P=this.getShallowWrapper()?.append(o)[0]||null);if(v.source=P,!P)return v;var H=P.get("draggable");if((0,x.isFunction)(H))H=!!H(P,e,c);else{var R=e.getEl();H=(0,x.isArray)(H)?H.join(","):H,H=(0,x.isString)(H)?R?.matches(H):H}if(!H)return Er(Er({},v),{reason:1});var it=e.get("droppable");(0,x.isFunction)(it)?it=!!it(P,e,c):!1===it&&e.isInstanceOf("text")&&P.get("textable")?it=!0:(R=P.getEl(),it=(0,x.isArray)(it)?it.join(","):it,it=(0,x.isString)(it)?R?.matches(it):it);var ft=[e].concat(e.parents()).indexOf(P)>-1;return Er(Er({},v),!it||ft?{reason:2}:{result:!0})},a.prototype.allById=function(){return this.componentsById},a.prototype.getById=function(e){return this.componentsById[e]||null},a.prototype.destroy=function(){var e,o=this.allById();Object.keys(o).forEach(function(s){return o[s]&&o[s].remove()}),null===(e=this.componentView)||void 0===e||e.remove(),[this.em,this.componentsById,this.componentView].forEach(function(s){return{}})},a}(G);const Up=Bp,Vp={stylePrefix:"css-",rules:[]};var zp=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),qp=Number.MAX_VALUE,to=function(p){function a(){var e=p.call(this)||this;return(0,x.bindAll)(e,"sortRules"),e.compCls=[],e.ids=[],e}return zp(a,p),a.prototype.buildFromModel=function(e,o){var s=this;void 0===o&&(o={});var c="",v=this.em,P=v&&v.getConfig().avoidInlineStyle,N=e.styleToString(),H=e.classes;return this.ids.push("#".concat(e.getId())),H.forEach(function(R){return s.compCls.push(R.getFullName())}),!P&&N&&(c="#".concat(e.getId(),"{").concat(N,"}")),e.components().forEach(function(R){return c+=s.buildFromModel(R,o)}),c},a.prototype.build=function(e,o){var s=this;void 0===o&&(o={});var c=o.json,v=o.em,P=o.cssc||v?.Css;this.em=v,this.compCls=[],this.ids=[],this.model=e;var N=[],H=e?this.buildFromModel(e,o):"",R=(0,x.isUndefined)(o.clearStyles)&&v?v.getConfig().clearStyles:o.clearStyles;if(P){var it=o.rules||P.getAll(),ft={},Ct=[];o.onlyMatched&&e&&(0,g.hasWin)()&&(it=this.matchedRules(e,it)),it.forEach(function(St){var Nt=St.getAtRule();if(Nt){var zt=ft[Nt];zt?zt.push(St):ft[Nt]=[St]}else{var Ft=s.buildFromRule(St,Ct,o);c?N.push(Ft):H+=Ft}}),this.sortMediaObject(ft).forEach(function(St){var Nt="",zt=St.key;St.value.forEach(function(Ft){var pe=s.buildFromRule(Ft,Ct,o);Ft.get("singleAtRule")?H+="".concat(zt,"{").concat(pe,"}"):Nt+=pe,c&&N.push(pe)}),Nt&&(H+="".concat(zt,"{").concat(Nt,"}"))}),v&&R&&it.remove&&it.remove(Ct)}return c?N.filter(function(St){return St}):H},a.prototype.buildFromRule=function(e,o,s){var c,v=this;void 0===s&&(s={});var P,N="",H=this.model,R=e.selectorsToString({skipAdd:1}),it=e.get("selectorsAdd"),ft=e.get("singleAtRule");if(null===(c=e.get("selectors"))||void 0===c||c.forEach(function(St){var Nt=St.getFullName();(v.compCls.indexOf(Nt)>=0||v.ids.indexOf(Nt)>=0||s.keepUnusedStyles)&&(P=1)}),R&&P||it||ft||!H){var Ct=e.getDeclaration({body:1});Ct&&(s.json?N=e:N+=Ct)}else o.push(e);return N},a.prototype.matchedRules=function(e,o){var s=this,c=e.getEl(),v=[];return o.forEach(function(P){try{P.selectorsToString().split(",").some(function(N){return c?.matches(s.__cleanSelector(N))})&&v.push(P)}catch{}}),e.components().forEach(function(P){v=v.concat(s.matchedRules(P,o))}),v=v.filter(function(P,N){return v.indexOf(P)===N})},a.prototype.getQueryLength=function(e){var o=/(-?\d*\.?\d+)\w{0,}/.exec(e);return o?parseFloat(o[1]):qp},a.prototype.sortMediaObject=function(e){var o=this;void 0===e&&(e={});var s=[];return(0,x.each)(e,function(c,v){return s.push({key:v,value:c})}),s.sort(function(c,v){var P=[c.key,v.key].every(function(R){return-1!==R.indexOf("min-width")}),N=P?c.key:v.key,H=P?v.key:c.key;return o.getQueryLength(N)-o.getQueryLength(H)})},a.prototype.sortRules=function(e,o){var s=function(N){return N.get("mediaText")||""},c=[s(e),s(o)].every(function(N){return-1!==N.indexOf("min-width")}),v=s(c?e:o),P=s(c?o:e);return this.getQueryLength(v)-this.getQueryLength(P)},a.prototype.__cleanSelector=function(e){return e.split(" ").map(function(o){return o.split(":")[0]}).join(" ")},a}(T.Hn);const _r=to;var Ur=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ir=function(){return ir=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},ir.apply(this,arguments)},Gl=((0,g.hasWin)()?window:{}).CSS,il=function(p){function a(e,o){void 0===o&&(o={});var s=p.call(this,e)||this;return s.config=e||{},s.opt=o,s.em=o.em,s.ensureSelectors(null,null,{}),s.on("change",s.__onChange),s}return Ur(a,p),a.prototype.defaults=function(){return{selectors:[],selectorsAdd:"",style:{},mediaText:"",state:"",stylable:!0,atRuleType:"",singleAtRule:!1,important:!1,group:"",shallow:!1,_undo:!0}},a.prototype.__onChange=function(e,o){var s=this.em,c=this.changedAttributes();c&&!(0,g.isEmptyObj)(c)&&s?.changesUp(o)},a.prototype.clone=function(){var e=ir({},this.opt),o=ir({},this.attributes);return o.selectors=this.get("selectors").map(function(s){return s.clone()}),new this.constructor(o,e)},a.prototype.ensureSelectors=function(e,o,s){var v=this.em?.get("SelectorManager"),P=[this,"change:selectors",this.ensureSelectors],N=this.getSelectors();if(this.stopListening.apply(this,P),N.models&&(N=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))}([],N.models,!0)),N=(0,x.isString)(N)?[N]:N,Array.isArray(N)){var H=N.filter(function(R){return R}).map(function(R){return v?v.add(R):R});N=new So(H)}this.set("selectors",N,s),this.listenTo.apply(this,P)},a.prototype.getAtRule=function(){var e=this.get("atRuleType"),o=this.get("mediaText"),s=e?"@".concat(e):o?"@media":"";return s+(o&&s?" ".concat(o):"")},a.prototype.selectorsToString=function(e){void 0===e&&(e={});var o=[],s=this.get("state"),c=this.get("selectorsAdd"),v={escape:function(H){return Gl&&Gl.escape?Gl.escape(H):H}},P=this.get("selectors").getFullString(0,v),N=s&&!e.skipState?":".concat(s):"";return P&&o.push("".concat(P).concat(N)),c&&!e.skipAdd&&o.push(c),o.join(", ")},a.prototype.getDeclaration=function(e){void 0===e&&(e={});var o="",s=this.attributes.important,c=this.selectorsToString(e),v=this.styleToString(ir({important:s},e)),P=this.get("singleAtRule");return(c||P)&&(v||e.allowEmpty)&&(o=P?v:"".concat(c,"{").concat(v,"}")),o},a.prototype.getDevice=function(){var e=this.em,o=this.attributes,s=o.atRuleType,c=o.mediaText,v=e?.get("DeviceManager").getDevices()||[],P=v.filter(function(N){return""===N.getWidthMedia()})[0];return"media"===s&&c?v.filter(function(N){return N.getWidthMedia()===((H=/(-?\d*\.?\d+)\w{0,}/.exec(c))?H[0]:"");var H})[0]||null:P||null},a.prototype.getState=function(){var e=this.em,o=this.get("state");return(e?.get("SelectorManager").getStates()||[]).filter(function(s){return s.getName()===o})[0]||null},a.prototype.getComponent=function(){var e,o=this.getSelectors(),s=1==o.length&&o.at(0),c=s&&s.isId()&&s.get("name");return c&&(null===(e=this.em)||void 0===e?void 0:e.get("DomComponents").getById(c))||null},a.prototype.toCSS=function(e){void 0===e&&(e={});var o="",s=this.getAtRule(),c=this.getDeclaration(e);return(c||e.allowEmpty)&&(o=c),s&&o&&(o="".concat(s,"{").concat(o,"}")),o},a.prototype.toJSON=function(){for(var e,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];var c=T.Hn.prototype.toJSON.apply(this,o);if(null!==(e=this.em)&&void 0!==e&&e.getConfig().avoidDefaults){var v=this.defaults();(0,x.forEach)(v,function(P,N){c[N]===P&&delete c[N]}),delete c.style.__p,(0,x.isEmpty)(c.selectors)&&delete c.selectors,(0,x.isEmpty)(c.style)&&delete c.style}return c},a.prototype.compare=function(e,o,s,c){var v;void 0===c&&(c={});var P=o||"",N=s||"",H=c.selectorsAdd||"",R=c.atRuleType||"";N&&!R&&(R="media");var it=((0,x.isArray)(e)||e.models?e.models||e:[e]).map(function(Nt){return Nt.getFullName()}),ft=null===(v=this.get("selectors"))||void 0===v?void 0:v.map(function(Nt){return Nt.getFullName()}),Ct=it.slice().sort(),St=ft.slice().sort();return!(it.length!==ft.length||!Ct.every(function(Nt,zt){return Nt===St[zt]}))&&this.get("state")===P&&this.get("mediaText")===N&&this.get("selectorsAdd")===H&&this.get("atRuleType")===R},a}(os);const eu=il;var Gp=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),nu=function(p){function a(e,o){var s=p.call(this,e)||this;return s.editor=o?.em,setTimeout(function(){s.on("remove",s.onRemove),s.on("add",s.onAdd)}),s}return Gp(a,p),a.prototype.toJSON=function(e){return T.FE.prototype.toJSON.call(this,e).filter(function(o){return o.style&&!o.shallow})},a.prototype.onAdd=function(e,o,s){e.ensureSelectors(e,o,s)},a.prototype.onRemove=function(e){var o=this.editor;o.stopListening(e),o.UndoManager.remove(e)},a.prototype.add=function(e,o){return void 0===o&&(o={}),"string"==typeof e&&(e=this.editor.get("Parser").parseCss(e)),o.em=this.editor,T.FE.prototype.add.apply(this,[e,o])},a}(T.FE);const Wl=nu;nu.prototype.model=eu;var ru=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Zo=function(){return Zo=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Zo.apply(this,arguments)},$l=function(p){function a(e){var o=p.call(this,e,"CssComposer",null,{},Vp)||this;o.Selectors=So,o.storageKey="styles";var s=o.config,c=s.pStylePrefix;return c&&(s.stylePrefix=c+s.stylePrefix),s.rules=o.em.config.style||s.rules||"",o.rules=new Wl([],s),o}return ru(a,p),a.prototype.onLoad=function(){this.rules.add(this.config.rules,{silent:!0})},a.prototype.postLoad=function(){var e,o=null===(e=this.em)||void 0===e?void 0:e.get("UndoManager");o&&o.add(this.getAll())},a.prototype.store=function(){return this.getProjectData()},a.prototype.load=function(e){return this.loadProjectData(e,{all:this.rules})},a.prototype.add=function(e,o,s,c,v){void 0===c&&(c={}),void 0===v&&(v={});var P=o||"",N=s||"",H=Zo({},c),R=this.get(e,P,N,H);return R&&R.config&&!R.config.singleAtRule||(H.state=P,H.mediaText=N,H.selectors=[],N&&!H.atRuleType&&(H.atRuleType="media"),(R=new eu(H,this.config)).get("selectors").add(e,v),this.rules.add(R,v)),R},a.prototype.get=function(e,o,s,c){var v=e;if((0,x.isString)(e)){var P=this.em.Selectors,N=e.split(",")[0].trim(),H=this.em.Parser.parserCss.checkNode({selectors:N})[0];v=P.get(H.selectors)}return this.rules.find(function(R){return R.compare(v,o,s,c)})||null},a.prototype.getAll=function(){return this.rules},a.prototype.addCollection=function(e,o,s){void 0===o&&(o={}),void 0===s&&(s={});var c=this.em,v=[];(0,x.isString)(e)&&(e=c.Parser.parseCss(e));for(var P=e instanceof Array?e:[e],N=0,H=P.length;N<H;N++){var R=P[N]||{};if(R.selectors){var it=c?.Selectors;it||console.warn("Selector Manager not found");for(var ft=R.selectors,Ct=ft instanceof Array?ft:[ft],St=[],Nt=0,zt=Ct.length;Nt<zt;Nt++){var Ft=it.add(Ct[Nt]);St.push(Ft)}var pe=this.get(St,R.state,R.mediaText,R),ve=this.add(St,R.state,R.mediaText,R,o),De=!pe||!o.avoidUpdateStyle,je=R.style||{};if((0,g.isObject)(s)&&ve.set(s,o),De){var nn=o.extend?Zo(Zo({},ve.get("style")),je):je;ve.set("style",nn,o)}v.push(ve)}}return v},a.prototype.addRules=function(e){return this.addCollection(e)},a.prototype.setRule=function(e,o,s){void 0===o&&(o={}),void 0===s&&(s={});var c=s.atRuleType,v=s.atRuleParams,P=this.em.Parser.parserCss.checkNode({selectors:e,style:o})[0],N=P.state,H=P.selectorsAdd,R=this.em.Selectors.add(P.selectors),it=this.add(R,N,v,{selectorsAdd:H,atRule:c});return s.addStyles?it.addStyle(o,s):it.setStyle(o,s),it},a.prototype.getRule=function(e,o){void 0===o&&(o={});var s=this.em,c=s.Selectors,v=s.Parser.parserCss.checkNode({selectors:e})[0],P=c.get(v.selectors),N=v.state,H=v.selectorsAdd,R=o.atRuleType,it=o.atRuleParams;return P?this.get(P,N,it,{selectorsAdd:H,atRuleType:R}):void 0},a.prototype.getRules=function(e){var o=this.getAll();if(!e)return function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))}([],o.models,!0);var s={sort:!0},c=(0,x.isString)(e)?e.split(",").map(function(v){return v.trim()}):e;return o.filter(function(v){return c.indexOf(v.getSelectors().getFullString(null,s))>=0})},a.prototype.setIdRule=function(e,o,s){void 0===o&&(o={}),void 0===s&&(s={});var c=s.addOpts,v=void 0===c?{}:c,P=s.mediaText,N=s.state||"",H=(0,x.isUndefined)(P)?this.em.getCurrentMedia():P,R=this.em.Selectors.add({name:e,type:yr.TYPE_ID},v),it=this.add(R,N,H,{},v);return it.setStyle(o,Zo(Zo({},s),v)),it},a.prototype.getIdRule=function(e,o){void 0===o&&(o={});var s=o.mediaText,c=o.state||"",v=(0,x.isUndefined)(s)?this.em.getCurrentMedia():s,P=this.em.Selectors.get(e,yr.TYPE_ID);return P&&this.get(P,c,v)},a.prototype.setClassRule=function(e,o,s){void 0===o&&(o={}),void 0===s&&(s={});var c=s.state||"",v=s.mediaText||this.em.getCurrentMedia(),P=this.em.Selectors.add({name:e,type:yr.TYPE_CLASS}),N=this.add(P,c,v);return N.setStyle(o,s),N},a.prototype.getClassRule=function(e,o){void 0===o&&(o={});var s=o.state||"",c=o.mediaText||this.em.getCurrentMedia(),v=this.em.Selectors.get(e,yr.TYPE_CLASS);return v&&this.get(v,s,c)},a.prototype.remove=function(e,o){var s=(0,x.isString)(e)?this.getRules(e):e,c=this.getAll().remove(s,o);return(0,x.isArray)(c)?c:[c]},a.prototype.clear=function(e){return void 0===e&&(e={}),this.getAll().reset([],e),this},a.prototype.getComponentRules=function(e,o){void 0===o&&(o={});var s=o.state,c=o.mediaText;o.current&&(s=this.em.get("state")||"",c=this.em.getCurrentMedia());var v=e.getId();return this.getAll().filter(function(P){return!(!(0,x.isUndefined)(s)&&P.get("state")!==s||!(0,x.isUndefined)(c)&&P.get("mediaText")!==c||P.getSelectorsString()!=="#".concat(v))})},a.prototype.render=function(){var e;return null===(e=this.rulesView)||void 0===e||e.remove(),this.rulesView=new Ar({collection:this.rules,config:this.config}),this.rulesView.render().el},a.prototype.destroy=function(){var e;this.rules.reset(),this.rules.stopListening(),null===(e=this.rulesView)||void 0===e||e.remove()},a}(G);const Kl=$l,ou={appendTo:"",blocks:[],appendOnClick:!1,custom:!1};var iu=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const sl=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return iu(a,p),a.prototype.defaults=function(){return{label:"",content:"",media:"",category:"",activate:!1,select:void 0,resetId:!1,disable:!1,onClick:void 0,attributes:{}}},a.prototype.getId=function(){return this.id},a.prototype.getLabel=function(){return this.get("label")},a.prototype.getMedia=function(){return this.get("media")},a.prototype.getContent=function(){return this.get("content")},a.prototype.getCategoryLabel=function(){var e=this.get("category");return(0,x.isFunction)(e?.get)?e.get("label"):e?.label?e?.label:e},a}(T.Hn);var su=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ms=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return su(a,p),a}(T.FE);const al=ms;ms.prototype.model=sl;var ll=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const jo=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return ll(a,p),a.prototype.defaults=function(){return{id:"",label:"",open:!0,attributes:{}}},a}(T.Hn);var au=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),lu=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return au(a,p),a}(T.FE);const Yl=lu;lu.prototype.model=jo;var go=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Mn=function(p){function a(e,o){void 0===o&&(o={});var s=p.call(this,e)||this,c=s.model;return s.em=o.em,s.config=o,s.endDrag=s.endDrag.bind(s),s.ppfx=o.pStylePrefix||"",s.listenTo(c,"destroy remove",s.remove),s.listenTo(c,"change",s.render),s}return go(a,p),a.prototype.events=function(){return{click:"handleClick",mousedown:"startDrag",dragstart:"handleDragStart",drag:"handleDrag",dragend:"handleDragEnd"}},a.prototype.__getModule=function(){return this.em.Blocks},a.prototype.handleClick=function(e){var o=this,s=o.config,c=o.model,v=o.em,P=c.get("onClick")||s.appendOnClick;if(v.trigger("block:click",c,e),P){if((0,x.isFunction)(P))return P(c,v?.getEditor(),{event:e});var N,H,R=s.getSorter(),it=c.get("content"),ft=v.getSelected();if(R.setDropContent(it),ft)if(R.validTarget(ft.getEl(),it).valid)N=ft;else{var Ct=ft.parent();Ct&&R.validTarget(Ct.getEl(),it).valid&&(N=Ct,H=Ct.components().indexOf(ft)+1)}if(!N){var St=v.getWrapper();R.validTarget(St.getEl(),it).valid&&(N=St)}var Nt=N&&N.append(it,{at:H})[0];Nt&&v.setSelected(Nt,{scroll:1})}},a.prototype.startDrag=function(e){var o=this,s=o.config,c=o.em,v=o.model,P=v.get("disable");if(0===e.button&&s.getSorter&&!this.el.draggable&&!P){c.refreshCanvas();var N=s.getSorter();N.__currentBlock=v,N.setDragHelper(this.el,e),N.setDropContent(this.model.get("content")),N.startSort(this.el),(0,g.on)(document,"mouseup",this.endDrag)}},a.prototype.handleDragStart=function(e){this.__getModule().__startDrag(this.model,e)},a.prototype.handleDrag=function(e){this.__getModule().__drag(e)},a.prototype.handleDragEnd=function(){this.__getModule().__endDrag()},a.prototype.endDrag=function(){(0,g.off)(document,"mouseup",this.endDrag);var e=this.config.getSorter();e.moved=0,e.endMove()},a.prototype.render=function(){var e,o=this,s=o.em,c=o.el,v=o.$el,P=o.ppfx,N=o.model,H=N.get("disable"),R=N.get("attributes")||{},it=R.class||"",ft="".concat(P,"block"),Ct=s&&s.t("blockManager.labels.".concat(N.id))||N.get("label"),St=N.get("render"),Nt=N.get("media"),zt=H?"".concat(ft,"--disable"):"".concat(P,"four-color-h");v.attr(R),c.className="".concat(it," ").concat(ft," ").concat(P,"one-bg ").concat(zt).trim(),c.innerHTML="\n      ".concat(Nt?'<div class="'.concat(ft,'__media">').concat(Nt,"</div>"):"",'\n      <div class="').concat(ft,'-label">').concat(Ct,"</div>\n    "),c.title=R.title||(null===(e=c.textContent)||void 0===e?void 0:e.trim()),c.setAttribute("draggable","".concat(!(!(0,g.hasDnd)(s)||H)));var Ft=St&&St({el:c,model:N,className:ft,prefix:P});return Ft&&(c.innerHTML=Ft),this},a}(T.G7);const Ao=Mn;var hi=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),cu=function(p){function a(e,o){var s=p.call(this,e)||this;s.config=o;var c=o.pStylePrefix||"";return s.em=o.em,s.pfx=c,s.caretR="fa fa-caret-right",s.caretD="fa fa-caret-down",s.iconClass="".concat(c,"caret-icon"),s.activeClass="".concat(c,"open"),s.className="".concat(c,"block-category"),s.listenTo(s.model,"change:open",s.updateVisibility),s.model.view=s,s}return hi(a,p),a.prototype.events=function(){return{"click [data-title]":"toggle"}},a.prototype.template=function(e){var o=e.pfx,s=e.label;return M(Zl||(Zl=function(p,a){return Object.defineProperty?Object.defineProperty(p,"raw",{value:a}):p.raw=a,p}(['\n      <div class="','title" data-title>\n        <i class="','caret-icon"></i>\n        ','\n      </div>\n      <div class="','blocks-c"></div>\n    '],['\n      <div class="','title" data-title>\n        <i class="','caret-icon"></i>\n        ','\n      </div>\n      <div class="','blocks-c"></div>\n    '])),o,o,s,o)},a.prototype.attributes=function(){return this.model.get("attributes")||{}},a.prototype.updateVisibility=function(){this.model.get("open")?this.open():this.close()},a.prototype.open=function(){this.$el.addClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretD),this.getBlocksEl().style.display=""},a.prototype.close=function(){this.$el.removeClass(this.activeClass),this.getIconEl().className="".concat(this.iconClass," ").concat(this.caretR),this.getBlocksEl().style.display="none"},a.prototype.toggle=function(){var e=this.model;e.set("open",!e.get("open"))},a.prototype.getIconEl=function(){return this.iconEl||(this.iconEl=this.el.querySelector(".".concat(this.iconClass))),this.iconEl},a.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.pfx,"blocks-c"))),this.blocksEl},a.prototype.append=function(e){this.getBlocksEl().appendChild(e)},a.prototype.render=function(){var e=this,o=e.em,s=e.el,c=e.$el,v=e.model,P=e.pfx,N=o.t("blockManager.categories.".concat(v.id))||v.get("label");return s.innerHTML=this.template({pfx:P,label:N}),c.addClass(this.className),c.css({order:v.get("order")}),this.updateVisibility(),this},a}(T.G7);const Xl=cu;var Zl,$p=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),vs=function(){return vs=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},vs.apply(this,arguments)},aa=function(p){function a(e,o){var s=p.call(this,e)||this;(0,x.bindAll)(s,"getSorter","onDrag","onDrop","onMove"),s.config=o||{},s.categories=e.categories||"",s.renderedCategories={};var c=s.config.pStylePrefix||"";s.ppfx=c,s.noCatClass="".concat(c,"blocks-no-cat"),s.blockContClass="".concat(c,"blocks-c"),s.catsClass="".concat(c,"block-categories");var v=s.collection;return s.listenTo(v,"add",s.addTo),s.listenTo(v,"reset",s.render),s.em=s.config.em,s.em&&(s.config.getSorter=s.getSorter),s}return $p(a,p),a.prototype.__getModule=function(){return this.em.Blocks},a.prototype.updateConfig=function(e){void 0===e&&(e={}),this.config=vs(vs({},this.config),e)},a.prototype.getSorter=function(){var e=this.em;if(e){if(!this.sorter){var o=e.Utils,s=e.Canvas;this.sorter=new o.Sorter({container:s.getBody(),placer:s.getPlacerEl(),containerSel:"*",itemSel:"*",pfx:this.ppfx,onStart:this.onDrag,onEndMove:this.onDrop,onMove:this.onMove,document:s.getFrameEl().contentDocument,direction:"a",wmargin:1,nested:1,em:e,canvasRelative:1})}return this.sorter}},a.prototype.onDrag=function(e){this.em.stopDefault(),this.__getModule().__startDrag(this.sorter.__currentBlock,e)},a.prototype.onMove=function(e){this.__getModule().__drag(e),this.em.trigger("block:drag:move",e)},a.prototype.onDrop=function(e){this.em.runDefault(),this.__getModule().__endDrag({component:e}),delete this.sorter.__currentBlock},a.prototype.addTo=function(e){this.add(e)},a.prototype.add=function(e,o){var s=this.config,c=new Ao({model:e,attributes:e.get("attributes")},s).render().el,v=e.get("category");if(v&&this.categories&&!s.ignoreCategories){(0,x.isString)(v)?v={id:v,label:v}:(0,x.isObject)(v)&&!v.id&&(v.id=v.label);var P=this.categories.add(v),N=P.get("id"),H=this.getCategoriesEl(),R=this.renderedCategories[N];return e.set("category",P,{silent:!0}),!R&&H&&(R=new Xl({model:P},s).render(),this.renderedCategories[N]=R,H.appendChild(R.el)),void(R&&R.append(c))}o?o.appendChild(c):this.append(c)},a.prototype.getCategoriesEl=function(){return this.catsEl||(this.catsEl=this.el.querySelector(".".concat(this.catsClass))),this.catsEl},a.prototype.getBlocksEl=function(){return this.blocksEl||(this.blocksEl=this.el.querySelector(".".concat(this.noCatClass," .").concat(this.blockContClass))),this.blocksEl},a.prototype.append=function(e){var o=this.getBlocksEl();o&&o.appendChild(e)},a.prototype.render=function(){var e=this,o=this.ppfx,s=document.createDocumentFragment();delete this.catsEl,delete this.blocksEl,this.renderedCategories={},this.el.innerHTML='\n      <div class="'.concat(this.catsClass,'"></div>\n      <div class="').concat(this.noCatClass,'">\n        <div class="').concat(this.blockContClass,'"></div>\n      </div>\n    '),this.collection.each(function(v){return e.add(v,s)}),this.append(s);var c="".concat(this.blockContClass,"s ").concat(o,"one-bg ").concat(o,"two-color");return this.$el.addClass(c),this.rendered=!0,this},a}(T.G7);const Ql=aa;var Jl=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),$r=function(){return $r=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},$r.apply(this,arguments)},ys="".concat("block",":"),Kp="".concat(ys,"add"),cl="".concat(ys,"update"),ul="".concat(ys,"remove"),uu="".concat(ul,":before"),ec="".concat(ys,"drag"),pu={all:"block",update:cl,add:Kp,remove:ul,removeBefore:uu,drag:ec,dragStart:"".concat(ec,":start"),dragEnd:"".concat(ec,":stop"),custom:"".concat(ys,"custom")},Yp=function(p){function a(e){var o,s=this;return(s=p.call(this,e,"BlockManager",new al((null===(o=e.config.blockManager)||void 0===o?void 0:o.blocks)||[]),pu,ou)||this).Block=sl,s.Blocks=al,s.Category=jo,s.Categories=Yl,s.storageKey="",s.blocks=s.all,s.blocksVisible=new al(s.blocks.models),s.categories=new Yl,s.blocks.on("add",function(c){return s.blocksVisible.add(c)}),s.blocks.on("remove",function(c){return s.blocksVisible.remove(c)}),s.blocks.on("reset",function(c){return s.blocksVisible.reset(c.models)}),s.__onAllEvent=(0,x.debounce)(function(){return s.__trgCustom()},0),s}return Jl(a,p),a.prototype.__trgCustom=function(){this.em.trigger(this.events.custom,this.__customData())},a.prototype.__customData=function(){var e=this,o=this.__getBehaviour();return{bm:this,blocks:this.getAll().models,container:o.container,dragStart:function(s,c){return e.startDrag(s,c)},drag:function(s){return e.__drag(s)},dragStop:function(s){return e.endDrag(s)}}},a.prototype.__startDrag=function(e,o){var s=this,c=s.em,v=s.events,P=s.blocks,N=e.getContent?e.getContent():e;this._dragBlock=e,c.set({dragResult:null,dragContent:N}),[c,P].map(function(H){return H.trigger(v.dragStart,e,o)})},a.prototype.__drag=function(e){var o=this,s=o.em,c=o.events,v=o.blocks,P=this._dragBlock;[s,v].map(function(N){return N.trigger(c.drag,P,e)})},a.prototype.__endDrag=function(e){void 0===e&&(e={});var o=this,s=o.em,c=o.events,v=o.blocks,P=this._dragBlock,N=e.component||s.get("dragResult");if(delete this._dragBlock,N&&P){var H="activeOnRender",R=N.get&&N.get(H),it=P.get("activate")||R,ft=P.get("select"),Ct=(0,x.isArray)(N)?N[0]:N;(ft||it&&!1!==ft)&&s.setSelected(Ct),it&&(Ct.trigger("active"),R&&Ct.unset(H)),P.get("resetId")&&Ct.onAll(function(St){return St.resetId()})}s.set({dragResult:null,dragContent:null}),P&&[s,v].map(function(St){return St.trigger(c.dragEnd,N,P)})},a.prototype.__getFrameViews=function(){return this.em.get("Canvas").getFrames().map(function(e){return e.view})},a.prototype.__behaviour=function(e){return void 0===e&&(e={}),this._bhv=$r($r({},this._bhv||{}),e)},a.prototype.__getBehaviour=function(){return this._bhv||{}},a.prototype.startDrag=function(e,o){this.__startDrag(e,o),this.__getFrameViews().forEach(function(s){return s.droppable.startCustom()})},a.prototype.endDrag=function(e){this.__getFrameViews().forEach(function(o){return o.droppable.endCustom(e)}),this.__endDrag()},a.prototype.postRender=function(){var e=this,o=e.categories,s=e.config,c=e.em,v=this.blocksVisible;this.blocksView=new Ql({collection:v,categories:o},$r($r({},s),{em:c})),this.__appendTo(v.models),this.__trgCustom()},a.prototype.add=function(e,o,s){void 0===s&&(s={});var c=o||{};return c.id=e,this.blocks.add(c,s)},a.prototype.get=function(e){return this.blocks.get(e)},a.prototype.getAll=function(){return this.blocks},a.prototype.getAllVisible=function(){return this.blocksVisible},a.prototype.remove=function(e,o){return void 0===o&&(o={}),this.__remove(e,o)},a.prototype.getCategories=function(){return this.categories},a.prototype.getContainer=function(){var e;return null===(e=this.blocksView)||void 0===e?void 0:e.el},a.prototype.getDragBlock=function(){return this._dragBlock},a.prototype.render=function(e,o){void 0===o&&(o={});var s=this,c=s.categories,v=s.config,P=s.em,N=e||this.getAll().models;if(o.external){var H=new al(N);return new Ql({collection:H,categories:c},$r($r({em:P},v),o)).render().el}return this.blocksView&&(this.blocksView.updateConfig(o),this.blocksView.collection.reset(N),this.blocksView.rendered||(this.blocksView.render(),this.blocksView.rendered=!0)),this.getContainer()},a.prototype.destroy=function(){var e,o=[this.blocks,this.blocksVisible,this.categories];o.map(function(s){return s.stopListening()}),o.map(function(s){return s.reset()}),null===(e=this.blocksView)||void 0===e||e.remove()},a}(G);const Xp=Yp,pl={stylePrefix:"clm-",appendTo:"",selectors:[],states:[{name:"hover"},{name:"active"},{name:"nth-of-type(2n)"}],iconAdd:'<svg viewBox="0 0 24 24"><path d="M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"></path></svg>',iconSync:'<svg viewBox="0 0 24 24"><path d="M12 18c-3.31 0-6-2.69-6-6 0-1 .25-1.97.7-2.8L5.24 7.74A7.93 7.93 0 0 0 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4m0-11V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1-.25 1.97-.7 2.8l1.46 1.46A7.93 7.93 0 0 0 20 12c0-4.42-3.58-8-8-8z"></path></svg>',iconTagOn:'<svg viewBox="0 0 24 24"><path d="M19 19H5V5h10V3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-8h-2m-11.09-.92L6.5 11.5 11 16 21 6l-1.41-1.42L11 13.17l-3.09-3.09z"></path></svg>',iconTagOff:'<svg viewBox="0 0 24 24"><path d="M19 3H5c-1.11 0-2 .89-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5a2 2 0 0 0-2-2m0 2v14H5V5h14z"></path></svg>',iconTagRemove:'<svg viewBox="0 0 24 24"><path d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"></path></svg>',componentFirst:!1,custom:!1};var du=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),hu=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return du(a,p),a.prototype.defaults=function(){return{name:"",label:""}},a.prototype.getName=function(){return this.get("name")},a.prototype.getLabel=function(){return this.get("label")||this.getName()},a}(T.Hn);const nc=hu;hu.prototype.idAttribute="name";var fu=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),dl="contentEditable",hl=function(p){function a(e){void 0===e&&(e={});var o=p.call(this,e)||this,s=e.config||{};return o.config=s,o.module=e.module,o.coll=e.coll||null,o.pfx=s.stylePrefix||"",o.ppfx=s.pStylePrefix||"",o.em=s.em,o.listenTo(o.model,"change:active",o.updateStatus),o}return fu(a,p),a.prototype.template=function(){var e=this,o=e.pfx,s=e.model,c=e.config,v=s.get("label")||"";return M(fl||(fl=function(p,a){return Object.defineProperty?Object.defineProperty(p,"raw",{value:a}):p.raw=a,p}(['\n      <span id="','checkbox" class="','tag-status" data-tag-status></span>\n      <span id="','tag-label" data-tag-name>','</span>\n      <span id="','close" class="','tag-close" data-tag-remove> $'," </span>\n    "],['\n      <span id="','checkbox" class="','tag-status" data-tag-status></span>\n      <span id="','tag-label" data-tag-name>','</span>\n      <span id="','close" class="','tag-close" data-tag-remove> $'," </span>\n    "])),o,o,o,v,o,o,c.iconTagRemove)},a.prototype.events=function(){return{"click [data-tag-remove]":"removeTag","click [data-tag-status]":"changeStatus","dblclick [data-tag-name]":"startEditTag","focusout [data-tag-name]":"endEditTag"}},a.prototype.getInputEl=function(){return this.inputEl||(this.inputEl=this.el.querySelector("[data-tag-name]")),this.inputEl},a.prototype.startEditTag=function(){var e=this.em,o=this.getInputEl();o[dl]="true",o.focus(),e?.setEditing(!0)},a.prototype.endEditTag=function(){var e=this.model,o=this.em,s=this.getInputEl(),c=s.textContent||"",v=o?.Selectors;s[dl]="false",o?.setEditing(!1),v&&v.rename(e,c)!==e&&(s.innerText=e.get("label"))},a.prototype.changeStatus=function(){var e=this.model;e.set("active",!e.get("active"))},a.prototype.removeTag=function(){this.module.removeSelected(this.model)},a.prototype.updateStatus=function(){var e=this,o=e.model,s=e.$el,c=e.config,v=c.iconTagOn,P=c.iconTagOff,N=s.find("[data-tag-status]");o.get("active")?(N.html(v),s.removeClass("opac50")):(N.html(P),s.addClass("opac50"))},a.prototype.render=function(){var e=this.pfx,o=this.ppfx;return this.$el.html(this.template()),this.$el.attr("class","".concat(e,"tag ").concat(o,"three-bg")),this.updateStatus(),this},a}(T.G7);const gu=hl;var fl,mu=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),la=function(p,a){return Object.defineProperty?Object.defineProperty(p,"raw",{value:a}):p.raw=a,p},vu=function(p){function a(e){void 0===e&&(e={});var o=p.call(this,e)||this;o.config=e.config||{},o.pfx=o.config.stylePrefix||"",o.ppfx=o.config.pStylePrefix||"",o.className=o.pfx+"tags",o.stateInputId=o.pfx+"states",o.stateInputC=o.pfx+"input-c",o.states=o.config.states||[];var s=o.config.em,c=o.collection;o.target=s;var v=s.Selectors;return o.module=v,o.em=s,o.componentChanged=(0,x.debounce)(o.componentChanged.bind(o),0),o.checkSync=(0,x.debounce)(o.checkSync.bind(o),0),o.listenTo(s,"component:toggled component:update:classes",o.componentChanged),o.listenTo(s,"styleManager:update",o.componentChanged),o.listenTo(s,"component:update:classes change:state",o.__handleStateChange),o.listenTo(s,"styleable:change change:device",o.checkSync),o.listenTo(c,"add",o.addNew),o.listenTo(c,"reset",o.renderClasses),o.listenTo(c,"remove",o.tagRemoved),o.listenTo(v.getAll(),v.events.state,(0,x.debounce)(function(){return o.renderStates()},0)),o.delegateEvents(),o}return mu(a,p),a.prototype.template=function(e){var o=e.labelInfo,s=e.labelHead,c=e.iconSync,v=e.iconAdd,P=e.pfx,N=e.ppfx;return M(ca||(ca=la([' <div id="','up" class="','header">\n        <div id="','label" class="','header-label">','</div>\n        <div id="','status-c" class="','header-status">\n          <span id="','input-c" data-states-c>\n            <div class="',"field ",'select">\n              <span id="','input-holder">\n                <select id="','states" data-states></select>\n              </span>\n              <div class="','sel-arrow">\n                <div class="','d-s-arrow"></div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div id="','tags-field" class="','field">\n        <div id="','tags-c" data-selectors></div>\n        <input id="','new" data-input />\n        <span id="','add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',' </span>\n        <span class="',"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',' </span>\n      </div>\n      <div class="','sels-info">\n        <div class="','label-sel">',':</div>\n        <div class="','sels" data-selected></div>\n      </div>'],[' <div id="','up" class="','header">\n        <div id="','label" class="','header-label">','</div>\n        <div id="','status-c" class="','header-status">\n          <span id="','input-c" data-states-c>\n            <div class="',"field ",'select">\n              <span id="','input-holder">\n                <select id="','states" data-states></select>\n              </span>\n              <div class="','sel-arrow">\n                <div class="','d-s-arrow"></div>\n              </div>\n            </div>\n          </span>\n        </div>\n      </div>\n      <div id="','tags-field" class="','field">\n        <div id="','tags-c" data-selectors></div>\n        <input id="','new" data-input />\n        <span id="','add-tag" class="',"tags-btn ",'tags-btn__add" data-add> $',' </span>\n        <span class="',"tags-btn ",'tags-btn__sync" style="display: none" data-sync-style> $',' </span>\n      </div>\n      <div class="','sels-info">\n        <div class="','label-sel">',':</div>\n        <div class="','sels" data-selected></div>\n      </div>'])),P,P,P,P,s,P,P,P,N,N,N,P,N,N,P,N,P,P,P,P,P,v,P,P,c,P,P,o,P)},a.prototype.events=function(){return{"change [data-states]":"stateChanged","click [data-add]":"startNewTag","focusout [data-input]":"endNewTag","keyup [data-input]":"onInputKeyUp","click [data-sync-style]":"syncStyle"}},a.prototype.syncStyle=function(){var e,o=this.em,s=this.getTarget(),c=o.Css,v=this.getCommonSelectors({opts:{noDisabled:1}}),P=o.get("state"),N=o.getCurrentMedia(),H=[],R=c.get(v,P,N)||c.add(v,P,N);this.getTargets().forEach(function(it){var ft=c.getIdRule(it.getId(),{state:P,mediaText:N});e=ft.getStyle(),ft.setStyle({}),H.push(ft)}),e&&R.addStyle(e),o.trigger("component:toggled"),o.trigger("component:sync-style",{component:s,selectors:v,mediaText:N,rule:R,ruleComponents:H,state:P})},a.prototype.tagRemoved=function(e){this.updateStateVis()},a.prototype.addNew=function(e){this.addToClasses(e)},a.prototype.startNewTag=function(){var e,o;null===(e=this.$addBtn)||void 0===e||e.css({display:"none"}),null===(o=this.$input)||void 0===o||o.show().focus()},a.prototype.endNewTag=function(){var e,o;null===(e=this.$addBtn)||void 0===e||e.css({display:""}),null===(o=this.$input)||void 0===o||o.hide().val("")},a.prototype.onInputKeyUp=function(e){var o;13===e.keyCode?(e.preventDefault(),this.addNewTag(null===(o=this.$input)||void 0===o?void 0:o.val())):27===e.keyCode&&this.endNewTag()},a.prototype.checkStates=function(){var e=this.em.getState(),o=this.getStates();o&&o.val(e)},a.prototype.componentChanged=function(e){var o=(void 0===e?{}:e).targets;this.updateSelection(o)},a.prototype.updateSelection=function(e){var o=e||this.getTargets(),s=[];return(o=(0,x.isArray)(o)?o:[o])&&o.length&&(s=this.getCommonSelectors({targets:o}),this.checkSync({validSelectors:s})),this.collection.reset(s),this.updateStateVis(o),this.module.__trgCustom(),s},a.prototype.getCommonSelectors=function(e){var o=void 0===e?{}:e,s=o.targets,c=o.opts,v=void 0===c?{}:c,P=s||this.getTargets();return this.module.__getCommonSelectors(P,v)},a.prototype._commonSelectors=function(){for(var e,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return(e=this.module).__common.apply(e,o)},a.prototype.checkSync=function(){var e,o=this,s=o.$btnSyncEl,c=o.config,v=o.collection,P=this.getTarget();if(P&&c.componentFirst&&v.length){var N=P.getStyle();e=!(0,x.isEmpty)(N)}s&&s[e?"show":"hide"]()},a.prototype.getTarget=function(){return this.target.getSelected()},a.prototype.getTargets=function(){return this.target.getSelectedAll()},a.prototype.updateStateVis=function(e){var o=this.em,s=o&&o.getConfig().avoidInlineStyle,c=this.collection.length||s?"":"none";this.getStatesC().css("display",c),this.updateSelector(e)},a.prototype.__handleStateChange=function(){this.updateSelector(this.getTargets())},a.prototype.updateSelector=function(e){var o=this,s=this.el.querySelector("[data-selected]"),c=[],v=e||this.getTargets();(v=(0,x.isArray)(v)?v:[v]).forEach(function(P){return c.push(o.__getName(P))}),s&&(s.innerHTML=c.join(", ")),this.checkStates()},a.prototype.__getName=function(e){var o,s=this,c=s.pfx,v=s.config,P=s.em,N=v.selectedName,H=v.componentFirst;if((0,x.isString)(e))o=M(rc||(rc=la(['<span class="','sel-gen">',"</span>"],['<span class="','sel-gen">',"</span>"])),c,e);else{var R=e?.getSelectors();if(!R)return"";var it=R.getStyleable(),ft=P.get("state"),Ct=e.getId?M(oc||(oc=la(['<span class="','sel-cmp">','</span>\n            <span class="','sel-id">#',"</span>"],['<span class="','sel-cmp">','</span>\n            <span class="','sel-id">#',"</span>"])),c,e.getName(),c,e.getId()):"";o=(o=this.collection.getFullString(it))?M(ic||(ic=la(['<span class="','sel-rule">',"</span>"],['<span class="','sel-rule">',"</span>"])),c,o):e.get("selectorsAdd")||Ct,o=H&&Ct?Ct:o,o+=ft?M($i||($i=la(['<span class="','sel-state">:',"</span>"],['<span class="','sel-state">:',"</span>"])),c,ft):"",o=N?N({result:o,state:ft,target:e}):o}return o&&'<span class="'.concat(c,'sel">').concat(o,"</span>")},a.prototype.stateChanged=function(e){var o=this.em,s=e.target.value;o.set("state",s)},a.prototype.addNewTag=function(e){var o=e.trim();o&&(this.module.addSelected({label:o}),this.endNewTag())},a.prototype.addToClasses=function(e,o){var s=o,c=this.getClasses(),v=new gu({model:e,config:this.config,coll:this.collection,module:this.module}).render().el;return s?s.appendChild(v):c.append(v),v},a.prototype.renderClasses=function(){var e=this,o=document.createDocumentFragment(),s=this.getClasses();s.empty(),this.collection.each(function(c){return e.addToClasses(c,o)}),s.append(o)},a.prototype.getClasses=function(){return this.$el.find("[data-selectors]")},a.prototype.getStates=function(){if(!this.$states){var e=this.$el.find("[data-states]");this.$states=e[0]&&e}return this.$states},a.prototype.getStatesC=function(){return this.$statesC||(this.$statesC=this.$el.find("#"+this.stateInputC)),this.$statesC},a.prototype.renderStates=function(){var e=this.module,o=this.em,s=o.t("selectorManager.emptyState"),c=e.getStates().map(function(P){var N=o.t("selectorManager.states.".concat(P.id))||P.getLabel()||P.id;return'<option value="'.concat(P.id,'">').concat(N,"</option>")}).join(""),v=this.getStates();v&&v.html('<option value="">'.concat(s,"</option>").concat(c)),this.checkStates()},a.prototype.render=function(){var e=this,o=e.em,s=e.pfx,c=e.ppfx,v=e.config,P=e.$el,N=e.el,H=v.render,R={iconSync:v.iconSync,iconAdd:v.iconAdd,labelHead:o.t("selectorManager.label"),labelInfo:o.t("selectorManager.selected"),ppfx:c,pfx:s,el:N};P.html(this.template(R));var it=H&&H(R);return it&&it!==N&&P.empty().append(it),this.$input=P.find("[data-input]"),this.$addBtn=P.find("[data-add]"),this.$classes=P.find("#"+s+"tags-c"),this.$btnSyncEl=P.find("[data-sync-style]"),this.$input.hide(),this.renderStates(),this.renderClasses(),P.attr("class","".concat(this.className," ").concat(c,"one-bg ").concat(c,"two-color")),this},a}(T.G7);const Nr=vu;var ca,rc,oc,ic,$i,gl=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),_s=function(){return _s=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},_s.apply(this,arguments)},ml=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))},sc=function(p){return(0,x.isString)(p)&&"#"==p[0]},Ki=function(p){return(0,x.isString)(p)&&"."==p[0]},ac="selector",gi="".concat(ac,":"),yu="".concat(gi,"add"),ua="".concat(gi,"update"),bu="".concat(gi,"remove"),ws="".concat(bu,":before"),_u="".concat(gi,"custom"),lc="".concat(gi,"state"),wu={all:ac,update:ua,add:yu,remove:bu,removeBefore:ws,state:lc,custom:_u},pa=function(p){function a(e){var o=p.call(this,e,"SelectorManager",new So([]),wu,pl,{skipListen:!0})||this;o.Selector=yr,o.Selectors=So,o.storageKey="",(0,x.bindAll)(o,"__updateSelectedByComponents");var s=o.config,c=s.pStylePrefix;return c&&(s.stylePrefix=c+s.stylePrefix),o.all=new So(s.selectors),o.selected=new So([],{em:e,config:s}),o.states=new T.FE(s.states.map(function(v){return new nc(v)}),{model:nc}),o.model=new T.Hn({cFirst:s.componentFirst,_undo:!0}),o.__update=(0,x.debounce)(function(){return o.__trgCustom()},0),o.__initListen({collections:[o.states,o.selected],propagate:[{entity:o.states,event:o.events.state}]}),e.on("change:state",function(v,P){return e.trigger(lc,P)}),o.model.on("change:cFirst",function(v,P){return e.trigger("selector:type",P)}),e.on("component:toggled component:update:classes",o.__updateSelectedByComponents),o.model.listenTo(e,"component:toggled component:update:classes change:device styleManager:update selector:state selector:type style:target",function(){return o.__update()}),o}return gl(a,p),a.prototype.__trgCustom=function(e){this.em.trigger(this.events.custom,this.__customData(e))},a.prototype.getAll=function(e){return void 0===e&&(e={}),this.all?e.array?ml([],this.all.models,!0):this.all:[]},a.prototype.__customData=function(e){return void 0===e&&(e={}),this.__ctn=this.__ctn||e.container,{states:this.getStates(),selected:this.getSelected(),container:this.__ctn}},a.prototype.postRender=function(){this.__appendTo(),this.__trgCustom()},a.prototype.select=function(e,o){void 0===o&&(o={});var s=Array.isArray(e)?e:[e],c=this.em.Styles.select(s,o);this.selected.reset(this.__getCommonSelectors(c));var v=this.selectorTags,P=c.filter(function(N){return N}).map(function(N){return(0,g.isComponent)(N)||(0,g.isRule)(N)&&!N.get("selectorsAdd")?N:N.getSelectorsString()});return v&&v.componentChanged({targets:P}),this},a.prototype.addSelector=function(e,o,s){void 0===o&&(o={}),void 0===s&&(s={});var c=_s({},o);(0,x.isObject)(e)?c=e:c.name=e,sc(c.name)?(c.name=c.name.substr(1),c.type=yr.TYPE_ID):Ki(c.name)&&(c.name=c.name.substr(1)),c.label&&!c.name&&(c.name=this.escapeName(c.label));var v=c.name,P=this.getConfig(),N=this.all,H=this.em,R=v?this.get(v,c.type):N.where(c)[0];if(!R){var it=c instanceof yr?c:new yr(c,_s(_s({},s),{config:P,em:H}));return N.add(it,s)}return R},a.prototype.getSelector=function(e,o){return void 0===o&&(o=yr.TYPE_CLASS),sc(e)?(e=e.substr(1),o=yr.TYPE_ID):Ki(e)&&(e=e.substr(1)),this.all.where({name:e,type:o})[0]},a.prototype.add=function(e,o){var s=this;void 0===o&&(o={});var c=(0,x.isString)(e)?{}:o;return(0,x.isArray)(e)?e.map(function(v){return s.addSelector(v,o,c)}):this.addSelector(e,o,c)},a.prototype.addClass=function(e){var o=this,s=[];return(0,x.isString)(e)&&(e=e.trim().split(" ")),e.forEach(function(c){return s.push(o.addSelector(c))}),s},a.prototype.get=function(e,o){var s=this;if((0,x.isArray)(e)){var c=[];return e.map(function(v){return s.getSelector(v)}).filter(Boolean).forEach(function(v){return c.indexOf(v)<0&&c.push(v)}),c}return this.getSelector(e,o)},a.prototype.remove=function(e,o){return this.__remove(e,o)},a.prototype.rename=function(e,o,s){var c=this.escapeName(o);return this.get(c)||e.set({name:c,label:o},s)},a.prototype.setState=function(e){return this.em.setState(e),this},a.prototype.getState=function(){return this.em.getState()},a.prototype.getStates=function(){return ml([],this.states.models,!0)},a.prototype.setStates=function(e,o){return this.states.reset(e.map(function(s){return new nc(s)}),o)},a.prototype.getSelected=function(){return this.__getCommon()},a.prototype.getSelectedAll=function(){return ml([],this.selected.models,!0)},a.prototype.addSelected=function(e){var o=this.add(e);this.em.getSelectedAll().forEach(function(s){s.getSelectors().add(o)})},a.prototype.removeSelected=function(e){this.em.getSelectedAll().forEach(function(o){!e.get("protected")&&o&&o.getSelectors().remove(e)})},a.prototype.duplicateSelected=function(e,o){var s=this;void 0===o&&(o={});var c=this.em,v=this.getSelected();if(!(v.indexOf(e)<0)){var P=this.getState(),N=c.getCurrentMedia(),R=c.Css.get(v,P,N)?.getStyle();c.getSelectedAll().forEach(function(it){var ft=it.getSelectors();if(ft.includes(e)){var Ct=o.suffix||" copy",St=e.getLabel(),Nt=s.addSelector("".concat(St).concat(Ct)),zt=ft.indexOf(e);ft.remove(e),ft.add(Nt,{at:zt})}}),R&&c.Css.add(this.getSelected(),P,N).setStyle(R)}},a.prototype.getSelectedTargets=function(){return this.em.Styles.getSelectedAll()},a.prototype.setComponentFirst=function(e){this.getConfig().componentFirst=e,this.model.set({cFirst:e})},a.prototype.getComponentFirst=function(){return this.getConfig().componentFirst},a.prototype.escapeName=function(e){var o=this.getConfig().escapeName;return o?o(e):yr.escapeName(e)},a.prototype.render=function(e){var o=this.selectorTags,s=this.getConfig(),c=o?.el;return this.selected.reset(e),this.selectorTags=new Nr({el:c,collection:this.selected,module:this,config:s}),this.selectorTags.render().el},a.prototype.destroy=function(){var e=this.selectorTags;this.model.stopListening(),this.__update.cancel(),this.__destroy(),e?.remove(),this.selectorTags=void 0},a.prototype.__getCommon=function(){return this.__getCommonSelectors(this.em.getSelectedAll())},a.prototype.__getCommonSelectors=function(e,o){void 0===o&&(o={});var s=e.map(function(c){return c.getSelectors&&c.getSelectors().getValid(o)}).filter(Boolean);return this.__common.apply(this,s)},a.prototype.__common=function(){for(var e=this,o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return o.length?1===o.length?o[0]:2===o.length?o[0].filter(function(c){return o[1].indexOf(c)>=0}):o.slice(1).reduce(function(c,v){return e.__common(c,v)},o[0]):[]},a.prototype.__updateSelectedByComponents=function(){this.selected.reset(this.__getCommon())},a}(G);const da=pa,ha={textTags:["br","b","i","u","a","ul","ol"],parserCss:void 0,parserHtml:void 0,optionsHtml:{htmlType:"text/html",allowScripts:!1,allowUnsafeAttr:!1,keepEmptyTextNodes:!1}};var mi={4:"media",5:"font-face",6:"page",7:"keyframes",11:"counter-style",12:"supports",13:"document",14:"font-feature-values",15:"viewport"},Tu=(0,x.keys)(mi),Zp=["5","6","11","15"],Cu=["font-face","page","counter-style","viewport"],Qo=function(p){void 0===p&&(p="");for(var a=[],e=[],o=p.split(","),s=0,c=o.length;s<c;s++){var v=o[s].trim();if(/^(\.{1}[\w\-]+)+(:{1,2}[\w\-()]+)?$/gi.test(v)||/^(#{1}[\w\-]+){1}(:{1,2}[\w\-()]+)?$/gi.test(v)){var P=v.split(".").filter(Boolean);e.push(P)}else a.push(v)}return{result:e,add:a}},Ts=function(p){for(var a=p.style,e={},o=0,s=a.length;o<s;o++){var c=a[o],v=a.getPropertyValue(c),P=a.getPropertyPriority(c);e[c]="".concat(v).concat(P?" !".concat(P):"")}return e},Cs=function(p){return(p.conditionText||p.media&&p.media.mediaText||p.name||p.selectorText||"").trim()},cc=function(p,a,e){void 0===a&&(a={}),void 0===e&&(e={});var o={},s=p.length,c=p[s-1],v=c?c.split(/:(.+)/):[],P=v[1],N=e.atRule,H=e.selectorsAdd,R=e.mediaText;return Cu.indexOf(N)>=0&&(o.singleAtRule=!0),N&&(o.atRuleType=N),H&&(o.selectorsAdd=H),R&&(o.mediaText=R),P&&(p[s-1]=v[0],o.state=P,v.splice(v.length-1,1)),o.selectors=p,o.style=a,o},uc=function(p){for(var a=[],e=p.cssRules||[],o=0,s=e.length;o<s;o++){var c=e[o],v=c.type.toString(),P=!1,N="",H="",R=c.selectorText||c.keyText,it=Zp.indexOf(v)>=0;if(it)P=!0,N=mi[v],H=Cs(c);else if(Tu.indexOf(v)>=0){var ft=uc(c);H=Cs(c);for(var Ct=0,St=ft.length;Ct<St;Ct++){var Nt=ft[Ct];H&&(Nt.mediaText=H),Nt.atRuleType=mi[v]}a=a.concat(ft)}if(R||it){for(var zt=Ts(c),Ft=Qo(R),pe=Ft.add,ve=Ft.result,De=void 0,je=0,nn=ve.length;je<nn;je++){var cn=cc(ve[je],zt,{atRule:mi[v]});a.push(cn),De=cn}if(pe.length){var wn=pe.join(", ");De?De.selectorsAdd=wn:(cn={selectors:[],selectorsAdd:wn,style:zt},P&&(cn.singleAtRule=P),N&&(cn.atRuleType=N),H&&(cn.mediaText=H),a.push(cn))}}}return a};const Qp=function(p,a){return void 0===a&&(a={}),{parse:function(e){var o=this,s=[],c=a.parserCss,v=p?.Editor;return(c?c(e,v):function(N){var H=document.createElement("style");H.innerHTML=N,document.head.appendChild(H);var R=H.sheet;return document.head.removeChild(H),uc(R)}(e)).forEach(function(N){return s=s.concat(o.checkNode(N))}),p?.trigger("parse:css",{input:e,output:s}),s},checkNode:function(e){var o=e.selectors,s=e.style,c=[e];if((0,x.isString)(o)){var v=[],P=e,N=Qo(o),H=N.result,R=N.add.join(", "),it={atRule:P.atRule,mediaText:P.params};H.length?H.forEach(function(ft){v.push(cc(ft,s,it))}):v.push(cc([],s,it)),R&&(v[v.length-1].selectorsAdd=R),c=v}return c}}};var Jp=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),td=function(p){function a(e){var o=p.call(this,e,"Parser",ha)||this,s=o.config;return o.parserCss=Qp(e,s),o.parserHtml=hr(e,s),o}return Jp(a,p),a.prototype.parseHtml=function(e,o){void 0===o&&(o={});var s=this.em,c=this.parserHtml;return c.compTypes=s.Components.getTypes()||{},c.parse(e,this.parserCss,o)},a.prototype.parseCss=function(e){return this.parserCss.parse(e)},a.prototype.destroy=function(){},a}(S);const Kr=td,Eu={id:"gjs-",type:"local",autosave:!0,autoload:!0,stepsBeforeSave:1,recovery:!1,onStore:function(p){return p},onLoad:function(p){return p},options:{local:{key:"gjsProject",checkLocal:!0},remote:{headers:{},urlStore:"",urlLoad:"",contentTypeJson:!0,fetchOptions:"",credentials:"include",onStore:function(p){return p},onLoad:function(p){return p}}}};var xu=function(p,a,e,o){return new(e||(e=Promise))(function(s,c){function v(H){try{N(o.next(H))}catch(R){c(R)}}function P(H){try{N(o.throw(H))}catch(R){c(R)}}function N(H){var R;H.done?s(H.value):(R=H.value,R instanceof e?R:new e(function(it){it(R)})).then(v,P)}N((o=o.apply(p,a||[])).next())})},Su=function(p,a){var e,o,s,c,v={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function P(N){return function(H){return function(R){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,R[0]&&(v=0)),v;)try{if(e=1,o&&(s=2&R[0]?o.return:R[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,R[1])).done)return s;switch(o=0,s&&(R=[2&R[0],s.value]),R[0]){case 0:case 1:s=R;break;case 4:return v.label++,{value:R[1],done:!1};case 5:v.label++,o=R[1],R=[0];continue;case 7:R=v.ops.pop(),v.trys.pop();continue;default:if(!((s=(s=v.trys).length>0&&s[s.length-1])||6!==R[0]&&2!==R[0])){v=0;continue}if(3===R[0]&&(!s||R[1]>s[0]&&R[1]<s[3])){v.label=R[1];break}if(6===R[0]&&v.label<s[1]){v.label=s[1],s=R;break}if(s&&v.label<s[2]){v.label=s[2],v.ops.push(R);break}s[2]&&v.ops.pop(),v.trys.pop();continue}R=a.call(p,v)}catch(it){R=[6,it],o=0}finally{e=s=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([N,H])}}};const ed=function(){function p(){}return p.prototype.store=function(a,e){return void 0===e&&(e={}),xu(this,void 0,void 0,function(){return Su(this,function(o){return this.hasLocal(e,!0)&&localStorage.setItem(e.key,JSON.stringify(a)),[2,a]})})},p.prototype.load=function(a){return void 0===a&&(a={}),xu(this,void 0,void 0,function(){var e;return Su(this,function(o){return e={},this.hasLocal(a,!0)&&(e=JSON.parse(localStorage.getItem(a.key)||"{}")),[2,e]})})},p.prototype.hasLocal=function(a,e){if(void 0===a&&(a={}),a.checkLocal&&(!(0,g.hasWin)()||!localStorage)){if(e)throw new Error("localStorage not available");return!1}return!0},p}();function vi(p){return(vi="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(p)}function ku(p,a){this.name="AggregateError",this.errors=p,this.message=a||""}ku.prototype=Error.prototype;var rd=setTimeout;function Jo(p){return Boolean(p&&void 0!==p.length)}function fa(){}function Yn(p){if(!(this instanceof Yn))throw new TypeError("Promises must be constructed via new");if("function"!=typeof p)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],dc(p,this)}function Es(p,a){for(;3===p._state;)p=p._value;0!==p._state?(p._handled=!0,Yn._immediateFn(function(){var e=1===p._state?a.onFulfilled:a.onRejected;if(null!==e){var o;try{o=e(p._value)}catch(s){return void ga(a.promise,s)}ko(a.promise,o)}else(1===p._state?ko:ga)(a.promise,p._value)})):p._deferreds.push(a)}function ko(p,a){try{if(a===p)throw new TypeError("A promise cannot be resolved with itself.");if(a&&("object"===vi(a)||"function"==typeof a)){var e=a.then;if(a instanceof Yn)return p._state=3,p._value=a,void pc(p);if("function"==typeof e)return void dc((o=e,s=a,function(){o.apply(s,arguments)}),p)}p._state=1,p._value=a,pc(p)}catch(c){ga(p,c)}var o,s}function ga(p,a){p._state=2,p._value=a,pc(p)}function pc(p){2===p._state&&0===p._deferreds.length&&Yn._immediateFn(function(){p._handled||Yn._unhandledRejectionFn(p._value)});for(var a=0,e=p._deferreds.length;a<e;a++)Es(p,p._deferreds[a]);p._deferreds=null}function xs(p,a,e){this.onFulfilled="function"==typeof p?p:null,this.onRejected="function"==typeof a?a:null,this.promise=e}function dc(p,a){var e=!1;try{p(function(o){e||(e=!0,ko(a,o))},function(o){e||(e=!0,ga(a,o))})}catch(o){if(e)return;e=!0,ga(a,o)}}Yn.prototype.catch=function(p){return this.then(null,p)},Yn.prototype.then=function(p,a){var e=new this.constructor(fa);return Es(this,new xs(p,a,e)),e},Yn.prototype.finally=function(p){var a=this.constructor;return this.then(function(e){return a.resolve(p()).then(function(){return e})},function(e){return a.resolve(p()).then(function(){return a.reject(e)})})},Yn.all=function(p){return new Yn(function(a,e){if(!Jo(p))return e(new TypeError("Promise.all accepts an array"));var o=Array.prototype.slice.call(p);if(0===o.length)return a([]);var s=o.length;function c(P,N){try{if(N&&("object"===vi(N)||"function"==typeof N)){var H=N.then;if("function"==typeof H)return void H.call(N,function(R){c(P,R)},e)}o[P]=N,0==--s&&a(o)}catch(R){e(R)}}for(var v=0;v<o.length;v++)c(v,o[v])})},Yn.any=function(p){var a=this;return new a(function(e,o){if(!p||void 0===p.length)return o(new TypeError("Promise.any accepts an array"));var s=Array.prototype.slice.call(p);if(0===s.length)return o();for(var c=[],v=0;v<s.length;v++)try{a.resolve(s[v]).then(e).catch(function(P){c.push(P),c.length===s.length&&o(new ku(c,"All promises were rejected"))})}catch(P){o(P)}})},Yn.allSettled=function(p){return new this(function(a,e){if(!p||void 0===p.length)return e(new TypeError(vi(p)+" "+p+" is not iterable(cannot read property Symbol(Symbol.iterator))"));var o=Array.prototype.slice.call(p);if(0===o.length)return a([]);var s=o.length;function c(P,N){if(N&&("object"===vi(N)||"function"==typeof N)){var H=N.then;if("function"==typeof H)return void H.call(N,function(R){c(P,R)},function(R){o[P]={status:"rejected",reason:R},0==--s&&a(o)})}o[P]={status:"fulfilled",value:N},0==--s&&a(o)}for(var v=0;v<o.length;v++)c(v,o[v])})},Yn.resolve=function(p){return p&&"object"===vi(p)&&p.constructor===Yn?p:new Yn(function(a){a(p)})},Yn.reject=function(p){return new Yn(function(a,e){e(p)})},Yn.race=function(p){return new Yn(function(a,e){if(!Jo(p))return e(new TypeError("Promise.race accepts an array"));for(var o=0,s=p.length;o<s;o++)Yn.resolve(p[o]).then(a,e)})},Yn._immediateFn="function"==typeof setImmediate&&function(p){setImmediate(p)}||function(p){rd(p,0)},Yn._unhandledRejectionFn=function(p){typeof console<"u"&&console&&console.warn("Possible Unhandled Promise Rejection:",p)};const vl=Yn;(0,g.hasWin)()&&(window.Promise=window.Promise||vl);const hc="function"==typeof fetch?fetch.bind():function(p,a){return new vl(function(e,o){var s=new XMLHttpRequest;for(var c in s.open(a.method||"get",p),s.withCredentials="include"==a.credentials,a.headers||{})s.setRequestHeader(c,a.headers[c]);s.onload=function(v){return e({status:s.status,statusText:s.statusText,text:function(){return vl.resolve(s.responseText)}})},s.onerror=o,s.upload&&a.onProgress&&(s.upload.onprogress=a.onProgress),a.body?s.send(a.body):s.send()})};var Yi=function(){return Yi=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Yi.apply(this,arguments)},Xi=function(p,a,e,o){return new(e||(e=Promise))(function(s,c){function v(H){try{N(o.next(H))}catch(R){c(R)}}function P(H){try{N(o.throw(H))}catch(R){c(R)}}function N(H){var R;H.done?s(H.value):(R=H.value,R instanceof e?R:new e(function(it){it(R)})).then(v,P)}N((o=o.apply(p,a||[])).next())})},yl=function(p,a){var e,o,s,c,v={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function P(N){return function(H){return function(R){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,R[0]&&(v=0)),v;)try{if(e=1,o&&(s=2&R[0]?o.return:R[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,R[1])).done)return s;switch(o=0,s&&(R=[2&R[0],s.value]),R[0]){case 0:case 1:s=R;break;case 4:return v.label++,{value:R[1],done:!1};case 5:v.label++,o=R[1],R=[0];continue;case 7:R=v.ops.pop(),v.trys.pop();continue;default:if(!((s=(s=v.trys).length>0&&s[s.length-1])||6!==R[0]&&2!==R[0])){v=0;continue}if(3===R[0]&&(!s||R[1]>s[0]&&R[1]<s[3])){v.label=R[1];break}if(6===R[0]&&v.label<s[1]){v.label=s[1],s=R;break}if(s&&v.label<s[2]){v.label=s[2],v.ops.push(R);break}s[2]&&v.ops.pop(),v.trys.pop();continue}R=a.call(p,v)}catch(it){R=[6,it],o=0}finally{e=s=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([N,H])}}};const fc=function(){function p(){}return p.prototype.store=function(a,e){return void 0===e&&(e={}),Xi(this,void 0,void 0,function(){return yl(this,function(o){switch(o.label){case 0:return[4,this.request(e.urlStore,this.__props(e,a),e)];case 1:return[2,o.sent()]}})})},p.prototype.load=function(a){return void 0===a&&(a={}),Xi(this,void 0,void 0,function(){return yl(this,function(e){switch(e.label){case 0:return[4,this.request(a.urlLoad,this.__props(a),a)];case 1:return[2,e.sent()]}})})},p.prototype.request=function(a,e,o){return void 0===e&&(e={}),void 0===o&&(o={}),hc(a,e).then(function(s){var c=s.text();return 1==(s.status/200|0)?c:c.then(Promise.reject)}).then(function(s){var c=s&&(0,x.isString)(s);return o.contentTypeJson&&c?JSON.parse(s):s})},p.prototype.__props=function(a,e){void 0===a&&(a={});var o,s=a.contentTypeJson,c=a.headers||{},v=a.fetchOptions||{},P="X-Requested-With",N="Content-Type";if((0,x.isUndefined)(c[P])&&(c[P]="XMLHttpRequest"),(0,x.isUndefined)(c[N])&&s&&(c[N]="application/json; charset=utf-8"),e)if(s)o=JSON.stringify(e);else for(var H in o=new FormData,e)o.append(H,e[H]);var R={method:o?"POST":"GET",credentials:a.credentials,headers:c,body:o};return Yi(Yi({},R),(0,x.isFunction)(v)?v(R):v)},p}();var gc=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ss=function(){return Ss=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Ss.apply(this,arguments)},Zi=function(p,a,e,o){return new(e||(e=Promise))(function(s,c){function v(H){try{N(o.next(H))}catch(R){c(R)}}function P(H){try{N(o.throw(H))}catch(R){c(R)}}function N(H){var R;H.done?s(H.value):(R=H.value,R instanceof e?R:new e(function(it){it(R)})).then(v,P)}N((o=o.apply(p,a||[])).next())})},bl=function(p,a){var e,o,s,c,v={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function P(N){return function(H){return function(R){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,R[0]&&(v=0)),v;)try{if(e=1,o&&(s=2&R[0]?o.return:R[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,R[1])).done)return s;switch(o=0,s&&(R=[2&R[0],s.value]),R[0]){case 0:case 1:s=R;break;case 4:return v.label++,{value:R[1],done:!1};case 5:v.label++,o=R[1],R=[0];continue;case 7:R=v.ops.pop(),v.trys.pop();continue;default:if(!((s=(s=v.trys).length>0&&s[s.length-1])||6!==R[0]&&2!==R[0])){v=0;continue}if(3===R[0]&&(!s||R[1]>s[0]&&R[1]<s[3])){v.label=R[1];break}if(6===R[0]&&v.label<s[1]){v.label=s[1],s=R;break}if(s&&v.label<s[2]){v.label=s[2],v.ops.push(R);break}s[2]&&v.ops.pop(),v.trys.pop();continue}R=a.call(p,v)}catch(it){R=[6,it],o=0}finally{e=s=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([N,H])}}},Pu="storage:start",mc="storage:after",ma="storage:end",Mu="storage:error",_l="local",Os="remote",Nu=function(p){function a(e){var o=p.call(this,e,"StorageManager",Eu)||this;o.storages={};var s=o.config;return s._disable&&(s.type=void 0),o.storages={},o.add(_l,new ed),o.add(Os,new fc),o.setCurrent(s.type),o}return gc(a,p),a.prototype.isAutosave=function(){return!!this.config.autosave},a.prototype.setAutosave=function(e){return this.config.autosave=!!e,this},a.prototype.getStepsBeforeSave=function(){return this.config.stepsBeforeSave},a.prototype.setStepsBeforeSave=function(e){return this.config.stepsBeforeSave=e,this},a.prototype.add=function(e,o){return this.storages[e]=o,this},a.prototype.get=function(e){return this.storages[e]},a.prototype.getStorages=function(){return this.storages},a.prototype.getCurrent=function(){return this.config.currentStorage},a.prototype.setCurrent=function(e){return this.getConfig().currentStorage=e,this},a.prototype.getCurrentStorage=function(){return this.get(this.getCurrent())},a.prototype.getStorageOptions=function(e){return this.getCurrentOptions(e)},a.prototype.store=function(e,o){return void 0===o&&(o={}),Zi(this,void 0,void 0,function(){var s,c,v,P,N;return bl(this,function(H){switch(H.label){case 0:s=this.getCurrentStorage(),c=Ss(Ss({},this.getCurrentOptions()),o),v=this.getRecoveryStorage(),P=this.getCurrentOptions(_l),H.label=1;case 1:return H.trys.push([1,5,,9]),[4,this.__exec(s,c,e)];case 2:return H.sent(),v?[4,this.__exec(v,P,{})]:[3,4];case 3:H.sent(),H.label=4;case 4:return[3,9];case 5:return N=H.sent(),v?[4,this.__exec(v,P,e)]:[3,7];case 6:return H.sent(),[3,8];case 7:throw N;case 8:return[3,9];case 9:return[2,e]}})})},a.prototype.load=function(e){return void 0===e&&(e={}),Zi(this,void 0,void 0,function(){var o,s,c,v,P;return bl(this,function(N){switch(N.label){case 0:return o=this.getCurrentStorage(),s=Ss(Ss({},this.getCurrentOptions()),e),(c=this.getRecoveryStorage())?[4,this.__exec(c,this.getCurrentOptions(_l))]:[3,5];case 1:if(P=N.sent(),(0,x.isEmpty)(P))return[3,5];N.label=2;case 2:return N.trys.push([2,4,,5]),[4,this.__askRecovery()];case 3:return N.sent(),v=P,[3,5];case 4:return N.sent(),[3,5];case 5:return v?[3,7]:[4,this.__exec(o,s)];case 6:v=N.sent(),N.label=7;case 7:return[2,v||{}]}})})},a.prototype.__askRecovery=function(){var e=this.em,o=this.getRecovery();return new Promise(function(s,c){(0,x.isFunction)(o)?o(s,c,e?.getEditor()):confirm(e?.t("storageManager.recover"))?s(null):c()})},a.prototype.getRecovery=function(){return this.config.recovery},a.prototype.getRecoveryStorage=function(){return this.getRecovery()&&this.getCurrent()===Os&&this.get(_l)},a.prototype.__exec=function(e,o,s){var c;return Zi(this,void 0,void 0,function(){var v,P,N,H,R,it,ft,Ct,St,Nt,zt,Ft,pe;return bl(this,function(ve){switch(ve.label){case 0:if(v=s?"store":"load",P=this.getConfig(),N=P.onStore,H=P.onLoad,this.onStart(v,s),!e)return[2,s||{}];ve.label=1;case 1:return ve.trys.push([1,14,,15]),it=null===(c=this.em)||void 0===c?void 0:c.getEditor(),ft=void 0,s?(St=N)?[4,N(s,it)]:[3,3]:[3,7];case 2:St=ve.sent(),ve.label=3;case 3:return Ct=St||s,(Nt=o.onStore)?[4,o.onStore(Ct,it)]:[3,5];case 4:Nt=ve.sent(),ve.label=5;case 5:return Ct=Nt||Ct,[4,e.store(Ct,o)];case 6:return ft=ve.sent(),R=s,[3,13];case 7:return[4,e.load(o)];case 8:return ft=ve.sent(),R=this.__clearKeys(ft),(zt=o.onLoad)?[4,o.onLoad(R,it)]:[3,10];case 9:zt=ve.sent(),ve.label=10;case 10:return R=zt||R,(Ft=H)?[4,H(R,it)]:[3,12];case 11:Ft=ve.sent(),ve.label=12;case 12:R=Ft||R,ve.label=13;case 13:return this.onAfter(v,R,ft),this.onEnd(v,R),[3,15];case 14:throw pe=ve.sent(),this.onError(v,pe),pe;case 15:return[2,R]}})})},a.prototype.__clearKeys=function(e){void 0===e&&(e={});var o=this.getConfig(),s=new RegExp("^".concat(o.id)),c={};for(var v in e)c[v.replace(s,"")]=e[v];return c},a.prototype.getCurrentOptions=function(e){var o=this.getConfig(),s=e||this.getCurrent();return o.options[s]||{}},a.prototype.onStart=function(e,o){var s=this.em;s&&(s.trigger(Pu),e&&s.trigger("".concat(Pu,":").concat(e),o))},a.prototype.onAfter=function(e,o,s){var c=this.em;c&&(c.trigger(mc),c.trigger("".concat(mc,":").concat(e),o,s),c.trigger("storage:".concat(e),o,s))},a.prototype.onEnd=function(e,o){var s=this.em;s&&(s.trigger(ma),e&&s.trigger("".concat(ma,":").concat(e),o))},a.prototype.onError=function(e,o){var s=this.em;s&&(s.trigger(Mu,o),e&&s.trigger("".concat(Mu,":").concat(e),o),this.onEnd(e,o))},a.prototype.canAutoload=function(){return!!this.getCurrentStorage()&&!!this.config.autoload},a.prototype.destroy=function(){this.storages={}},a}(S);const Du=Nu,od={stylePrefix:"trt-",appendTo:"",optionsTarget:[{value:!1},{value:"_blank"}],custom:!1};var vc=lt(330),Lu=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),va=function(){return va=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},va.apply(this,arguments)},yc=function(p){function a(e){void 0===e&&(e={});var o=p.call(this,e)||this;o.events={},o.appendInput=!0;var s=e.config,c=void 0===s?{}:s,v=o,P=v.model,N=v.eventCapture,H=P.target,R=P.attributes.type;o.config=c,o.em=c.em,o.ppfx=c.pStylePrefix||"",o.pfx=o.ppfx+c.stylePrefix||"",o.target=H;var it=o.ppfx;return o.clsField="".concat(it,"field ").concat(it,"field-").concat(R),[["change:value",o.onValueChange],["remove",o.removeView]].forEach(function(ft){var Ct=ft[0],St=ft[1];P.off(Ct,St),o.listenTo(P,Ct,St)}),P.view=o,o.listenTo(P,"change:label",o.render),o.listenTo(P,"change:placeholder",o.rerender),o.events={},N.forEach(function(ft){return o.events[ft]="onChange"}),o.delegateEvents(),o.init(),o}return Lu(a,p),a.prototype.attributes=function(){return this.model.get("attributes")||{}},a.prototype.templateLabel=function(e){var o=this.ppfx,s=this.getLabel();return'<div class="'.concat(o,'label" title="').concat(s,'">').concat(s,"</div>")},a.prototype.templateInput=function(e){var o=this.clsField;return'<div class="'.concat(o,'" data-input></div>')},a.prototype.getClbOpts=function(){return{component:this.target,trait:this.model,elInput:this.getInputElem()}},a.prototype.removeView=function(){this.remove(),this.removed()},a.prototype.init=function(){},a.prototype.removed=function(){},a.prototype.onRender=function(e){},a.prototype.onUpdate=function(e){},a.prototype.onEvent=function(e){},a.prototype.onChange=function(e){var o=this.getInputElem();o&&!(0,x.isUndefined)(o.value)&&this.model.set("value",o.value),this.onEvent(va(va({},this.getClbOpts()),{event:e}))},a.prototype.getValueForTarget=function(){return this.model.get("value")},a.prototype.setInputValue=function(e){var o=this.getInputElem();o&&(o.value=e)},a.prototype.onValueChange=function(e,o,s){if(void 0===s&&(s={}),s.fromTarget)this.setInputValue(e.get("value")),this.postUpdate();else{var c=this.getValueForTarget();e.setTargetValue(c,s)}},a.prototype.renderLabel=function(){var e=this.$el,o=this.target,s=this.getLabel(),c=this.templateLabel(o);this.createLabel&&(c=this.createLabel({label:s,component:o,trait:this})||""),e.find("[data-label]").append(c)},a.prototype.getLabel=function(){var e=this.em,o=this.model.attributes,s=o.label,c=o.name;return e.t("traitManager.traits.labels.".concat(c))||(0,g.capitalize)(s||c).replace(/-/g," ")},a.prototype.getComponent=function(){return this.target},a.prototype.getInputEl=function(){if(!this.$input){var e=this.em,o=this.model,s=o,c=o.attributes.name,v=s.get("placeholder")||s.get("default")||"",P=s.get("type")||"text",N=s.get("min"),H=s.get("max"),R=this.getModelValue(),it=(0,_.default)('<input type="'.concat(P,'">')),ft=e.t("traitManager.traits.attributes.".concat(c))||{};it.attr(va({placeholder:v},ft)),(0,x.isUndefined)(R)||(s.set({value:R},{silent:!0}),it.prop("value",R)),N&&it.prop("min",N),H&&it.prop("max",H),this.$input=it}return this.$input.get(0)},a.prototype.getInputElem=function(){var e=this.input,o=this.$input;return e||o&&o.get&&o.get(0)||this.getElInput()},a.prototype.getModelValue=function(){var e,o=this.model,s=this.target,c=o.getName();if(o.get("changeProp"))e=s.get(c);else{var v=s.get("attributes");e=o.get("value")||v[c]}return(0,x.isUndefined)(e)?"":e},a.prototype.getElInput=function(){return this.elInput},a.prototype.renderField=function(){var e=this,o=e.$el,s=e.appendInput,c=e.model,v=o.find("[data-input]"),P=v[v.length-1],N=c.el;N||(N=this.createInput?this.createInput(this.getClbOpts()):this.getInputEl()),(0,x.isString)(N)?(P.innerHTML=N,this.elInput=P.firstChild):(s?P.appendChild(N):P.insertBefore(N,P.firstChild),this.elInput=N),c.el=this.elInput},a.prototype.hasLabel=function(){var e=this.model.attributes.label;return!this.noLabel&&!1!==e},a.prototype.rerender=function(){delete this.model.el,this.render()},a.prototype.postUpdate=function(){this.onUpdate(this.getClbOpts())},a.prototype.render=function(){var e=this,o=e.$el,s=e.pfx,c=e.ppfx,v=e.model.attributes,P=v.type,N=v.id,H=this.hasLabel&&this.hasLabel(),R="".concat(s,"trait");delete this.$input;var it='<div class="'.concat(R," ").concat(R,"--").concat(P,'">\n      ').concat(H?'<div class="'.concat(c,'label-wrp" data-label></div>'):"",'\n      <div class="').concat(c,"field-wrp ").concat(c,"field-wrp--").concat(P,'" data-input>\n        ').concat(this.templateInput?(0,x.isFunction)(this.templateInput)?this.templateInput(this.getClbOpts()):this.templateInput:"","\n      </div>\n    </div>");return o.empty().append(it),H&&this.renderLabel(),this.renderField(),this.el.className="".concat(R,"__wrp ").concat(R,"__wrp-").concat(N),this.postUpdate(),this.onRender(this.getClbOpts()),this},a}(T.G7);const Ho=yc;yc.prototype.eventCapture=["change"];var ya=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),As=function(p){function a(e,o){void 0===e&&(e={});var s=p.call(this,e)||this;s.reuseView=!0,s.itemsView=o;var c=e.config||{},v=e.editor;return s.config=c,s.em=v,s.ppfx=c.pStylePrefix||"",s.pfx=s.ppfx+c.stylePrefix||"",s.className="".concat(s.pfx,"traits"),s.listenTo(v,"component:toggled",s.updatedCollection),s.updatedCollection(),s}return ya(a,p),a.prototype.updatedCollection=function(){var e=this,o=e.ppfx,s=e.className,c=e.em.getSelected();this.el.className="".concat(s," ").concat(o,"one-bg ").concat(o,"two-color"),this.collection=c?c.traits:[],this.render()},a}(vc.Z);const Iu=As;As.prototype.itemView=Ho;var bc=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const id=function(p){function a(e){void 0===e&&(e={});var o=p.call(this,e)||this;return o.listenTo(o.model,"change:options",o.rerender),o}return bc(a,p),a.prototype.templateInput=function(){var e=this.ppfx,o=this.clsField;return'<div class="'.concat(o,'">\n      <div data-input></div>\n      <div class="').concat(e,'sel-arrow">\n        <div class="').concat(e,'d-s-arrow"></div>\n      </div>\n    </div>')},a.prototype.getInputEl=function(){if(!this.$input){var e=this.model,o=this.em,s=e.get("name"),c=e.get("options")||[],v=[],P="<select>";c.forEach(function(R){var it,ft,Ct,St="";(0,x.isString)(R)?(it=R,ft=R):(it=R.name||R.label||R.value,ft="".concat((0,x.isUndefined)(R.value)?R.id:R.value).replace(/"/g,"&quot;"),St+=(Ct=R.style?R.style.replace(/"/g,"&quot;"):"")?' style="'.concat(Ct,'"'):"");var Nt=o.t("traitManager.traits.options.".concat(s,".").concat(ft))||it;P+='<option value="'.concat(ft,'"').concat(St,">").concat(Nt,"</option>"),v.push(ft)}),P+="</select>",this.$input=(0,_.default)(P);var N=e.getTargetValue(),H=v.indexOf(N)>=0?N:e.get("default");!(0,x.isUndefined)(H)&&this.$input.val(H)}return this.$input.get(0)},a}(Ho);var Ru=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const sd=function(p){function a(){var e=null!==p&&p.apply(this,arguments)||this;return e.appendInput=!1,e}return Ru(a,p),a.prototype.templateInput=function(){var e=this.ppfx,o=this.clsField;return'<label class="'.concat(o,'" data-input>\n    <i class="').concat(e,'chk-icon"></i>\n  </label>')},a.prototype.onChange=function(){this.model.set("value",this.getInputElem().checked)},a.prototype.setInputValue=function(e){var o=this.getInputElem();o&&(o.checked=!!e)},a.prototype.getInputEl=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var s=!this.$input,c=Ho.prototype.getInputEl.apply(this,e);if(s){var v=void 0,P=void 0,H=this.model,R=this.target,it=H.attributes.valueFalse,ft=H.getName();H.get("changeProp")?P=v=R.get(ft):v=!(!(P=R.get("attributes")[ft])&&""!==P),(0,x.isUndefined)(it)||P!==it||(v=!1),c.checked=v}return c},a}(Ho);var ad=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ju=function(p){function a(e){void 0===e&&(e={});var o=p.call(this,e)||this,s=e.ppfx||"";return o.opts=e,o.ppfx=s,o.em=e.target||{},!e.onChange&&o.listenTo(o.model,"change:value",o.handleModelChange),o}return ad(a,p),a.prototype.template=function(){return'<span class="'.concat(this.holderClass(),'"></span>')},a.prototype.inputClass=function(){return"".concat(this.ppfx,"field")},a.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},a.prototype.elementUpdated=function(){this.model.trigger("el:change")},a.prototype.setValue=function(e,o){var s=this.model,c=e||s.get("defaults"),v=this.getInputEl();v&&(v.value=c)},a.prototype.handleModelChange=function(e,o,s){this.setValue(o,s)},a.prototype.handleChange=function(e){e.stopPropagation();var o=this.getInputEl().value;this.__onInputChange(o),this.elementUpdated()},a.prototype.__onInputChange=function(e){this.model.set({value:e},{fromInput:1})},a.prototype.getInputEl=function(){if(!this.inputEl){var e=this.model,o=this.opts.type||"text",s=e.get("placeholder")||e.get("defaults")||e.get("default")||"";this.inputEl=(0,_.default)('<input type="'.concat(o,'" placeholder="').concat(s,'">'))}return this.inputEl.get(0)},a.prototype.render=function(){this.inputEl=null;var e=this.$el;return e.addClass(this.inputClass()),e.html(this.template()),e.find(".".concat(this.holderClass())).append(this.getInputEl()),this},a}(T.G7);const wl=ju;ju.prototype.events={change:"handleChange"};var Hu=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Fu=function(p){function a(e){void 0===e&&(e={});var o=p.call(this,e)||this;return(0,x.bindAll)(o,"moveIncrement","upIncrement"),o.doc=document,o.listenTo(o.model,"change:unit",o.handleModelChange),o}return Hu(a,p),a.prototype.template=function(){var e=this.ppfx;return'\n      <span class="'.concat(e,'input-holder"></span>\n      <span class="').concat(e,'field-units"></span>\n      <div class="').concat(e,'field-arrows" data-arrows>\n        <div class="').concat(e,'field-arrow-u" data-arrow-up></div>\n        <div class="').concat(e,'field-arrow-d" data-arrow-down></div>\n      </div>\n    ')},a.prototype.inputClass=function(){var e=this.ppfx;return this.opts.contClass||"".concat(e,"field ").concat(e,"field-integer")},a.prototype.setValue=function(e,o){var s=o||{},c=this.validateInputValue(e,{deepCheck:1}),v={value:c.value,unit:""};(c.unit||c.force)&&(v.unit=c.unit),this.model.set(v,s),s.silent&&this.handleModelChange()},a.prototype.handleChange=function(e){e.stopPropagation(),this.setValue(this.getInputEl().value),this.elementUpdated()},a.prototype.handleUnitChange=function(e){e.stopPropagation();var o=this.getUnitEl().value;this.model.set("unit",o),this.elementUpdated()},a.prototype.handleKeyDown=function(e){"ArrowUp"===e.key&&(e.preventDefault(),this.upArrowClick()),"ArrowDown"===e.key&&(e.preventDefault(),this.downArrowClick())},a.prototype.elementUpdated=function(){this.model.trigger("el:change")},a.prototype.handleModelChange=function(){var e=this.model;this.getInputEl().value=e.get("value");var o=this.getUnitEl();o&&(o.value=e.get("unit")||"")},a.prototype.getUnitEl=function(){if(!this.unitEl){var e=this.model,o=e.get("units")||[];if(o.length){var s=['<option value="" disabled hidden>-</option>'];o.forEach(function(v){var P=v==e.get("unit")?"selected":"";s.push("<option ".concat(P,">").concat(v,"</option>"))});var c=document.createElement("div");c.innerHTML='<select class="'.concat(this.ppfx,'input-unit">').concat(s.join(""),"</select>"),this.unitEl=c.firstChild}}return this.unitEl},a.prototype.upArrowClick=function(){var e=this.model,o=e.get("step"),s=parseFloat(e.get("value"));this.setValue(this.normalizeValue(s+o)),this.elementUpdated()},a.prototype.downArrowClick=function(){var e=this.model,o=e.get("step"),s=parseFloat(e.get("value"));this.setValue(this.normalizeValue(s-o)),this.elementUpdated()},a.prototype.downIncrement=function(e){e.preventDefault(),this.moved=!1;var o=this.model.get("value")||0;o=this.normalizeValue(o),this.current={y:e.pageY,val:o},(0,g.on)(this.doc,"mousemove",this.moveIncrement),(0,g.on)(this.doc,"mouseup",this.upIncrement)},a.prototype.moveIncrement=function(e){this.moved=!0;var o=this.model,s=o.get("step"),c=this.current,v=this.normalizeValue(c.val+(c.y-e.pageY)*s),P=this.validateInputValue(v),N=P.value,H=P.unit;return this.prValue=N,o.set({value:N,unit:H},{avoidStore:1}),!1},a.prototype.upIncrement=function(){var e=this.model,o=e.get("step");if((0,g.off)(this.doc,"mouseup",this.upIncrement),(0,g.off)(this.doc,"mousemove",this.moveIncrement),this.prValue&&this.moved){var s=this.prValue-o;e.set("value",s,{avoidStore:1}).set("value",s+o),this.elementUpdated()}},a.prototype.normalizeValue=function(e,o){void 0===o&&(o=0);var s=this.model.get("step"),c=0;if(isNaN(e))return o;if(e=parseFloat(e),Math.floor(e)!==e){var v=s.toString().split(".")[1];c=v?v.length:0}return c?parseFloat(e.toFixed(c)):e},a.prototype.validateInputValue=function(e,o){void 0===o&&(o={});var s=0,c=o||{},v=this.model,N=(0,x.isUndefined)(e)?"":e,H=o.units||v.get("units")||[],R=v.get("unit")||H.length&&H[0]||"",it=(0,x.isUndefined)(o.max)?v.get("max"):o.max,ft=(0,x.isUndefined)(o.min)?v.get("min"):o.min,Ct=!!v.get("limitlessMax"),St=!!v.get("limitlessMin");if(c.deepCheck){var Nt=v.get("fixedValues")||[];if(""===N&&(R=""),N){var zt=new RegExp("^"+Nt.join("|"),"g");if(Nt.length&&zt.test(N))N=N.match(zt)[0],R="",s=1;else{var Ft=N+"";N+="",N=parseFloat(N.replace(",",".")),N=isNaN(N)?"":N;var pe=Ft.replace(N,"");(0,x.indexOf)(H,pe)>=0&&(R=pe)}}}return Ct||(0,x.isUndefined)(it)||""===it||(N=N>it?it:N),St||(0,x.isUndefined)(ft)||""===ft||(N=N<ft?ft:N),{force:s,value:N,unit:R}},a.prototype.render=function(){wl.prototype.render.call(this),this.unitEl=null;var e=this.getUnitEl();return e&&this.$el.find(".".concat(this.ppfx,"field-units")).get(0).appendChild(e),this},a}(wl);const Bu=Fu;Fu.prototype.events={"change input":"handleChange","change select":"handleUnitChange","click [data-arrow-up]":"upArrowClick","click [data-arrow-down]":"downArrowClick","mousedown [data-arrows]":"downIncrement",keydown:"handleKeyDown"};var Uu=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const _c=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Uu(a,p),a.prototype.getValueForTarget=function(){var e=this.model,o=e.attributes,s=o.value,c=o.unit;return(0,x.isUndefined)(s)||""===s?e.get("default"):s+c},a.prototype.getInputEl=function(){if(!this.input){var e=this.ppfx,o=this.model,s=this.getModelValue(),c=new Bu({contClass:"".concat(e,"field-int"),type:"number",model:o,ppfx:e});c.render(),this.$input=c.inputEl,this.$unit=c.unitEl,o.set("value",s,{fromTarget:!0}),this.$input.val(s),this.input=c.el}return this.input},a}(Ho);var Vu=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ba=function(){return ba=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},ba.apply(this,arguments)};_.default&&function(p,a){if((0,g.hasWin)()){var e={beforeShow:wr,move:wr,change:wr,show:wr,hide:wr,color:!1,flat:!1,showInput:!1,allowEmpty:!1,showButtons:!0,clickoutFiresChange:!0,showInitial:!1,showPalette:!1,showPaletteOnly:!1,hideAfterPaletteSelect:!1,togglePaletteOnly:!1,showSelectionPalette:!0,localStorageKey:!1,appendTo:"body",maxSelectionSize:7,cancelText:"cancel",chooseText:"choose",togglePaletteMoreText:"more",togglePaletteLessText:"less",clearText:"Clear Color Selection",noColorSelectedText:"No Color Selected",preferredFormat:!1,className:"",containerClassName:"",replacerClassName:"",showAlpha:!1,theme:"sp-light",palette:[["#ffffff","#000000","#ff0000","#ff8000","#ffff00","#008000","#0000ff","#4b0082","#9400d3"]],selectionPalette:[],disabled:!1,offset:null},o=[],s=!!/msie/i.exec(window.navigator.userAgent),c=function(){function Kt(de,_e){return!!~(""+de).indexOf(_e)}var ue=document.createElement("div").style;return ue.cssText="background-color:rgba(0,0,0,.5)",Kt(ue.backgroundColor,"rgba")||Kt(ue.backgroundColor,"hsla")}(),v=["<div class='sp-replacer'>","<div class='sp-preview'><div class='sp-preview-inner'></div></div>","<div class='sp-dd'>&#9660;</div>","</div>"].join(""),P=function(){var Kt="";if(s)for(var ue=1;ue<=6;ue++)Kt+="<div class='sp-"+ue+"'></div>";return["<div class='sp-container sp-hidden'>","<div class='sp-palette-container'>","<div class='sp-palette sp-thumb sp-cf'></div>","<div class='sp-palette-button-container sp-cf'>","<button type='button' class='sp-palette-toggle'></button>","</div>","</div>","<div class='sp-picker-container'>","<div class='sp-top sp-cf'>","<div class='sp-fill'></div>","<div class='sp-top-inner'>","<div class='sp-color'>","<div class='sp-sat'>","<div class='sp-val'>","<div class='sp-dragger'></div>","</div>","</div>","</div>","<div class='sp-clear sp-clear-display'>","</div>","<div class='sp-hue'>","<div class='sp-slider'></div>",Kt,"</div>","</div>","<div class='sp-alpha'><div class='sp-alpha-inner'><div class='sp-alpha-handle'></div></div></div>","</div>","<div class='sp-input-container sp-cf'>","<input class='sp-input' type='text' spellcheck='false'  />","</div>","<div class='sp-initial sp-thumb sp-cf'></div>","<div class='sp-button-container sp-cf'>","<a class='sp-cancel' href='#'></a>","<button type='button' class='sp-choose'></button>","</div>","</div>","</div>"].join("")}(),N="spectrum.id";p.fn.spectrum=function(Kt,ue){if("string"==typeof Kt){var de=this,_e=Array.prototype.slice.call(arguments,1);return this.each(function(){var ze=o[p(this).data(N)];if(ze){var tn=ze[Kt];if(!tn)throw new Error("Spectrum: no such method: '"+Kt+"'");"get"==Kt?de=ze.get():"container"==Kt?de=ze.container:"option"==Kt?de=ze.option.apply(ze,_e):"destroy"==Kt?(ze.destroy(),p(this).removeData(N)):tn.apply(ze,_e)}}),de}return this.spectrum("destroy").each(function(){var ze=function Nn(Kt,ue){var de,_e,ze,tn,ke=(en=ue,rn=Kt,gn=p.extend({},e,en),gn.callbacks={move:Sr(gn.move,rn),change:Sr(gn.change,rn),show:Sr(gn.show,rn),hide:Sr(gn.hide,rn),beforeShow:Sr(gn.beforeShow,rn)},gn),Tn=ke.flat,Un=ke.showSelectionPalette,Qr=ke.localStorageKey,io=ke.theme,xn=ke.callbacks,Je=(de=Na,_e=10,function(){var en=this,rn=arguments,gn=function(){tn=null,de.apply(en,rn)};ze&&clearTimeout(tn),!ze&&tn||(tn=setTimeout(gn,_e))}),On=!1,Vn=!1,so=!0,Ir=0,Rr=0,zr=0,Eo=0,ni=0,Ds=0,xo=0,Rc=0,jc=0,Hc=0,Ti=1,wp=[],Fc=[],Tp={},Ci=ke.selectionPalette.slice(0),Rm=ke.maxSelectionSize,qh="sp-dragging",Ls=null,Bc=Kt.ownerDocument,Or=(Bc.body,p(Kt)),Hd=!1,En=p(P,Bc).addClass(io),jm=En.find(".sp-picker-container"),Cp=En.find(".sp-color"),Ep=En.find(".sp-dragger"),Fd=En.find(".sp-hue"),xp=En.find(".sp-slider"),Uc=En.find(".sp-alpha-inner"),Gh=En.find(".sp-alpha"),Sp=En.find(".sp-alpha-handle"),Ei=En.find(".sp-input"),Wh=En.find(".sp-palette"),$h=En.find(".sp-initial"),Kh=En.find(".sp-cancel"),Bd=En.find(".sp-clear"),Yh=En.find(".sp-choose"),Ud=En.find(".sp-palette-toggle"),Op=Or.is("input"),Hm=Op&&"color"===Or.attr("type")&&Lr(),Vd=Op&&!Tn,Nl=Vd?p(v).addClass(io).addClass(ke.className).addClass(ke.replacerClassName):p([]),Vc=Vd?Nl:Or,Dl=Nl.find(".sp-preview-inner"),zc=ke.color||Op&&Or.val(),Ll=!1,Il=ke.preferredFormat,Fm=!ke.showButtons||ke.clickoutFiresChange,Is=!zc,ka=ke.allowEmpty&&!Hm;var en,rn,gn;function zd(){if(ke.showPaletteOnly&&(ke.showPalette=!0),Ud.text(ke.showPaletteOnly?ke.togglePaletteMoreText:ke.togglePaletteLessText),ke.palette){wp=ke.palette.slice(0),Fc=p.isArray(wp[0])?wp:[wp],Tp={};for(var en=0;en<Fc.length;en++)for(var rn=0;rn<Fc[en].length;rn++){var gn=Ft(Fc[en][rn]).toRgbString();Tp[gn]=!0}}En.toggleClass("sp-flat",Tn),En.toggleClass("sp-input-disabled",!ke.showInput),En.toggleClass("sp-alpha-enabled",ke.showAlpha),En.toggleClass("sp-clear-enabled",ka),En.toggleClass("sp-buttons-disabled",!ke.showButtons),En.toggleClass("sp-palette-buttons-disabled",!ke.togglePaletteOnly),En.toggleClass("sp-palette-disabled",!ke.showPalette),En.toggleClass("sp-palette-only",ke.showPaletteOnly),En.toggleClass("sp-initial-disabled",!ke.showInitial),En.addClass(ke.className).addClass(ke.containerClassName),Na()}function Xh(){if(Qr&&window.localStorage){try{var en=window.localStorage[Qr].split(",#");en.length>1&&(delete window.localStorage[Qr],p.each(en,function(rn,gn){qd(gn)}))}catch{}try{Ci=window.localStorage[Qr].split(";")}catch{}}}function qd(en){if(Un){var rn=Ft(en).toRgbString();if(!Tp[rn]&&-1===p.inArray(rn,Ci))for(Ci.push(rn);Ci.length>Rm;)Ci.shift();if(Qr&&window.localStorage)try{window.localStorage[Qr]=Ci.join(";")}catch{}}}function Zh(){var en=bo(),rn=p.map(Fc,function(gn,un){return wn(gn,en,"sp-palette-row sp-palette-row-"+un,ke)});Xh(),Ci&&rn.push(wn(function(){var gn=[];if(ke.showPalette)for(var un=0;un<Ci.length;un++){var Jr=Ft(Ci[un]).toRgbString();Tp[Jr]||gn.push(Ci[un])}return gn.reverse().slice(0,ke.maxSelectionSize)}(),en,"sp-palette-row sp-palette-row-selection",ke)),Wh.html(rn.join(""))}function Qh(){if(ke.showInitial){var en=Ll,rn=bo();$h.html(wn([en,rn],rn,"sp-palette-row-initial",ke))}}function Gd(){(Rr<=0||Ir<=0||Eo<=0)&&Na(),Vn=!0,En.addClass(qh),Ls=null,Or.trigger("dragstart.spectrum",[bo()])}function Wd(){Vn=!1,En.removeClass(qh),Or.trigger("dragstop.spectrum",[bo()])}function $d(){var en=Ei.val();if(null!==en&&""!==en||!ka){var rn=Ft(en);rn.isValid()?(Pa(rn),Ma(!0)):Ei.addClass("sp-validation-error")}else Pa(null),Ma(!0)}function Jh(){On?Rs():Kd()}function Kd(){var en=p.Event("beforeShow.spectrum");if(On)Na();else if(Or.trigger("beforeShow.spectrum",[bo()]),!1!==xn.beforeShow(bo())&&!en.isDefaultPrevented()){(function(){for(var gn=0;gn<o.length;gn++)o[gn]&&o[gn].hide()})(),On=!0;var rn=p(Bc);rn.bind("keydown.spectrum",tf),rn.bind("click.spectrum",ef),p(window).bind("resize.spectrum",Je),Nl.addClass("sp-active"),En.removeClass("sp-hidden"),Na(),jl(),Ll=bo(),Qh(),xn.show(Ll),Or.trigger("show.spectrum",[Ll])}}function tf(en){27===en.keyCode&&Rs()}function ef(en){2!=en.button&&(Vn||(Fm?Ma(!0):nf(),Rs()))}function Rs(){On&&!Tn&&(On=!1,p(Bc).unbind("keydown.spectrum",tf),p(Bc).unbind("click.spectrum",ef),p(window).unbind("resize.spectrum",Je),Nl.removeClass("sp-active"),En.addClass("sp-hidden"),xn.hide(bo()),Or.trigger("hide.spectrum",[bo()]))}function nf(){Pa(Ll,!0)}function Pa(en,rn){var gn,un;Ft.equals(en,bo())?jl():(!en&&ka?Is=!0:(Is=!1,so=!en,un=(gn=Ft(en)).toHsv(),Rc=un.h%360/360,jc=un.s,Hc=un.v,Ti=un.a),jl(),gn&&gn.isValid()&&!rn&&(Il=ke.preferredFormat||gn.getFormat()))}function bo(en){return en=en||{},ka&&Is?null:Ft.fromRatio({h:Rc,s:jc,v:Hc,a:Math.round(100*Ti)/100},{format:en.format||Il})}function Rl(){jl(),xn.move(bo()),Or.trigger("move.spectrum",[bo()])}function jl(){Ei.removeClass("sp-validation-error"),rf();var en=Ft.fromRatio({h:Rc,s:1,v:1});Cp.css("background-color",en.toHexString());var rn=Il;Ti<1&&(0!==Ti||"name"!==rn)&&("hex"!==rn&&"hex3"!==rn&&"hex6"!==rn&&"name"!==rn||(rn="rgb"));var gn=bo({format:rn}),un="";if(Dl.removeClass("sp-clear-display"),Dl.css("background-color","transparent"),!gn&&ka)Dl.addClass("sp-clear-display");else{var Jr=gn.toHexString(),xi=gn.toRgbString();if(c||1===gn.alpha?Dl.css("background-color",xi):(Dl.css("background-color","transparent"),Dl.css("filter",gn.toFilter())),ke.showAlpha){var js=gn.toRgb();js.a=0;var Hs=Ft(js).toRgbString(),Da="linear-gradient(left, "+Hs+", "+Jr+")";s?Uc.css("filter",Ft(Hs).toFilter({gradientType:1},Jr)):(Uc.css("background","-webkit-"+Da),Uc.css("background","-moz-"+Da),Uc.css("background","-ms-"+Da),Uc.css("background","linear-gradient(to right, "+Hs+", "+Jr+")"))}un=gn.toString(rn)}ke.showInput&&Ei.val(un),ke.showPalette&&Zh(),Qh()}function rf(){var en=jc,rn=Hc;if(ka&&Is)Sp.hide(),xp.hide(),Ep.hide();else{Sp.show(),xp.show(),Ep.show();var gn=en*Ir,un=Rr-rn*Rr;gn=Math.max(-zr,Math.min(Ir-zr,gn-zr)),un=Math.max(-zr,Math.min(Rr-zr,un-zr)),Ep.css({top:un+"px",left:gn+"px"});var Jr=Ti*ni;Sp.css({left:Jr-Ds/2+"px"});var xi=Rc*Eo;xp.css({top:xi-xo+"px"})}}function Ma(en){var rn=bo(),gn="",un=!!so||!Ft.equals(rn,Ll);rn&&(gn=rn.toString(Il),!On&&qd(rn)),Op&&Or.val(gn),en&&un&&(xn.change(rn),Or.trigger("change",[rn]))}function Na(){On&&(Ir=Cp.width(),Rr=Cp.height(),zr=Ep.height(),Fd.width(),Eo=Fd.height(),xo=xp.height(),ni=Gh.width(),Ds=Sp.width(),Tn||(En.css("position","absolute"),ke.offset?En.offset(ke.offset):En.offset(function(en,rn){var gn=0,un=en.outerWidth(),Jr=en.outerHeight(),xi=rn.outerHeight(),js=en[0].ownerDocument,Hs=js.documentElement,Da=Hs.clientWidth,Yd=Hs.clientHeight,Xd=Da+p(js).scrollLeft(),sf=Yd+p(js).scrollTop(),rs=rn.offset();return rs.top+=xi,rs.left-=Math.min(rs.left,rs.left+un>Xd&&Xd>un?Math.abs(rs.left+un-Xd):0),rs.top-=Math.min(rs.top,rs.top+Jr>sf&&sf>Jr?Math.abs(Jr+xi-gn):gn),rs}(En,Vc))),rf(),ke.showPalette&&Zh(),Or.trigger("reflow.spectrum"))}function of(){Rs(),Hd=!0,Or.attr("disabled",!0),Vc.addClass("sp-disabled")}!function(){if(s&&En.find("*:not(input)").attr("unselectable","on"),zd(),Vd&&Or.after(Nl).hide(),ka||Bd.hide(),Tn)Or.after(En).hide();else{var en="parent"===ke.appendTo?Or.parent():p(ke.appendTo);1!==en.length&&(en=p("body")),en.append(En)}function rn(un){return un.data&&un.data.ignore?(Pa(p(un.target).closest(".sp-thumb-el").data("color")),Rl()):(Pa(p(un.target).closest(".sp-thumb-el").data("color")),Rl(),ke.hideAfterPaletteSelect&&(Ma(!0),Rs())),!1}Xh(),Vc.bind("click.spectrum touchstart.spectrum",function(un){Hd||Jh(),un.stopPropagation(),p(un.target).is("input")||un.preventDefault()}),(Or.is(":disabled")||!0===ke.disabled)&&of(),En.click(Zr),Ei.change($d),Ei.bind("paste",function(){setTimeout($d,1)}),Ei.keydown(function(un){13==un.keyCode&&$d()}),Kh.text(ke.cancelText),Kh.bind("click.spectrum",function(un){un.stopPropagation(),un.preventDefault(),nf(),Rs()}),Bd.attr("title",ke.clearText),Bd.bind("click.spectrum",function(un){un.stopPropagation(),un.preventDefault(),Is=!0,Rl(),Tn&&Ma(!0)}),Yh.text(ke.chooseText),Yh.bind("click.spectrum",function(un){un.stopPropagation(),un.preventDefault(),s&&Ei.is(":focus")&&Ei.trigger("change"),Ei.hasClass("sp-validation-error")||(Ma(!0),Rs())}),Ud.text(ke.showPaletteOnly?ke.togglePaletteMoreText:ke.togglePaletteLessText),Ud.bind("click.spectrum",function(un){un.stopPropagation(),un.preventDefault(),ke.showPaletteOnly=!ke.showPaletteOnly,ke.showPaletteOnly||Tn||En.css("left","-="+(jm.outerWidth(!0)+5)),zd()}),oo(Gh,function(un,Jr,xi){Ti=un/ni,Is=!1,xi.shiftKey&&(Ti=Math.round(10*Ti)/10),Rl()},Gd,Wd),oo(Fd,function(un,Jr){Rc=parseFloat(Jr/Eo),Is=!1,ke.showAlpha||(Ti=1),Rl()},Gd,Wd),oo(Cp,function(un,Jr,xi){if(xi.shiftKey){if(!Ls){var js=jc*Ir,Hs=Rr-Hc*Rr,Da=Math.abs(un-js)>Math.abs(Jr-Hs);Ls=Da?"x":"y"}}else Ls=null;var Yd=!Ls||"y"===Ls;(!Ls||"x"===Ls)&&(jc=parseFloat(un/Ir)),Yd&&(Hc=parseFloat((Rr-Jr)/Rr)),Is=!1,ke.showAlpha||(Ti=1),Rl()},Gd,Wd),zc?(Pa(zc),jl(),Il=ke.preferredFormat||Ft(zc).getFormat(),qd(zc)):jl(),Tn&&Kd();var gn=s?"mousedown.spectrum":"click.spectrum touchstart.spectrum";Wh.delegate(".sp-thumb-el",gn,rn),$h.delegate(".sp-thumb-el:nth-child(1)",gn,{ignore:!0},rn)}();var Ap={show:Kd,hide:Rs,toggle:Jh,reflow:Na,option:function(en,rn){return en===a?p.extend({},ke):rn===a?ke[en]:(ke[en]=rn,"preferredFormat"===en&&(Il=ke.preferredFormat),void zd())},enable:function(){Hd=!1,Or.attr("disabled",!1),Vc.removeClass("sp-disabled")},disable:of,offset:function(en){ke.offset=en,Na()},set:function(en){Pa(en),Ma()},get:bo,destroy:function(){Or.show(),Vc.unbind("click.spectrum touchstart.spectrum"),En.remove(),Nl.remove(),o[Ap.id]=null},container:En};return Ap.id=o.push(Ap)-1,Ap}(this,p.extend({},Kt,p(this).data()));p(this).data(N,ze.id)})},p.fn.spectrum.load=!0,p.fn.spectrum.loadOpts={},p.fn.spectrum.draggable=oo,p.fn.spectrum.defaults=e,p.fn.spectrum.inputTypeColorSupport=function Kt(){if(void 0===Kt._cachedResult){var ue=p("<input type='color'/>")[0];Kt._cachedResult="color"===ue.type&&""!==ue.value}return Kt._cachedResult},p.spectrum={},p.spectrum.localization={},p.spectrum.palettes={},p.fn.spectrum.processNativeColorInputs=function(){var Kt=p("input[type=color]");Kt.length&&!Lr()&&Kt.spectrum({preferredFormat:"hex6"})};var H=/^[\s,#]+/,R=/\s+$/,it=0,ft=Math,Ct=ft.round,St=ft.min,Nt=ft.max,zt=ft.random,Ft=function(Kt,ue){if(ue=ue||{},(Kt=Kt||"")instanceof Ft)return Kt;if(!(this instanceof Ft))return new Ft(Kt,ue);var _e,Un,Qr,io,ze,tn,ke,Tn,de=(ze={r:0,g:0,b:0},tn=1,ke=!1,Tn=!1,"string"==typeof(_e=Kt)&&(_e=function(xn){xn=xn.replace(H,"").replace(R,"").toLowerCase();var Je,On=!1;if(je[xn])xn=je[xn],On=!0;else if("transparent"==xn)return{r:0,g:0,b:0,a:0,format:"name"};return(Je=cn.rgb.exec(xn))?{r:Je[1],g:Je[2],b:Je[3]}:(Je=cn.rgba.exec(xn))?{r:Je[1],g:Je[2],b:Je[3],a:Je[4]}:(Je=cn.hsl.exec(xn))?{h:Je[1],s:Je[2],l:Je[3]}:(Je=cn.hsla.exec(xn))?{h:Je[1],s:Je[2],l:Je[3],a:Je[4]}:(Je=cn.hsv.exec(xn))?{h:Je[1],s:Je[2],v:Je[3]}:(Je=cn.hsva.exec(xn))?{h:Je[1],s:Je[2],v:Je[3],a:Je[4]}:(Je=cn.hex8.exec(xn))?{a:Im(Je[1]),r:wi(Je[2]),g:wi(Je[3]),b:wi(Je[4]),format:On?"name":"hex8"}:(Je=cn.hex6.exec(xn))?{r:wi(Je[1]),g:wi(Je[2]),b:wi(Je[3]),format:On?"name":"hex"}:!!(Je=cn.hex3.exec(xn))&&{r:wi(Je[1]+""+Je[1]),g:wi(Je[2]+""+Je[2]),b:wi(Je[3]+""+Je[3]),format:On?"name":"hex"}}(_e)),"object"==typeof _e&&(_e.hasOwnProperty("r")&&_e.hasOwnProperty("g")&&_e.hasOwnProperty("b")?(Un=_e.r,Qr=_e.g,io=_e.b,ze={r:255*pr(Un,255),g:255*pr(Qr,255),b:255*pr(io,255)},ke=!0,Tn="%"===String(_e.r).substr(-1)?"prgb":"rgb"):_e.hasOwnProperty("h")&&_e.hasOwnProperty("s")&&_e.hasOwnProperty("v")?(_e.s=Ic(_e.s),_e.v=Ic(_e.v),ze=function(xn,Je,On){xn=6*pr(xn,360),Je=pr(Je,100),On=pr(On,100);var Vn=ft.floor(xn),so=xn-Vn,Ir=On*(1-Je),Rr=On*(1-so*Je),zr=On*(1-(1-so)*Je),Eo=Vn%6;return{r:255*[On,Rr,Ir,Ir,zr,On][Eo],g:255*[zr,On,On,Rr,Ir,Ir][Eo],b:255*[Ir,Ir,zr,On,On,Rr][Eo]}}(_e.h,_e.s,_e.v),ke=!0,Tn="hsv"):_e.hasOwnProperty("h")&&_e.hasOwnProperty("s")&&_e.hasOwnProperty("l")&&(_e.s=Ic(_e.s),_e.l=Ic(_e.l),ze=function(xn,Je,On){var Vn,so,Ir;function Rr(ni,Ds,xo){return xo<0&&(xo+=1),xo>1&&(xo-=1),xo<1/6?ni+6*(Ds-ni)*xo:xo<.5?Ds:xo<2/3?ni+(Ds-ni)*(2/3-xo)*6:ni}if(xn=pr(xn,360),Je=pr(Je,100),On=pr(On,100),0===Je)Vn=so=Ir=On;else{var zr=On<.5?On*(1+Je):On+Je-On*Je,Eo=2*On-zr;Vn=Rr(Eo,zr,xn+1/3),so=Rr(Eo,zr,xn),Ir=Rr(Eo,zr,xn-1/3)}return{r:255*Vn,g:255*so,b:255*Ir}}(_e.h,_e.s,_e.l),ke=!0,Tn="hsl"),_e.hasOwnProperty("a")&&(tn=_e.a)),tn=zh(tn),{ok:ke,format:_e.format||Tn,r:St(255,Nt(ze.r,0)),g:St(255,Nt(ze.g,0)),b:St(255,Nt(ze.b,0)),a:tn});this._originalInput=Kt,this._r=de.r,this._g=de.g,this._b=de.b,this._a=de.a,this._roundA=Ct(100*this._a)/100,this._format=ue.format||de.format,this._gradientType=ue.gradientType,this._r<1&&(this._r=Ct(this._r)),this._g<1&&(this._g=Ct(this._g)),this._b<1&&(this._b=Ct(this._b)),this._ok=de.ok,this._tc_id=it++};Ft.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var Kt=this.toRgb();return(299*Kt.r+587*Kt.g+114*Kt.b)/1e3},setAlpha:function(Kt){return this._a=zh(Kt),this._roundA=Ct(100*this._a)/100,this},toHsv:function(){var Kt=ei(this._r,this._g,this._b);return{h:360*Kt.h,s:Kt.s,v:Kt.v,a:this._a}},toHsvString:function(){var Kt=ei(this._r,this._g,this._b),ue=Ct(360*Kt.h),de=Ct(100*Kt.s),_e=Ct(100*Kt.v);return 1==this._a?"hsv("+ue+", "+de+"%, "+_e+"%)":"hsva("+ue+", "+de+"%, "+_e+"%, "+this._roundA+")"},toHsl:function(){var Kt=Do(this._r,this._g,this._b);return{h:360*Kt.h,s:Kt.s,l:Kt.l,a:this._a}},toHslString:function(){var Kt=Do(this._r,this._g,this._b),ue=Ct(360*Kt.h),de=Ct(100*Kt.s),_e=Ct(100*Kt.l);return 1==this._a?"hsl("+ue+", "+de+"%, "+_e+"%)":"hsla("+ue+", "+de+"%, "+_e+"%, "+this._roundA+")"},toHex:function(Kt){return Oa(this._r,this._g,this._b,Kt)},toHexString:function(Kt){return"#"+this.toHex(Kt)},toHex8:function(){return Vh(this._r,this._g,this._b,this._a)},toHex8String:function(){return"#"+this.toHex8()},toRgb:function(){return{r:Ct(this._r),g:Ct(this._g),b:Ct(this._b),a:this._a}},toRgbString:function(){return 1==this._a?"rgb("+Ct(this._r)+", "+Ct(this._g)+", "+Ct(this._b)+")":"rgba("+Ct(this._r)+", "+Ct(this._g)+", "+Ct(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Ct(100*pr(this._r,255))+"%",g:Ct(100*pr(this._g,255))+"%",b:Ct(100*pr(this._b,255))+"%",a:this._a}},toPercentageRgbString:function(){return 1==this._a?"rgb("+Ct(100*pr(this._r,255))+"%, "+Ct(100*pr(this._g,255))+"%, "+Ct(100*pr(this._b,255))+"%)":"rgba("+Ct(100*pr(this._r,255))+"%, "+Ct(100*pr(this._g,255))+"%, "+Ct(100*pr(this._b,255))+"%, "+this._roundA+")"},toName:function(){return 0===this._a?"transparent":!(this._a<1)&&(nn[Oa(this._r,this._g,this._b,!0)]||!1)},toFilter:function(Kt){var ue="#"+Vh(this._r,this._g,this._b,this._a),de=ue,_e=this._gradientType?"GradientType = 1, ":"";return Kt&&(de=Ft(Kt).toHex8String()),"progid:DXImageTransform.Microsoft.gradient("+_e+"startColorstr="+ue+",endColorstr="+de+")"},toString:function(Kt){var ue=!!Kt;Kt=Kt||this._format;var de=!1,_e=this._a<1&&this._a>=0;return ue||!_e||"hex"!==Kt&&"hex6"!==Kt&&"hex3"!==Kt&&"name"!==Kt?("rgb"===Kt&&(de=this.toRgbString()),"prgb"===Kt&&(de=this.toPercentageRgbString()),"hex"!==Kt&&"hex6"!==Kt||(de=this.toHexString()),"hex3"===Kt&&(de=this.toHexString(!0)),"hex8"===Kt&&(de=this.toHex8String()),"name"===Kt&&(de=this.toName()),"hsl"===Kt&&(de=this.toHslString()),"hsv"===Kt&&(de=this.toHsvString()),de||this.toHexString()):"name"===Kt&&0===this._a?this.toName():this.toRgbString()},_applyModification:function(Kt,ue){var de=Kt.apply(null,[this].concat([].slice.call(ue)));return this._r=de._r,this._g=de._g,this._b=de._b,this.setAlpha(de._a),this},lighten:function(){return this._applyModification(xm,arguments)},brighten:function(){return this._applyModification(Sm,arguments)},darken:function(){return this._applyModification(Om,arguments)},desaturate:function(){return this._applyModification(Tm,arguments)},saturate:function(){return this._applyModification(Cm,arguments)},greyscale:function(){return this._applyModification(Em,arguments)},spin:function(){return this._applyModification(Am,arguments)},_applyCombination:function(Kt,ue){return Kt.apply(null,[this].concat([].slice.call(ue)))},analogous:function(){return this._applyCombination(Dm,arguments)},complement:function(){return this._applyCombination(km,arguments)},monochromatic:function(){return this._applyCombination(Lm,arguments)},splitcomplement:function(){return this._applyCombination(Nm,arguments)},triad:function(){return this._applyCombination(Pm,arguments)},tetrad:function(){return this._applyCombination(Mm,arguments)}},Ft.fromRatio=function(Kt,ue){if("object"==typeof Kt){var de={};for(var _e in Kt)Kt.hasOwnProperty(_e)&&(de[_e]="a"===_e?Kt[_e]:Ic(Kt[_e]));Kt=de}return Ft(Kt,ue)},Ft.equals=function(Kt,ue){return!(!Kt||!ue)&&Ft(Kt).toRgbString()==Ft(ue).toRgbString()},Ft.random=function(){return Ft.fromRatio({r:zt(),g:zt(),b:zt()})},Ft.mix=function(Kt,ue,de){de=0===de?0:de||50;var _e,ze=Ft(Kt).toRgb(),tn=Ft(ue).toRgb(),ke=de/100,Tn=2*ke-1,Un=tn.a-ze.a,Qr=1-(_e=((_e=Tn*Un==-1?Tn:(Tn+Un)/(1+Tn*Un))+1)/2),io={r:tn.r*_e+ze.r*Qr,g:tn.g*_e+ze.g*Qr,b:tn.b*_e+ze.b*Qr,a:tn.a*ke+ze.a*(1-ke)};return Ft(io)},Ft.readability=function(Kt,ue){var de=Ft(Kt),_e=Ft(ue),ze=de.toRgb(),tn=_e.toRgb(),ke=de.getBrightness(),Tn=_e.getBrightness(),Un=Math.max(ze.r,tn.r)-Math.min(ze.r,tn.r)+Math.max(ze.g,tn.g)-Math.min(ze.g,tn.g)+Math.max(ze.b,tn.b)-Math.min(ze.b,tn.b);return{brightness:Math.abs(ke-Tn),color:Un}},Ft.isReadable=function(Kt,ue){var de=Ft.readability(Kt,ue);return de.brightness>125&&de.color>500},Ft.mostReadable=function(Kt,ue){for(var de=null,_e=0,ze=!1,tn=0;tn<ue.length;tn++){var ke=Ft.readability(Kt,ue[tn]),Tn=ke.brightness>125&&ke.color>500,Un=ke.brightness/125*3+ke.color/500;(Tn&&!ze||Tn&&ze&&Un>_e||!Tn&&!ze&&Un>_e)&&(ze=Tn,_e=Un,de=Ft(ue[tn]))}return de};var pe,ve,De,je=Ft.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},nn=Ft.hexNames=function(Kt){var ue={};for(var de in Kt)Kt.hasOwnProperty(de)&&(ue[Kt[de]]=de);return ue}(je),cn=(ve="[\\s|\\(]+("+(pe="(?:[-\\+]?\\d*\\.\\d+%?)|(?:[-\\+]?\\d+%?)")+")[,|\\s]+("+pe+")[,|\\s]+("+pe+")\\s*\\)?",De="[\\s|\\(]+("+pe+")[,|\\s]+("+pe+")[,|\\s]+("+pe+")[,|\\s]+("+pe+")\\s*\\)?",{rgb:new RegExp("rgb"+ve),rgba:new RegExp("rgba"+De),hsl:new RegExp("hsl"+ve),hsla:new RegExp("hsla"+De),hsv:new RegExp("hsv"+ve),hsva:new RegExp("hsva"+De),hex3:/^([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex8:/^([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/});window.tinycolor=Ft,p(function(){p.fn.spectrum.load&&p.fn.spectrum.processNativeColorInputs()})}function wn(Kt,ue,de,_e){for(var ze=[],tn=0;tn<Kt.length;tn++){var ke=Kt[tn];if(ke){var Tn=Ft(ke),Un=Tn.toHsl().l<.5?"sp-thumb-el sp-thumb-dark":"sp-thumb-el sp-thumb-light";Un+=Ft.equals(ue,ke)?" sp-thumb-active":"";var Qr=Tn.toString(_e.preferredFormat||"rgb"),io=c?"background-color:"+Tn.toRgbString():"filter:"+Tn.toFilter();ze.push('<span title="'+Qr+'" data-color="'+Tn.toRgbString()+'" class="'+Un+'"><span class="sp-thumb-inner" style="'+io+';"></span></span>')}else ze.push(p("<div />").append(p('<span data-color="" style="background-color:transparent;" class="sp-clear-display"></span>').attr("title",_e.noColorSelectedText)).html())}return"<div class='sp-cf "+de+"'>"+ze.join("")+"</div>"}function wr(){}function Zr(Kt){Kt.stopPropagation()}function Sr(Kt,ue){var de=Array.prototype.slice,_e=de.call(arguments,2);return function(){return Kt.apply(ue,_e.concat(de.call(arguments)))}}function oo(Kt,ue,de,_e){ue=ue||function(){},de=de||function(){},_e=_e||function(){};var ze=document,tn=!1,ke={},Tn=0,Un=0,Qr="ontouchstart"in window,io={};function xn(Vn){Vn.stopPropagation&&Vn.stopPropagation(),Vn.preventDefault&&Vn.preventDefault(),Vn.returnValue=!1}function Je(Vn){if(tn){if(s&&ze.documentMode<9&&!Vn.button)return On();var so=Vn&&Vn.touches&&Vn.touches[0],Ir=so&&so.pageX||Vn.pageX,Rr=so&&so.pageY||Vn.pageY,zr=Math.max(0,Math.min(Ir-ke.left,Un)),Eo=Math.max(0,Math.min(Rr-ke.top,Tn));Qr&&xn(Vn),ue.apply(Kt,[zr,Eo,Vn])}}function On(){tn&&(p(ze).unbind(io),p(ze.body).removeClass("sp-dragging"),setTimeout(function(){_e.apply(Kt,arguments)},0)),tn=!1}io.selectstart=xn,io.dragstart=xn,io["touchmove mousemove"]=Je,io["touchend mouseup"]=On,p(Kt).bind("touchstart mousedown",function(Vn){(Vn.which?3==Vn.which:2==Vn.button)||tn||!1!==de.apply(Kt,arguments)&&(tn=!0,Tn=p(Kt).height(),Un=p(Kt).width(),ke=p(Kt).offset(),p(ze).bind(io),p(ze.body).addClass("sp-dragging"),Je(Vn),xn(Vn))})}function Lr(){return p.fn.spectrum.inputTypeColorSupport()}function Do(Kt,ue,de){Kt=pr(Kt,255),ue=pr(ue,255),de=pr(de,255);var _e,ze,tn=Nt(Kt,ue,de),ke=St(Kt,ue,de),Tn=(tn+ke)/2;if(tn==ke)_e=ze=0;else{var Un=tn-ke;switch(ze=Tn>.5?Un/(2-tn-ke):Un/(tn+ke),tn){case Kt:_e=(ue-de)/Un+(ue<de?6:0);break;case ue:_e=(de-Kt)/Un+2;break;case de:_e=(Kt-ue)/Un+4}_e/=6}return{h:_e,s:ze,l:Tn}}function ei(Kt,ue,de){Kt=pr(Kt,255),ue=pr(ue,255),de=pr(de,255);var _e,ze,tn=Nt(Kt,ue,de),ke=St(Kt,ue,de),Tn=tn,Un=tn-ke;if(ze=0===tn?0:Un/tn,tn==ke)_e=0;else{switch(tn){case Kt:_e=(ue-de)/Un+(ue<de?6:0);break;case ue:_e=(de-Kt)/Un+2;break;case de:_e=(Kt-ue)/Un+4}_e/=6}return{h:_e,s:ze,v:Tn}}function Oa(Kt,ue,de,_e){var ze=[Aa(Ct(Kt).toString(16)),Aa(Ct(ue).toString(16)),Aa(Ct(de).toString(16))];return _e&&ze[0].charAt(0)==ze[0].charAt(1)&&ze[1].charAt(0)==ze[1].charAt(1)&&ze[2].charAt(0)==ze[2].charAt(1)?ze[0].charAt(0)+ze[1].charAt(0)+ze[2].charAt(0):ze.join("")}function Vh(Kt,ue,de,_e){var ze;return[Aa((ze=_e,Math.round(255*parseFloat(ze)).toString(16))),Aa(Ct(Kt).toString(16)),Aa(Ct(ue).toString(16)),Aa(Ct(de).toString(16))].join("")}function Tm(Kt,ue){ue=0===ue?0:ue||10;var de=Ft(Kt).toHsl();return de.s-=ue/100,de.s=_p(de.s),Ft(de)}function Cm(Kt,ue){ue=0===ue?0:ue||10;var de=Ft(Kt).toHsl();return de.s+=ue/100,de.s=_p(de.s),Ft(de)}function Em(Kt){return Ft(Kt).desaturate(100)}function xm(Kt,ue){ue=0===ue?0:ue||10;var de=Ft(Kt).toHsl();return de.l+=ue/100,de.l=_p(de.l),Ft(de)}function Sm(Kt,ue){ue=0===ue?0:ue||10;var de=Ft(Kt).toRgb();return de.r=Nt(0,St(255,de.r-Ct(-ue/100*255))),de.g=Nt(0,St(255,de.g-Ct(-ue/100*255))),de.b=Nt(0,St(255,de.b-Ct(-ue/100*255))),Ft(de)}function Om(Kt,ue){ue=0===ue?0:ue||10;var de=Ft(Kt).toHsl();return de.l-=ue/100,de.l=_p(de.l),Ft(de)}function Am(Kt,ue){var de=Ft(Kt).toHsl(),_e=(Ct(de.h)+ue)%360;return de.h=_e<0?360+_e:_e,Ft(de)}function km(Kt){var ue=Ft(Kt).toHsl();return ue.h=(ue.h+180)%360,Ft(ue)}function Pm(Kt){var ue=Ft(Kt).toHsl(),de=ue.h;return[Ft(Kt),Ft({h:(de+120)%360,s:ue.s,l:ue.l}),Ft({h:(de+240)%360,s:ue.s,l:ue.l})]}function Mm(Kt){var ue=Ft(Kt).toHsl(),de=ue.h;return[Ft(Kt),Ft({h:(de+90)%360,s:ue.s,l:ue.l}),Ft({h:(de+180)%360,s:ue.s,l:ue.l}),Ft({h:(de+270)%360,s:ue.s,l:ue.l})]}function Nm(Kt){var ue=Ft(Kt).toHsl(),de=ue.h;return[Ft(Kt),Ft({h:(de+72)%360,s:ue.s,l:ue.l}),Ft({h:(de+216)%360,s:ue.s,l:ue.l})]}function Dm(Kt,ue,de){ue=ue||6,de=de||30;var _e=Ft(Kt).toHsl(),ze=360/de,tn=[Ft(Kt)];for(_e.h=(_e.h-(ze*ue>>1)+720)%360;--ue;)_e.h=(_e.h+ze)%360,tn.push(Ft(_e));return tn}function Lm(Kt,ue){ue=ue||6;for(var de=Ft(Kt).toHsv(),_e=de.h,ze=de.s,tn=de.v,ke=[],Tn=1/ue;ue--;)ke.push(Ft({h:_e,s:ze,v:tn})),tn=(tn+Tn)%1;return ke}function zh(Kt){return Kt=parseFloat(Kt),(isNaN(Kt)||Kt<0||Kt>1)&&(Kt=1),Kt}function pr(Kt,ue){var _e;"string"==typeof(_e=Kt)&&-1!=_e.indexOf(".")&&1===parseFloat(_e)&&(Kt="100%");var de=function(_e){return"string"==typeof _e&&-1!=_e.indexOf("%")}(Kt);return Kt=St(ue,Nt(0,parseFloat(Kt))),de&&(Kt=parseInt(Kt*ue,10)/100),ft.abs(Kt-ue)<1e-6?1:Kt%ue/parseFloat(ue)}function _p(Kt){return St(1,Nt(0,Kt))}function wi(Kt){return parseInt(Kt,16)}function Aa(Kt){return 1==Kt.length?"0"+Kt:""+Kt}function Ic(Kt){return Kt<=1&&(Kt=100*Kt+"%"),Kt}function Im(Kt){return wi(Kt)/255}}(_.default);var _a=function(p){var a="name"===p.getFormat()&&p.toName(),e=1==p.getAlpha()?p.toHexString():p.toRgbString();return a||e.replace(/ /g,"")};const Qi=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Vu(a,p),a.prototype.template=function(){var e=this.ppfx;return'\n      <div class="'.concat(this.holderClass(),'"></div>\n      <div class="').concat(e,'field-colorp">\n        <div class="').concat(e,'field-colorp-c" data-colorp-c>\n          <div class="').concat(e,'checker-bg"></div>\n        </div>\n      </div>\n    ')},a.prototype.inputClass=function(){var e=this.ppfx;return"".concat(e,"field ").concat(e,"field-color")},a.prototype.holderClass=function(){return"".concat(this.ppfx,"input-holder")},a.prototype.remove=function(){return p.prototype.remove.call(this),this.colorEl.spectrum("destroy"),this},a.prototype.handleChange=function(e){e.stopPropagation();var o=e.target.value;(0,x.isUndefined)(o)||this.__onInputChange(o)},a.prototype.__onInputChange=function(e){var o=this.model,s=this.opts.onChange,c=e,v=this.getColorEl();if(v){v.spectrum("set",c);var P=v.spectrum("get"),N=c&&_a(P);N&&(c=N)}s?s(c):o.set({value:c},{fromInput:1})},a.prototype.setValue=function(e,o){void 0===o&&(o={});var s=this.model,c=(0,x.isUndefined)(o.def)?s.get("defaults"):o.def,v=(0,x.isUndefined)(e)?(0,x.isUndefined)(c)?"":c:e,P=this.getInputEl(),N=this.getColorEl(),H="none"!=v?v:"";P.value=v,N.get(0).style.backgroundColor=H,(o.fromTarget||o.fromInput&&!o.avoidStore)&&(N.spectrum("set",H),this.noneColor="none"==v,this.movedColor=H)},a.prototype.getColorEl=function(){var e=this;if(!this.colorEl){var o=this,s=o.em,c=o.model,v=o.opts,P=this.ppfx,N=v.onChange,H=(0,_.default)('<div class="'.concat(this.ppfx,'field-color-picker"></div>')),R=H.get(0).style,it=s&&s.config?s.config.el:"",ft=s&&s.getConfig&&s.getConfig().colorPicker||{};this.movedColor="";var Ct,St=!1;this.$el.find("[data-colorp-c]").append(H);var Nt=function(zt,Ft){void 0===Ft&&(Ft=!0),N?N(zt,!Ft):(Ft&&c.setValueFromInput(0,!1),c.setValueFromInput(zt,Ft))};H.spectrum(ba(ba(ba({color:c.getValue()||!1,containerClassName:"".concat(P,"one-bg ").concat(P,"two-color"),appendTo:it||"body",maxSelectionSize:8,showPalette:!0,showAlpha:!0,chooseText:"Ok",cancelText:"\u2a2f",palette:[]},ft),c.get("colorPicker")||{}),{move:function(zt){var Ft=_a(zt);e.movedColor=Ft,R.backgroundColor=Ft,Nt(Ft,!1)},change:function(zt){St=!0;var Ft=_a(zt);R.backgroundColor=Ft,Nt(Ft),e.noneColor=!1},show:function(zt){St=!1,e.movedColor="",Ct=N?c.getValue({noDefault:!0}):_a(zt)},hide:function(){St||!Ct&&!N||(e.noneColor&&(Ct=""),R.backgroundColor=Ct,H.spectrum("set",Ct),Nt(Ct,!1))}})),s&&s.on&&this.listenTo(s,"component:selected",function(){e.movedColor&&Nt(e.movedColor),St=!0,e.movedColor="",H.spectrum("hide")}),this.colorEl=H}return this.colorEl},a.prototype.render=function(){return wl.prototype.render.call(this),this.getColorEl(),this},a}(wl);var zu=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const Tl=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return zu(a,p),a.prototype.templateInput=function(){return""},a.prototype.getInputEl=function(){if(!this.input){var e=this.model,o=this.getModelValue(),s=new Qi({model:e,target:this.config.em,contClass:this.ppfx+"field-color",ppfx:this.ppfx}).render();s.setValue(o,{fromTarget:1}),this.input=s.el}return this.input},a}(Ho);var ld=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),qu=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return ld(a,p),a.prototype.templateInput=function(){return""},a.prototype.onChange=function(){this.handleClick()},a.prototype.handleClick=function(){var e=this.model,o=this.em,s=e.get("command");s&&((0,x.isString)(s)?o.Commands.run(s):s(o.Editor,e))},a.prototype.renderLabel=function(){this.model.get("label")&&Ho.prototype.renderLabel.apply(this)},a.prototype.getInputEl=function(){var e=this.model,o=this.ppfx,s=e.props(),c=s.labelButton,v=s.text,P=s.full,N=c||v,H="".concat(o,"btn");return'<button type="button" class="'.concat(H,"-prim").concat(P?" ".concat(H,"--full"):"",'">').concat(N,"</button>")},a}(Ho);const cd=qu;qu.prototype.eventCapture=["click button"];var tr=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Gu="trait",wc="".concat(Gu,":"),wa="".concat(wc,"custom"),Po={text:Ho,number:_c,select:id,checkbox:sd,color:Tl,button:cd},Cl=function(p){function a(e){var o=p.call(this,e,"TraitManager",od)||this;o.TraitsView=Iu,o.events={all:Gu,custom:wa};var s=new T.Hn;o.model=s,o.types=Po;var c=(0,x.debounce)(function(){return o.__upSel()},0);s.listenTo(e,"component:toggled",c);var v=(0,x.debounce)(function(){return o.__onUp()},0);return s.listenTo(e,"trait:update",v),o}return tr(a,p),a.prototype.__upSel=function(){this.select(this.em.getSelected())},a.prototype.__onUp=function(){this.select(this.getSelected())},a.prototype.select=function(e){var o=e?e.getTraits():[];this.model.set({component:e,traits:o}),this.__trgCustom()},a.prototype.getSelected=function(){return this.model.get("component")},a.prototype.getCurrent=function(){return this.model.get("traits")||[]},a.prototype.__trgCustom=function(e){void 0===e&&(e={}),this.__ctn=this.__ctn||e.container,this.em.trigger(this.events.custom,{container:this.__ctn})},a.prototype.postRender=function(){this.__appendTo()},a.prototype.getTraitsViewer=function(){return this.view},a.prototype.addType=function(e,o){var s=this.getType("text");this.types[e]=s.extend(o)},a.prototype.getType=function(e){return this.getTypes()[e]},a.prototype.getTypes=function(){return this.types},a.prototype.render=function(){var e=this.view,o=this.em,s=this.getConfig(),c=e&&e.el;return e=new Iu({el:c,collection:[],editor:o,config:s},this.getTypes()),this.view=e,e.el},a.prototype.destroy=function(){this.model.stopListening(),this.model.clear()},a}(S);const Tc=Cl,Wu={stylePrefix:"",appendTo:"",sortable:!0,hidable:!0,hideTextnode:!0,root:"",showWrapper:!0,showHover:!0,scrollCanvas:{behavior:"smooth",block:"nearest"},scrollLayers:{behavior:"auto",block:"nearest"},highlightHover:!0,custom:!1,onInit:function(){},onRender:function(){},extend:{}};var $u=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ku=function(p){function a(e){void 0===e&&(e={});var o=p.call(this,e)||this;o.items=[],o.opt=e;var s=e.config||{};o.config=s,o.parentView=e.parentView;var c=s.stylePrefix||"",v=s.pStylePrefix||"",P=o.collection;o.listenTo(P,"add",o.addTo),o.listenTo(P,"reset resetNavigator",o.render),o.listenTo(P,"remove",o.removeChildren),o.className="".concat(c,"layers");var N=s.em;if(s.sortable&&!o.opt.sorter){var H=N.Utils;o.opt.sorter=new H.Sorter({container:s.sortContainer||o.el,containerSel:".".concat(o.className),itemSel:".".concat(c,"layer"),ignoreViewChildren:1,onEndMove:function(R,it,ft){var Ct=it.getSourceModel();N.setSelected(Ct,{forceChange:1}),N.trigger("".concat(Io,":end"),ft)},avoidSelectOnEnd:1,nested:1,ppfx:v,pfx:c})}return o.$el.data("collection",P),e.parent&&o.$el.data("model",e.parent),o}return $u(a,p),a.prototype.removeChildren=function(e){var o=e.viewLayer;o&&(o.remove(),delete e.viewLayer)},a.prototype.addTo=function(e){var o=this.collection.indexOf(e);this.addToCollection(e,null,o)},a.prototype.addToCollection=function(e,o,s){var c=this,v=c.parentView,P=c.opt,N=c.config,H=P.ItemView,R=P.opened,it=P.module,ft=o||null,Ct=new H({ItemView:H,level:P.level,model:e,parentView:v,config:N,sorter:P.sorter,opened:R,module:it}),St=Ct.render().el;if(ft)ft.appendChild(St);else if(void 0!==s){var Nt="before";this.$el.children().length==s&&(s--,Nt="after"),s<0?this.$el.append(St):this.$el.children().eq(s)[Nt](St)}else this.$el.append(St);return this.items.push(Ct),St},a.prototype.remove=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return T.G7.prototype.remove.apply(this,e),this.items.map(function(s){return s.remove()}),this},a.prototype.render=function(){var e=this,o=document.createDocumentFragment(),s=this.el;return s.innerHTML="",this.collection.each(function(c){return e.addToCollection(c,o)}),s.appendChild(o),s.className=this.className,this},a}(T.G7);const Yu=Ku;var Xu=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Zu="contentEditable",Cc=function(p){function a(e){var o=p.call(this,e)||this;(0,x.bindAll)(o,"__render"),o.opt=e,o.module=e.module,o.config=e.config||{},o.sorter=e.sorter||"",o.parentView=e.parentView;var s=o,c=s.model,v=s.pfx,P=s.ppfx,N=c.get("type")||"default";return o.className="".concat(v,"layer ").concat(v,"layer__t-").concat(N," no-select ").concat(P,"two-color"),o.inputNameCls="".concat(P,"layer-name"),o.clsTitleC="".concat(v,"layer-title-c"),o.clsTitle="".concat(v,"layer-title"),o.clsCaret="".concat(v,"layer-caret"),o.clsCount="".concat(v,"layer-count"),o.clsMove="".concat(v,"layer-move"),o.clsChildren="".concat(v,"layer-children"),o.clsNoChild="".concat(v,"layer-no-chld"),o.clsEdit="".concat(o.inputNameCls,"--edit"),o.clsNoEdit="".concat(o.inputNameCls,"--no-edit"),o.initComponent(),o}return Xu(a,p),a.prototype.events=function(){return{"mousedown [data-toggle-move]":"startSort","touchstart [data-toggle-move]":"startSort","click [data-toggle-visible]":"toggleVisibility","click [data-toggle-open]":"toggleOpening","click [data-toggle-select]":"handleSelect","mouseover [data-toggle-select]":"handleHover","mouseout [data-toggle-select]":"handleHoverOut","dblclick [data-name]":"handleEdit","keydown [data-name]":"handleEditKey","focusout [data-name]":"handleEditEnd"}},a.prototype.template=function(e){var o=this,s=o.pfx,c=o.ppfx,v=o.config,P=o.clsNoEdit,N=o.module,H=o.opt,R=o.em,it=v.hidable,ft=N.getComponents(e).length,Ct=ft?"":this.clsNoChild,St="".concat(this.clsTitle," ").concat(Ct),Nt="".concat(this.clsTitleC," ").concat(c,"one-bg"),zt="".concat(this.inputNameCls," ").concat(P," ").concat(c,"no-app"),Ft=H.level+1,pe="".concat(30+10*Ft,"px"),ve=e.getName(),De=e.getIcon(),je="".concat(s,"layer"),nn=R?.getConfig().icons,cn=nn.move,wn=nn.eye,Nn=nn.eyeOff,wr=nn.chevron;return"\n      ".concat(it?'<i class="'.concat(s,'layer-vis" data-toggle-visible>\n            <i class="').concat(s,'layer-vis-on">').concat(wn,'</i>\n            <i class="').concat(s,'layer-vis-off">').concat(Nn,"</i>\n          </i>"):"",'\n      <div class="').concat(Nt,'">\n        <div class="').concat(St,'" style="padding-left: ').concat(pe,'" data-toggle-select>\n          <div class="').concat(s,'layer-title-inn" title="').concat(ve,'">\n            <i class="').concat(this.clsCaret,'" data-toggle-open>').concat(wr,"</i>\n            ").concat(De?'<span class="'.concat(je,'__icon">').concat(De,"</span>"):"",'\n            <span class="').concat(zt,'" data-name>').concat(ve,'</span>\n          </div>\n        </div>\n      </div>\n      <div class="').concat(this.clsCount,'" data-count>').concat(ft||"",'</div>\n      <div class="').concat(this.clsMove,'" data-toggle-move>').concat(cn||"",'</div>\n      <div class="').concat(this.clsChildren,'"></div>')},Object.defineProperty(a.prototype,"em",{get:function(){return this.module.em},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"ppfx",{get:function(){return this.em.getConfig().stylePrefix},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"pfx",{get:function(){return this.config.stylePrefix},enumerable:!1,configurable:!0}),a.prototype.initComponent=function(){var e=this,o=this.model,s=this.config.onInit,c=o.components();this.listenTo(c,"remove add reset",this.checkChildren),[["change:status",this.updateStatus],["change:open",this.updateOpening],["change:layerable",this.updateLayerable],["change:style:display",this.updateVisibility],["rerender:layer",this.render],["change:name change:custom-name",this.updateName]].forEach(function(v){return e.listenTo(o,v[0],v[1])}),this.$el.data("model",o),this.$el.data("collection",c),o.viewLayer=this,s.bind(this)({component:o,render:this.__render,listenTo:this.listenTo})},a.prototype.updateName=function(){this.getInputName().innerText=this.model.getName()},a.prototype.getVisibilityEl=function(){return this.eyeEl||(this.eyeEl=this.$el.children(".".concat(this.pfx,"layer-vis"))),this.eyeEl},a.prototype.updateVisibility=function(){var e=this,o=e.pfx,s=e.model,c=e.module,v="".concat(o,"layer-hidden"),P=c.isVisible(s)?"removeClass":"addClass";this.$el[P](v),this.getVisibilityEl()[P]("".concat(o,"layer-off"))},a.prototype.toggleVisibility=function(e){e?.stopPropagation();var o=this.module,s=this.model;o.setVisible(s,!o.isVisible(s))},a.prototype.handleEdit=function(e){e?.stopPropagation();var o=this,s=o.em,c=o.$el,v=o.clsNoEdit,P=o.clsEdit,N=this.getInputName();N[Zu]="true",N.focus(),document.execCommand("selectAll",!1),s.setEditing(!0),c.find(".".concat(this.inputNameCls)).removeClass(v).addClass(P)},a.prototype.handleEditKey=function(e){e.stopPropagation(),((0,g.isEscKey)(e)||(0,g.isEnterKey)(e))&&this.handleEditEnd(e)},a.prototype.handleEditEnd=function(e){e?.stopPropagation();var o=this,s=o.em,c=o.$el,v=o.clsNoEdit,P=o.clsEdit,N=this.getInputName(),H=N.textContent;N.scrollLeft=0,N[Zu]="false",this.setName(H,{component:this.model,propName:"custom-name"}),s.setEditing(!1),c.find(".".concat(this.inputNameCls)).addClass(v).removeClass(P),this.updateName()},a.prototype.setName=function(e,o){var s=o.propName;this.model.set(s,e)},a.prototype.getInputName=function(){return this.inputName||(this.inputName=this.el.querySelector(".".concat(this.inputNameCls))),this.inputName},a.prototype.updateOpening=function(){var e=this,o=e.$el,s=e.model,c=e.pfx,v="open",P="".concat(c,"layer-open"),N=this.getCaret();this.module.isOpen(s)?(o.addClass(v),N.addClass(P)):(o.removeClass(v),N.removeClass(P))},a.prototype.toggleOpening=function(e){var o=this.model,s=this.module;e?.stopImmediatePropagation(),o.get("components").length&&s.setOpen(o,!s.isOpen(o))},a.prototype.handleSelect=function(e){e?.stopPropagation();var o=this.module,s=this.model;o.setLayerData(s,{selected:!0},{event:e})},a.prototype.handleHover=function(e){e?.stopPropagation();var o=this.module,s=this.model;o.setLayerData(s,{hovered:!0})},a.prototype.handleHoverOut=function(e){e?.stopPropagation();var o=this.module,s=this.model;o.setLayerData(s,{hovered:!1})},a.prototype.startSort=function(e){e.stopPropagation();var o=this.em,s=this.sorter;e.button&&0!==e.button||s&&(s.onStart=function(c){return o.trigger("".concat(Io,":start"),c)},s.onMoveClb=function(c){return o.trigger(Io,c)},s.startSort(e.target))},a.prototype.updateStatus=function(){Kn.prototype.updateStatus.apply(this,[{avoidHover:!this.config.highlightHover,noExtHl:!0}])},a.prototype.checkChildren=function(){var e=this,o=e.model,s=e.clsNoChild,c=e.$el,v=e.module,P=v.getComponents(o).length,N=c.children(".".concat(this.clsTitleC)).children(".".concat(this.clsTitle)),H=this.cnt;H||(H=c.children("[data-count]").get(0),this.cnt=H),N[P?"removeClass":"addClass"](s),H&&(H.innerHTML=P||""),!P&&v.setOpen(o,!1)},a.prototype.getCaret=function(){return this.caret&&this.caret.length||(this.caret=this.$el.children(".".concat(this.clsTitleC)).find(".".concat(this.clsCaret))),this.caret},a.prototype.setRoot=function(e){var o;e=(0,x.isString)(e)?null===(o=this.em.getWrapper())||void 0===o?void 0:o.find(e)[0]:e;var s=(0,g.getModel)(e,0);s&&(this.stopListening(),this.model=s,this.initComponent(),this._rendered&&this.render())},a.prototype.updateLayerable=function(){(this.parentView||this).render()},a.prototype.__clearItems=function(){var e;null===(e=this.items)||void 0===e||e.remove()},a.prototype.remove=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return T.G7.prototype.remove.apply(this,e),this.__clearItems(),this},a.prototype.render=function(){var e=this,o=e.model,s=e.config,c=e.pfx,v=e.ppfx,P=e.opt,N=e.sorter;this.__clearItems();var H=P.opened,R=P.module,it=P.ItemView,ft=!R.__isLayerable(o),Ct=this.$el.empty(),St=P.level+1;delete this.inputName,this.items=new Yu({ItemView:it,collection:o.get("components"),config:s,sorter:N,opened:H,parentView:this,parent:o,level:St,module:R});var Nt=this.items.render().$el;return s.showWrapper||1!==St?(Ct.html(this.template(o)),Ct.find(".".concat(this.clsChildren)).append(Nt)):Ct.append(Nt),o.get("draggable")&&s.sortable||Ct.children(".".concat(this.clsMove)).remove(),!R.isVisible(o)&&(this.className+=" ".concat(c,"hide")),ft&&(this.className+=" ".concat(v,"hidden")),Ct.attr("class",this.className),this.updateStatus(),this.updateOpening(),this.updateVisibility(),this.__render(),this._rendered=!0,this},a.prototype.__render=function(){var e=this,o=e.model,s=e.config,c={component:o,el:e.el};s.onRender.bind(this)(c),this.em.trigger("layer:render",c)},a}(T.G7);const Qu=Cc;var Hn=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),El=function(){return El=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},El.apply(this,arguments)},yi="".concat("layer",":"),tp="".concat(yi,"root"),Ta="".concat(yi,"component"),ud="".concat(yi,"custom"),cr={all:"layer",root:tp,component:Ta,custom:ud},Ec={mediaText:""},pd=["open","status","locked","custom-name","components","classes"].map(function(p){return"component:update:".concat(p)}).join(" "),dd=function(p){function a(e){var o=p.call(this,e,"LayerManager",Wu)||this;return o.events=cr,(0,x.bindAll)(o,"componentChanged","__onRootChange","__onComponent"),o.model=new tt(o,{opened:{}}),o.config.stylePrefix=o.config.pStylePrefix,o}return Hn(a,p),a.prototype.onLoad=function(){var e=this,o=this,s=o.em,c=o.config,v=o.model;v.listenTo(s,"component:selected",this.componentChanged),v.on("change:root",this.__onRootChange),v.listenTo(s,pd,this.__onComponent),this.componentChanged(),v.listenToOnce(s,"load",function(){e.setRoot(c.root),e.__appendTo()})},a.prototype.setRoot=function(e){var o=this.em.getWrapper(),s=(0,g.isComponent)(e)?e:o;return e&&(0,x.isString)(e)&&(0,g.hasWin)()&&(s=o.find(e)[0]||o),this.model.set("root",s),s},a.prototype.getRoot=function(){return this.model.get("root")},a.prototype.getComponents=function(e){var o=this;return e.components().filter(function(s){return o.__isLayerable(s)})},a.prototype.setOpen=function(e,o){e.set("open",o)},a.prototype.isOpen=function(e){return!!e.get("open")},a.prototype.setVisible=function(e,o){var s="__prev-display",c=e.getStyle(Ec),v=c.display;if(o){var P=e.get(s);delete c.display,P&&(c.display=P,e.unset(s))}else v&&e.set(s,v),c.display="none";e.setStyle(c,Ec),this.updateLayer(e),this.em.trigger("component:toggled")},a.prototype.isVisible=function(e){return void 0===(o=e.getStyle(Ec))&&(o={}),0!==(o.display||"").trim().indexOf("none");var o},a.prototype.setLocked=function(e,o){e.set("locked",o)},a.prototype.isLocked=function(e){return!!e.get("locked")},a.prototype.setName=function(e,o){e.set("custom-name",o)},a.prototype.getName=function(e){return e.getName()},a.prototype.getLayerData=function(e){var o=e.get("status");return{name:e.getName(),open:this.isOpen(e),selected:"selected"===o,hovered:"hovered"===o,visible:this.isVisible(e),locked:this.isLocked(e),components:this.getComponents(e)}},a.prototype.setLayerData=function(e,o,s){var c;void 0===s&&(s={});var v=this.em,P=this.config,N=o.open,H=o.selected,R=o.hovered,it=o.visible,ft=o.locked,Ct=o.name,St=El({fromLayers:!0},s);if((0,g.isDef)(N)&&this.setOpen(e,N),(0,g.isDef)(H))if(H){v.setSelected(e,St);var Nt=P.scrollCanvas;Nt&&(null===(c=e.views)||void 0===c||c.forEach(function(zt){return zt.scrollIntoView(Nt)}))}else v.removeSelected(e,St);(0,g.isDef)(R)&&P.showHover&&(R?v.setHovered(e,St):v.setHovered(null,St)),(0,g.isDef)(it)&&it!==this.isVisible(e)&&this.setVisible(e,it),(0,g.isDef)(ft)&&this.setLocked(e,ft),(0,g.isDef)(Ct)&&this.setName(e,Ct)},a.prototype.componentChanged=function(e,o){var s;if(void 0===o&&(o={}),!o.fromLayers){var c=this.em,v=this.config.scrollLayers,P=this.model.get("opened"),N=c.getSelected(),H=N?.parent();for(var R in P)P[R].set("open",!1),delete P[R];for(;H;)H.set("open",!0),P[H.cid]=H,H=H.parent();if(N&&v)(null===(s=N.viewLayer)||void 0===s?void 0:s.el)?.scrollIntoView(v)}},a.prototype.getAll=function(){return this.view},a.prototype.render=function(){var e,o,s=this.config,c=this.model,v=Qu.extend(s.extend);return this.view=new v({el:null===(e=this.view)||void 0===e?void 0:e.el,ItemView:v,level:0,config:s,opened:c.get("opened"),model:this.getRoot(),module:this}),null===(o=this.view)||void 0===o?void 0:o.render().el},a.prototype.destroy=function(){var e;null===(e=this.view)||void 0===e||e.remove()},a.prototype.__onRootChange=function(){var e,o=this.getRoot();null===(e=this.view)||void 0===e||e.setRoot(o),this.em.trigger(tp,o),this.__trgCustom()},a.prototype.__onComponent=function(e){this.updateLayer(e)},a.prototype.__isLayerable=function(e){var o=e.get("tagName");return(!this.config.hideTextnode||!e.is("textnode")&&"br"!==o)&&e.get("layerable")},a.prototype.__trgCustom=function(e){var o=this,s=o.__ctn,c=o.em,v=o.events;this.__ctn=s||e?.container,c.trigger(v.custom,{container:this.__ctn,root:this.getRoot()})},a.prototype.updateLayer=function(e,o){this.em.trigger(Ta,e,o)},a}(S);const xl=dd,l={assets:[],noAssets:"",stylePrefix:"am-",upload:"",uploadName:"files",headers:{},params:{},credentials:"include",multiUpload:!0,autoAdd:!0,customFetch:void 0,uploadFile:void 0,embedAsBase64:!0,handleAdd:void 0,beforeUpload:void 0,showUrlInput:!0,custom:!1,dropzone:!1,openAssetsOnDrop:!0,dropzoneContent:""};var d=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),E=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return d(a,p),a.getDefaults=function(){return(0,x.result)(this.prototype,"defaults")},a.prototype.defaults=function(){return{type:"",src:""}},a.prototype.getType=function(){return this.get("type")},a.prototype.getSrc=function(){return this.get("src")},a.prototype.getFilename=function(){return this.get("src").split("/").pop().split("?").shift()},a.prototype.getExtension=function(){return this.getFilename().split(".").pop()},a}(T.Hn);const w=E;E.prototype.idAttribute="src";var O=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),j=function(){return j=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},j.apply(this,arguments)};const Z=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return O(a,p),a.prototype.defaults=function(){return j(j({},w.getDefaults()),{type:"image",unitDim:"px",height:0,width:0})},a}(w);var et=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),dt=function(p){function a(e){var o=p.call(this,e)||this;o.options=e,o.collection=e.collection;var s=e.config||{};o.config=s,o.pfx=s.stylePrefix||"",o.ppfx=s.pStylePrefix||"",o.em=s.em,o.className=o.pfx+"asset",o.listenTo(o.model,"destroy remove",o.remove),o.model.view=o;var c=o.init&&o.init.bind(o);return c&&c(e),o}return et(a,p),a.prototype.__getBhv=function(){var o=this.em?.Assets;return o?.__getBehaviour()||{}},a.prototype.template=function(e,o){var s=this.pfx;return'\n      <div class="'.concat(s,'preview-cont">\n        ').concat(this.getPreview(),'\n      </div>\n      <div class="').concat(s,'meta">\n        ').concat(this.getInfo(),'\n      </div>\n      <div class="').concat(s,'close" data-toggle="asset-remove">\n        &Cross;\n      </div>\n    ')},a.prototype.updateTarget=function(e){e&&e.set&&(e.set("attributes",(0,x.clone)(e.get("attributes"))),e.set("src",this.model.get("src")))},a.prototype.getPreview=function(){return""},a.prototype.getInfo=function(){return""},a.prototype.render=function(){var e=this.el;return e.innerHTML=this.template(this,this.model),e.className=this.className,this},a}(T.G7);const mt=dt;var Dt=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Lt=function(p,a){return Object.defineProperty?Object.defineProperty(p,"raw",{value:a}):p.raw=a,p},Jt=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Dt(a,p),a.prototype.getPreview=function(){var e=this,o=e.pfx,s=e.ppfx,c=e.model.get("src");return M(ce||(ce=Lt(['\n      <div class="','preview" style="background-image: url(\'','\');"></div>\n      <div class="',"preview-bg ",'checker-bg"></div>\n    '],['\n      <div class="','preview" style="background-image: url(\'','\');"></div>\n      <div class="',"preview-bg ",'checker-bg"></div>\n    '])),o,c,o,s)},a.prototype.getInfo=function(){var e=this.pfx,o=this.model,s=o.get("name"),c=o.get("width"),v=o.get("height"),P=o.get("unitDim"),N=c&&v?"".concat(c,"x").concat(v).concat(P):"";return s=s||o.getFilename(),M(be||(be=Lt(['\n      <div class="','name">','</div>\n      <div class="','dimensions">',"</div>\n    "],['\n      <div class="','name">','</div>\n      <div class="','dimensions">',"</div>\n    "])),e,s,e,N)},a.prototype.init=function(e){var o=this.pfx;this.className+=" ".concat(o,"asset-image")},a.prototype.onClick=function(){var e=this.model,o=this.pfx,s=this.__getBhv().select,c=this.config.onClick,v=this.collection;v.trigger("deselectAll"),this.$el.addClass(o+"highlight"),(0,x.isFunction)(s)?s(e,!1):(0,x.isFunction)(c)?c(e):this.updateTarget(v.target)},a.prototype.onDblClick=function(){var e=this.em,o=this.model,s=this.__getBhv().select,c=this.config.onDblClick,v=this.collection,P=v.target,N=v.onSelect;(0,x.isFunction)(s)?s(o,!0):(0,x.isFunction)(c)?c(o):(this.updateTarget(P),e?.Modal.close()),(0,x.isFunction)(N)&&N(o)},a.prototype.onRemove=function(e){e.stopImmediatePropagation(),this.model.collection.remove(this.model)},a}(mt);const te=Jt;var ce,be;Jt.prototype.events={"click [data-toggle=asset-remove]":"onRemove",click:"onClick",dblclick:"onDblClick"};var Oe=function(){return Oe=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Oe.apply(this,arguments)},He={types:[],initialize:function(p,a){var e=this;void 0===a&&(a={});var o=a.em;this.em=o,this.opts=a,this.model=function(c,v){var P,N,H;if(void 0===c&&(c={}),void 0===v&&(v={}),c&&c.type){var R=e.getBaseType();P=(H=e.getType(c.type))?H.model:R.model,N=H?H.view:R.view}else{var it=e.recognizeType(c);P=(H=it.type).model,N=H.view,c=it.attributes}var ft=new P(c,Oe(Oe({},v),{em:o}));return ft.typeView=N,ft};var s=this.init&&this.init.bind(this);s&&s()},recognizeType:function(p){for(var a=this.getTypes(),e=0;e<a.length;e++){var o=a[e],s=o.isType(p);if(s="boolean"==typeof s&&s?{type:o.id}:s)return{type:o,attributes:s}}return{type:this.getBaseType(),attributes:p}},getBaseType:function(){var p=this.getTypes();return p[p.length-1]},getTypes:function(){return this.types},getType:function(p){for(var a=this.getTypes(),e=0;e<a.length;e++){var o=a[e];if(o.id===p)return o}},addType:function(p,a){var e=this.getType(p),o=this.getBaseType(),s=e?e.model:o.model,c=e?e.view:o.view,v=a.model,P=a.view,N=a.isType;v=v instanceof T.Hn||(0,x.isFunction)(v)?v:s.extend(v||{}),P=P instanceof T.G7||(0,x.isFunction)(P)?P:c.extend(P||{}),!this.extendViewApi||a.model||a.view||(P=P.extend(a)),e?(e.model=v,e.view=P,e.isType=N||e.isType):(a.id=p,a.model=v,a.view=P,a.isType=N||function(H){if(H&&H.type==p)return!0},this.getTypes().unshift(a))}};const Be=He;var Me=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ge=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Me(a,p),a}(T.FE.extend(Be));const qe=Ge;Ge.prototype.types=[{id:"image",model:Z,view:te,isType:function(p){return"string"==typeof p?{type:"image",src:p}:p}}];var Ze=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Fn=function(p){function a(e){void 0===e&&(e={});var o=p.call(this,e)||this;o.options=e,o.config=e.config,o.pfx=o.config.stylePrefix||"",o.ppfx=o.config.pStylePrefix||"",o.em=o.config.em;var s=o.collection;return o.listenTo(s,"reset",o.renderAssets),o.listenTo(s,"add",o.addToAsset),o.listenTo(s,"remove",o.removedAsset),o.listenTo(s,"deselectAll",o.deselectAll),o}return Ze(a,p),a.prototype.template=function(e){var o=e.pfx,s=e.ppfx,c=e.em,v="";return this.config.showUrlInput&&(v='\n          <form class="'.concat(o,'add-asset">\n            <div class="').concat(s,"field ").concat(o,'add-field">\n              <input placeholder="').concat(c?.t("assetManager.inputPlh"),'"/>\n            </div>\n            <button class="').concat(s,'btn-prim">').concat(c?.t("assetManager.addButton"),'</button>\n            <div style="clear:both"></div>\n          </form>\n      ')),'\n    <div class="'.concat(o,'assets-cont">\n      <div class="').concat(o,'assets-header">\n        ').concat(v,'\n      </div>\n      <div class="').concat(o,'assets" data-el="assets"></div>\n      <div style="clear:both"></div>\n    </div>\n    ')},a.prototype.handleSubmit=function(e){e.preventDefault();var o=this.getAddInput(),s=o&&o.value.trim(),c=this.config.handleAdd;if(s){o.value="";var v=this.getAssetsEl();v&&(v.scrollTop=0),c?c.bind(this)(s):this.options.globalCollection.add(s,{at:0})}},a.prototype.getAssetsEl=function(){return this.el.querySelector(".".concat(this.pfx,"assets"))},a.prototype.getAddInput=function(){return this.inputUrl&&this.inputUrl.value||(this.inputUrl=this.el.querySelector(".".concat(this.pfx,"add-asset input"))),this.inputUrl},a.prototype.removedAsset=function(e){this.collection.length||this.toggleNoAssets()},a.prototype.addToAsset=function(e){1==this.collection.length&&this.toggleNoAssets(!0),this.addAsset(e)},a.prototype.addAsset=function(e,o){void 0===o&&(o=null);var s=o,c=this.collection,v=this.config,P=new e.typeView({model:e,collection:c,config:v}).render().el;if(s)s.appendChild(P);else{var N=this.getAssetsEl();N&&N.insertBefore(P,N.firstChild)}return P},a.prototype.toggleNoAssets=function(e){void 0===e&&(e=!1);var o=this.$el.find(".".concat(this.pfx,"assets"));if(e)o.empty();else{var s=this.config.noAssets;s&&o.append(s)}},a.prototype.deselectAll=function(){var e=this.pfx;this.$el.find(".".concat(e,"highlight")).removeClass("".concat(e,"highlight"))},a.prototype.renderAssets=function(){var e=this,o=document.createDocumentFragment(),s=this.$el.find(".".concat(this.pfx,"assets"));s.empty(),this.toggleNoAssets(!!this.collection.length),this.collection.each(function(c){return e.addAsset(c,o)}),s.append(o)},a.prototype.render=function(){var e=this.options.fu.render().el;return this.$el.empty(),this.$el.append(e).append(this.template(this)),this.el.className="".concat(this.ppfx,"asset-manager"),this.renderAssets(),this},a}(T.G7);const Bn=Fn;Fn.prototype.events={submit:"handleSubmit"};var eo=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),To=function(p){function a(e){void 0===e&&(e={});var o=p.call(this,e)||this;o.options=e;var s=e.config||{};o.module=e.module,o.config=s,o.em=o.config.em,o.pfx=s.stylePrefix||"",o.ppfx=s.pStylePrefix||"",o.target=o.options.globalCollection||{},o.uploadId=o.pfx+"uploadFile",o.disabled=void 0!==s.disableUpload?s.disableUpload:!s.upload&&!s.embedAsBase64,o.multiUpload=void 0===s.multiUpload||s.multiUpload;var c=s.uploadFile;return c?o.uploadFile=c.bind(o):!s.upload&&s.embedAsBase64&&(o.uploadFile=a.embedAsBase64),o.delegateEvents(),o}return eo(a,p),a.prototype.template=function(e){var o=e.pfx,s=e.title,c=e.uploadId,v=e.disabled,P=e.multiUpload;return M(er||(er=function(p,a){return Object.defineProperty?Object.defineProperty(p,"raw",{value:a}):p.raw=a,p}(['\n      <form>\n        <div id="','title">','</div>\n        <input\n          data-input\n          type="file"\n          id="','"\n          name="file"\n          accept="*/*"\n          ',"\n          ",'\n        />\n        <div style="clear:both;"></div>\n      </form>\n    '],['\n      <form>\n        <div id="','title">','</div>\n        <input\n          data-input\n          type="file"\n          id="','"\n          name="file"\n          accept="*/*"\n          ',"\n          ",'\n        />\n        <div style="clear:both;"></div>\n      </form>\n    '])),o,s,c,v?"disabled":"",P?"multiple":"")},a.prototype.events=function(){return{"change [data-input]":"uploadFile"}},a.prototype.onUploadStart=function(){var e=this.module;e&&e.__propEv("asset:upload:start")},a.prototype.onUploadEnd=function(e){var o=this.$el,s=this.module;s&&s.__propEv("asset:upload:end",e);var c=o.find("input");c&&c.val("")},a.prototype.onUploadError=function(e){var o=this.module;console.error(e),this.onUploadEnd(e),o&&o.__propEv("asset:upload:error",e)},a.prototype.onUploadResponse=function(e,o){var s,c=this,v=c.module,P=c.config,N=c.target;try{s="string"==typeof e?JSON.parse(e):e}catch{s=e}v&&v.__propEv("asset:upload:response",s),P.autoAdd&&N&&N.add(s.data,{at:0}),this.onUploadEnd(e),o?.(s)},a.prototype.uploadFile=function(e,o){var s=this,c=e.dataTransfer?e.dataTransfer.files:e.target.files,v=this.config,P=v.beforeUpload;if(!1!==(P&&P(c))){var N=new FormData,H=v.params,R=v.customFetch,it=v.fetchOptions;for(var ft in H)N.append(ft,H[ft]);if(this.multiUpload)for(var Ct=0;Ct<c.length;Ct++)N.append("".concat(v.uploadName,"[]"),c[Ct]);else c.length&&N.append(v.uploadName,c[0]);var St=v.upload,Nt=v.headers,zt="X-Requested-With";if(void 0===Nt[zt]&&(Nt[zt]="XMLHttpRequest"),St){this.onUploadStart();var Ft={method:"post",credentials:v.credentials||"include",headers:Nt,body:N},pe=it?.(Ft)||Ft;return(R?R(St,pe):hc(St,pe).then(function(ve){return 1==(ve.status/200|0)?ve.text():ve.text().then(function(De){return Promise.reject(De)})})).then(function(ve){return s.onUploadResponse(ve,o)}).catch(function(ve){return s.onUploadError(ve)})}}},a.prototype.initDrop=function(){var e=this;if(!this.uploadForm){this.uploadForm=this.$el.find("form").get(0);var o=this.uploadForm;"draggable"in o&&(this.uploadForm.ondragover=function(){return o.className=e.pfx+"hover",!1},this.uploadForm.ondragleave=function(){return o.className="",!1},this.uploadForm.ondrop=function(s){o.className="",s.preventDefault(),e.uploadFile(s)})}},a.prototype.initDropzone=function(e){var o=this,s=0,c=this.config,v=e.model,P=e.el,N=v.Editor,H=v.Canvas.getBody(),R=this.ppfx,it="".concat(R,"dropzone-active"),ft="".concat(R,"dropzone"),Ct=function(){P.className=P.className.replace(it,"").trim(),s=0},St=function(){return s||(P.className+=" ".concat(it),s=1),!1},Nt=function(){return Ct(),!1},zt=function(Ft){if(Ct(),Ft.preventDefault(),Ft.stopPropagation(),o.uploadFile(Ft),c.openAssetsOnDrop&&N){var pe=N.getSelected();N.runCommand("open-assets",{target:pe,onSelect:function(){N.Modal.close(),N.AssetManager.setTarget(null)}})}return!1};e.$el.append('<div class="'.concat(ft,'">').concat(c.dropzoneContent,"</div>")),Ct(),"draggable"in P&&[P,H].forEach(function(Ft){Ft.ondragover=St,Ft.ondragleave=Nt,Ft.ondrop=zt})},a.prototype.render=function(){var e=this,o=e.$el,s=e.pfx,c=e.em;return o.html(this.template({title:c&&c.t("assetManager.uploadTitle"),uploadId:this.uploadId,disabled:this.disabled,multiUpload:this.multiUpload,pfx:s})),this.initDrop(),o.attr("class",s+"file-uploader"),this},a.embedAsBase64=function(e,o){var s=this,c=e.dataTransfer?e.dataTransfer.files:e.target.files,v={data:[]};if(FileReader){for(var P=[],N=/^(.+)\/(.+)$/,H=function(ft){var Ct=new Promise(function(St,Nt){var zt=new FileReader;zt.addEventListener("load",function(Ft){var pe,ve=ft.name,De=N.exec(ft.type);if("image"===(pe=De?De[1]:ft.type)){var je={src:zt.result,name:ve,type:pe,height:0,width:0},nn=new Image;nn.addEventListener("error",function(cn){Nt(cn)}),nn.addEventListener("load",function(){je.height=nn.height,je.width=nn.width,St(je)}),nn.src=je.src}else St(pe?{src:zt.result,name:ve,type:pe}:zt.result)}),zt.addEventListener("error",function(Ft){Nt(Ft)}),zt.addEventListener("abort",function(Ft){Nt("Aborted")}),zt.readAsDataURL(ft)});P.push(Ct)},R=0,it=c;R<it.length;R++)H(it[R]);return Promise.all(P).then(function(ft){v.data=ft,s.onUploadResponse(v,o)},function(ft){s.onUploadError(ft)})}this.onUploadError(new Error("Unsupported platform, FileReader is not defined"))},a}(T.G7);const no=To;var er,Yr=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),fr=function(){return fr=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},fr.apply(this,arguments)},ur=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))},qn="".concat("asset",":"),Xr="".concat(qn,"select"),bi="".concat(qn,"update"),Mo="".concat(qn,"add"),xr="".concat(qn,"remove"),gr="".concat(xr,":before"),xc="".concat(qn,"custom"),ti="".concat(qn,"open"),Ji="".concat(qn,"close"),Fo="".concat(qn,"upload"),Vr="".concat(Fo,":start"),ks="".concat(Fo,":end"),Sc="".concat(Fo,":error"),af="".concat(Fo,":response"),Oc="open-assets",lf={all:"asset",select:Xr,update:bi,add:Mo,remove:xr,removeBefore:gr,custom:xc,open:ti,close:Ji,uploadStart:Vr,uploadEnd:ks,uploadError:Sc,uploadResponse:af},cf=function(p){function a(e){var o=p.call(this,e,"AssetManager",new qe([],e),lf,l)||this;o.storageKey="assets",o.Asset=w,o.Assets=qe;var s=o,c=s.all,v=s.config;o.assetsVis=new qe([]);var P=v.pStylePrefix;return P&&(v.stylePrefix="".concat(P).concat(v.stylePrefix)),c.on("add",function(N){return o.getAllVisible().add(N)}),c.on("remove",function(N){return o.getAllVisible().remove(N)}),o.__onAllEvent=(0,x.debounce)(function(){return o.__trgCustom()},0),o}return Yr(a,p),a.prototype.__propEv=function(e){for(var o,s,c=[],v=1;v<arguments.length;v++)c[v-1]=arguments[v];(o=this.em).trigger.apply(o,ur([e],c,!1)),(s=this.getAll()).trigger.apply(s,ur([e],c,!1))},a.prototype.__trgCustom=function(){var e=this.__getBehaviour(),o=this.getConfig().custom;(e.container||o.open)&&this.em.trigger(this.events.custom,this.__customData())},a.prototype.__customData=function(){var e=this,o=this.__getBehaviour();return{am:this,open:this.isOpen(),assets:this.getAll().models,types:o.types||[],container:o.container,close:function(){return e.close()},remove:function(s,c){return e.remove(s,c)},select:function(s,c){var v=e.add(s);(0,x.isFunction)(o.select)&&o.select(v,c)},options:o.options||{}}},a.prototype.open=function(e){void 0===e&&(e={}),this.em.Commands.run(Oc,fr({types:["image"],select:function(){}},e))},a.prototype.close=function(){this.em.Commands.stop(Oc)},a.prototype.isOpen=function(){return!!this.em.Commands?.isActive(Oc)},a.prototype.add=function(e,o){return void 0===o&&(o={}),void 0===o.at&&(o.at=0),this.all.add(e,o)},a.prototype.get=function(e){return this.all.where({src:e})[0]||null},a.prototype.getAll=function(){return this.all},a.prototype.getAllVisible=function(){return this.assetsVis},a.prototype.remove=function(e,o){return this.__remove(e,o)},a.prototype.store=function(){return this.getProjectData()},a.prototype.load=function(e){return this.loadProjectData(e)},a.prototype.getContainer=function(){var e;return this.__getBehaviour().container||(null===(e=this.am)||void 0===e?void 0:e.el)},a.prototype.getAssetsEl=function(){var e;return null===(e=this.am)||void 0===e?void 0:e.el.querySelector("[data-el=assets]")},a.prototype.render=function(e){if(!this.getConfig().custom){var o=e||this.getAll().models;if(!this.am){var s=this.__viewParams();s.fu=this.FileUploader(),this.am=new Bn(fr({},s)),this.am.render()}return this.assetsVis.reset(o),this.getContainer()}},a.prototype.__viewParams=function(){return{collection:this.assetsVis,globalCollection:this.all,config:this.config,module:this,fu:void 0}},a.prototype.addType=function(e,o){this.getAll().addType(e,o)},a.prototype.getType=function(e){return this.getAll().getType(e)},a.prototype.getTypes=function(){return this.getAll().getTypes()},a.prototype.AssetsView=function(){return this.am},a.prototype.FileUploader=function(){return this.fu||(this.fu=new no(this.__viewParams())),this.fu},a.prototype.onLoad=function(){var e=this;this.getAll().reset(this.config.assets);var o=this.em,s=this.events;o.on("run:".concat(Oc),function(){return e.__propEv(s.open)}),o.on("stop:".concat(Oc),function(){return e.__propEv(s.close)})},a.prototype.postRender=function(e){var o;this.config.dropzone&&(null===(o=this.fu)||void 0===o||o.initDropzone(e))},a.prototype.setTarget=function(e){this.assetsVis.target=e},a.prototype.onSelect=function(e){this.assetsVis.onSelect=e},a.prototype.onClick=function(e){this.config.onClick=e},a.prototype.onDblClick=function(e){this.config.onDblClick=e},a.prototype.__behaviour=function(e){return void 0===e&&(e={}),this._bhv=fr(fr({},this._bhv||{}),e)},a.prototype.__getBehaviour=function(e){return void 0===e&&(e={}),this._bhv||{}},a.prototype.destroy=function(){var e,o;this.all.stopListening(),this.all.reset(),this.assetsVis.stopListening(),this.assetsVis.reset(),null===(e=this.fu)||void 0===e||e.remove(),null===(o=this.am)||void 0===o||o.remove(),this._bhv={}},a}(G);const uf=cf;var hd={placeholder:"eg. Text here"};const pf={locale:"en",localeFallback:"en",detectLocale:!0,debug:!1,messages:{en:{assetManager:{addButton:"Add image",inputPlh:"http://path/to/the/image.jpg",modalTitle:"Select Image",uploadTitle:"Drop files here or click to upload"},blockManager:{labels:{},categories:{}},domComponents:{names:{"":"Box",wrapper:"Body",text:"Text",comment:"Comment",image:"Image",video:"Video",label:"Label",link:"Link",map:"Map",tfoot:"Table foot",tbody:"Table body",thead:"Table head",table:"Table",row:"Table row",cell:"Table cell"}},deviceManager:{device:"Device",devices:{desktop:"Desktop",tablet:"Tablet",mobileLandscape:"Mobile Landscape",mobilePortrait:"Mobile Portrait"}},panels:{buttons:{titles:{preview:"Preview",fullscreen:"Fullscreen","sw-visibility":"View components","export-template":"View code","open-sm":"Open Style Manager","open-tm":"Settings","open-layers":"Open Layer Manager","open-blocks":"Open Blocks"}}},selectorManager:{label:"Classes",selected:"Selected",emptyState:"- State -",states:{hover:"Hover",active:"Click","nth-of-type(2n)":"Even/Odd"}},styleManager:{empty:"Select an element before using Style Manager",layer:"Layer",fileButton:"Images",sectors:{general:"General",layout:"Layout",typography:"Typography",decorations:"Decorations",extra:"Extra",flex:"Flex",dimension:"Dimension"},properties:{"text-shadow-h":"X","text-shadow-v":"Y","text-shadow-blur":"Blur","text-shadow-color":"Color","box-shadow-h":"X","box-shadow-v":"Y","box-shadow-blur":"Blur","box-shadow-spread":"Spread","box-shadow-color":"Color","box-shadow-type":"Type","margin-top-sub":"Top","margin-right-sub":"Right","margin-bottom-sub":"Bottom","margin-left-sub":"Left","padding-top-sub":"Top","padding-right-sub":"Right","padding-bottom-sub":"Bottom","padding-left-sub":"Left","border-width-sub":"Width","border-style-sub":"Style","border-color-sub":"Color","border-top-left-radius-sub":"Top Left","border-top-right-radius-sub":"Top Right","border-bottom-right-radius-sub":"Bottom Right","border-bottom-left-radius-sub":"Bottom Left","transform-rotate-x":"Rotate X","transform-rotate-y":"Rotate Y","transform-rotate-z":"Rotate Z","transform-scale-x":"Scale X","transform-scale-y":"Scale Y","transform-scale-z":"Scale Z","transition-property-sub":"Property","transition-duration-sub":"Duration","transition-timing-function-sub":"Timing","background-image-sub":"Image","background-repeat-sub":"Repeat","background-position-sub":"Position","background-attachment-sub":"Attachment","background-size-sub":"Size"}},traitManager:{empty:"Select an element before using Trait Manager",label:"Component settings",traits:{labels:{},attributes:{id:hd,alt:hd,title:hd,href:{placeholder:"eg. https://google.com"}},options:{target:{false:"This window",_blank:"New window"}}}},storageManager:{recover:"Do you want to recover unsaved changes?"}}},messagesAdd:void 0};var df=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),hf=function(p){function a(e){var o=p.call(this,e,"I18n",pf)||this,s=o.config.messagesAdd;return s&&o.addMessages(s),o.config.detectLocale&&(o.config.locale=o._localLang()),o}return df(a,p),a.prototype.setLocale=function(e){var o=this.em,s=this.config,c={value:e,valuePrev:s.locale};return o&&o.trigger("i18n:locale",c),s.locale=e,this},a.prototype.getLocale=function(){return this.config.locale},a.prototype.getMessages=function(e,o){void 0===o&&(o={});var s=this.config.messages;return e&&!s[e]&&this._debug("'".concat(e,"' i18n lang not found"),o),e?s[e]:s},a.prototype.setMessages=function(e){var o=this.em;return this.config.messages=e,o&&o.trigger("i18n:update",e),this},a.prototype.addMessages=function(e){var o=this.em,s=this.config.messages;return o&&o.trigger("i18n:add",e),this.setMessages((0,g.deepMerge)(s,e)),this},a.prototype.t=function(e,o){void 0===o&&(o={});var s=this.config,c=o.params||{},v=o.l||this.getLocale(),P=o.lFlb||s.localeFallback,N=this._getMsg(e,v,o);return N||(N=this._getMsg(e,P,o)),!N&&this._debug("'".concat(e,"' i18n key not found in '").concat(v,"' lang"),o),N&&(0,x.isString)(N)?this._addParams(N,c):N},a.prototype._localLang=function(){var e=(0,g.hasWin)()&&window.navigator||{},o=e.language||e.userLanguage;return o?o.split("-")[0]:"en"},a.prototype._addParams=function(e,o){var s=new RegExp("{([\\w\\d-]*)}","g");return e.replace(s,function(c,v){return o[v]||""}).trim()},a.prototype._getMsg=function(e,o,s){void 0===s&&(s={});var c=this.getMessages(o,s);if(c){var v=c[e];return!v&&e.indexOf(".")>0&&(v=e.split(".").reduce(function(P,N){if(!(0,x.isUndefined)(P))return P[N]},c)),v}},a.prototype._debug=function(e,o){void 0===o&&(o={});var s=this.em,c=this.config;(o.debug||c.debug)&&s&&s.logWarning(e)},a.prototype.destroy=function(){},a}(S);const gf=hf;var mf=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ps=function(){return Ps=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Ps.apply(this,arguments)},vf=function(){},yf=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return mf(a,p),a.prototype.initialize=function(e){void 0===e&&(e={}),this.opt=e||{},(0,x.bindAll)(this,"startSort","onMove","endMove","rollback","updateOffset","moveDragHelper");var o=e||{};this.elT=0,this.elL=0,this.borderOffset=o.borderOffset||10;var s=o.container;this.el="string"==typeof s?document.querySelector(s):s,this.$el=(0,_.default)(this.el),this.containerSel=o.containerSel||"div",this.itemSel=o.itemSel||"div",this.draggable=o.draggable||!0,this.nested=!!o.nested,this.pfx=o.pfx||"",this.ppfx=o.ppfx||"",this.freezeClass=o.freezeClass||this.pfx+"freezed",this.onStart=o.onStart||vf,this.onEndMove=o.onEndMove,this.customTarget=o.customTarget,this.onEnd=o.onEnd,this.direction=o.direction||"v",this.onMoveClb=o.onMove,this.relative=o.relative||!1,this.ignoreViewChildren=!!o.ignoreViewChildren,this.plh=o.placer,this.wmargin=o.wmargin||0,this.offTop=o.offsetTop||0,this.offLeft=o.offsetLeft||0,this.document=o.document||document,this.em=o.em,this.canvasRelative=!!o.canvasRelative,this.selectOnEnd=!o.avoidSelectOnEnd,this.scale=o.scale,this.em&&this.em.on&&(this.em.on("change:canvasOffset",this.updateOffset),this.updateOffset())},a.prototype.getScale=function(){return(0,x.result)(this,"scale")||1},a.prototype.getContainerEl=function(e){if(e&&(this.el=e),!this.el){var o=this.opt.container;this.el="string"==typeof o?document.querySelector(o):o,this.$el=(0,_.default)(this.el)}return this.el},a.prototype.getDocuments=function(e){var o=this.em,s=e?e.ownerDocument:o?.Canvas.getBody().ownerDocument,c=[document];return s&&c.push(s),c},a.prototype.updateOffset=function(){var e,o=(null===(e=this.em)||void 0===e?void 0:e.get("canvasOffset"))||{};this.offTop=o.top,this.offLeft=o.left},a.prototype.setDropContent=function(e){delete this.dropModel,this.dropContent=e},a.prototype.updateTextViewCursorPosition=function(e){var o=this.em;if(o){var s=o.get("Canvas"),c=s.getDocument(),v=null;if(c.caretRangeFromPoint){var P=(0,g.getPointerEvent)(e);v=c.caretRangeFromPoint(P.clientX,P.clientY)}else e.rangeParent&&(v=c.createRange()).setStart(e.rangeParent,e.rangeOffset);var N=s.getWindow().getSelection();s.getFrameEl().focus(),N.removeAllRanges(),v&&N.addRange(v),this.setContentEditable(this.activeTextModel,!0)}},a.prototype.setContentEditable=function(e,o){if(e){var s=e.getEl();s.contentEditable!=o&&(s.contentEditable=o)}},a.prototype.toggleSortCursor=function(e){var o=this.em,s=o&&o.get("Canvas");s&&(e?s.startAutoscroll():s.stopAutoscroll())},a.prototype.setDragHelper=function(e,o){for(var s=o||"",c=e.cloneNode(!0),v=e.getBoundingClientRect(),P=getComputedStyle(e),N="",H=0;H<P.length;H++){var R=P[H];N+="".concat(R,":").concat(P.getPropertyValue(R),";")}document.body.appendChild(c),c.className+=" ".concat(this.pfx,"bdrag"),c.setAttribute("style",N),this.dragHelper=c,c.style.width="".concat(v.width,"px"),c.style.height="".concat(v.height,"px"),s&&this.moveDragHelper(s),this.em&&(0,_.default)(this.em.Canvas.getBody().ownerDocument).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper),(0,_.default)(document).off("mousemove",this.moveDragHelper).on("mousemove",this.moveDragHelper)},a.prototype.moveDragHelper=function(e){var o=e.target.ownerDocument;if(this.dragHelper&&o){var s=e.pageY,c=e.pageX,v=0,P=0,N=(o.defaultView||o.parentWindow).frameElement,H=this.dragHelper.style;if(N){var R=N.getBoundingClientRect();v=R.top+document.documentElement.scrollTop,P=R.left+document.documentElement.scrollLeft,s=e.clientY,c=e.clientX}H.top=s+v+"px",H.left=c+P+"px"}},a.prototype.matches=function(e,o){return g.matches.call(e,o)},a.prototype.closest=function(e,o){if(e)for(var s=e.parentNode;s&&1===s.nodeType;){if(this.matches(s,o))return s;s=s.parentNode}},a.prototype.offset=function(e){var o=e.getBoundingClientRect();return{top:o.top+document.body.scrollTop,left:o.left+document.body.scrollLeft}},a.prototype.createPlaceholder=function(){var e=this.pfx,o=document.createElement("div"),s=document.createElement("div");return o.className=e+"placeholder",o.style.display="none",o.style.pointerEvents="none",s.className=e+"placeholder-int",o.appendChild(s),o},a.prototype.startSort=function(e,o){var s,c;void 0===o&&(o={});var v,P=this,N=P.em,H=P.itemSel,R=P.containerSel,it=P.plh,ft=this.getContainerEl(o.container),Ct=this.getDocuments(e);delete this.dropModel,delete this.target,delete this.prevTarget,this.moved=!1,e&&!this.matches(e,"".concat(H,", ").concat(R))&&(e=this.closest(e,H)),this.sourceEl=e,it||(this.plh=this.createPlaceholder(),ft.appendChild(this.plh)),e&&((v=this.getSourceModel(e))&&v.set&&v.set("status","freezed"),this.srcModel=v),(0,g.on)(ft,"mousemove dragover",this.onMove),(0,g.on)(Ct,"mouseup dragend touchend",this.endMove),(0,g.on)(Ct,"keydown",this.rollback),this.onStart({sorter:this,target:v,parent:v&&(null===(s=v.parent)||void 0===s?void 0:s.call(v)),index:v&&(null===(c=v.index)||void 0===c?void 0:c.call(v))}),N?.clearSelection(),this.toggleSortCursor(!0),N?.trigger("sorter:drag:start",e,v)},a.prototype.getTargetModel=function(e){var o=e||this.target;return(0,_.default)(o).data("model")},a.prototype.getSourceModel=function(e,o){var s=this,c=void 0===o?{}:o,v=c.target,P=c.avoidChildren,N=void 0===P?1:P,H=this.em,R=this.sourceEl,it=e||R,ft=this.dropModel,Ct=this.dropContent,St=function(pe){return pe&&v&&pe.opt&&pe.opt.avoidChildren&&s.isTextableActive(pe,v)};if(Ct&&H){if(St(ft)&&(ft=void 0),!ft){var Nt=H.Components.getComponents(),zt={avoidChildren:N,avoidStore:1,avoidUpdateStyle:1},Ft=Nt.add(Ct,Ps(Ps({},zt),{temporary:!0}));if(ft=(ft=Nt.remove(Ft,zt))instanceof Array?ft[0]:ft,this.dropModel=ft,St(ft))return this.getSourceModel(it,{target:v,avoidChildren:0})}return ft}return it&&(0,_.default)(it).data("model")},a.prototype.selectTargetModel=function(e,o){if(!(e instanceof T.FE||o&&o===e)){var s=this.targetModel;s&&s!==this.srcModel&&s.set("status",""),e&&e.set&&(e.set("status","selected-parent"),this.targetModel=e)}},a.prototype.onMove=function(e){var o=e,s=this,c=s.em,v=s.onMoveClb,P=s.plh,N=s.customTarget;this.moved=!0;var H=P.style.display;H&&"none"!==H||(P.style.display="block");var R=this.offset(this.el);this.elT=this.wmargin?Math.abs(R.top):R.top,this.elL=this.wmargin?Math.abs(R.left):R.left;var it=e.pageY-this.elT+this.el.scrollTop,ft=e.pageX-this.elL+this.el.scrollLeft;if(this.canvasRelative&&c){var Ct=c.get("Canvas").getMouseRelativeCanvas(e,{noScroll:1});ft=Ct.x,it=Ct.y}this.rX=ft,this.rY=it,this.eventMove=e;var St=this.getSourceModel(),Nt=N?N({sorter:this,event:e}):e.target,zt=this.dimsFromTarget(Nt,ft,it),Ft=this.target,pe=Ft&&this.getTargetModel(Ft);if(this.selectTargetModel(pe,St),pe||(P.style.display="none"),Ft){this.lastDims=zt;var ve=this.findPosition(zt,ft,it);this.isTextableActive(St,pe)?(this.activeTextModel=pe,P.style.display="none",this.lastPos=ve,this.updateTextViewCursorPosition(o)):(this.disableTextable(),delete this.activeTextModel,this.lastPos&&this.lastPos.index==ve.index&&this.lastPos.method==ve.method||(this.movePlaceholder(this.plh,zt,ve,this.prevTargetDim),this.$plh||(this.$plh=(0,_.default)(this.plh)),this.canvasRelative||(this.offTop&&this.$plh.css("top","+="+this.offTop+"px"),this.offLeft&&this.$plh.css("left","+="+this.offLeft+"px")),this.lastPos=ve)),(0,x.isFunction)(v)&&v({event:e,target:St,parent:pe,index:ve.index+("after"==ve.method?1:0)}),c&&c.trigger("sorter:drag",{target:Ft,targetModel:pe,sourceModel:St,dims:zt,pos:ve,x:ft,y:it})}},a.prototype.isTextableActive=function(e,o){var s;return(null===(s=e?.get)||void 0===s?void 0:s.call(e,"textable"))&&o?.isInstanceOf("text")},a.prototype.disableTextable=function(){var e=this.activeTextModel;e?.getView().disableEditing(),this.setContentEditable(e,!1)},a.prototype.isInFlow=function(e,o){if(!e)return!1;o=o||document.body;var s=e;return s.offsetHeight,!!this.styleInFlow(s,o)},a.prototype.styleInFlow=function(e,o){if(!(0,g.isTextNode)(e)){var s=e.style||{},c=(0,_.default)(e),v=o&&(0,_.default)(o);if(!s.overflow||"visible"===s.overflow){var P=c.css("float");if(!(P&&"none"!==P||v&&"flex"==v.css("display")&&"column"!==v.css("flex-direction"))){switch(s.position){case"static":case"relative":case"":break;default:return}switch(e.tagName){case"TR":case"TBODY":case"THEAD":case"TFOOT":return!0}switch(c.css("display")){case"block":case"list-item":case"table":case"flex":case"grid":return!0}}}}},a.prototype.validTarget=function(e,o){var s=this.getTargetModel(e),c=this.getSourceModel(o,{target:s}),v={valid:!0,src:o=c&&c.view&&c.view.el,srcModel:c,trg:e=s&&s.view&&s.view.el,trgModel:s,draggable:!1,droppable:!1,dragInfo:"",dropInfo:""};if(!o||!e)return v.valid=!1,v;var P=c.get("draggable");if((0,x.isFunction)(P)){var N=P(c,s);v.dragInfo=N,v.draggable=N,P=N}else P=P instanceof Array?P.join(", "):P,v.dragInfo=P,P=(0,x.isString)(P)?this.matches(e,P):P,v.draggable=P;var H=s.get("droppable");return(0,x.isFunction)(H)?(N=H(c,s),v.droppable=N,v.dropInfo=N,H=N):(H=(H=H instanceof T.FE?1:H)instanceof Array?H.join(", "):H,v.dropInfo=H,H=(0,x.isString)(H)?this.matches(o,H):H,H=P&&this.isTextableActive(c,s)?1:H,v.droppable=H),H&&P||(v.valid=!1),v},a.prototype.dimsFromTarget=function(e,o,s){var c=this.em,v=[];if(!e||(this.matches(e,"".concat(this.itemSel,", ").concat(this.containerSel))||(e=this.closest(e,this.itemSel)),this.draggable instanceof Array&&(e=this.closest(e,this.draggable.join(","))),!e))return v;if(this.prevTarget&&this.prevTarget!=e&&delete this.prevTarget,!this.prevTarget){this.targetP=this.closest(e,this.containerSel);var P=this.validTarget(e);if(c&&c.trigger("sorter:drag:validation",P),!P.valid&&this.targetP)return this.dimsFromTarget(this.targetP,o,s);this.prevTarget=e,this.prevTargetDim=this.getDim(e),this.cacheDimsP=this.getChildrenDim(this.targetP),this.cacheDims=this.getChildrenDim(e)}if(this.prevTarget==e&&(v=this.cacheDims),this.target=this.prevTarget,this.nearBorders(this.prevTargetDim,o,s)||!this.nested&&!this.cacheDims.length){var N=this.targetP;N&&this.validTarget(N).valid&&(v=this.cacheDimsP,this.target=N)}return delete this.lastPos,v},a.prototype.getTargetFromEl=function(e){var o,s=e,c=this.targetPrev,v=this.em,P=this.containerSel,N=this.itemSel;if(this.matches(s,"".concat(N,", ").concat(P))||(s=this.closest(s,N)),this.draggable instanceof Array&&(s=this.closest(s,this.draggable.join(","))),c&&c!=s&&delete this.targetPrev,!this.targetPrev){o=this.closest(s,P);var H=this.validTarget(s);if(v&&v.trigger("sorter:drag:validation",H),!H.valid&&o)return this.getTargetFromEl(o);this.targetPrev=s}return this.nearElBorders(s)&&(o=this.closest(s,P))&&this.validTarget(o).valid&&(s=o),s},a.prototype.nearElBorders=function(e){var s=e.getBoundingClientRect(),c=e.ownerDocument.body,v=this.getCurrentPos(),P=v.x,N=v.y,H=s.top+c.scrollTop,R=s.left+c.scrollLeft,it=s.width,ft=s.height;if(N<H+10||N>H+ft-10||P<R+10||P>R+it-10)return 1},a.prototype.getCurrentPos=function(){var e=this.eventMove;return{x:e?.pageX||0,y:e?.pageY||0}},a.prototype.getDim=function(e){var o,s,c,v,P=this.em,N=this.canvasRelative,H=P?.Canvas,R=H?H.getElementOffsets(e):{};if(N&&P){var it=H.getElementPos(e,{noScroll:1});o=it.top,s=it.left,c=it.height,v=it.width}else{var ft=this.offset(e);o=this.relative?e.offsetTop:ft.top-(this.wmargin?-1:1)*this.elT,s=this.relative?e.offsetLeft:ft.left-(this.wmargin?-1:1)*this.elL,c=e.offsetHeight,v=e.offsetWidth}return{top:o,left:s,height:c,width:v,offsets:R}},a.prototype.getChildrenDim=function(e){var o=this,s=[];if(!e)return s;var c=this.getTargetModel(e);if(c&&c.view&&!this.ignoreViewChildren){var v=c.getCurrentView?c.getCurrentView():c.view;e=v.getChildrenContainer()}return(0,x.each)(e.children,function(P,N){var H=P,R=(0,g.getModel)(H,_.default),it=R&&R.index?R.index():N;if((0,g.isTextNode)(H)||o.matches(H,o.itemSel)){var ft,Ct=o.getDim(H),St=o.direction;ft="v"==St||"h"!=St&&o.isInFlow(H,e),Ct.dir=ft,Ct.el=H,Ct.indexEl=it,s.push(Ct)}}),s},a.prototype.nearBorders=function(e,o,s){var c=!1,v=this.borderOffset,P=o||0,N=s||0,H=e.top,R=e.left,it=e.height,ft=e.width;return(H+v>N||N>H+it-v||R+v>P||P>R+ft-v)&&(c=!0),c},a.prototype.findPosition=function(e,o,s){for(var c,v={index:0,indexEl:0,method:"before"},P=0,N=0,H=0,R=0,it=0,ft=0,Ct=0,St=e.length;Ct<St;Ct++){var Nt=(c=e[Ct]).top,zt=c.left,Ft=c.height,pe=c.width;if(ft=Nt+Ft,R=zt+pe/2,it=Nt+Ft/2,!(N&&zt>N||H&&it>=H||P&&zt+pe<P))if(v.index=Ct,v.indexEl=c.indexEl,c.dir){if(s<it){v.method="before";break}v.method="after"}else s<ft&&(H=ft),o<R?(N=R,v.method="before"):(P=R,v.method="after")}return v},a.prototype.movePlaceholder=function(e,o,s,c){var P=0,N=0,H="",R="",it="px",Ct=s.method,St=o[s.index];if(e.classList.remove("vertical"),e.classList.add("horizontal"),St){var Nt=St.top,zt=St.left,Ft=St.height,pe=St.width;St.dir?(H=pe+it,R="auto",P="before"==Ct?Nt-0:Nt+Ft-0,N=zt):(H="auto",R=Ft-0+it,P=Nt+0,N="before"==Ct?zt-0:zt+pe-0,e.classList.remove("horizontal"),e.classList.add("vertical"))}else{if(!this.nested)return void(e.style.display="none");if(c){var ve=c.offsets||{},De=ve.paddingTop||5,je=ve.paddingLeft||5;P=c.top+De,N=c.left+je,H=parseInt("".concat(c.width))-2*je+it,R="auto"}}e.style.top=P+it,e.style.left=N+it,H&&(e.style.width=H),R&&(e.style.height=R)},a.prototype.parents=function(e){return e?[e].concat(this.parents(e.parent())):[]},a.prototype.sort=function(e,o){var s=e.parents.filter(function(v){return o.parents.includes(v)})[0];if(!s)return o.model.index()-e.model.index();var c=e.parents[e.parents.indexOf(s)-1];return o.parents[o.parents.indexOf(s)-1].index()-c.index()},a.prototype.endMove=function(){var e,o=this,s=this.sourceEl,c=[],v=this.getDocuments(),P=this.getContainerEl(),N=this.onEndMove,H=this.onEnd,R=this.target,it=this.lastPos;if((0,g.off)(P,"mousemove dragover",this.onMove),(0,g.off)(v,"mouseup dragend touchend",this.endMove),(0,g.off)(v,"keydown",this.rollback),this.plh.style.display="none",s&&(e=this.getSourceModel(),this.selectOnEnd&&e&&e.set&&(e.set("status",""),e.set("status","selected"))),this.moved&&R){var ft=this.toMove,Ct=(0,x.isArray)(ft)?ft:ft?[ft]:[s],St=0;1===Ct.length?c.push(this.move(R,Ct[0],it)):Ct.map(function(Ft){return{model:Ft,parents:o.parents(Ft)}}).sort(this.sort).forEach(function(Ft){var pe=Ft.model,ve=pe.index(),De=pe.parent().getEl();c.push(o.move(R,pe,Ps(Ps({},it),{indexEl:it.indexEl-St,index:it.index-St}))),De===R&&ve<=it.index&&St++})}this.plh&&(this.plh.style.display="none");var Nt=this.dragHelper;if(Nt&&(Nt.parentNode.removeChild(Nt),delete this.dragHelper),this.disableTextable(),this.selectTargetModel(),this.toggleSortCursor(),delete this.toMove,delete this.eventMove,delete this.dropModel,(0,x.isFunction)(N)){var zt={target:e,parent:e&&e.parent(),index:e&&e.index()};c.length?c.forEach(function(Ft){return N(Ft,o,zt)}):N(null,this,Ps(Ps({},zt),{cancelled:1}))}(0,x.isFunction)(H)&&H({sorter:this})},a.prototype.move=function(e,o,s){var c,v,P=this.em,N=this.dropContent,H=(0,g.getElement)(o),R=[],it="after"===s.method?s.indexEl+1:s.indexEl,ft=this.validTarget(e,H),Ct=(0,_.default)(e).data("collection"),St=ft.trgModel,Nt=ft.srcModel,zt=ft.draggable,Ft=St instanceof T.FE?1:ft.droppable;if(Ct&&Ft&&zt){var pe={at:it,action:"move-component"},ve=this.isTextableActive(Nt,St);if(N)c=(0,x.isFunction)(N)?N():N,pe.avoidUpdateStyle=!0,pe.action="add-component";else{var De=Nt.collection.indexOf(Nt),je=Ct===Nt.collection;(!je||De!==it&&De!==it-1||ve)&&(c=Nt.collection.remove(Nt,{temporary:!0}),je&&it>De&&(pe.at=it-1))}c&&(ve?(delete pe.at,v=St.getView().insertComponent(c,pe)):v=Ct.add(c,pe)),delete this.dropContent,delete this.prevTarget}else if(P){var nn=ft.dropInfo||St?.get("droppable"),cn=ft.dragInfo||Nt?.get("draggable");!Ct&&R.push("Target collection not found"),!Ft&&nn&&R.push("Target is not droppable, accepts [".concat(nn,"]")),!zt&&cn&&R.push("Component not draggable, acceptable by [".concat(cn,"]")),P.logWarning("Invalid target position",{errors:R,model:Nt,context:"sorter",target:St})}return P?.trigger("sorter:drag:end",{targetCollection:Ct,modelToDrop:c,warns:R,validResult:ft,dst:e,srcEl:H}),v},a.prototype.rollback=function(e){(0,g.off)(this.getDocuments(),"keydown",this.rollback),27==(e.which||e.keyCode)&&(this.moved=!1,this.endMove())},a}(T.G7);const bf=yf;var Ca=function(){return Ca=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Ca.apply(this,arguments)},_f=function(){function p(a){void 0===a&&(a={}),this.defOpts={ratioDefault:!1,onUpdateContainer:function(){},step:1,minDim:10,maxDim:1/0,unitHeight:"px",unitWidth:"px",keyHeight:"height",keyWidth:"width",currentUnit:!0,silentFrames:!1,avoidContainerUpdate:!1,keepAutoHeight:!1,keepAutoWidth:!1,autoHeight:!1,autoWidth:!1,tl:!0,tc:!0,tr:!0,cl:!0,cr:!0,bl:!0,bc:!0,br:!0},this.opts=Ca({},this.defOpts),this.setOptions(a),(0,x.bindAll)(this,"handleKeyDown","handleMouseDown","move","stop")}return p.prototype.getConfig=function(){return this.opts},p.prototype.setOptions=function(a,e){void 0===a&&(a={}),this.opts=Ca(Ca({},e?this.defOpts:this.opts),a),this.setup()},p.prototype.setup=function(){var a=this.opts,e=a.prefix||"",o=a.appendTo||document.body,s=this.container;for(s||((s=document.createElement("div")).className="".concat(e,"resizer-c"),o.appendChild(s),this.container=s);s.firstChild;)s.removeChild(s.firstChild);var c={};for(var v in["tl","tc","tr","cl","cr","bl","bc","br"].forEach(function(N){return c[N]=a[N]?function(H,R){void 0===R&&(R={});var it=R.prefix||"",ft=document.createElement("i");return ft.className=it+"resizer-h "+it+"resizer-h-"+H,ft.setAttribute("data-"+it+"handler",H),ft}(N,a):null}),c){var P=c[v];P&&s.appendChild(P)}this.handlers=c,this.mousePosFetcher=a.mousePosFetcher,this.updateTarget=a.updateTarget,this.posFetcher=a.posFetcher,this.onStart=a.onStart,this.onMove=a.onMove,this.onEnd=a.onEnd,this.onUpdateContainer=a.onUpdateContainer},p.prototype.toggleFrames=function(a){if(this.opts.silentFrames){var e=document.querySelectorAll("iframe");(0,x.each)(e,function(o){return o.style.pointerEvents=a?"none":""})}},p.prototype.isHandler=function(a){var e=this.handlers;for(var o in e)if(e[o]===a)return!0;return!1},p.prototype.getFocusedEl=function(){return this.el},p.prototype.getParentEl=function(){var a;return null===(a=this.el)||void 0===a?void 0:a.parentElement},p.prototype.getDocumentEl=function(){return[this.el.ownerDocument,document]},p.prototype.getElementPos=function(a,e){void 0===e&&(e={});var v,P,o=this.posFetcher;return o?o(a,e):(v=window,{left:(P=a.getBoundingClientRect()).left+v.pageXOffset,top:P.top+v.pageYOffset,width:P.width,height:P.height})},p.prototype.focus=function(a){a&&a===this.el||(this.el=a,this.updateContainer({forceShow:!0}),(0,g.on)(this.getDocumentEl(),"pointerdown",this.handleMouseDown))},p.prototype.blur=function(){this.container.style.display="none",this.el&&((0,g.off)(this.getDocumentEl(),"pointerdown",this.handleMouseDown),delete this.el)},p.prototype.start=function(a){var e=a;if(0===e.button){e.preventDefault(),e.stopPropagation();var o=this.el,s=this.getParentEl(),c=this.opts||{},v=this.mousePosFetcher,P="data-"+c.prefix+"handler",N=this.getElementPos(o,{avoidFrameZoom:!0,avoidFrameOffset:!0}),H=this.getElementPos(s),R=e.target;this.handlerAttr=R.getAttribute(P),this.clickedHandler=R,this.startDim={t:N.top,l:N.left,w:N.width,h:N.height},this.rectDim={t:N.top,l:N.left,w:N.width,h:N.height},this.startPos=v?v(e):{x:e.clientX,y:e.clientY},this.parentDim={t:H.top,l:H.left,w:H.width,h:H.height};var it=this.getDocumentEl();this.docs=it,(0,g.on)(it,"pointermove",this.move),(0,g.on)(it,"keydown",this.handleKeyDown),(0,g.on)(it,"pointerup",this.stop),(0,x.isFunction)(this.onStart)&&this.onStart(e,{docs:it,config:c,el:o,resizer:this}),this.toggleFrames(!0),this.move(e)}},p.prototype.move=function(a){var e=a,o=this.onMove,s=this.mousePosFetcher,c=s?s(e):{x:e.clientX,y:e.clientY};this.currentPos=c,this.delta={x:c.x-this.startPos.x,y:c.y-this.startPos.y},this.keys={shift:e.shiftKey,ctrl:e.ctrlKey,alt:e.altKey},this.rectDim=this.calc(this),this.updateRect(!1),o&&o(e)},p.prototype.stop=function(a){var e=this.el,o=this.opts,s=this.docs||this.getDocumentEl();(0,g.off)(s,"pointermove",this.move),(0,g.off)(s,"keydown",this.handleKeyDown),(0,g.off)(s,"pointerup",this.stop),this.updateRect(!0),this.toggleFrames(),(0,x.isFunction)(this.onEnd)&&this.onEnd(a,{docs:s,config:o,el:e,resizer:this}),delete this.docs},p.prototype.updateRect=function(a){var e=this.el,o=this.opts,s=this.rectDim,c=this.updateTarget,v=this.getSelectedHandler(),P=o.unitHeight,N=o.unitWidth,H=o.keyWidth,R=o.keyHeight;if((0,x.isFunction)(c))c(e,s,{store:a,selectedHandler:v,resizer:this,config:o});else{var it=e.style;it[H]=s.w+N,it[R]=s.h+P,it.top=s.t+P,it.left=s.l+N}this.updateContainer()},p.prototype.updateContainer=function(a){var e;void 0===a&&(a={});var o=this,s=o.opts,c=o.container,v=o.el,P=c.style;!s.avoidContainerUpdate&&v&&a.forceShow&&(P.display="block"),null===(e=this.onUpdateContainer)||void 0===e||e.call(this,{el:c,resizer:this,opts:Ca(Ca({},s),a)})},p.prototype.getSelectedHandler=function(){var a=this.handlers;if(this.selectedHandler)for(var e in a)if(a[e]===this.selectedHandler)return e},p.prototype.handleKeyDown=function(a){27===a.keyCode&&(this.rectDim=this.startDim,this.stop(a))},p.prototype.handleMouseDown=function(a){var e=a.target;this.isHandler(e)?(this.selectedHandler=e,this.start(a)):e!==this.el&&(delete this.selectedHandler,this.blur())},p.prototype.calc=function(a){var e,o=this.opts||{},s=o.step,c=this.startDim,v=o.minDim,P=o.maxDim,N=a.delta.x,H=a.delta.y,R=this.parentDim.w,it=this.parentDim.h,ft=this.opts.unitWidth,Ct=this.opts.unitHeight,St="%"===ft?c.w/100*R:c.w,Nt="%"===Ct?c.h/100*it:c.h,zt={t:c.t,l:c.l,w:St,h:Nt};if(a){var Ft=a.handlerAttr;~Ft.indexOf("r")&&(e="%"===ft?(0,g.normalizeFloat)((St+N*s)/R*100,.01):(0,g.normalizeFloat)(St+N*s,s),e=Math.max(v,e),P&&(e=Math.min(P,e)),zt.w=e),~Ft.indexOf("b")&&(e="%"===Ct?(0,g.normalizeFloat)((Nt+H*s)/it*100,.01):(0,g.normalizeFloat)(Nt+H*s,s),e=Math.max(v,e),P&&(e=Math.min(P,e)),zt.h=e),~Ft.indexOf("l")&&(e="%"===ft?(0,g.normalizeFloat)((St-N*s)/R*100,.01):(0,g.normalizeFloat)(St-N*s,s),e=Math.max(v,e),P&&(e=Math.min(P,e)),zt.w=e),~Ft.indexOf("t")&&(e="%"===Ct?(0,g.normalizeFloat)((Nt-H*s)/it*100,.01):(0,g.normalizeFloat)(Nt-H*s,s),e=Math.max(v,e),P&&(e=Math.min(P,e)),zt.h=e);var pe=o.ratioDefault?!a.keys.shift:a.keys.shift;if(Ft.indexOf("c")<0&&pe){var ve=c.w/c.h;zt.w/zt.h>ve?zt.h=Math.round(zt.w/ve):zt.w=Math.round(zt.h*ve)}for(var De in~Ft.indexOf("l")&&(zt.l+=c.w-zt.w),~Ft.indexOf("t")&&(zt.t+=c.h-zt.h),zt){var je=De;zt[je]=parseInt("".concat(zt[je]),10)}return zt}},p}();const wf=_f;var Tf=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),fd=function(){return fd=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},fd.apply(this,arguments)};const Cf=function(p){function a(e){var o=p.call(this,e,"Utils")||this;return o.Sorter=bf,o.Resizer=wf,o.Dragger=nt.Z,o.helpers=fd({},g),o}return Tf(a,p),a.prototype.destroy=function(){},a}(S);var Co,No={},mo={16:!1,18:!1,17:!1,91:!1},Zd="all",Ea={"\u21e7":16,shift:16,"\u2325":18,alt:18,option:18,"\u2303":17,ctrl:17,control:17,"\u2318":91,command:91},Qd={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,home:36,end:35,pageup:33,pagedown:34,",":188,".":190,"/":191,"`":192,"-":189,"=":187,";":186,"'":222,"[":219,"]":221,"\\":220},gd=function(p){return Qd[p]||p.toUpperCase().charCodeAt(0)},Sl=[];for(Co=1;Co<20;Co++)Qd["f"+Co]=111+Co;function Ac(p,a){for(var e=p.length;e--;)if(p[e]===a)return e;return-1}function Ef(p,a){if(p.length!=a.length)return!1;for(var e=0;e<p.length;e++)if(p[e]!==a[e])return!1;return!0}var xf={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey"};function Of(p){var a,e=p.keyCode,o=Ac(Sl,e);if(o>=0&&Sl.splice(o,1),93!=e&&224!=e||(e=91),e in mo)for(a in mo[e]=!1,Ea)Ea[a]==e&&(vo[a]=!1)}function Af(){for(Co in mo)mo[Co]=!1;for(Co in Ea)vo[Co]=!1}function vo(p,a,e){var o,s;o=Jd(p),void 0===e&&(e=a,a="all");for(var c=0;c<o.length;c++)s=[],(p=o[c].split("+")).length>1&&(s=th(p),p=[p[p.length-1]]),p=p[0],(p=gd(p))in No||(No[p]=[]),No[p].push({shortcut:o[c],scope:a,method:e,key:o[c],mods:s})}for(Co in Ea)vo[Co]=!1;function md(){return Zd||"all"}function Jd(p){var a;return""==(a=(p=p.replace(/\s/g,"")).split(","))[a.length-1]&&(a[a.length-2]+=","),a}function th(p){for(var a=p.slice(0,p.length-1),e=0;e<a.length;e++)a[e]=Ea[a[e]];return a}function vd(p,a,e){p.addEventListener?p.addEventListener(a,e,!1):p.attachEvent&&p.attachEvent("on"+a,function(){e(window.event)})}vo.setScope=function(p){Zd=p||"all"},vo.getScope=md,vo.deleteScope=function(p){var a,e,o;for(a in No)for(e=No[a],o=0;o<e.length;)e[o].scope===p?e.splice(o,1):o++},vo.filter=function(p){var a=(p.target||p.srcElement).tagName;return!("INPUT"==a||"SELECT"==a||"TEXTAREA"==a)},vo.isPressed=function(p){return"string"==typeof p&&(p=gd(p)),-1!=Ac(Sl,p)},vo.getPressedKeyCodes=function(){return Sl.slice(0)},vo.unbind=function(p,a){var e,o,s,c,v,P=[];for(e=Jd(p),c=0;c<e.length;c++){if((o=e[c].split("+")).length>1&&(P=th(o)),p=o[o.length-1],p=gd(p),void 0===a&&(a=md()),!No[p])return;for(s=0;s<No[p].length;s++)(v=No[p][s]).scope===a&&Ef(v.mods,P)&&(No[p][s]={})}},vo.handlers=No,vo.init=function(p){vd(p.document,"keydown",function(a){!function(e){var o,s,c,v,P,N;if(o=e.keyCode,-1==Ac(Sl,o)&&Sl.push(o),93!=o&&224!=o||(o=91),o in mo)for(c in mo[o]=!0,Ea)Ea[c]==o&&(vo[c]=!0);else if(function Sf(p){for(Co in mo)mo[Co]=p[xf[Co]]}(e),vo.filter.call(this,e)&&o in No)for(N=md(),v=0;v<No[o].length;v++)if((s=No[o][v]).scope==N||"all"==s.scope){for(c in P=s.mods.length>0,mo)(!mo[c]&&Ac(s.mods,+c)>-1||mo[c]&&-1==Ac(s.mods,+c))&&(P=!1);(0!=s.mods.length||mo[16]||mo[18]||mo[17]||mo[91])&&!P||!1===s.method(e,s)&&(e.preventDefault?e.preventDefault():e.returnValue=!1,e.stopPropagation&&e.stopPropagation(),e.cancelBubble&&(e.cancelBubble=!0))}}(a)}),vd(p.document,"keyup",Of),vd(p,"focus",Af)};const kc=vo,kf={defaults:{"core:undo":{keys:"\u2318+z, ctrl+z",handler:"core:undo"},"core:redo":{keys:"\u2318+shift+z, ctrl+shift+z",handler:"core:redo"},"core:copy":{keys:"\u2318+c, ctrl+c",handler:"core:copy"},"core:paste":{keys:"\u2318+v, ctrl+v",handler:"core:paste"},"core:component-next":{keys:"s",handler:"core:component-next"},"core:component-prev":{keys:"w",handler:"core:component-prev"},"core:component-enter":{keys:"d",handler:"core:component-enter"},"core:component-exit":{keys:"a",handler:"core:component-exit"},"core:component-delete":{keys:"backspace, delete",handler:"core:component-delete",opts:{prevent:!0}}}};var Pf=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),eh=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))};(0,g.hasWin)()&&kc.init(window);var Mf=function(p){function a(e){var o=p.call(this,e,"Keymaps",kf)||this;return o.keymaster=kc,o.keymaps={},o}return Pf(a,p),a.prototype.onLoad=function(){var e=this.config.defaults;for(var o in e){var s=e[o];this.add(o,s.keys,s.handler,s.opts||{})}},a.prototype.add=function(e,o,s,c){void 0===c&&(c={});var v=this.em,P=v.Commands,N=v.getEditor(),H=v.Canvas,R={id:e,keys:o,handler:s};return this.keymaps[e]&&this.remove(e),this.keymaps[e]=R,kc(o,function(it,ft){var Ct={event:it,h:ft},St=(0,x.isString)(s)?P.get(s):s;if(!v.isEditing()&&!N.Canvas.isInputFocused()||c.force){c.prevent&&H.getCanvasView().preventDefault(it),(0,x.isFunction)(St)?St(N,0,Ct):P.runCommand(St,Ct);var Nt=[e,ft.shortcut,it];v.trigger.apply(v,eh(["keymap:emit"],Nt,!1)),v.trigger.apply(v,eh(["keymap:emit:".concat(e)],Nt,!1))}},void 0),v.trigger("keymap:add",R),R},a.prototype.get=function(e){return this.keymaps[e]},a.prototype.getAll=function(){return this.keymaps},a.prototype.remove=function(e){var o=this.em,s=this.get(e);if(s)return delete this.keymaps[e],s.keys.split(", ").forEach(function(c){kc.unbind(c.trim())}),o?.trigger("keymap:remove",s),s},a.prototype.removeAll=function(){var e=this;return Object.keys(this.keymaps).forEach(function(o){return e.remove(o)}),kc.handlers={},this},a.prototype.destroy=function(){this.removeAll(),this.keymaps={}},a}(S);const Nf=Mf,Df={stylePrefix:"mdl-",title:"",content:"",backdrop:!0,custom:!1,extend:{}};var Lf=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const If=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Lf(a,p),a.prototype.defaults=function(){return{title:"",content:"",attributes:{},open:!1}},a.prototype.open=function(){this.set("open",!0)},a.prototype.close=function(){this.set("open",!1)},a}(tt);var Rf=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ep=function(){return ep=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},ep.apply(this,arguments)};const jf=function(p){function a(e){var o=p.call(this,e)||this,s=o.model;return o.listenTo(s,"change:open",o.updateOpen),o.listenTo(s,"change:title",o.updateTitle),o.listenTo(s,"change:content",o.updateContent),o}return Rf(a,p),a.prototype.template=function(e){var o=e.pfx,s=e.ppfx,c=e.content,v=e.title;return'<div class="'.concat(o,"dialog ").concat(s,"one-bg ").concat(s,'two-color">\n      <div class="').concat(o,'header">\n        <div class="').concat(o,'title">').concat(v,'</div>\n        <div class="').concat(o,'btn-close" data-close-modal>&Cross;</div>\n      </div>\n      <div class="').concat(o,'content">\n        <div id="').concat(o,'c">').concat(c,'</div>\n        <div style="clear:both"></div>\n      </div>\n    </div>\n    <div class="').concat(o,'collector" style="display: none"></div>')},a.prototype.events=function(){return{click:"onClick","click [data-close-modal]":"hide"}},a.prototype.onClick=function(e){this.config.backdrop&&e.target===this.el&&this.hide()},a.prototype.getCollector=function(){return this.$collector||(this.$collector=this.$el.find("."+this.pfx+"collector")),this.$collector},a.prototype.getContent=function(){var e=this.pfx;return this.$content||(this.$content=this.$el.find(".".concat(e,"content #").concat(e,"c"))),this.$content},a.prototype.getTitle=function(e){return void 0===e&&(e={}),this.$title||(this.$title=this.$el.find("."+this.pfx+"title")),e.$?this.$title:this.$title.get(0)},a.prototype.updateContent=function(){var e=this.getContent(),o=e.children(),s=this.getCollector(),c=this.model.get("content");o.length&&s.append(o),e.empty().append(c)},a.prototype.updateTitle=function(){var e=this.getTitle({$:!0});e&&e.empty().append(this.model.get("title"))},a.prototype.updateOpen=function(){this.el.style.display=this.model.get("open")?"":"none"},a.prototype.hide=function(){this.model.close()},a.prototype.show=function(){this.model.open()},a.prototype.updateAttr=function(e){var o=this,s=o.pfx,c=o.$el,v=o.el,P=[].slice.call(v.attributes).map(function(N){return N.name});c.removeAttr(P.join(" ")),c.attr(ep(ep({},e||{}),{class:"".concat(s,"container ").concat(e&&e.class||"").trim()}))},a.prototype.render=function(){var e=this.$el,o=this.model.toJSON();return o.pfx=this.pfx,o.ppfx=this.ppfx,e.html(this.template(o)),this.updateAttr(),this.updateOpen(),this},a}(sn);var Hf=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const Ff=function(p){function a(e){var o=p.call(this,e,"Modal",Df)||this;return o.model=new If(o),o.model.on("change:open",function(s,c){e.trigger("modal:".concat(c?"open":"close"))}),o.model.on("change",(0,x.debounce)(function(){var s=o._evData(),c=o.config.custom;(0,x.isFunction)(c)&&c(s),e.trigger("modal",s)},0)),o}return Hf(a,p),a.prototype._evData=function(){var e=this,o=this.getTitle(),s=this.getContent(),c=this.model.attributes;return{open:c.open,attributes:c.attributes,title:(0,x.isString)(o)?(0,Qe.rw)(o):o,content:(0,x.isString)(s)?(0,Qe.rw)(s):s.get?s.get(0):s,close:function(){e.close()}}},a.prototype.postRender=function(e){var o=e.model.config.el||e.el,s=this.render();s&&o?.appendChild(s)},a.prototype.open=function(e){void 0===e&&(e={});var o=e.attributes||{};return e.title&&this.setTitle(e.title),e.content&&this.setContent(e.content),this.model.set("attributes",o),this.model.open(),this.modal&&this.modal.updateAttr(o),this},a.prototype.close=function(){return this.model.close(),this},a.prototype.onceClose=function(e){return this.em.once("modal:close",e),this},a.prototype.onceOpen=function(e){return this.em.once("modal:open",e),this},a.prototype.isOpen=function(){return!!this.model.get("open")},a.prototype.setTitle=function(e){return this.model.set("title",e),this},a.prototype.getTitle=function(){return this.model.get("title")},a.prototype.setContent=function(e){return this.model.set("content"," "),this.model.set("content",e),this},a.prototype.getContent=function(){return this.model.get("content")},a.prototype.getContentEl=function(){var e;return null===(e=this.modal)||void 0===e?void 0:e.getContent().get(0)},a.prototype.getModel=function(){return this.model},a.prototype.render=function(){var e;if(!this.config.custom){var o=jf.extend(this.config.extend),s=this.modal&&this.modal.el;return this.modal=new o({el:s,model:this.model,config:this.config}),null===(e=this.modal)||void 0===e?void 0:e.render().el}},a.prototype.destroy=function(){var e;null===(e=this.modal)||void 0===e||e.remove()},a}(S);var nh="sw-visibility",rh="export-template",oh="open-sm",ih="open-tm",sh="open-layers",ah="open-blocks",yd="fullscreen",bd="preview";const _d={stylePrefix:"pn-",defaults:[{id:"commands",buttons:[{}]},{id:"options",buttons:[{active:!0,id:nh,className:"fa fa-square-o",command:"core:component-outline",context:nh,attributes:{title:"View components"}},{id:bd,className:"fa fa-eye",command:bd,context:bd,attributes:{title:"Preview"}},{id:yd,className:"fa fa-arrows-alt",command:yd,context:yd,attributes:{title:"Fullscreen"}},{id:rh,className:"fa fa-code",command:rh,attributes:{title:"View code"}}]},{id:"views",buttons:[{id:oh,className:"fa fa-paint-brush",command:oh,active:!0,togglable:!1,attributes:{title:"Open Style Manager"}},{id:ih,className:"fa fa-cog",command:ih,togglable:!1,attributes:{title:"Settings"}},{id:sh,className:"fa fa-bars",command:sh,togglable:!1,attributes:{title:"Open Layer Manager"}},{id:ah,className:"fa fa-th-large",command:ah,togglable:!1,attributes:{title:"Open Blocks"}}]}]};var Bf=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const lh=function(p){function a(e,o){var s=p.call(this,e,o)||this;return s.get("buttons").length&&s.set("buttons",new uh(s.module,s.get("buttons"))),s}return Bf(a,p),a.prototype.defaults=function(){return{id:"",label:"",tagName:"span",className:"",command:"",context:"",buttons:[],attributes:{},options:{},active:!1,dragDrop:!1,togglable:!0,runDefaultCommand:!0,stopDefaultCommand:!1,disable:!1}},Object.defineProperty(a.prototype,"className",{get:function(){return this.get("className")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"command",{get:function(){return this.get("command")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"active",{get:function(){return this.get("active")},set:function(e){this.set("active",e)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"togglable",{get:function(){return this.get("togglable")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"runDefaultCommand",{get:function(){return this.get("runDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"stopDefaultCommand",{get:function(){return this.get("stopDefaultCommand")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"disable",{get:function(){return this.get("disable")},enumerable:!1,configurable:!0}),a}(tt);var Uf=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ch=function(p){function a(e,o){return p.call(this,e,o,lh)||this}return Uf(a,p),a.prototype.deactivateAllExceptOne=function(e,o){this.forEach(function(s,c){s!==e&&(s.set("active",!1),o&&s.get("buttons").length&&s.get("buttons").deactivateAllExceptOne(e,o))})},a.prototype.deactivateAll=function(e,o){var s=e||"";this.forEach(function(c){c.get("context")==s&&c!==o&&c.set("active",!1,{fromCollection:!0})})},a.prototype.disableAllButtons=function(e){var o=e||"";this.forEach(function(s,c){s.get("context")==o&&s.set("disable",!0)})},a.prototype.disableAllButtonsExceptOne=function(e,o){this.forEach(function(s,c){s!==e&&(s.set("disable",!0),o&&s.get("buttons").length&&s.get("buttons").disableAllButtonsExceptOne(e,o))})},a}(ut);const uh=ch;ch.prototype.model=lh;var Vf=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const ph=function(p){function a(e,o){var s=p.call(this,e,o)||this,c=s.get("buttons")||[];return s.buttons=new uh(e,c),s}return Vf(a,p),a.prototype.defaults=function(){return{id:"",content:"",visible:!0,buttons:[],attributes:{}}},Object.defineProperty(a.prototype,"buttons",{get:function(){return this.get("buttons")},set:function(e){this.set("buttons",e)},enumerable:!1,configurable:!0}),a}(tt);var zf=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),dh=function(p){function a(e,o){return p.call(this,e,o,ph)||this}return zf(a,p),a}(ut);const qf=dh;dh.prototype.model=ph;var Gf=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ol=function(){return Ol=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Ol.apply(this,arguments)},Wf=function(p){function a(e){var o=p.call(this,e)||this,s=o,c=s.model,v=s.em,P=s.pfx,N=s.ppfx,H=c.className,R=c.attributes,it=R.command,ft=R.listen;if(o.id=P+c.get("id"),o.activeCls="".concat(P,"active ").concat(N,"four-color"),o.disableCls="".concat(N,"disabled"),o.btnsVisCls="".concat(P,"visible"),o.className=P+"btn"+(H?" "+H:""),o.listenTo(c,"change",o.render),o.listenTo(c,"change:active updateActive",o.updateActive),o.listenTo(c,"checkActive",o.checkActive),o.listenTo(c,"change:bntsVis",o.updateBtnsVis),o.listenTo(c,"change:attributes",o.updateAttributes),o.listenTo(c,"change:className",o.updateClassName),o.listenTo(c,"change:disable",o.updateDisable),v&&(0,x.isString)(it)&&ft){var Ct={fromListen:!0};o.listenTo(v,"run:".concat(it),function(){return c.set("active",!0,Ct)}),o.listenTo(v,"stop:".concat(it),function(){return c.set("active",!1,Ct)})}return v&&v.get&&(o.commands=v.get("Commands")),o}return Gf(a,p),a.prototype.tagName=function(){return this.model.get("tagName")},a.prototype.events=function(){return{click:"clicked"}},a.prototype.updateClassName=function(){var e=this.model,o=this.pfx,s=e.className,c=e.get("attributes").class,v="".concat(c||""," ").concat(o,"btn ").concat(s||"");this.$el.attr("class",v.trim())},a.prototype.updateAttributes=function(){var e=this,o=e.em,s=e.model,c=e.$el,v=s.get("attributes")||{},P=o&&o.t&&o.t("panels.buttons.titles.".concat(s.id));c.attr(v),P&&c.attr({title:P}),this.updateClassName()},a.prototype.updateBtnsVis=function(){this.$buttons&&(this.model.get("bntsVis")?this.$buttons.addClass(this.btnsVisCls):this.$buttons.removeClass(this.btnsVisCls))},a.prototype.updateActive=function(e,o,s){var c;void 0===s&&(s={});var v=this,P=v.model,N=v.commands,H=v.$el,R=v.activeCls,it=s.fromCollection,ft=s.fromListen,Ct=P.get("context"),St=P.get("options"),Nt=P.command,zt={};Nt&&(N&&(0,x.isString)(Nt)?zt=N.get(Nt)||{}:(0,x.isFunction)(Nt)?zt=N.create({run:Nt}):null!==Nt&&(0,x.isObject)(Nt)&&(zt=N.create(Nt)),P.active?(!it&&(null===(c=P.collection)||void 0===c||c.deactivateAll(Ct,P)),P.set("active",!0,{silent:!0}).trigger("checkActive"),!ft&&N.runCommand(zt,Ol(Ol({},St),{sender:P})),zt.noStop&&P.set("active",!1)):(H.removeClass(R),!ft&&N.stopCommand(zt,Ol(Ol({},St),{sender:P,force:1}))))},a.prototype.updateDisable=function(){var e=this.disableCls,o=this.model.disable;this.$el[o?"addClass":"removeClass"](e)},a.prototype.checkActive=function(){var e=this,o=e.model,s=e.$el,c=e.activeCls;o.active?s.addClass(c):s.removeClass(c)},a.prototype.clicked=function(e){var o=this.model;o.get("bntsVis")||o.disable||!o.command||this.toggleActive()},a.prototype.toggleActive=function(){var e=this.model,o=this.em,s=e.active,c=e.togglable;s&&!c||(e.active=!s,s?e.runDefaultCommand&&o.runDefault():e.stopDefaultCommand&&o.stopDefault())},a.prototype.render=function(){var e=this.model,o=e.get("label"),s=this.$el;return!e.get("el")&&s.empty(),this.updateAttributes(),o&&s.append(o),this.checkActive(),this.updateDisable(),this},a}(sn);const $f=Wf;var Kf=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const Yf=function(p){function a(e){var o=p.call(this,{collection:e})||this;return o.listenTo(o.collection,"add",o.addTo),o.listenTo(o.collection,"reset remove",o.render),o.className=o.pfx+"buttons",o}return Kf(a,p),a.prototype.addTo=function(e){this.addToCollection(e)},a.prototype.addToCollection=function(e,o){var s=o||null,c=e.get("el"),v=new $f({el:c,model:e}).render().el;return s?s.appendChild(v):this.$el.append(v),v},a.prototype.render=function(){var e=this,o=document.createDocumentFragment();return this.$el.empty(),this.collection.each(function(s){return e.addToCollection(s,o)}),this.$el.append(o),this.$el.attr("class",(0,x.result)(this,"className")),this},a}(sn);var Xf=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),wd=function(){return wd=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},wd.apply(this,arguments)},Zf=function(p){function a(e){var o=p.call(this,{model:e,el:e.get("el")})||this;return o.className=o.pfx+"panel",o.id=o.pfx+e.get("id"),o.listenTo(e,"change:appendContent",o.appendContent),o.listenTo(e,"change:content",o.updateContent),o.listenTo(e,"change:visible",o.toggleVisible),e.view=o,o}return Xf(a,p),a.prototype.appendContent=function(){this.$el.append(this.model.get("appendContent"))},a.prototype.updateContent=function(){this.$el.html(this.model.get("content"))},a.prototype.toggleVisible=function(){this.model.get("visible")?this.$el.removeClass("".concat(this.ppfx,"hidden")):this.$el.addClass("".concat(this.ppfx,"hidden"))},a.prototype.attributes=function(){return this.model.get("attributes")},a.prototype.initResize=function(){var e=this.em,o=e?.Editor,s=this.model.get("resizable");if(o&&s){var c=!0===s?[!0,!0,!0,!0]:s,v=c.length,P=void 0,N=void 0,H=void 0,R=!1;if(2==v)P=(it=c)[0],H=it[0],N=it[1],R=it[1];else if(4==v){var it;P=(it=c)[0],N=it[1],H=it[2],R=it[3]}var ft=new o.Utils.Resizer(wd({tc:P,cr:N,bc:H,cl:R,tl:!1,tr:!1,bl:!1,br:!1,appendTo:this.el,silentFrames:!0,avoidContainerUpdate:!0,prefix:o.getConfig().stylePrefix,onEnd:function(){e&&e.trigger("change:canvasOffset")},posFetcher:function(Ct,St){var Nt=St.target,zt=Ct.style,Ft=ft.getConfig(),pe=Ft.keyWidth,ve=Ft.keyHeight,De=Ct.getBoundingClientRect(),je="container"==Nt,nn=zt[pe],cn=zt[ve];return{left:0,top:0,width:nn&&!je?parseFloat(nn):De.width,height:cn&&!je?parseFloat(cn):De.height}}},s&&"boolean"!=typeof s?s:{}));ft.blur=function(){},ft.focus(this.el)}},a.prototype.render=function(){var e=this.model.buttons,o=this.$el,s=this.ppfx,c="".concat(this.className," ").concat(this.id," ").concat(s,"one-bg ").concat(s,"two-color");if(o.addClass(c),this.toggleVisible(),e.length){var v=new Yf(e);o.append(v.render().el)}return o.append(this.model.get("content")),this},a}(sn);const Qf=Zf;var Jf=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const t1=function(p){function a(e){var o=p.call(this,{collection:e})||this;return o.listenTo(e,"add",o.addTo),o.listenTo(e,"reset",o.render),o.listenTo(e,"remove",o.onRemove),o.className=o.pfx+"panels",o}return Jf(a,p),a.prototype.onRemove=function(e){var o=e.view;o&&o.remove()},a.prototype.addTo=function(e){this.addToCollection(e)},a.prototype.addToCollection=function(e,o){var s=o||null,c=e.get("el"),v=new Qf(e),P=v.render().el,N=e.get("appendTo");if(!c)if(N){document.querySelector(N)?.appendChild(P)}else s?s.appendChild(P):this.$el.append(P);return v.initResize(),P},a.prototype.render=function(){var e=this,o=this.$el,s=document.createDocumentFragment();return o.empty(),this.collection.each(function(c){return e.addToCollection(c,s)}),o.append(s),o.attr("class",this.className),this},a}(sn);var e1=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const n1=function(p){function a(e){var o=p.call(this,e,"Panels",_d)||this;for(var s in o.panels=new qf(o,o.config.defaults),_d)s in o.config||(o.config[s]=_d[s]);return o}return e1(a,p),a.prototype.getPanels=function(){return this.panels},a.prototype.getPanelsEl=function(){var e;return null===(e=this.PanelsViewObj)||void 0===e?void 0:e.el},a.prototype.addPanel=function(e){return this.panels.add(e)},a.prototype.removePanel=function(e){return this.panels.remove(e)},a.prototype.getPanel=function(e){var o=this.panels.where({id:e});return o.length?o[0]:null},a.prototype.addButton=function(e,o){var s=this.getPanel(e);return s?s.buttons.add(o):null},a.prototype.removeButton=function(e,o){var s=this.getPanel(e);return s&&s.buttons.remove(o)},a.prototype.getButton=function(e,o){var s=this.getPanel(e);if(s){var c=s.buttons.where({id:o});return c.length?c[0]:null}return null},a.prototype.render=function(){var e;return null===(e=this.PanelsViewObj)||void 0===e||e.remove(),this.PanelsViewObj=new t1(this.panels),this.PanelsViewObj.render().el},a.prototype.active=function(){this.getPanels().each(function(e){e.buttons.each(function(o){o.get("active")&&o.trigger("updateActive")})})},a.prototype.disableButtons=function(){this.getPanels().each(function(e){e.buttons.each(function(o){o.get("disable")&&o.trigger("change:disable")})})},a.prototype.destroy=function(){this.panels.reset(),this.panels.stopListening(),this.PanelsViewObj&&this.PanelsViewObj.remove()},a}(S),r1={stylePrefix:"cm-",optsCodeViewer:{}};var o1=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const s1=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return o1(a,p),a.prototype.build=function(e,o){void 0===o&&(o={});var s=o.em,c=function(p,a){var e={};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&a.indexOf(o)<0&&(e[o]=p[o]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(p);s<o.length;s++)a.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(p,o[s])&&(e[o[s]]=p[o[s]])}return e}(o,["em"]);if(o.cleanId&&s){var v=s.Css.getAll().toJSON().map(function(P){var N=P.selectors,H=N&&1===N.length&&N.models[0];return H&&H.isId()&&H.get("name")}).filter(Boolean);c.attributes||(c.attributes=function(P,N){var H=N.id;return H&&"i"===H[0]&&!P.get("script")&&!P.get("attributes").id&&v.indexOf(H)<0&&delete N.id,N})}return e.toHTML(c)},a}(T.Hn);var a1=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),l1=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return a1(a,p),a.prototype.build=function(e){var o=this,s=e.toJSON();return this.beforeEach(s),(0,x.each)(s,function(c,v){var P=s[v];if(P instanceof T.Hn)s[v]=o.build(P);else if(P instanceof T.FE){var N=P;s[v]=[],N.length&&N.forEach(function(H,R){s[v][R]=o.build(H)})}}),s},a.prototype.beforeEach=function(e){delete e.status},a}(T.Hn);const c1=l1;var u1=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),p1=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return u1(a,p),a.prototype.mapModel=function(e){var o,s=this,c="",v=e.get("script-export")||e.get("script"),P=e.get("type"),N=e.get("components"),H=e.getId();if(v){var R=e.get("attributes");R=(0,x.extend)({},R,{id:H}),e.set("attributes",R,{silent:!0});var it=e.getScriptString(v),ft=e.get("script-props");if(e.get("scriptUpdated")&&!ft)this.mapJs[P+"-"+H]={ids:[H],code:it};else{var Ct=void 0,St=this.mapJs[P];if(ft&&(Ct=e.__getScriptProps()),St)St.ids.push(H),Ct&&(St.props[H]=Ct);else{var Nt={ids:[H],code:it};Ct&&(Nt.props=((o={})[H]=Ct,o)),this.mapJs[P]=Nt}}}return N.forEach(function(zt){c+=s.mapModel(zt)}),c},a.prototype.build=function(e){this.mapJs={},this.mapModel(e);var s,c="";for(var v in this.mapJs){var P=this.mapJs[v];if(P.code)if(P.props){if(void 0,0===((null===(s=P.code.toString().match(/\{([\s\S]*)\}/m))||void 0===s?void 0:s[1])||"").replace(/^\s*\/\/.*$/gm,"").trim().length)continue;c+="\n          var props = ".concat(JSON.stringify(P.props),";\n          var ids = Object.keys(props).map(function(id) { return '#'+id }).join(',');\n          var els = document.querySelectorAll(ids);\n          for (var i = 0, len = els.length; i < len; i++) {\n            var el = els[i];\n            (").concat(P.code,".bind(el))(props[el.id]);\n          }")}else{var N="#"+P.ids.join(", #");c+="\n          var items = document.querySelectorAll('".concat(N,"');\n          for (var i = 0, len = items.length; i < len; i++) {\n            (function(){\n").concat(P.code,"\n}.bind(items[i]))();\n          }")}}return c},a}(T.Hn);const d1=p1;var Pc,h1=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Td=function(){return Td=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Td.apply(this,arguments)};(0,g.hasWin)()&&(Pc=lt(631),lt(531),lt(629),lt(210));var hh=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return h1(a,p),a.prototype.defaults=function(){return{input:"",label:"",codeName:"",theme:"hopscotch",readOnly:!0,lineNumbers:!0,autoFormat:!0}},a.prototype.init=function(e){return(0,x.bindAll)(this,"onChange"),this.editor=Pc.fromTextArea(e,Td({dragDrop:!1,lineWrapping:!0,mode:this.get("codeName")},this.attributes)),this.element=e,this.editor.on("change",this.onChange),this},a.prototype.onChange=function(){this.trigger("update",this)},a.prototype.getEditor=function(){return this.editor},a.prototype.getElement=function(){return this.element},a.prototype.setElement=function(e){return this.element=e,this},a.prototype.refresh=function(){return this.getEditor().refresh(),this},a.prototype.focus=function(){return this.getEditor().focus(),this},a.prototype.getContent=function(){var e=this.getEditor();return e&&e.getValue()},a.prototype.setContent=function(e,o){var s=this;void 0===o&&(o={});var c=this.editor;if(c){c.setValue(e);var v=this.get("autoFormat");c.autoFormatRange&&(!0===v||Array.isArray(v)&&v.includes(this.get("codeName")))&&(Pc.commands.selectAll(c),c.autoFormatRange(c.getCursor(!0),c.getCursor(!1)),Pc.commands.goDocStart(c)),!o.noRefresh&&setTimeout(function(){return s.refresh()})}},a}(T.Hn);const f1=hh;hh.prototype.CodeMirror=Pc;var g1=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const v1=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return g1(a,p),a.prototype.template=function(e){var o=e.pfx,s=e.codeName,c=e.label;return M(fh||(fh=function(p,a){return Object.defineProperty?Object.defineProperty(p,"raw",{value:a}):p.raw=a,p}(['\n      <div class="','editor" id="',"",'">\n        <div id="','title">','</div>\n        <div id="','code"></div>\n      </div>\n    '],['\n      <div class="','editor" id="',"",'">\n        <div id="','title">','</div>\n        <div id="','code"></div>\n      </div>\n    '])),o,o,s,o,c,o)},a.prototype.initialize=function(e){this.config=e.config||{},this.pfx=this.config.stylePrefix},a.prototype.render=function(){var e,o,s=this,c=s.model,v=s.pfx,P=s.$el,N=c.toJSON(),H=c.get("input")||(null===(o=(e=c).getElement)||void 0===o?void 0:o.call(e));return N.pfx=v,P.html(this.template(N)),P.attr("class","".concat(v,"editor-c")),P.find("#".concat(v,"code")).append(H),this},a}(T.G7);var fh,y1=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),np=function(){return np=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},np.apply(this,arguments)},_1=function(p){function a(e){var o=p.call(this,e,"CodeManager",r1)||this;o.EditorView=v1;var s=o.config,c=s.pStylePrefix;return c&&(s.stylePrefix=c+s.stylePrefix),o.generators={},o.viewers={},o.defGenerators={html:new s1,css:new _r,json:new c1,js:new d1},o.defViewers={CodeMirror:new f1},o.loadDefaultGenerators().loadDefaultViewers(),o}return y1(a,p),a.prototype.addGenerator=function(e,o){return this.generators[e]=o,this},a.prototype.getGenerator=function(e){return this.generators[e]},a.prototype.getGenerators=function(){return this.generators},a.prototype.addViewer=function(e,o){return this.viewers[e]=o,this},a.prototype.getViewer=function(e){return this.viewers[e]},a.prototype.getViewers=function(){return this.viewers},a.prototype.createViewer=function(e){void 0===e&&(e={});var o=(0,x.isUndefined)(e.type)?"CodeMirror":e.type,s=this.getViewer(o)&&this.getViewer(o).clone(),c=document.createElement("div"),v=document.createElement("textarea");return c.appendChild(v),s.set(np(np({},this.config.optsCodeViewer),e)),s.init(v),s.setElement(c),s},a.prototype.updateViewer=function(e,o){e.setContent(o)},a.prototype.getCode=function(e,o,s){void 0===s&&(s={}),s.em=this.em;var c=this.getGenerator(o);return c?c.build(e,s):""},a.prototype.loadDefaultGenerators=function(){for(var e in this.defGenerators)this.addGenerator(e,this.defGenerators[e]);return this},a.prototype.loadDefaultViewers=function(){for(var e in this.defViewers)this.addViewer(e,this.defViewers[e]);return this},a.prototype.destroy=function(){},a}(S);const w1=_1;var T1=lt(410),C1=lt.n(T1);const E1={maximumStackLength:500,trackSelection:!0};var x1=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ts=function(){return ts=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},ts.apply(this,arguments)},S1=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))},rp=function(p){return p.avoidStore||p.noUndo},gh=function(p){return Object.keys(p.changedAttributes())},O1=function(p){function a(e){var o=p.call(this,e,"UndoManager",E1)||this;o.config._disable&&(o.config.maximumStackLength=0);var s=!0;return o.um=new(C1())(ts({track:!0,register:[]},o.config)),o.um.changeUndoType("change",{condition:function(c){var v=c.get("_undo");if(v){var P=c.get("_undoexc");if((0,x.isArray)(P)&&gh(c).some(function(N){return P.indexOf(N)>=0}))return!1;if((0,x.isBoolean)(v)||(0,x.isArray)(v)&&gh(c).some(function(N){return v.indexOf(N)>=0}))return!0}return!1},on:function(c,v,P){var N=this;!this.beforeCache&&(this.beforeCache=c.previousAttributes());var H=P||v||{};if(H.noUndo&&setTimeout(function(){N.beforeCache=null}),!rp(H)){var R=c.toJSON({fromUndo:s}),it={object:c,before:this.beforeCache,after:R};if(this.beforeCache=null,!(0,x.isEmpty)(R))return it}}}),o.um.changeUndoType("add",{on:function(c,v,P){if(void 0===P&&(P={}),!rp(P)&&o.isRegistered(v))return{object:v,before:void 0,after:c,options:ts(ts({},P),{fromUndo:s})}}}),o.um.changeUndoType("remove",{on:function(c,v,P){if(void 0===P&&(P={}),!rp(P)&&o.isRegistered(v))return{object:v,before:c,after:void 0,options:ts(ts({},P),{fromUndo:s})}}}),o.um.changeUndoType("reset",{undo:function(c,v){c.reset(v,{fromUndo:s})},redo:function(c,v,P){c.reset(P,{fromUndo:s})},on:function(c,v){if(void 0===v&&(v={}),!rp(v)&&o.isRegistered(c))return{object:c,before:v.previousModels,after:S1([],c.models,!0),options:ts(ts({},v),{fromUndo:s})}}}),o.um.on("undo redo",function(){e.trigger("change:canvasOffset"),e.getSelectedAll().map(function(c){return c.trigger("rerender:layer")})}),["undo","redo"].forEach(function(c){return o.um.on(c,function(){return e.trigger(c)})}),o}return x1(a,p),a.prototype.postLoad=function(){var e=this.config,o=this.em;e.trackSelection&&o&&this.add(o.get("selected"))},a.prototype.add=function(e){return this.um.register(e),this},a.prototype.remove=function(e){return this.um.unregister(e),this},a.prototype.removeAll=function(){return this.um.unregisterAll(),this},a.prototype.start=function(){return this.um.startTracking(),this},a.prototype.stop=function(){return this.um.stopTracking(),this},a.prototype.undo=function(e){void 0===e&&(e=!0);var o=this.em,s=this.um;return!o.isEditing()&&s.undo(e),this},a.prototype.undoAll=function(){return this.um.undoAll(),this},a.prototype.redo=function(e){void 0===e&&(e=!0);var o=this.em,s=this.um;return!o.isEditing()&&s.redo(e),this},a.prototype.redoAll=function(){return this.um.redoAll(),this},a.prototype.hasUndo=function(){return!!this.um.isAvailable("undo")},a.prototype.hasRedo=function(){return!!this.um.isAvailable("redo")},a.prototype.isRegistered=function(e){return!!this.getInstance().objectRegistry.isRegistered(e)},a.prototype.getStack=function(){return this.um.stack},a.prototype.getStackGroup=function(){var e=[],o=[];return this.getStack().forEach(function(s){var c=s.get("magicFusionIndex");o.indexOf(c)<0&&(o.push(c),e.push(s))}),e},a.prototype.skip=function(e){this.stop(),e(),this.start()},a.prototype.getGroupedStack=function(){var e={};return this.getStack().forEach(function(s,c){var H,R,it,ft,Ct,St,Nt,v=s.get("magicFusionIndex"),P=(H=c,R=s.attributes,it=R.type,ft=R.after,Ct=R.before,St=R.object,Nt=R.options,{index:H,type:it,after:ft,before:Ct,object:St,options:void 0===Nt?{}:Nt});e[v]?e[v].push(P):e[v]=[P]}),Object.keys(e).map(function(s){var c=e[s];return{index:c[c.length-1].index,actions:c,labels:(0,x.unique)(c.reduce(function(v,P){var N,H=null===(N=P.options)||void 0===N?void 0:N.action;return H&&v.push(H),v},[]))}})},a.prototype.goToGroup=function(e){var o=this;if(e){var s=this.getPointer(),c=e.index-s;(0,x.times)(Math.abs(c),function(){o[c<0?"undo":"redo"](!1)})}},a.prototype.getPointer=function(){return this.getStack().pointer},a.prototype.clear=function(){return this.um.clear(),this},a.prototype.getInstance=function(){return this.um},a.prototype.destroy=function(){this.clear().removeAll()},a}(S);const A1=O1,k1={stylePrefix:"rte-",adjustToolbar:!0,actions:["bold","italic","underline","strikethrough","link","wrap"],custom:!1};var op,Al=function(){return Al=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Al.apply(this,arguments)};!function(p){p[p.ACTIVE=1]="ACTIVE",p[p.INACTIVE=0]="INACTIVE",p[p.DISABLED=-1]="DISABLED"}(op||(op={}));var Cd="_rte",ip=function(p,a){void 0===a&&(a="A");var e=p.selection()||{},o=e.anchorNode,s=e.focusNode,c=o?.parentNode,v=s?.parentNode;return c?.nodeName==a||v?.nodeName==a},sp="data-selectme",Mc={bold:{name:"bold",icon:"<b>B</b>",attributes:{title:"Bold"},result:function(p){return p.exec("bold")}},italic:{name:"italic",icon:"<i>I</i>",attributes:{title:"Italic"},result:function(p){return p.exec("italic")}},underline:{name:"underline",icon:"<u>U</u>",attributes:{title:"Underline"},result:function(p){return p.exec("underline")}},strikethrough:{name:"strikethrough",icon:"<s>S</s>",attributes:{title:"Strike-through"},result:function(p){return p.exec("strikeThrough")}},link:{icon:'<svg viewBox="0 0 24 24">\n          <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z" />\n        </svg>',name:"link",attributes:{style:"font-size:1.4rem;padding:0 4px 2px;",title:"Link"},state:function(p){return p&&p.selection()&&ip(p)?1:0},result:function(p){ip(p)?p.exec("unlink"):p.insertHTML('<a href="" '.concat(sp,">").concat(p.selection(),"</a>"),{select:!0})}},wrap:{name:"wrap",icon:'<svg viewBox="0 0 24 24">\n            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />\n        </svg>',attributes:{title:"Wrap for style"},state:function(p){return p?.selection()&&ip(p,"SPAN")?-1:0},result:function(p){!ip(p,"SPAN")&&p.insertHTML("<span ".concat(sp,">").concat(p.selection(),"</span>"),{select:!0})}}},P1=function(){function p(a,e,o){void 0===o&&(o={});var s=this;if(this.em=a,this.settings=o,e[Cd])return e[Cd];e[Cd]=this,this.setEl(e),this.updateActiveActions=this.updateActiveActions.bind(this),this.__onKeydown=this.__onKeydown.bind(this),this.__onPaste=this.__onPaste.bind(this);var c=(o.actions||[]).map(function(R){var it=R;return(0,x.isString)(R)?it=Al({},Mc[R]):Mc[R.name]&&(it=Al(Al({},Mc[R.name]),R)),it}),v=c.length?c:Object.keys(Mc).map(function(R){return Mc[R]});o.classes=Al({actionbar:"actionbar",button:"action",active:"active",disabled:"disabled",inactive:"inactive"},o.classes);var P=o.classes,N=o.actionbar;if(this.actionbar=N,this.classes=P,this.actions=v,!N){if(!this.isCustom(o.module)){var H=o.actionbarContainer;(N=document.createElement("div")).className=P.actionbar,H?.appendChild(N),this.actionbar=N}v.forEach(function(R){return s.addAction(R)})}return o.styleWithCSS&&this.exec("styleWithCSS"),this}return p.prototype.isCustom=function(a){var e=a||this.em.RichTextEditor;return!(!e?.config.custom&&!e?.customRte)},p.prototype.destroy=function(){},p.prototype.setEl=function(a){this.el=a,this.doc=a.ownerDocument},p.prototype.updateActiveActions=function(){var a=this,e=this.getActions();e.forEach(function(o){var s=o.update,c=o.btn,v=a.classes,P=v.active,N=v.inactive,H=v.disabled,R=o.state,it=o.name,ft=a.doc,Ct=op.INACTIVE;if(c&&(c.className=c.className.replace(P,"").trim(),c.className=c.className.replace(N,"").trim(),c.className=c.className.replace(H,"").trim()),R){var St=R(a,ft);if(Ct=St,c)switch(St){case 1:c.className+=" ".concat(P);break;case 0:c.className+=" ".concat(N);break;case-1:c.className+=" ".concat(H)}}else ft.queryCommandSupported(it)&&ft.queryCommandState(it)&&(c&&(c.className+=" ".concat(P)),Ct=op.ACTIVE);o.currentState=Ct,s?.(a,o)}),e.length&&this.em.RichTextEditor.__dbdTrgCustom()},p.prototype.enable=function(a){return this.enabled?this:this.__toggleEffects(!0,a)},p.prototype.disable=function(){return this.__toggleEffects(!1)},p.prototype.__toggleEffects=function(a,e){void 0===a&&(a=!1),void 0===e&&(e={});var o=a?g.on:g.off,s=this.el,c=this.doc,v=this.actionbarEl();if(v&&(v.style.display=a?"":"none"),s.contentEditable="".concat(!!a),o(s,"mouseup keyup",this.updateActiveActions),o(c,"keydown",this.__onKeydown),o(c,"paste",this.__onPaste),this.enabled=a,a){var P=e.event;if(this.syncActions(),this.updateActiveActions(),P){var N=null;if(c.caretRangeFromPoint){var H=(0,g.getPointerEvent)(P);N=c.caretRangeFromPoint(H.clientX,H.clientY)}else P.rangeParent&&(N=c.createRange()).setStart(P.rangeParent,P.rangeOffset);var R=c.getSelection();R?.removeAllRanges(),N&&R?.addRange(N)}s.focus()}return this},p.prototype.__onKeydown=function(a){var e=a,o=this.doc;"Enter"!==e.key||["insertOrderedList","insertUnorderedList"].some(function(s){return o.queryCommandState(s)})||(o.execCommand("insertLineBreak"),e.preventDefault())},p.prototype.__onPaste=function(a){var e=a.clipboardData||window.clipboardData,o=e.getData("text"),s=e.getData("text/html");if(o&&!s){a.preventDefault();var c=o.replace(/(?:\r\n|\r|\n)/g,"<br/>");this.doc.execCommand("insertHTML",!1,c)}},p.prototype.syncActions=function(){var a=this;this.getActions().forEach(function(e){if(a.actionbar&&(!e.state||e.state&&e.state(a,a.doc)>=0)){var o=e.event||"click",s=e.btn;s&&(s["on".concat(o)]=function(){e.result(a,e),a.updateActiveActions()})}})},p.prototype.addAction=function(a,e){void 0===e&&(e={});var o=e.sync,s=this.actionbarEl();if(s){var c=a.icon,v=a.attributes,P=void 0===v?{}:v,N=document.createElement("span");for(var H in N.className=this.classes.button,a.btn=N,P)N.setAttribute(H,P[H]);"string"==typeof c?N.innerHTML=c:N.appendChild(c),s.appendChild(N)}o&&(this.actions.push(a),this.syncActions())},p.prototype.getActions=function(){return this.actions},p.prototype.selection=function(){return this.doc.getSelection()},p.prototype.exec=function(a,e){this.doc.execCommand(a,!1,e)},p.prototype.actionbarEl=function(){return this.actionbar},p.prototype.insertHTML=function(a,e){var o=(void 0===e?{}:e).select,s=this,c=s.em,v=s.doc,P=s.el,N=v.getSelection();if(N&&N.rangeCount){var H=(0,g.getModel)(P),R=v.createElement("div"),it=N.getRangeAt(0);it.deleteContents(),(0,x.isString)(a)?R.innerHTML=a:a&&R.appendChild(a),Array.prototype.slice.call(R.childNodes).forEach(function(ft){it.insertNode(ft)}),N.removeAllRanges(),N.addRange(it),P.focus(),o&&H&&(H.once("rte:disable",function(){var ft=H.find("[".concat(sp,"]"))[0];ft&&(c.setSelected(ft),ft.removeAttributes(sp))}),H.trigger("disable"))}},p}();const M1=P1;var N1=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),yh=function(p,a,e,o){return new(e||(e=Promise))(function(s,c){function v(H){try{N(o.next(H))}catch(R){c(R)}}function P(H){try{N(o.throw(H))}catch(R){c(R)}}function N(H){var R;H.done?s(H.value):(R=H.value,R instanceof e?R:new e(function(it){it(R)})).then(v,P)}N((o=o.apply(p,a||[])).next())})},bh=function(p,a){var e,o,s,c,v={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function P(N){return function(H){return function(R){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,R[0]&&(v=0)),v;)try{if(e=1,o&&(s=2&R[0]?o.return:R[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,R[1])).done)return s;switch(o=0,s&&(R=[2&R[0],s.value]),R[0]){case 0:case 1:s=R;break;case 4:return v.label++,{value:R[1],done:!1};case 5:v.label++,o=R[1],R=[0];continue;case 7:R=v.ops.pop(),v.trys.pop();continue;default:if(!((s=(s=v.trys).length>0&&s[s.length-1])||6!==R[0]&&2!==R[0])){v=0;continue}if(3===R[0]&&(!s||R[1]>s[0]&&R[1]<s[3])){v.label=R[1];break}if(6===R[0]&&v.label<s[1]){v.label=s[1],s=R;break}if(s&&v.label<s[2]){v.label=s[2],v.ops.push(R);break}s[2]&&v.ops.pop(),v.trys.pop();continue}R=a.call(p,v)}catch(it){R=[6,it],o=0}finally{e=s=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([N,H])}}},xd="change:canvasOffset frame:scroll component:update",L1={enable:"rte:enable",disable:"rte:disable",custom:"rte:custom"},I1=function(p){function a(e){var o=p.call(this,e,"RichTextEditor",k1)||this;o.events=L1;var s=o.config,c=s.pStylePrefix;c&&(s.stylePrefix=c+s.stylePrefix),o.pfx=s.stylePrefix,o.actions=s.actions||[];var v=new T.Hn;return o.model=v,v.on("change:currentView",o.__trgCustom,o),o.__dbdTrgCustom=(0,x.debounce)(function(){return o.__trgCustom()},0),o}return N1(a,p),a.prototype.onLoad=function(){if((0,g.hasWin)()){var e=this.config,o=e.pStylePrefix,s=e.custom,c=(0,Qe.ut)("div",{class:(0,Qe.cx)("".concat(o,"rte-toolbar"),!s&&"".concat(o,"one-bg ").concat(o,"rte-toolbar-ui"))});this.toolbar=c,this.initRte((0,Qe.ut)("div")),(0,g.on)(c,"mousedown",function(v){return v.stopPropagation()})}},a.prototype.__trgCustom=function(){var e=this,o=e.model,s=e.em,c=e.events;s.trigger(c.custom,{enabled:!!o.get("currentView"),container:this.getToolbarEl(),actions:this.getAll()})},a.prototype.destroy=function(){var e,o,s;null===(e=this.globalRte)||void 0===e||e.destroy(),null===(s=null===(o=this.customRte)||void 0===o?void 0:o.destroy)||void 0===s||s.call(o),this.model.stopListening().clear({silent:!0}),this.__dbdTrgCustom.cancel(),(0,Qe.L_)(this.toolbar)},a.prototype.postRender=function(e){var o=e.model.get("Canvas");this.toolbar.style.pointerEvents="all",this.hideToolbar(),o.getToolsEl().appendChild(this.toolbar)},a.prototype.initRte=function(e){var o=this.globalRte,s=this,c=s.em,v=s.pfx,P=s.actionbar,N=s.config,H=this.actions||function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))}([],N.actions,!0),R={actionbar:"".concat(v,"actionbar"),button:"".concat(v,"action"),active:"".concat(v,"active"),inactive:"".concat(v,"inactive"),disabled:"".concat(v,"disabled")};return o?(o.em=c,o.setEl(e)):(o=new M1(c,e,{classes:R,actions:H,actionbar:P,actionbarContainer:this.toolbar,module:this}),this.globalRte=o),o.actionbar&&(this.actionbar=o.actionbar),o.actions&&(this.actions=o.actions),o},a.prototype.add=function(e,o){var s;void 0===o&&(o={}),o.name=e,null===(s=this.globalRte)||void 0===s||s.addAction(o,{sync:!0})},a.prototype.get=function(e){var o,s;return null===(o=this.globalRte)||void 0===o||o.getActions().forEach(function(c){c.name==e&&(s=c)}),s},a.prototype.getAll=function(){var e;return(null===(e=this.globalRte)||void 0===e?void 0:e.getActions())||[]},a.prototype.remove=function(e){var o,s=this.getAll(),c=this.get(e);if(c){var v=c.btn,P=s.indexOf(c);null===(o=v?.parentNode)||void 0===o||o.removeChild(v),s.splice(P,1)}return c},a.prototype.run=function(e){var o=this.globalRte,s=(0,x.isString)(e)?this.get(e):e;o&&s&&(s.result(o,s),o.updateActiveActions())},a.prototype.getToolbarEl=function(){return this.toolbar},a.prototype.updatePosition=function(){var e=this.em,o=this.toolbar,c=e.Canvas,v=o.style,P=c.getTargetToElementFixed(this.lastEl,o,{event:"rteToolbarPosUpdate",left:0});["top","left","bottom","right"].forEach(function(N){var H=P[N];(0,g.isDef)(H)&&(v[N]=(0,x.isString)(H)?H:(H||0)+"px")})},a.prototype.enable=function(e,o,s){return void 0===s&&(s={}),yh(this,void 0,void 0,function(){var c,v,P,N,H;return bh(this,function(R){switch(R.label){case 0:return this.lastEl=e.el,v=(c=this).customRte,P=c.em,N=e.getChildrenContainer(),this.toolbar.style.display="",[4,v?v.enable(N,o):this.initRte(N).enable(s)];case 1:return H=R.sent(),P&&(setTimeout(this.updatePosition.bind(this),0),P.off(xd,this.updatePosition,this),P.on(xd,this.updatePosition,this),P.trigger("rte:enable",e,H)),this.model.set({currentView:e}),[2,H]}})})},a.prototype.getContent=function(e,o){return yh(this,void 0,void 0,function(){var s;return bh(this,function(c){switch(c.label){case 0:return(s=this.customRte)&&o&&(0,x.isFunction)(s.getContent)?[4,s.getContent(e.el,o)]:[3,2];case 1:return[2,c.sent()];case 2:return[2,e.getChildrenContainer().innerHTML]}})})},a.prototype.hideToolbar=function(){var e=this.toolbar.style,o="-1000px";e.top=o,e.left=o,e.display="none"},a.prototype.disable=function(e,o){var s=this.em,c=this.customRte,v=e.getChildrenContainer();c?c.disable(v,o):o&&o.disable(),this.hideToolbar(),s&&(s.off(xd,this.updatePosition,this),s.trigger("rte:disable",e,o)),this.model.unset("currentView")},a}(S);const R1=I1;var Sd=lt(790);const j1={stylePrefix:"com-",defaults:{},strict:!0};var H1=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ap=function(){return ap=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},ap.apply(this,arguments)},_h=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))},wh=[["preview","Preview","preview"],["resize","Resize","resize"],["fullscreen","Fullscreen","fullscreen"],["copy","CopyComponent"],["paste","PasteComponent"],["canvas-move","CanvasMove"],["canvas-clear","CanvasClear"],["open-code","ExportTemplate","export-template"],["open-layers","OpenLayers","open-layers"],["open-styles","OpenStyleManager","open-sm"],["open-traits","OpenTraitManager","open-tm"],["open-blocks","OpenBlocks","open-blocks"],["open-assets","OpenAssets","open-assets"],["component-select","SelectComponent","select-comp"],["component-outline","SwitchVisibility","sw-visibility"],["component-offset","ShowOffset","show-offset"],["component-move","MoveComponent","move-comp"],["component-next","ComponentNext"],["component-prev","ComponentPrev"],["component-enter","ComponentEnter"],["component-exit","ComponentExit","select-parent"],["component-delete","ComponentDelete"],["component-style-clear","ComponentStyleClear"],["component-drag","ComponentDrag"]],F1=function(p){function a(e){var o=p.call(this,e,"Commands",j1)||this;o.CommandAbstract=Sd.default,o.defaultCommands={},o.commands={},o.active={};var s=o.config,c=s.pStylePrefix,v=o.defaultCommands;for(var P in c&&(s.stylePrefix=c+s.stylePrefix),Object.keys(s.defaults).forEach(function(N){var H=s.defaults[N];H.id&&o.add(H.id,H)}),v["tlb-delete"]={run:function(N){return N.runCommand("core:component-delete")}},v["tlb-clone"]={run:function(N){N.runCommand("core:copy"),N.runCommand("core:paste",{action:"clone-component"})}},v["tlb-move"]={run:function(N,H,R){void 0===R&&(R={});var it=N.getModel(),ft=R&&R.event,Ct=R.target,St=Ct||N.getSelected(),Nt=Ct?[Ct]:_h([],N.getSelectedAll(),!0),zt=ft&&"dragstart"==ft.type,Ft={preserveSelected:1};if(!St||!St.get("draggable"))return it.logWarning("The element is not draggable");var pe=St.get("dmode")||it.get("dmode"),ve=function(){return it.stopDefault(Ft)},De=(0,x.includes)(["absolute","translate"],pe);Nt.forEach(function(Nn){return Nn.trigger("disable")}),zt?setTimeout(ve,0):ve();var je=function(Nn){it.trigger("".concat(Io,":start"),Nn)},nn=function(Nn){it.trigger(Io,Nn)},cn=function(Nn,wr,Zr){Nt.forEach(function(Sr){return Sr.set("status","selected")}),N.select(Nt),St.emitUpdate(),it.trigger("".concat(Io,":end"),Zr),setTimeout(function(){return it.runDefault(Ft)}),(De||Zr.cancelled)&&it.set("_cmpDrag",1)};if(De)N.runCommand("core:component-drag",{guidesInfo:1,mode:pe,target:St,onStart:je,onDrag:nn,onEnd:cn,event:ft});else{zt&&ft.dataTransfer.setDragImage(St.view.el,0,0);var wn=N.Commands.get("move-comp");wn.onStart=je,wn.onDrag=nn,wn.onEndMoveFromModel=cn,wn.initSorterFromModels(Nt)}Nt.forEach(function(Nn){return Nn.set("status","freezed-selected")})}},v["core:undo"]=function(N){return N.UndoManager.undo()},v["core:redo"]=function(N){return N.UndoManager.redo()},wh.forEach(function(N){var H=N[2],R=lt(828)("./".concat(N[1])).default,it="core:".concat(N[0]);v[it]=R,H&&(v[H]=R,["run","stop"].forEach(function(ft){e.on("".concat(ft,":").concat(H),function(){for(var Ct=[],St=0;St<arguments.length;St++)Ct[St]=arguments[St];return e.trigger.apply(e,_h(["".concat(ft,":").concat(it)],Ct,!1))})}))}),s.model=e.Canvas,v)o.add(P,v[P]);return o}return H1(a,p),a.prototype.add=function(e,o){var s=(0,x.isFunction)(o)?{run:o}:o;return s.stop||(s.noStop=!0),delete s.initialize,s.id=e,this.commands[e]=Sd.default.extend(s),this},a.prototype.get=function(e){var o=this.commands[e];return(0,x.isFunction)(o)?(o=new o(this.config),this.commands[e]=o):o||this.em.logWarning("'".concat(e,"' command not found")),o},a.prototype.extend=function(e,o){void 0===o&&(o={});var s=this.get(e);if(s){var c=ap(ap({},s.constructor.prototype),o);this.add(e,c);var v=wh.filter(function(P){return"core:".concat(P[0])===e&&P[2]})[0];v&&this.add(v[2],c)}return this},a.prototype.has=function(e){return!!this.commands[e]},a.prototype.getAll=function(){return this.commands},a.prototype.run=function(e,o){return void 0===o&&(o={}),this.runCommand(this.get(e),o)},a.prototype.stop=function(e,o){return void 0===o&&(o={}),this.stopCommand(this.get(e),o)},a.prototype.isActive=function(e){return this.getActive().hasOwnProperty(e)},a.prototype.getActive=function(){return this.active},a.prototype.runCommand=function(e,o){var s;if(void 0===o&&(o={}),e&&e.run){var c=this.em,v=this.config,P=e.id,N=c.Editor;this.isActive(P)&&!o.force&&v.strict||(s=N&&e.callRun(N,o),P&&e.stop&&!e.noStop&&!o.abort&&(this.active[P]=s))}return s},a.prototype.stopCommand=function(e,o){var s;if(void 0===o&&(o={}),e&&e.run){var c=this.em,v=this.config,P=e.id,N=c.Editor;(this.isActive(P)||o.force||!v.strict)&&(P&&delete this.active[P],s=e.callStop(N,o))}return s},a.prototype.create=function(e){return e.stop||(e.noStop=!0),new(Sd.default.extend(e))(this.config)},a.prototype.destroy=function(){this.defaultCommands={},this.commands={},this.active={}},a}(S);const B1=F1,U1={sectors:[{name:"General",open:!1,properties:["display","float","position","top","right","left","bottom"]},{name:"Flex",open:!1,properties:["flex-direction","flex-wrap","justify-content","align-items","align-content","order","flex-basis","flex-grow","flex-shrink","align-self"]},{name:"Dimension",open:!1,properties:["width","height","max-width","min-height","margin","padding"]},{name:"Typography",open:!1,properties:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-shadow"]},{name:"Decorations",open:!1,properties:["background-color","border-radius","border","box-shadow","background"]},{name:"Extra",open:!1,properties:["opacity","transition","transform"]}],appendTo:"",stylePrefix:"sm-",custom:!1,hideNotStylable:!0,highlightChanged:!0,highlightComputed:!0,showComputed:!0,clearProperties:!0,avoidComputed:["width","height"]};var V1=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),yo=function(){return yo=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},yo.apply(this,arguments)},Th=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))},Od=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return V1(a,p),a.getDefaults=function(){return(0,x.result)(this.prototype,"defaults")},a.prototype.defaults=function(){return{name:"",property:"",type:"",defaults:"",info:"",value:"",icon:"",functionName:"",status:"",visible:!0,fixedValues:["initial","inherit"],full:!1,important:!1,toRequire:!1,requires:void 0,requiresParent:null,parentTarget:null}},a.prototype.initialize=function(e,o){void 0===e&&(e={}),void 0===o&&(o={}),this.em=o.em;var s=this.getId()||"",c=this.get("name")||this.get("label")||"";!this.get("property")&&this.set("property",(c||s).replace(/ /g,"-"));var v=this.get("property");!this.get("id")&&this.set("id",v),!c&&this.set("name",(0,g.capitalize)(v).replace(/-/g," ")),this.on("change",this.__upTargets),a.callInit(this,e,o)},a.prototype.__getParentProp=function(){var e,o;return null===(o=null===(e=this.collection)||void 0===e?void 0:e.opts)||void 0===o?void 0:o.parentProp},a.prototype.__upTargets=function(e,o){var s,c=this;void 0===o&&(o={});var v=this.em.Styles,P=this.getName(),N=o.__clear,H=N?"":this.__getFullValue(o),R=this.__getParentProp(),it=this.changedAttributes(),ft=(0,x.keys)(it).reduce(function(pe,ve){return pe[ve]=c.previous(ve),pe},{}),Ct=Th(Th([],(0,x.keys)(this.__getClearProps()),!0),["__p"],!1),St=(0,x.keys)(it),Nt=!o.__up&&!R&&(N||Ct.some(function(pe){return St.indexOf(pe)>=0})),zt=this.get("onChange"),Ft={property:this,from:ft,to:it,value:H,opts:o};v.__trgEv(v.events.propertyUpdate,Ft),zt&&zt(Ft),Nt&&this.__upTargetsStyle(((s={})[P]=H,s),o)},a.prototype.__upTargetsStyle=function(e,o){var s;(null===(s=this.em)||void 0===s?void 0:s.get("StyleManager"))?.addStyleTargets(yo(yo({},e),{__p:!!o.avoidStore}),o)},a.prototype._up=function(e,o){void 0===o&&(o={}),o.noTarget&&(o.__up=!0);var s=o.partial,c=function(p,a){var e={};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&a.indexOf(o)<0&&(e[o]=p[o]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(p);s<o.length;s++)a.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(p,o[s])&&(e[o[s]]=p[o[s]])}return e}(o,["partial"]);return e.__p=!(!c.avoidStore&&!s),this.set(e,yo(yo({},c),{avoidStore:e.__p}))},a.prototype.up=function(e,o){void 0===o&&(o={}),this.set(e,yo(yo({},o),{__up:!0}))},a.prototype.init=function(){},a.prototype.getId=function(){return this.get("id")},a.prototype.getType=function(){return this.get("type")},a.prototype.getName=function(){return this.get("property")},a.prototype.getLabel=function(e){var o;void 0===e&&(e={});var s=e.locale,c=void 0===s||s,v=this.getId(),P=this.get("name")||this.get("label");return c&&(null===(o=this.em)||void 0===o?void 0:o.t("styleManager.properties.".concat(v)))||P},a.prototype.getValue=function(e){void 0===e&&(e={});var o=e.noDefault,s=this.get("value");return this.hasValue()||o?s:this.getDefaultValue()},a.prototype.hasValue=function(e){void 0===e&&(e={});var o=e.noParent&&this.getParentTarget(),s=this.get("value");return!(0,x.isUndefined)(s)&&""!==s&&!o},a.prototype.hasValueParent=function(){return this.hasValue()&&!this.hasValue({noParent:!0})},a.prototype.getStyle=function(e){var o;void 0===e&&(e={});var s=this.getName();return(o={})[e.camelCase?(0,g.camelCase)(s):s]=this.__getFullValue(e),o},a.prototype.getDefaultValue=function(){var e=this.get("default");return"".concat((0,x.isUndefined)(e)?this.get("defaults"):e)},a.prototype.upValue=function(e,o){void 0===o&&(o={});var s=null===e||""===e?this.__getClearProps():this.__parseValue(e,o);return this._up(s,o)},a.prototype.isVisible=function(){return!!this.get("visible")},a.prototype.clear=function(e){return void 0===e&&(e={}),this._up(this.__getClearProps(),yo(yo({},e),{__clear:!0})),this},a.prototype.canClear=function(){var e=this.getParent();return e?e.__canClearProp(this):this.hasValue({noParent:!0})},a.prototype.getParent=function(){return this.__getParentProp()},a.prototype.isFull=function(){return!!this.get("full")},a.prototype.__parseValue=function(e,o){return this.parseValue(e,o)},a.prototype.__getClearProps=function(){return{value:""}},a.prototype.setValue=function(e,o,s){void 0===o&&(o=!0),void 0===s&&(s={});var c=this.parseValue(e),v=!o;!v&&this.set({value:void 0},{avoidStore:v,silent:!0}),this.set(c,yo({avoidStore:v},s))},a.prototype.setValueFromInput=function(e,o,s){void 0===s&&(s={}),this.setValue(e,o,yo(yo({},s),{fromInput:1}))},a.prototype.parseValue=function(e,o){void 0===o&&(o={});var s={value:e},c="!important";if((0,x.isString)(e)&&-1!==e.indexOf(c)&&(s.value=e.replace(c,"").trim(),s.important=!0),!this.get("functionName")&&!o.complete)return s;var v=[],P="".concat(s.value),N=P.indexOf("(")+1,H=P.lastIndexOf(")"),R=P.substring(0,N-1);if(R&&(s.functionName=R),v.push(N),H>=0&&v.push(H),s.value=String.prototype.substring.apply(P,v),o.numeric){var it=parseFloat(s.value);s.unit=s.value.replace(it,""),s.value=it}return s},a.prototype.__getFullValue=function(e){var o=(void 0===e?{}:e).withDefault;return!this.hasValue()&&o?this.getDefaultValue():this.getFullValue()},a.prototype.getFullValue=function(e,o){void 0===o&&(o={});var s=this.get("functionName"),c=this.getDefaultValue(),v=(0,x.isUndefined)(e)?this.get("value"):e,P=!(0,x.isUndefined)(v)&&""!==v;if(v&&c&&v===c)return c;if(s&&P){var N="url"===s?"'".concat(v.replace(/'|"/g,""),"'"):v;v="".concat(s,"(").concat(N,")")}return P&&this.get("important")&&!o.skipImportant&&(v="".concat(v," !important")),v||""},a.prototype.__setParentTarget=function(e){this.up({parentTarget:e})},a.prototype.getParentTarget=function(){return this.get("parentTarget")||null},a.prototype.__parseFn=function(e){void 0===e&&(e="");var o=e.indexOf("(")+1,s=e.lastIndexOf(")");return{name:e.substring(0,o-1).trim(),value:String.prototype.substring.apply(e,[o,s>=0?s:void 0]).trim()}},a.prototype.__checkVisibility=function(e){var o=e.target,s=e.component,c=e.sectors,v=s||o;if(!v)return!1;var P=this.getId(),N=this.getName(),H=this.get("toRequire"),R=this.get("requires"),it=this.get("requiresParent"),ft=v.get("unstylable"),Ct=v.get("stylable-require"),St=v.get("stylable");if((0,x.isArray)(St)&&(St=St.indexOf(N)>=0),(0,x.isArray)(ft)&&(St=ft.indexOf(N)<0),H&&(St=!o||Ct&&(Ct.indexOf(P)>=0||Ct.indexOf(N)>=0)),c&&R){var Nt=(0,x.keys)(R);c.forEach(function(ve){ve.getProperties().forEach(function(De){if((0,x.includes)(Nt,De.id)){var je=R[De.id];St=St&&(0,x.includes)(je,De.get("value"))}})})}if(it){var zt=s&&s.parent(),Ft=zt&&zt.getEl();if(Ft){var pe=(0,g.hasWin)()?window.getComputedStyle(Ft):{};(0,x.each)(it,function(ve,De){St=St&&pe[De]&&(0,x.includes)(ve,pe[De])})}else St=!1}return!!St},a}(T.Hn);const ar=Od;Od.callParentInit=function(p,a,e,o){void 0===o&&(o={}),p.prototype.initialize.apply(a,[e,yo(yo({},o),{skipInit:1})])},Od.callInit=function(p,a,e){void 0===e&&(e={}),!e.skipInit&&p.init(a,e)};var q1=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),lp=function(){return lp=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},lp.apply(this,arguments)},G1=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return q1(a,p),a.prototype.defaults=function(){return{values:{}}},a.prototype.initialize=function(){var e=this.collection;this.prop=e?.prop},a.prototype.getId=function(){return this.cid},a.prototype.getIndex=function(){var e=this.collection;return e?e.indexOf(this):-1},a.prototype.getValues=function(e){void 0===e&&(e={});var o=this.get("values");return e.camelCase?Object.keys(o).reduce(function(s,c){return s[(0,g.camelCase)(c)]=o[c],s},{}):o},a.prototype.getLabel=function(){var e;return null===(e=this.prop)||void 0===e?void 0:e.getLayerLabel(this)},a.prototype.isSelected=function(){var e;return(null===(e=this.prop)||void 0===e?void 0:e.getSelectedLayer())===this},a.prototype.select=function(){var e;return null===(e=this.prop)||void 0===e?void 0:e.selectLayer(this)},a.prototype.remove=function(){var e;return null===(e=this.prop)||void 0===e?void 0:e.removeLayer(this)},a.prototype.move=function(e){var o;return null===(o=this.prop)||void 0===o?void 0:o.moveLayer(this,e)},a.prototype.getStylePreview=function(e){var o;return void 0===e&&(e={}),null===(o=this.prop)||void 0===o?void 0:o.getStylePreview(this,e)},a.prototype.hasPreview=function(){var e;return!(null===(e=this.prop)||void 0===e||!e.get("preview"))},a.prototype.upValues=function(e){return void 0===e&&(e={}),this.set("values",lp(lp({},this.getValues()),e))},a}(T.Hn);const W1=G1;var $1=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ch=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return $1(a,p),a.prototype.initialize=function(e,o){void 0===o&&(o={}),this.prop=o.prop},a}(T.FE);const K1=Ch;Ch.prototype.model=W1;var Y1=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),kl=function(){return kl=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},kl.apply(this,arguments)},Eh=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))},xh=function(p){return"integer"===p||"number"===p},X1=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Y1(a,p),a.prototype.defaults=function(){return kl(kl({},ar.getDefaults()),{detached:!1,properties:[],separator:" ",join:null,fromStyle:null,toStyle:null,full:!0})},a.prototype.initialize=function(e,o){void 0===e&&(e={}),void 0===o&&(o={}),ar.callParentInit(ar,this,e,o);var s=this.em,c=new Md(this.get("properties")||[],{em:s,parentProp:this});this.set("properties",c,{silent:!0}),this.listenTo(c,"change",this.__upProperties),ar.callInit(this,e,o)},Object.defineProperty(a.prototype,"properties",{get:function(){return this.get("properties")||[]},enumerable:!1,configurable:!0}),a.prototype.getProperties=function(){return Eh([],this.get("properties").models,!0)},a.prototype.getProperty=function(e){return this.properties.filter(function(o){return o.getId()===e||o.getName()===e})[0]},a.prototype.getPropertyAt=function(e){return this.get("properties").at(e)},a.prototype.isDetached=function(){return!!this.get("detached")},a.prototype.getValues=function(e){var o=(void 0===e?{}:e).byName;return this.getProperties().reduce(function(s,c){return s[o?c.getName():c.getId()]="".concat(c.__getFullValue()),s},{})},a.prototype.getSeparator=function(){return this.getSplitSeparator()},a.prototype.getJoin=function(){return this.__getJoin()},a.prototype.getStyleFromProps=function(e){var o;void 0===e&&(e={});var s=this.getName(),c=this.__getJoin(),v=this.get("toStyle"),P=this.getValues(),N={};if(v)N=v(P,{join:c,name:s,property:this});else if(P=this.getValues({byName:!0}),this.isDetached())N=P;else{var H=this.getProperties().map(function(R){return R.__getFullValue({withDefault:1})}).filter(Boolean).join(c);(o={})[s]=H,N=o}return this.isDetached()?N[s]="":(N[s]=N[s]||"",N=kl(kl({},N),this.getProperties().reduce(function(R,it){return R[it.getName()]="",R},{}))),e.camelCase?Object.keys(N).reduce(function(R,it){return R[(0,g.camelCase)(it)]=N[it],R},{}):N},a.prototype.getSplitSeparator=function(){return new RegExp("".concat(this.get("separator"),"(?![^\\(]*\\))"))},a.prototype.__upProperties=function(e,o){if(void 0===o&&(o={}),!o.__up&&!o.__clearIn){var s=this.__getParentProp();if(s)return s.__upProperties(this,o);this.__upTargetsStyleProps(o,e)}},a.prototype.__upTargetsStyleProps=function(e,o){var s;void 0===e&&(e={});var c=this.getStyleFromProps();if(this.isDetached()&&o){var v=o.getName();(s={})[v]=c[v],c=s}this.__upTargetsStyle(c,e)},a.prototype._up=function(e,o){return void 0===o&&(o={}),this.__setProperties(this.__getSplitValue(e.value),o),ar.prototype._up.call(this,e,o),this},a.prototype.getStyle=function(e){return this.getStyleFromProps(e)},a.prototype.__getFullValue=function(e){if(void 0===e&&(e={}),this.isDetached()||e.__clear)return"";var o=this.getStyleFromProps()[this.getName()]||"";return Si(o)},a.prototype.__getJoin=function(){var e=this.get("join");return(0,x.isString)(e)?e:this.get("separator")},a.prototype.__styleHasProps=function(e){void 0===e&&(e={});var o=this.getName(),s=this.getProperties().map(function(c){return c.getName()});return Eh([o],s,!0).some(function(c){return!(0,x.isUndefined)(e[c])&&""!==e[c]})},a.prototype.__splitValue=function(e,o){return Si(e).split(o).map(function(s){return s.trim()}).filter(Boolean)},a.prototype.__splitStyleName=function(e,o,s){return this.__splitValue(e[o]||"",s)},a.prototype.__getSplitValue=function(e,o){void 0===e&&(e="");var s=(void 0===o?{}:o).byName,c=this.getProperties(),v=4===c.length&&c.every(function(H){return xh(H.getType())}),P=this.__splitValue(e,this.getSplitSeparator()),N={};return c.forEach(function(H,R){var it=P[R],ft=(0,x.isUndefined)(it)?"":it;if(v){var Ct=P.length;ft=P[R]||P[R%Ct+(1!=Ct&&Ct%2?1:0)]||ft}var St=s?H.getName():H.getId();N[St]=ft||""}),N},a.prototype.__getPropsFromStyle=function(e,o){if(void 0===e&&(e={}),void 0===o&&(o={}),!this.__styleHasProps(e))return null;var s=o.byName,c=this.getName(),v=this.getProperties(),P=this.getSplitSeparator(),N=this.get("fromStyle"),H=N?N(e,{property:this,name:c,separator:P}):{};return N||(H=this.__getSplitValue(e[c]||"",{byName:s}),v.forEach(function(R){var it=e[R.getName()],ft=s?R.getName():R.getId();(0,x.isUndefined)(it)||""===it||(H[ft]=it)})),H},a.prototype.__setProperties=function(e,o){void 0===e&&(e={}),void 0===o&&(o={}),this.getProperties().forEach(function(c){var v=e[c.getId()];c.__getFullValue()!==v&&c.upValue(v,o)});var s=(0,x.keys)(e).map(function(c){return e[c]}).join(" ");this.set("value",s,{silent:!0})},a.prototype.clear=function(){var e=this;return this.getProperties().map(function(o){return o.clear({__clearIn:!e.isDetached()})}),ar.prototype.clear.call(this),this},a.prototype.hasValue=function(e){return this.getProperties().some(function(o){return o.hasValue(e)})},a.prototype.getFullValue=function(){return this.__getFullValue()},a.prototype.__canClearProp=function(e){return this.isDetached()&&e.hasValue({noParent:!0})},a}(ar);const Pl=X1;var Z1=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),_i=function(){return _i=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},_i.apply(this,arguments)},J1=/,(?![^\(]*\))/,tg=/\s(?![^(]*\))/,eg=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Z1(a,p),a.prototype.defaults=function(){return _i(_i({},Pl.getDefaults()),{layers:[],layerSeparator:", ",layerJoin:"",prepend:0,preview:!1,layerLabel:null,selectedLayer:null})},a.prototype.initialize=function(e,o){void 0===e&&(e={}),void 0===o&&(o={}),Pl.callParentInit(Pl,this,e,o);var s=this.get("layers"),c=new K1(s,{prop:this});c.property=this,c.properties=this.get("properties"),this.set("layers",c,{silent:!0}),this.on("change:selectedLayer",this.__upSelected),this.listenTo(c,"add remove",this.__upLayers),Pl.callInit(this,e,o)},a.prototype.getLayers=function(){return this.__getLayers().models},a.prototype.__getLayers=function(){return this.get("layers")},a.prototype.getLayer=function(e){return void 0===e&&(e=0),this.__getLayers().at(e)||void 0},a.prototype.getSelectedLayer=function(){var e=this.get("selectedLayer");return e&&e.getIndex()>=0?e:void 0},a.prototype.selectLayer=function(e){return this.set("selectedLayer",e,{__select:!0})},a.prototype.selectLayerAt=function(e){void 0===e&&(e=0);var o=this.getLayer(e);return o&&this.selectLayer(o)},a.prototype.moveLayer=function(e,o){void 0===o&&(o=0);var s=e?e.getIndex():-1;s>=0&&(0,x.isNumber)(o)&&o>=0&&o<this.getLayers().length&&s!==o&&(this.removeLayer(e),this.__getLayers().add(e,{at:o}))},a.prototype.addLayer=function(e,o){void 0===e&&(e={}),void 0===o&&(o={});var s={};return this.getProperties().forEach(function(c){var v=c.getId(),P=e[v];s[v]=(0,x.isUndefined)(P)?c.getDefaultValue():P}),this.__getLayers().push({values:s},o)},a.prototype.removeLayer=function(e){return this.__getLayers().remove(e)},a.prototype.removeLayerAt=function(e){void 0===e&&(e=0);var o=this.getLayer(e);return o?this.removeLayer(o):null},a.prototype.getLayerLabel=function(e){var o="";if(e){var s=this.get("layerLabel"),c=e.getValues(),v=e.getIndex();if(s)o=s(e,{index:v,values:c,property:this});else{var P=[];this.getProperties().map(function(N){P.push(c[N.getId()])}),o=P.filter(Boolean).join(" ")}}return o},a.prototype.getStyleFromLayer=function(e,o){var s;void 0===o&&(o={});var c,v=this.__getJoin(),P=this.__getJoinLayers(),N=this.get("toStyle"),H=this.getName(),R=e.getValues();if(N)c=N(R,{join:v,joinLayers:P,name:H,layer:e,property:this});else{var it=this.getProperties().map(function(ft){var Ct=ft.getName(),St=R[ft.getId()],Nt=(0,x.isUndefined)(St)?ft.getDefaultValue():St;if(o.number&&xh(ft.getType())){var zt=ft.parseValue(St,o.number);Nt="".concat(zt.value).concat(zt.unit)}return{name:Ct,value:Nt}});c=this.isDetached()?it.reduce(function(ft,Ct){return ft[Ct.name]=Ct.value,ft},{}):((s={})[this.getName()]=it.map(function(ft){return ft.value}).join(v),s)}return o.camelCase?Object.keys(c).reduce(function(ft,Ct){return ft[(0,g.camelCase)(Ct)]=c[Ct],ft},{}):c},a.prototype.getStylePreview=function(e,o){void 0===o&&(o={});var s={};return this.get("preview")&&(s=this.getStyleFromLayer(e,o)),s},a.prototype.getLayerSeparator=function(){var e=this.get("layerSeparator");return(0,x.isString)(e)?new RegExp("".concat(e,"(?![^\\(]*\\))")):e},a.prototype.__upProperties=function(e,o){var s;void 0===o&&(o={});var c=this.getSelectedLayer();c&&(c.upValues(((s={})[e.getId()]=e.__getFullValue(),s)),o.__up||this.__upTargetsStyleProps(o))},a.prototype.__upLayers=function(e,o,s){this.__upTargetsStyleProps(s||o)},a.prototype.__upTargets=function(e,o){if(void 0===o&&(o={}),!o.__select)return ar.prototype.__upTargets.call(this,e,o)},a.prototype.__upTargetsStyleProps=function(e){void 0===e&&(e={}),this.__upTargetsStyle(this.getStyleFromLayers(),e)},a.prototype.__upTargetsStyle=function(e,o){return ar.prototype.__upTargetsStyle.call(this,e,o)},a.prototype.__upSelected=function(e,o){var s=(void 0===e?{}:e).noEvent;void 0===o&&(o={});var c=this.em.Styles,P=this.getSelectedLayer()?.getValues();P&&this.getProperties().forEach(function(N){var H,R=null!==(H=P[N.getId()])&&void 0!==H?H:"";N.__getFullValue()!==R&&N.upValue(R,_i(_i({},o),{__up:!0}))}),!s&&c.__trgEv(c.events.layerSelect,{property:this})},a.prototype._up=function(e,o){void 0===o&&(o={});var s=e.__layers,c=void 0===s?[]:s,v=function(p,a){var e={};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&a.indexOf(o)<0&&(e[o]=p[o]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(p);s<o.length;s++)a.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(p,o[s])&&(e[o[s]]=p[o[s]])}return e}(e,["__layers"]);return!this.isDetached()&&this.__setLayers(c),this.__upSelected({noEvent:!0},o),ar.prototype._up.call(this,v,o),this},a.prototype.__setLayers=function(e){void 0===e&&(e=[]);var o=this.__getLayers(),s=e.map(function(c){return{values:c}});o.length===s.length?s.map(function(c,v){var P;return null===(P=o.at(v))||void 0===P?void 0:P.upValues(c.values)}):this.__getLayers().reset(s),this.__upSelected({noEvent:!0})},a.prototype.__parseValue=function(e){var o=this,s=this.parseValue(e);return s.__layers=e.split(J1).map(function(c){return c.trim()}).map(function(c){return o.__parseLayer(c)}).filter(Boolean),s},a.prototype.__parseLayer=function(e){var o=this.get("parseLayer"),s=e.split(tg),c=this.getProperties();return o?o({value:e,values:s}):c.reduce(function(v,P,N){var H=s[N];return v[P.getId()]=(0,x.isUndefined)(H)?P.getDefaultValue():H,v},{})},a.prototype.__getLayersFromStyle=function(e){var o=this;if(void 0===e&&(e={}),!this.__styleHasProps(e))return null;var s=this.getName(),c=this.getProperties(),v=this.getLayerSeparator(),P=this.get("fromStyle"),N=P?P(e,{property:this,name:s,separatorLayers:v}):[];if(!P){var H=this.__splitStyleName(e,s,v).map(function(R){return R.split(o.getSplitSeparator())}).map(function(R){var it={};return c.forEach(function(ft,Ct){var St=R[Ct];it[ft.getId()]=(0,x.isUndefined)(St)?ft.getDefaultValue():St}),it});c.forEach(function(R){var it=R.getId();o.__splitStyleName(e,R.getName(),v).map(function(ft){var Ct;return(Ct={})[it]=ft||R.getDefaultValue(),Ct}).forEach(function(ft,Ct){H[Ct]=H[Ct]?_i(_i({},H[Ct]),ft):ft})}),N=H}return(0,x.isArray)(N)?N:[N]},a.prototype.getStyle=function(e){return void 0===e&&(e={}),this.getStyleFromLayers(e)},a.prototype.getStyleFromLayers=function(e){var o=this;void 0===e&&(e={});var s={},c=this.getName(),v=this.getLayers(),P=this.getProperties();if(v.map(function(H){return o.getStyleFromLayer(H,e)}).forEach(function(H){(0,x.keys)(H).map(function(R){s[R]||(s[R]=[]),s[R].push(H[R])})}),(0,x.keys)(s).map(function(H){s[H]=s[H].join(o.__getJoinLayers())}),this.isDetached())s[c]="",!v.length&&P.map(function(H){s[H.getName()]=""});else{var N=P.reduce(function(H,R){return H[R.getName()]="",H},{});s[c]=s[c]||"",s=_i(_i({},s),N)}return s},a.prototype.__getJoinLayers=function(){var e=this.get("layerJoin"),o=this.get("layerSeparator");return e||((0,x.isString)(o)?o:e)},a.prototype.__getFullValue=function(){if(this.get("detached"))return"";var e=this.getStyleFromLayers();return Si(e[this.getName()])},a.prototype.hasValue=function(e){void 0===e&&(e={});var o=e.noParent&&this.getParentTarget();return this.getLayers().length>0&&!o},a.prototype.clear=function(e){return void 0===e&&(e={}),this.__getLayers().reset(),this.__upTargetsStyleProps(e),ar.prototype.clear.call(this),this},a.prototype.__canClearProp=function(){return!1},a}(Pl);const ng=eg;var rg=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),cp=function(){return cp=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},cp.apply(this,arguments)},ig=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))},Ad="data-clear-style",sg=function(p){function a(e){void 0===e&&(e={});var o=p.call(this,e)||this;(0,x.bindAll)(o,"__change","__updateStyle");var s=e.config||{},c=s.em;o.config=s,o.em=c,o.pfx=s.stylePrefix||"",o.ppfx=s.pStylePrefix||"",o.__destroyFn=o.destroy?o.destroy.bind(o):function(){};var v=o.model;v.view=o,o.onValueChange=(0,x.debounce)(o.onValueChange.bind(o),10),o.updateStatus=(0,x.debounce)(o.updateStatus.bind(o),0),o.listenTo(v,"destroy remove",o.remove),o.listenTo(v,"change:visible",o.updateVisibility),o.listenTo(v,"change:name change:className change:full",o.render),o.listenTo(v,"change:value",o.onValueChange),o.listenTo(v,"change:parentTarget",o.updateStatus),o.listenTo(c,"change:device",o.onValueChange);var P=o.init&&o.init.bind(o);return P&&P(),o}return rg(a,p),a.prototype.events=function(){var e;return(e={change:"inputValueChanged"})["click [".concat(Ad,"]")]="clear",e},a.prototype.template=function(e){var o=this.pfx,s=this.ppfx;return'\n      <div class="'.concat(o,'label" data-sm-label></div>\n      <div class="').concat(s,'fields" data-sm-fields></div>\n    ')},a.prototype.templateLabel=function(e){var o=this.pfx,s=this.em,c=e.parent,v=e.attributes,P=v.icon,N=void 0===P?"":P,H=v.info,R=void 0===H?"":H,it=s?.getConfig().icons,ft=it?.close||"";return'\n      <span class="'.concat(o,"icon ").concat(N,'" title="').concat(R,'">\n        ').concat(e.getLabel(),"\n      </span>\n      ").concat(c?"":'<div class="'.concat(o,'clear" style="display: none" ').concat(Ad,">").concat(ft,"</div>"),"\n    ")},a.prototype.templateInput=function(e){return'\n      <div class="'.concat(this.ppfx,'field">\n        <input placeholder="').concat(e.getDefaultValue(),'"/>\n      </div>\n    ')},a.prototype.remove=function(){var e=this;return T.G7.prototype.remove.apply(this,arguments),["em","input","$input","view"].forEach(function(o){return e[o]=null}),this.__destroyFn(this._getClbOpts()),this},a.prototype.updateStatus=function(){var e,o=this,s=o.model,c=o.pfx,v=o.ppfx,P=o.config,N="".concat(v,"four-color"),H="".concat(v,"color-warn"),R=this.$el.children(".".concat(c,"label")),it=this.getClearEl(),ft=it?it.style:{};R.removeClass("".concat(N," ").concat(H)),ft.display="none",s.hasValue({noParent:!0})&&P.highlightChanged?(R.addClass(N),P.clearProperties&&(ft.display="")):s.hasValue()&&P.highlightComputed&&R.addClass(H),null===(e=this.parent)||void 0===e||e.updateStatus()},a.prototype.clear=function(e){e&&e.stopPropagation(),this.model.clear()},a.prototype.getClearEl=function(){return this.clearEl||(this.clearEl=this.el.querySelector("[".concat(Ad,"]"))),this.clearEl},a.prototype.inputValueChanged=function(e){e&&e.stopPropagation(),this.emit||this.model.upValue(e.target.value)},a.prototype.onValueChange=function(e,o,s){void 0===s&&(s={}),this.setValue(this.model.getFullValue(void 0,{skipImportant:!0})),this.updateStatus()},a.prototype.setValue=function(e){var o=this.model,s=(0,x.isUndefined)(e)||""===e?o.getDefaultValue():e;if(this.update)return this.__update(s);this.__setValueInput(s)},a.prototype.__setValueInput=function(e){var o=this.getInputEl();o&&(o.value=e)},a.prototype.getInputEl=function(){return this.input||(this.input=this.el.querySelector("input")),this.input},a.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},a.prototype.clearCached=function(){delete this.clearEl,delete this.input,delete this.$input},a.prototype.__unset=function(){var e=this.unset&&this.unset.bind(this);e&&e(this._getClbOpts())},a.prototype.__update=function(e){var o=this.update&&this.update.bind(this);o&&o(cp(cp({},this._getClbOpts()),{value:e}))},a.prototype.__change=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var s=this.emit&&this.emit.bind(this);s&&s.apply(void 0,ig([this._getClbOpts()],e,!1))},a.prototype.__updateStyle=function(e,o){void 0===o&&(o={});var s=o.complete,c=o.partial,v=(function(p,a){var e={};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&a.indexOf(o)<0&&(e[o]=p[o]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(p);s<o.length;s++)a.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(p,o[s])&&(e[o[s]]=p[o[s]])}}(o,["complete","partial"]),this.model),P=!1!==s&&!0!==c;(0,g.isObject)(e)?v.__upTargetsStyle(e,{avoidStore:!P}):v.upValue(e,{partial:!P})},a.prototype._getClbOpts=function(){var e=this,o=e.model;return{el:e.el,createdEl:e.createdEl,property:o,props:o.attributes,change:this.__change,updateStyle:this.__updateStyle}},a.prototype.render=function(){this.clearCached();var e=this,o=e.pfx,s=e.model,c=e.el,v=e.$el,P=s.getName(),N=s.getType(),H=s.get("className")||"",R="".concat(o,"property"),it="number"===N?"".concat(o).concat(N," ").concat(o,"integer"):"".concat(o).concat(N);this.createdEl&&this.__destroyFn(this._getClbOpts()),v.empty().append(this.template(s)),v.find("[data-sm-label]").append(this.templateLabel(s));var ft=this.create&&this.create.bind(this);this.createdEl=ft&&ft(this._getClbOpts()),v.find("[data-sm-fields]").append(this.createdEl||this.templateInput(s)),c.className="".concat(R," ").concat(it," ").concat(R,"__").concat(P," ").concat(H).trim(),c.className+=s.isFull()?" ".concat(R,"--full"):"";var Ct=this.onRender&&this.onRender.bind(this);return Ct&&Ct(),this.setValue(s.getValue()),this},a.prototype.onRender=function(){},a}(T.G7);const es=sg;var ag=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),lg=function(p){function a(e){var o=p.call(this,e)||this;o.config=e.config||{},o.pfx=o.config.stylePrefix||"",o.properties=[],o.parent=e.parent;var s=o.collection;return o.listenTo(s,"add",o.addTo),o.listenTo(s,"reset",o.render),o}return ag(a,p),a.prototype.addTo=function(e,o,s){this.add(e,null,s)},a.prototype.add=function(e,o,s){void 0===s&&(s={});var c=this.parent,v=this.config,P=o||this.el,N=new e.typeView({model:e,config:v});c&&(N.parent=c),N.render();var H=N.el;this.properties.push(N),(0,Qe.$Q)(P,H,s.at)},a.prototype.remove=function(){return T.G7.prototype.remove.apply(this,arguments),this.clearItems(),this},a.prototype.clearItems=function(){this.properties.forEach(function(e){return e.remove()}),this.properties=[]},a.prototype.render=function(){var e=this,o=this.$el,s=this.pfx;this.clearItems();var c=document.createDocumentFragment();return this.collection.forEach(function(v){return e.add(v,c)}),o.empty(),o.append(c),o.attr("class","".concat(s,"properties")),this},a}(T.G7);const kd=lg;var cg=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),up=function(){return up=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},up.apply(this,arguments)};const Nc=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return cg(a,p),a.prototype.templateInput=function(){var e=this.pfx;return'\n      <div class="'.concat(e,"field ").concat(e,'composite">\n        <span id="').concat(e,'input-holder"></span>\n      </div>\n    ')},a.prototype.remove=function(){var e;return null===(e=this.props)||void 0===e||e.remove(),es.prototype.remove.apply(this,arguments),this},a.prototype.onValueChange=function(){},a.prototype.onRender=function(){var e=this.pfx,o=this.model,s=o.get("properties");if(s.length&&!this.props){var c=o.isDetached(),v=new kd({config:up(up({},this.config),{highlightComputed:c,highlightChanged:c}),collection:s,parent:this});v.render(),this.$el.find("#".concat(e,"input-holder")).append(v.el),this.props=v}},a.prototype.clearCached=function(){es.prototype.clearCached.apply(this,arguments),delete this.props},a}(es);var ug=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),pg=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return ug(a,p),a.prototype.events=function(){return{click:"select","click [data-close-layer]":"removeItem","mousedown [data-move-layer]":"initSorter","touchstart [data-move-layer]":"initSorter"}},a.prototype.template=function(){var e=this,o=e.pfx,s=e.ppfx,v=e.em?.getConfig().icons,P=v?.close||"",N=v?.move||"";return'\n      <div class="'.concat(o,'label-wrp">\n        <div id="').concat(o,'move" class="').concat(s,'no-touch-actions" data-move-layer>\n          ').concat(N,'\n        </div>\n        <div id="').concat(o,'label" data-label></div>\n        <div id="').concat(o,'preview-box" class="').concat(o,'layer-preview" style="display: none" data-preview-box>\n          <div id="').concat(o,'preview" class="').concat(o,'layer-preview-cnt" data-preview></div>\n        </div>\n        <div id="').concat(o,'close-layer" class="').concat(o,'btn-close" data-close-layer>\n          ').concat(P,'\n        </div>\n      </div>\n      <div id="').concat(o,'inputs" data-properties></div>\n    ')},a.prototype.initialize=function(e){void 0===e&&(e={});var o=this.model,s=e.config||{};this.em=s.em,this.config=s,this.sorter=e.sorter,this.pfx=s.stylePrefix||"",this.ppfx=s.pStylePrefix||"",this.propertyView=e.propertyView;var c=this.propertyView.model;this.listenTo(o,"destroy remove",this.remove),this.listenTo(o,"change:values",this.updateLabel),this.listenTo(c,"change:selectedLayer",this.updateVisibility),o.view=this,o.set({droppable:0,draggable:1}),this.$el.data("model",o)},a.prototype.initSorter=function(){var e;null===(e=this.sorter)||void 0===e||e.startSort(this.el)},a.prototype.removeItem=function(e){e&&e.stopPropagation(),this.model.remove()},a.prototype.select=function(){this.model.select()},a.prototype.getPropertiesWrapper=function(){return this.propsWrapEl||(this.propsWrapEl=this.el.querySelector("[data-properties]")),this.propsWrapEl},a.prototype.getPreviewEl=function(){return this.previewEl||(this.previewEl=this.el.querySelector("[data-preview]")),this.previewEl},a.prototype.getLabelEl=function(){return this.labelEl||(this.labelEl=this.el.querySelector("[data-label]")),this.labelEl},a.prototype.updateLabel=function(){var e=this.model,o=e.getLabel();if(this.getLabelEl().innerHTML=o,e.hasPreview()){var s=this.getPreviewEl(),c=e.getStylePreview({number:{min:-3,max:3}}),v=(0,x.keys)(c).map(function(P){return"".concat(P,":").concat(c[P])}).join(";");s.setAttribute("style",v)}},a.prototype.updateVisibility=function(){var e,o=this,s=o.pfx,c=o.model,v=o.propertyView,P=this.getPropertiesWrapper(),N=c.isSelected();P.style.display=N?"":"none",this.$el[N?"addClass":"removeClass"]("".concat(s,"active")),N&&P.appendChild(null===(e=v.props)||void 0===e?void 0:e.el)},a.prototype.render=function(){var e=this,o=e.el,s=e.pfx,c=e.model;return o.innerHTML=this.template(),o.className="".concat(s,"layer"),c.hasPreview()&&(o.querySelector("[data-preview-box]").style.display=""),this.updateLabel(),this.updateVisibility(),this},a}(T.G7);const dg=pg;var hg=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),fg=function(p){function a(e){var o=p.call(this,e)||this,s=o.collection,c=e.config||{},v=c.em,P=c.stylePrefix||"",N=c.pStylePrefix||"";o.config=c,o.pfx=P,o.ppfx=N,o.propertyView=e.propertyView,o.className="".concat(P,"layers ").concat(N,"field"),o.listenTo(s,"add",o.addTo),o.listenTo(s,"reset",o.reset),o.items=[];var H=v?.Utils;return o.sorter=H?new H.Sorter({container:o.el,ignoreViewChildren:1,containerSel:".".concat(P,"layers"),itemSel:".".concat(P,"layer"),pfx:c.pStylePrefix}):"",s.view=o,o.$el.data("model",s),o.$el.data("collection",s),o}return hg(a,p),a.prototype.addTo=function(e){var o=this.collection.indexOf(e);this.addToCollection(e,null,o)},a.prototype.addToCollection=function(e,o,s){var c=o||null,v=this,P=v.propertyView,N=v.config,H=v.sorter,R=v.$el,it=new dg({model:e,config:N,sorter:H,propertyView:P}),ft=it.render().el;if(this.items.push(it),c)c.appendChild(ft);else if(void 0!==s){var Ct="before";R.children().length===s&&(s--,Ct="after"),s<0?R.append(ft):R.children().eq(s)[Ct](ft)}else R.append(ft);return ft},a.prototype.reset=function(e,o){this.clearItems(),this.render()},a.prototype.remove=function(){return this.clearItems(),T.G7.prototype.remove.apply(this,arguments),this},a.prototype.clearItems=function(){this.items.forEach(function(e){return e.remove()}),this.items=[]},a.prototype.render=function(){var e=this,o=this.$el,s=this.sorter,c=document.createDocumentFragment();return o.empty(),this.collection.forEach(function(v){return e.addToCollection(v,c)}),o.append(c),o.attr("class",this.className),s&&(s.plh=null),this},a}(T.G7);const gg=fg;var mg=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ml=function(){return Ml=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Ml.apply(this,arguments)},vg=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return mg(a,p),a.prototype.events=function(){return Ml(Ml({},Nc.prototype.events()),{"click [data-add-layer]":"addLayer",change:""})},a.prototype.templateInput=function(){var e=this.pfx,s=this.em?.getConfig().icons,c=s?.plus||"+";return'\n      <div class="'.concat(e,"field ").concat(e,'stack">\n        <button type="button" id="').concat(e,'add" data-add-layer>\n          ').concat(c,"\n        </button>\n        <div data-layers-wrapper></div>\n      </div>\n    ")},a.prototype.init=function(){var e=this.model;this.listenTo(e.__getLayers(),"change reset",this.updateStatus)},a.prototype.addLayer=function(){this.model.addLayer({},{at:0})},a.prototype.setValue=function(){},a.prototype.remove=function(){var e;return null===(e=this.layersView)||void 0===e||e.remove(),Nc.prototype.remove.apply(this,arguments),this},a.prototype.clearCached=function(){Nc.prototype.clearCached.apply(this,arguments),delete this.layersView},a.prototype.onRender=function(){var e=this,o=e.model,s=e.el,c=e.config,v=o.get("properties");if(v.length&&!this.props){var P=new kd({config:Ml(Ml({},c),{highlightComputed:!1,highlightChanged:!1}),collection:v,parent:this});P.render();var N=new gg({collection:o.__getLayers(),config:c,propertyView:this});N.render(),s.querySelector("[data-layers-wrapper]").appendChild(N.el),this.props=P,this.layersView=N}},a}(Nc);const yg=vg;var bg=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),pp=function(){return pp=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},pp.apply(this,arguments)};const _g=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return bg(a,p),a.prototype.events=function(){return pp(pp({},es.prototype.events()),{"click [data-clear-asset]":"clear","click [data-open-assets]":"openAssetManager"})},a.prototype.templateInput=function(){var e,o=this.pfx,s=this.em,v=(null===(e=this.em)||void 0===e?void 0:e.getConfig().icons)?.close;return'\n      <div class="'.concat(o,"field ").concat(o,"file\">\n        <div id='").concat(o,"input-holder'>\n          <div class=\"").concat(o,'btn-c">\n            <button class="').concat(o,'btn" id="').concat(o,'images" type="button" data-open-assets>\n              ').concat(s.t("styleManager.fileButton"),'\n            </button>\n          </div>\n          <div style="clear:both;"></div>\n        </div>\n        <div id="').concat(o,'preview-box" class="').concat(o,'preview-file" data-preview-box>\n          <div id="').concat(o,'preview-file" class="').concat(o,'preview-file-cnt" data-preview></div>\n          <div id="').concat(o,'close" class="').concat(o,'preview-file-close" data-clear-asset>').concat(v,"</div>\n        </div>\n      </div>\n    ")},a.prototype.__setValueInput=function(e){var o=this.model,s=this.el,c=o.getDefaultValue(),v=s.querySelector("[data-preview-box]"),P=s.querySelector("[data-preview]");v.style.display=e&&e!==c?"":"none",P.style.backgroundImage=e||o.getDefaultValue()},a.prototype.openAssetManager=function(){var e,o=this,s=null===(e=this.em)||void 0===e?void 0:e.Assets;s?.open({select:function(c,v){var P=(0,x.isString)(c)?c:c.get("src");o.model.upValue(P,{partial:!v}),v&&s.close()},types:["image"],accept:"image/*"})},a}(es);var wg=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const ns=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return wg(a,p),a.prototype.templateInput=function(e){return""},a.prototype.init=function(){var e=this.model;this.listenTo(e,"change:unit",this.onValueChange),this.listenTo(e,"change:units",this.render)},a.prototype.setValue=function(e){},a.prototype.onRender=function(){var e=this,o=e.ppfx,s=e.model,c=e.el;if(!this.inputInst){var v=s.input;v.ppfx=o,v.render(),c.querySelector(".".concat(o,"fields")).appendChild(v.el),this.input=v.inputEl.get(0),this.inputInst=v}},a.prototype.clearCached=function(){es.prototype.clearCached.apply(this,arguments),this.inputInst=null},a}(es);var Tg=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const Cg=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Tg(a,p),a.prototype.setValue=function(e){var o;null===(o=this.inputInst)||void 0===o||o.setValue(e,{fromTarget:1,def:this.model.getDefaultValue()})},a.prototype.remove=function(){var e=this;ns.prototype.remove.apply(this,arguments);var o=this.inputInst;return o&&o.remove&&o.remove(),["inputInst","$color"].forEach(function(s){return e[s]=null}),this},a.prototype.__handleChange=function(e,o){this.model.upValue(e,{partial:o})},a.prototype.onRender=function(){var e;if(!this.inputInst){this.__handleChange=this.__handleChange.bind(this);var o=this,s=o.ppfx,c=o.model,v=o.em,P=o.el,N=new Qi({target:v,model:c,ppfx:s,onChange:this.__handleChange}).render();P.querySelector(".".concat(s,"fields")).appendChild(N.el),this.input=null===(e=N.inputEl)||void 0===e?void 0:e.get(0),this.inputInst=N}},a}(ns);var Eg=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),dp=function(){return dp=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},dp.apply(this,arguments)},Sh=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))};const Pd=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Eg(a,p),a.prototype.defaults=function(){return dp(dp({},ar.getDefaults()),{options:[],full:0})},a.prototype.getOptions=function(){var e=this.attributes,o=e.options,s=e.list;return(o&&o.length?o:s)||[]},a.prototype.getOption=function(e){var o=this,s=(0,g.isDef)(e)?e:this.getValue();return this.getOptions().filter(function(c){return o.getOptionId(c)===s})[0]||null},a.prototype.setOptions=function(e){return void 0===e&&(e=[]),this.set("options",e),this},a.prototype.addOption=function(e){if(e){var o=this.getOptions();this.setOptions(Sh(Sh([],o,!0),[e],!1))}return this},a.prototype.getOptionId=function(e){return(0,g.isDef)(e.id)?e.id:e.value},a.prototype.getOptionLabel=function(e,o){var s;void 0===o&&(o={});var c=o.locale,v=void 0===c||c,P=((0,x.isString)(e)?this.getOption(e):e)||{},N=this.getOptionId(P),H=P.label||P.name||N,R=o.property||this.getId();return v&&(null===(s=this.em)||void 0===s?void 0:s.t("styleManager.options.".concat(R,".").concat(N)))||H},a.prototype.initialize=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];ar.prototype.initialize.apply(this,e),this.listenTo(this,"change:options",this.__onOptionChange)},a.prototype.__onOptionChange=function(){this.set("list",this.get("options"))},a}(ar);var xg=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const Oh=function(p){function a(e){var o=p.call(this,e)||this;return o.listenTo(o.model,"change:options",o.updateOptions),o}return xg(a,p),a.prototype.templateInput=function(){var e=this.pfx,o=this.ppfx;return'\n      <div class="'.concat(o,"field ").concat(o,'select">\n        <span id="').concat(e,'input-holder"></span>\n        <div class="').concat(o,'sel-arrow">\n          <div class="').concat(o,'d-s-arrow"></div>\n        </div>\n      </div>\n    ')},a.prototype.updateOptions=function(){delete this.input,this.onRender()},a.prototype.onRender=function(){var e=this.pfx,o=this.model,s=o.getOptions();if(!this.input){var c=[];s.forEach(function(P){var N=o.getOptionId(P),H=o.getOptionLabel(N),R=P.style?P.style.replace(/"/g,"&quot;"):"",it=R?'style="'.concat(R,'"'):"",ft=N.replace(/"/g,"&quot;");c.push('<option value="'.concat(ft,'" ').concat(it,">").concat(H,"</option>"))});var v=this.el.querySelector("#".concat(e,"input-holder"));v.innerHTML="<select>".concat(c.join(""),"</select>"),this.input=v.firstChild}},a.prototype.__setValueInput=function(e){var o=this.model,s=this.getInputEl(),c=o.getOptions()[0],v=c?o.getOptionId(c):"";s&&(s.value=e||v)},a}(es);var Sg=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),hp=function(){return hp=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},hp.apply(this,arguments)};const Og=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Sg(a,p),a.prototype.defaults=function(){return hp(hp({},Pd.getDefaults()),{full:1})},a}(Pd);var Ag=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}();const kg=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Ag(a,p),a.prototype.templateInput=function(){var e=this.ppfx;return'<div class="'.concat(e,"field ").concat(e,'field-radio"></div>')},a.prototype.onRender=function(){var e=this.pfx,o=this.ppfx,s=this.model,c="".concat(o,"radio-item-label"),v=s.getName(),P=s.getOptions(),N="".concat(e,"radio ").concat(e,"radio-").concat(v),H=s.cid;if(!this.input){var R=[];P.forEach(function(ft){var Ct=ft.className?"".concat(ft.className," ").concat(e,"icon ").concat(c):"",St=s.getOptionId(ft),Nt="".concat(v,"-").concat(St,"-").concat(H),zt=Ct?"":s.getOptionLabel(St),Ft=ft.title?'title="'.concat(ft.title,'"'):"",pe=s.getValue()===St?"checked":"";R.push('\n          <div class="'.concat(o,'radio-item">\n            <input type="radio" class="').concat(N,'" id="').concat(Nt,'" name="').concat(v,"-").concat(H,'" value="').concat(St,'" ').concat(pe,'/>\n            <label class="').concat(Ct||c,'" ').concat(Ft,' for="').concat(Nt,'">').concat(zt,"</label>\n          </div>\n        "))});var it=this.el.querySelector(".".concat(o,"field"));it.innerHTML='<div class="'.concat(o,'radio-items">').concat(R.join(""),"</div>"),this.input=it.firstChild}},a.prototype.__setValueInput=function(e){var o,s=this.model,c=e||s.getDefaultValue(),v=null===(o=this.getInputEl())||void 0===o?void 0:o.querySelector('[value="'.concat(c,'"]'));v&&(v.checked=!0)},a}(Oh);var Pg=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),xa=function(){return xa=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},xa.apply(this,arguments)};const fp=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Pg(a,p),a.prototype.defaults=function(){return xa(xa({},ar.getDefaults()),{units:[],unit:"",min:"",max:"",step:1})},a.prototype.getUnits=function(){return this.get("units")||[]},a.prototype.getUnit=function(){return this.get("unit")},a.prototype.getMin=function(){return this.get("min")},a.prototype.getMax=function(){return this.get("max")},a.prototype.getStep=function(){return this.get("step")},a.prototype.upUnit=function(e,o){return void 0===o&&(o={}),this._up({unit:e},o)},a.prototype.initialize=function(e,o){void 0===e&&(e={}),void 0===o&&(o={}),ar.callParentInit(ar,this,e,o);var s=this.get("unit"),c=this.getUnits();this.input=(0,g.hasWin)()?new Bu({model:this}):void 0,c.length&&!s&&this.set("unit",c[0],{silent:!0}),ar.callInit(this,e,o)},a.prototype.__getClearProps=function(){return xa(xa({},ar.prototype.__getClearProps()),{unit:""})},a.prototype.parseValue=function(e,o){void 0===o&&(o={});var s=ar.prototype.parseValue.apply(this,arguments),c=this.input.validateInputValue(s.value,xa({deepCheck:1},o)),v=c.value,P=c.unit;return s.value=v,s.unit=P,s},a.prototype.getFullValue=function(){var e=this.get("value"),o=this.get("unit"),s=(0,x.isUndefined)(e)?"":"".concat(e),c=!(0,x.isUndefined)(o)&&s?o:"",v="".concat(s).concat(c);return ar.prototype.getFullValue.apply(this,[v])},a}(ar);var Mg=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),gp=function(){return gp=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},gp.apply(this,arguments)};const Ng=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Mg(a,p),a.prototype.defaults=function(){return gp(gp({},fp.getDefaults()),{showInput:1})},a}(fp);var Dg=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),mp=function(){return mp=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},mp.apply(this,arguments)};const Lg=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Dg(a,p),a.prototype.events=function(){return mp(mp({},ns.prototype.events()),{"change [type=range]":"inputValueChanged","input [type=range]":"inputValueChangedSoft",change:""})},a.prototype.templateInput=function(e){var o=this.ppfx;return'\n      <div class="'.concat(o,"field ").concat(o,'field-range">\n        <input type="range" min="').concat(e.get("min"),'" max="').concat(e.get("max"),'" step="').concat(e.get("step"),'"/>\n      </div>\n    ')},a.prototype.getSliderEl=function(){return this.slider||(this.slider=this.el.querySelector("input[type=range]")),this.slider},a.prototype.inputValueChanged=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value)},a.prototype.inputValueChangedSoft=function(e){e.stopPropagation(),this.model.upValue(this.getSliderEl().value,{partial:!0})},a.prototype.setValue=function(e){var o=this.model,s=o.parseValue(e);this.getSliderEl().value=""===e?o.getDefaultValue():parseFloat(s.value),ns.prototype.setValue.apply(this,arguments)},a.prototype.onRender=function(){ns.prototype.onRender.apply(this,arguments),this.model.get("showInput")||(this.inputInst.el.style.display="none")},a.prototype.clearCached=function(){ns.prototype.clearCached.apply(this,arguments),delete this.slider},a}(ns),Md=T.FE.extend(Be).extend({extendViewApi:1,init:function(){var p=this.opts,a=this.em,e=p.module||a?.get("StyleManager");e&&(e.__listenAdd(this,e.events.propertyAdd),e.__listenRemove(this,e.events.propertyRemove))},types:[{id:"stack",model:ng,view:yg,isType:function(p){if(p&&"stack"==p.type)return p}},{id:"composite",model:Pl,view:Nc,isType:function(p){if(p&&"composite"==p.type)return p}},{id:"file",model:ar,view:_g,isType:function(p){if(p&&"file"==p.type)return p}},{id:"color",model:ar,view:Cg,isType:function(p){if(p&&"color"==p.type)return p}},{id:"select",model:Pd,view:Oh,isType:function(p){if(p&&"select"==p.type)return p}},{id:"radio",model:Og,view:kg,isType:function(p){if(p&&"radio"==p.type)return p}},{id:"slider",model:Ng,view:Lg,isType:function(p){if(p&&"slider"==p.type)return p}},{id:"integer",model:fp,view:ns,isType:function(p){if(p&&"integer"==p.type)return p}},{id:"number",model:fp,view:ns,isType:function(p){if(p&&"number"==p.type)return p}},{id:"base",model:ar,view:es,isType:function(p){return p.type="base",p}}]});var Ig=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),vp=function(){return vp=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},vp.apply(this,arguments)};const Ah=function(p){function a(e,o){void 0===o&&(o={});var s=p.call(this,e)||this,c=o.em;s.em=c;var v=e||{},P=s.buildProperties(v.buildProps),N=s.get("name")||"",H=[];!s.get("id")&&s.set("id",N.replace(/ /g,"_").toLowerCase()),H=(H=P?s.extendProperties(P):s.get("properties").map(function(it){return(0,x.isString)(it)?s.buildProperties(it)[0]:it}).filter(Boolean)).map(function(it){return s.checkExtend(it)});var R=new Md(H,{em:c});return R.sector=s,s.set("properties",R),s}return Ig(a,p),a.prototype.defaults=function(){return{id:"",name:"",open:!0,visible:!0,extendBuilded:!0,properties:[]}},Object.defineProperty(a.prototype,"properties",{get:function(){return this.get("properties")},enumerable:!1,configurable:!0}),a.prototype.getId=function(){return this.get("id")},a.prototype.getName=function(){var e,o=this.getId();return(null===(e=this.em)||void 0===e?void 0:e.t("styleManager.sectors.".concat(o)))||this.get("name")},a.prototype.setName=function(e){return this.set("name",e)},a.prototype.isOpen=function(){return!!this.get("open")},a.prototype.setOpen=function(e){return this.set("open",e)},a.prototype.isVisible=function(){return!!this.get("visible")},a.prototype.getProperties=function(e){void 0===e&&(e={});var o=this.get("properties");return(o.models?function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))}([],o.models,!0):o).filter(function(s){var c=!0;return e.withValue&&(c=s.hasValue({noParent:!0})),e.withParentValue&&(c=!s.hasValue({noParent:!0})&&s.hasValue()),c})},a.prototype.getProperty=function(e){return this.getProperties().filter(function(o){return o.get("id")===e})[0]||void 0},a.prototype.addProperty=function(e,o){return this.get("properties").add(this.checkExtend(e),o)},a.prototype.extendProperties=function(e,o,s){void 0===s&&(s=!1);for(var c=e.length,v=o||this.get("properties"),P=this.get("extendBuilded"),N=[],H=0,R=v.length;H<R;H++){for(var it=v[H],ft=0,Ct=0;Ct<c;Ct++){var St=e[Ct];if(it.property==St.property||it.id==St.property){var Nt=it.properties;Nt&&Nt.length&&(it.properties=this.extendProperties(St.properties||[],Nt,1)),e[Ct]=P?(0,x.extend)(St,it):it,N[Ct]=e[Ct],ft=1}}ft||(e.push(it),N.push(it))}return s?N.filter(function(zt){return zt}):e},a.prototype.checkExtend=function(e){var o=((0,x.isString)(e)?{extend:e}:e)||{},s=o.extend,c=function(p,a){var e={};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&a.indexOf(o)<0&&(e[o]=p[o]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(p);s<o.length;s++)a.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(p,o[s])&&(e[o[s]]=p[o[s]])}return e}(o,["extend"]);return s?vp(vp({},this.buildProperties([s])[0]||{}),c):e},a.prototype.buildProperties=function(e){var o,s=e||[];return s.length?(null===(o=this.em)||void 0===o?void 0:o.get("StyleManager").builtIn)?.build(s):[]},a}(T.Hn);var Hg=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),yp=function(){return yp=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},yp.apply(this,arguments)};const Fg=function(p){function a(){return null!==p&&p.apply(this,arguments)||this}return Hg(a,p),a.prototype.initialize=function(e,o){void 0===o&&(o={});var s=o.module,c=o.em;this.em=c,this.module=s,this.listenTo(this,"reset",this.onReset)},a.prototype.model=function(e,o){void 0===o&&(o={});var s=o.collection.em;return new Ah(e,yp(yp({},o),{em:s}))},a.prototype.onReset=function(e,o){void 0===o&&(o={}),(o.previousModels||[]).forEach(function(s){return s.get("properties").reset()})},a}(T.FE);var Ms=function(){return Ms=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Ms.apply(this,arguments)},Sa=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))},Dr=function(p){return p.map(function(a){return{id:a}})},Ug=function(){function p(){this.props={},this.typeNumber="number",this.typeColor="color",this.typeRadio="radio",this.typeSelect="select",this.typeFile="file",this.typeSlider="slider",this.typeComposite="composite",this.typeStack="stack",this.unitsSize=["px","%","em","rem","vh","vw"],this.unitsSizeNoPerc=["px","em","rem","vh","vw"],this.unitsTime=["s","ms"],this.unitsAngle=["deg","rad","grad"],this.fixedValues=["initial","inherit","auto"];var a=", sans-serif",e=["flex-start","flex-end","center"],o=Sa(Sa([],e,!0),["baseline","stretch"],!1);this.optsBgSize=Dr(["auto","cover","contain"]),this.optsBgAttach=Dr(["scroll","fixed","local"]),this.optsBgRepeat=Dr(["repeat","repeat-x","repeat-y","no-repeat"]),this.optsWrap=Dr(["nowrap","wrap","wrap-reverse"]),this.optsOverflow=Dr(["visible","hidden","scroll","auto"]),this.optsDir=Dr(["row","row-reverse","column","column-reverse"]),this.opstDisplay=Dr(["block","inline","inline-block","flex","none"]),this.optsTransitFn=Dr(["linear","ease","ease-in","ease-out","ease-in-out"]),this.optsCursor=Dr(["auto","pointer","copy","crosshair","grab","grabbing","help","move","text"]),this.optsFloat=Dr(["none","left","right"]),this.optsPos=Dr(["static","relative","absolute","fixed"]),this.optsTextAlign=Dr(["left","center","right","justify"]),this.optsFlexAlign=Dr(o),this.optsJustCont=Dr(Sa(Sa([],e,!0),["space-between","space-around","space-evenly"],!1)),this.optsAlignCont=Dr(Sa(Sa([],e,!0),["space-between","space-around","stretch"],!1)),this.optsAlignSelf=Dr(Sa(["auto"],o,!0)),this.optsTransitProp=Dr(["all","width","height","background-color","transform","box-shadow","opacity"]),this.optsBorderStyle=Dr(["none","solid","dotted","dashed","double","groove","ridge","inset","outset"]),this.optsBgPos=Dr(["left top","left center","left bottom","right top","right center","right bottom","center top","center center","center bottom"]),this.optsWeight=[{id:"100",label:"Thin"},{id:"200",label:"Extra-Light"},{id:"300",label:"Light"},{id:"400",label:"Normal"},{id:"500",label:"Medium"},{id:"600",label:"Semi-Bold"},{id:"700",label:"Bold"},{id:"800",label:"Extra-Bold"},{id:"900",label:"Ultra-Bold"}],this.optsShadowType=[{id:"",label:"Outside"},{id:"inset",label:"Inside"}],this.optsFonts=["Arial, Helvetica"+a,"Arial Black, Gadget"+a,"Brush Script MT"+a,"Comic Sans MS, cursive"+a,"Courier New, Courier, monospace","Georgia, serif","Helvetica"+a,"Impact, Charcoal"+a,"Lucida Sans Unicode, Lucida Grande"+a,"Tahoma, Geneva"+a,"Times New Roman, Times, serif","Trebuchet MS, Helvetica"+a,"Verdana, Geneva"+a].map(function(s){return{id:s,label:s.split(",")[0]}}),this.fixedFontSizes=["medium","xx-small","x-small","small","large","x-large","xx-large","smaller","larger","length","initial","inherit"],this.fixedLetSpace=["normal","initial","inherit"],this.requireFlex={display:["flex"]},this.init()}return p.prototype.__sub=function(a){var e=this;return function(){return a.map(function(o){if((0,x.isString)(o))return e.get(o);var s=o.extend,c=function(p,a){var e={};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&a.indexOf(o)<0&&(e[o]=p[o]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(p);s<o.length;s++)a.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(p,o[s])&&(e[o[s]]=p[o[s]])}return e}(o,["extend"]);return Ms(Ms({},e.get(s)),c)})}},p.prototype.init=function(){var a=this,e=this,o=e.fixedValues,s=e.requireFlex,c=e.typeNumber;return this.props={},[["text-shadow-h",{type:c,default:"0",units:this.unitsSizeNoPerc}],["top",{default:"auto",units:this.unitsSize,fixedValues:o},"text-shadow-h"],["right",{},"top"],["bottom",{},"top"],["left",{},"top"],["margin-top",{default:"0"},"top"],["margin-right",{},"margin-top"],["margin-bottom",{},"margin-top"],["margin-left",{},"margin-top"],["padding-top",{min:0},"margin-top"],["padding-right",{},"padding-top"],["padding-bottom",{},"padding-top"],["padding-left",{},"padding-top"],["width",{min:0},"top"],["min-width",{},"width"],["max-width",{},"width"],["height",{},"width"],["min-height",{},"width"],["max-height",{},"width"],["flex-basis",{requiresParent:s},"width"],["font-size",{default:"medium",fixedValues:this.fixedFontSizes},"width"],["letter-spacing",{default:"normal",fixedValues:this.fixedLetSpace},"top"],["line-height",{},"letter-spacing"],["text-shadow-v",{},"text-shadow-h"],["text-shadow-blur",{min:0},"text-shadow-h"],["border-radius-c",{property:"border-radius",fixedValues:void 0},"padding-top"],["border-top-left-radius",{},"border-radius-c"],["border-top-right-radius",{},"border-radius-c"],["border-bottom-left-radius",{},"border-radius-c"],["border-bottom-right-radius",{},"border-radius-c"],["border-width",{units:this.unitsSizeNoPerc},"border-radius-c"],["box-shadow-h",{},"text-shadow-h"],["box-shadow-v",{},"text-shadow-h"],["box-shadow-blur",{default:"5px"},"text-shadow-blur"],["box-shadow-spread",{},"text-shadow-h"],["transition-duration",{default:"2s",units:this.unitsTime},"border-radius-c"],["perspective",{},"border-radius-c"],["order",{type:c,default:"0",requiresParent:s}],["flex-grow",{},"order"],["flex-shrink",{default:"1"},"order"],["float",{type:this.typeRadio,default:"none",options:this.optsFloat}],["position",{default:"static",options:this.optsPos},"float"],["text-align",{default:"left",options:this.optsTextAlign},"float"],["color",{type:this.typeColor,default:"black",full:!0}],["text-shadow-color",{},"color"],["border-color",{},"color"],["box-shadow-color",{},"color"],["background-color",{default:"none"},"color"],["background-image",{type:this.typeFile,functionName:"url",default:"none",full:!0}],["opacity",{type:this.typeSlider,default:"1",min:0,max:1,step:.01,full:!0}],["display",{type:this.typeSelect,default:"block",options:this.opstDisplay}],["flex-direction",{default:"row",options:this.optsDir,requires:s},"display"],["flex-wrap",{default:"nowrap",options:this.optsWrap},"flex-direction"],["justify-content",{default:"flex-start",options:this.optsJustCont},"flex-wrap"],["align-items",{default:"stretch",options:this.optsFlexAlign},"flex-wrap"],["align-content",{options:this.optsAlignCont},"align-items"],["align-self",{default:"auto",options:this.optsAlignSelf,requiresParent:s},"display"],["font-family",{default:"Arial, Helvetica, sans-serif",options:this.optsFonts},"display"],["font-weight",{default:"400",options:this.optsWeight},"display"],["border-style",{default:"solid",options:this.optsBorderStyle},"display"],["box-shadow-type",{default:"",options:this.optsShadowType},"display"],["background-repeat",{default:"repeat",options:this.optsBgRepeat},"display"],["background-position",{default:"left top",options:this.optsBgPos},"display"],["background-attachment",{default:"scroll",options:this.optsBgAttach},"display"],["background-size",{default:"auto",options:this.optsBgSize},"display"],["transition-property",{default:"width",options:this.optsTransitProp},"display"],["transition-timing-function",{default:"ease",options:this.optsTransitFn},"display"],["cursor",{default:"auto",options:this.optsCursor},"display"],["overflow",{default:"visible",options:this.optsOverflow},"display"],["overflow-x",{},"overflow"],["overflow-y",{},"overflow"],["margin",{type:this.typeComposite,properties:this.__sub([{extend:"margin-top",id:"margin-top-sub"},{extend:"margin-right",id:"margin-right-sub"},{extend:"margin-bottom",id:"margin-bottom-sub"},{extend:"margin-left",id:"margin-left-sub"}])}],["padding",{properties:this.__sub([{extend:"padding-top",id:"padding-top-sub"},{extend:"padding-right",id:"padding-right-sub"},{extend:"padding-bottom",id:"padding-bottom-sub"},{extend:"padding-left",id:"padding-left-sub"}])},"margin"],["border",{properties:this.__sub([{extend:"border-width",id:"border-width-sub"},{extend:"border-style",id:"border-style-sub"},{extend:"border-color",id:"border-color-sub"}])},"margin"],["border-radius",{properties:this.__sub([{extend:"border-top-left-radius",id:"border-top-left-radius-sub"},{extend:"border-top-right-radius",id:"border-top-right-radius-sub"},{extend:"border-bottom-right-radius",id:"border-bottom-right-radius-sub"},{extend:"border-bottom-left-radius",id:"border-bottom-left-radius-sub"}])},"margin"],["transition",{type:this.typeStack,properties:this.__sub([{extend:"transition-property",id:"transition-property-sub"},{extend:"transition-duration",id:"transition-duration-sub"},{extend:"transition-timing-function",id:"transition-timing-function-sub"}])}],["box-shadow",{preview:!0,layerLabel:function(P,N){var H=N.values,R=H["box-shadow-h"],it=H["box-shadow-v"],ft=H["box-shadow-blur"],Ct=H["box-shadow-spread"];return"".concat(R," ").concat(it," ").concat(ft," ").concat(Ct)},properties:this.__sub(["box-shadow-h","box-shadow-v","box-shadow-blur","box-shadow-spread","box-shadow-color","box-shadow-type"])},"transition"],["text-shadow",{default:"none",layerLabel:function(P,N){var H=N.values,R=H["text-shadow-h"],it=H["text-shadow-v"],ft=H["text-shadow-blur"];return"".concat(R," ").concat(it," ").concat(ft)},properties:this.__sub(["text-shadow-h","text-shadow-v","text-shadow-blur","text-shadow-color"])},"box-shadow"],["background",{detached:!0,layerLabel:function(P,N){var H=N.values;return[H["background-repeat-sub"]||"",H["background-position-sub"]||"",H["background-attachment-sub"]||"",H["background-size-sub"]||""].join(" ")},properties:this.__sub([{extend:"background-image",id:"background-image-sub"},{extend:"background-repeat",id:"background-repeat-sub"},{extend:"background-position",id:"background-position-sub"},{extend:"background-attachment",id:"background-attachment-sub"},{extend:"background-size",id:"background-size-sub"}])},"box-shadow"],["transform",{type:"stack",layerSeparator:" ",fromStyle:function(P,N){var H=N.property,R=P[N.name]||"",it=H.getLayerSeparator();return R?R.split(it).map(function(ft){var Ct=H.__parseFn(ft);return{"transform-type":Ct.name,"transform-value":Ct.value}}):[]},toStyle:function(P,N){var H;return(H={})[N.name]="".concat(P["transform-type"],"(").concat(P["transform-value"],")"),H},properties:[{property:"transform-type",name:"Type",type:this.typeSelect,default:"rotateZ",full:!0,options:[{id:"scaleX",propValue:{units:[""],step:.01}},{id:"scaleY",propValue:{units:[""],step:.01}},{id:"scaleZ",propValue:{units:[""],step:.01}},{id:"rotateX",propValue:{units:this.unitsAngle,step:1}},{id:"rotateY",propValue:{units:this.unitsAngle,step:1}},{id:"rotateZ",propValue:{units:this.unitsAngle,step:1}},{id:"translateX",propValue:{units:this.unitsSize,step:1}},{id:"translateY",propValue:{units:this.unitsSize,step:1}}],onChange:function(P){var N=P.property;if(P.to.value){var H=N.getOption(),R=Ms({},H.propValue||{}),it=N.getParent().getProperty("transform-value"),ft=it.getUnit();(!ft||R?.units.indexOf(ft)<0)&&(R.unit=R?.units[0]||""),it.up(R)}}},{property:"transform-value",type:this.typeNumber,default:"0",full:!0}]}]].forEach(function(P){var N=P[0],H=P[1],R=P[2];a.add(N,H||{},{from:R})}),this},p.prototype.add=function(a,e,o){void 0===e&&(e={}),void 0===o&&(o={});var s=o.from||"",c=this.props[s||a]||{},v=Ms(Ms(Ms({},c),{property:a}),e);return v.properties&&(0,x.isFunction)(v.properties)&&(v.properties=v.properties()),this.props[a]=v,v},p.prototype.get=function(a){return this.props[a]},p.prototype.build=function(a){var e=this,o=[];return((0,x.isString)(a)?[a]:a).forEach(function(s){o.push(e.get(s)||{property:s})}),o},p}();const Vg=Ug;var zg=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Gg=function(p){function a(e){var o=p.call(this,e)||this,s=e.config||{},c=o.model,v=s.em;return o.config=s,o.em=v,o.pfx=s.stylePrefix||"",o.listenTo(c,"destroy remove",o.remove),o.listenTo(c,"change:open",o.updateOpen),o.listenTo(c,"change:visible",o.updateVisibility),o}return zg(a,p),a.prototype.template=function(e){var o,s=e.pfx,c=e.label,P=(null===(o=this.em)||void 0===o?void 0:o.getConfig().icons)?.caret||"",N="".concat(s,"sector-");return M(kh||(kh=function(p,a){return Object.defineProperty?Object.defineProperty(p,"raw",{value:a}):p.raw=a,p}(['\n      <div class="','title" data-sector-title>\n        <div class="','caret">$','</div>\n        <div class="','label">',"</div>\n      </div>\n    "],['\n      <div class="','title" data-sector-title>\n        <div class="','caret">$','</div>\n        <div class="','label">',"</div>\n      </div>\n    "])),N,N,P,N,c)},a.prototype.events=function(){return{"click [data-sector-title]":"toggle"}},a.prototype.updateOpen=function(){var e=this,o=e.$el,s=e.model,c=e.pfx,v=s.isOpen();o[v?"addClass":"removeClass"]("".concat(c,"open")),this.getPropertiesEl().style.display=v?"":"none"},a.prototype.updateVisibility=function(){this.el.style.display=this.model.isVisible()?"":"none"},a.prototype.getPropertiesEl=function(){var e=this.$el,o=this.pfx;return e.find(".".concat(o,"properties")).get(0)},a.prototype.toggle=function(){var e=this.model;e.setOpen(!e.get("open"))},a.prototype.renderProperties=function(){var e=this.model,o=this.config,s=e.get("properties");if(s){var c=new kd({collection:s,config:o});this.$el.append(c.render().el)}},a.prototype.render=function(){var e=this,o=e.pfx,s=e.model,c=e.$el,v=s.getId(),P=s.getName();return c.html(this.template({pfx:o,label:P})),this.renderProperties(),c.attr("class","".concat(o,"sector ").concat(o,"sector__").concat(v," no-select")),this.updateOpen(),this},a}(T.G7);const Wg=Gg;var kh,$g=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Kg=function(p){function a(e){void 0===e&&(e={});var o=p.call(this,e)||this,s=e.module,c=e.config,v=o.collection;return o.pfx=c?.stylePrefix||"",o.ppfx=c?.pStylePrefix||"",o.config=c,o.module=s,o.listenTo(v,"add",o.addTo),o.listenTo(v,"reset",o.render),o}return $g(a,p),a.prototype.remove=function(){var e=this;return T.G7.prototype.remove.apply(this,arguments),["config","module","em"].forEach(function(o){return e[o]={}}),this},a.prototype.addTo=function(e,o,s){void 0===s&&(s={}),this.addToCollection(e,null,s)},a.prototype.addToCollection=function(e,o,s){void 0===s&&(s={});var c=this.config,v=this.el,P=o||v,N=new Wg({model:e,config:c}).render().el;return(0,Qe.$Q)(P,N,s.at),N},a.prototype.render=function(){var e=this,o=this,s=o.$el,c=o.pfx,v=o.ppfx;s.empty();var P=document.createDocumentFragment();return this.collection.each(function(N){return e.addToCollection(N,P)}),s.append(P),s.addClass("".concat(c,"sectors ").concat(v,"one-bg ").concat(v,"two-color")),this},a}(T.G7);const Yg=Kg;var Xg=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),Ns=function(){return Ns=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Ns.apply(this,arguments)},Ph=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))},Dc="".concat("style",":"),Nd="".concat(Dc,"sector"),Zg="".concat(Nd,":add"),Qg="".concat(Nd,":remove"),Jg="".concat(Nd,":update"),Dd="".concat(Dc,"property"),tm="".concat(Dd,":add"),em="".concat(Dd,":remove"),nm="".concat(Dd,":update"),Nh="".concat(Dc,"layer:select"),Ld="".concat(Dc,"target"),rm="".concat(Dc,"custom"),Dh=function(p){return p||0===p},om={all:"style",sectorAdd:Zg,sectorRemove:Qg,sectorUpdate:Jg,propertyAdd:tm,propertyRemove:em,propertyUpdate:nm,layerSelect:Nh,target:Ld,custom:rm},im=function(p){function a(e){var o=p.call(this,e,"StyleManager",new Fg([],{em:e}),om,U1)||this;o.Sector=Ah,o.storageKey="",(0,x.bindAll)(o,"__clearStateTarget");var s=o.config,c=s.pStylePrefix;c&&(s.stylePrefix=c+s.stylePrefix),o.builtIn=new Vg,o.properties=new Md([],{em:e,module:o}),o.sectors=o.all;var v=new T.Hn({targets:[]});o.model=v,o.upAll=(0,x.debounce)(function(){return o.__upSel()},0),v.listenTo(e,"component:toggled component:update:classes change:state change:device frame:resized selector:type",o.upAll),v.listenTo(e,"component:toggled",o.__clearStateTarget);var P=(0,x.debounce)(function(){o.__upProps(),o.__trgCustom()},0);v.listenTo(e,"styleable:change undo redo",P);var N=(0,x.debounce)(function(){return o.__trgCustom()},0);return v.listenTo(e,"".concat(Nh," ").concat(Ld),N),v.on("change:lastTarget",function(){return e.trigger(Ld,o.getSelected())}),o}return Xg(a,p),a.prototype.__upSel=function(){this.select(this.em.getSelectedAll())},a.prototype.__trgCustom=function(e){void 0===e&&(e={}),this.__ctn=this.__ctn||e.container,this.em.trigger(this.events.custom,{container:this.__ctn})},a.prototype.__trgEv=function(e){for(var o,s=[],c=1;c<arguments.length;c++)s[c-1]=arguments[c];(o=this.em).trigger.apply(o,Ph([e],s,!1))},a.prototype.__clearStateTarget=function(){var e=this,o=this.em,s=this.__getStateTarget();s&&o?.skip(function(){o.Css.remove(s),e.model.set({stateTarget:null})})},a.prototype.onLoad=function(){this.sectors.add(this.config.sectors,{silent:!0})},a.prototype.postRender=function(){this.__appendTo()},a.prototype.addSector=function(e,o,s){void 0===s&&(s={});var c=this.getSector(e);return c||(o.id=e,c=this.sectors.add(o,s)),c},a.prototype.getSector=function(e,o){void 0===o&&(o={});var s=this.sectors.where({id:e})[0];return!s&&o.warn&&this._logNoSector(e),s||null},a.prototype.getSectors=function(e){void 0===e&&(e={});var o=this.sectors,s=o&&o.models?e.array?Ph([],o.models,!0):o:[];return e.visible?s.filter(function(c){return c.isVisible()}):s},a.prototype.removeSector=function(e){return this.getSectors().remove(this.getSector(e,{warn:!0}))},a.prototype.addProperty=function(e,o,s){void 0===s&&(s={});var c=this.getSector(e,{warn:!0}),v=null;return c&&(v=c.addProperty(o,s)),v},a.prototype.getProperty=function(e,o){var s,c=this.getSector(e,{warn:!0});return c&&(s=c.properties.filter(function(v){return v.get("property")===o||v.get("id")===o})[0]),s},a.prototype.getProperties=function(e){var o,s=this.getSector(e,{warn:!0});return s&&(o=s.properties),o},a.prototype.removeProperty=function(e,o){var s=this.getProperties(e);return s?s.remove(this.getProperty(e,o)):null},a.prototype.select=function(e,o){var s=this;void 0===o&&(o={});var c=this.em,v=(0,x.isArray)(e)?e:[e],P=o.stylable,N=c.Css,H=[];v.filter(Boolean).forEach(function(Nt){var zt=Nt;if((0,x.isString)(Nt)){var Ft=N.getRule(Nt)||N.setRule(Nt);!(0,x.isUndefined)(P)&&Ft.set({stylable:P}),zt=Ft}H.push(zt)});var R=o.component||H.filter(function(Nt){return(0,g.isComponent)(Nt)}).reverse()[0];H=H.map(function(Nt){return s.getModelToStyle(Nt)});var it=c.getState(),ft=H.slice().reverse()[0],Ct=this.getParentRules(ft,{state:it,component:R}),St=this.__getStateTarget();return c.skip(function(){var Nt;if(it&&null!==(Nt=ft?.getState)&&void 0!==Nt&&Nt.call(ft)){var zt=ft.getStyle();St?St.setStyle(zt):St=N.getAll().add({selectors:"gjs-selected",style:zt,shallow:!0,important:!0})}else St&&(N.remove(St),St=void 0)}),this.model.set({targets:H,lastTarget:ft,lastTargetParents:Ct,stateTarget:St,component:R}),this.__upProps(o),H},a.prototype.getSelected=function(){return this.model.get("lastTarget")},a.prototype.getSelectedAll=function(){return this.model.get("targets")},a.prototype.getSelectedParents=function(){return this.model.get("lastTargetParents")||[]},a.prototype.__getStateTarget=function(){return this.model.get("stateTarget")},a.prototype.addStyleTargets=function(e,o){this.getSelectedAll().map(function(v){return v.addStyle(e,o)});var s=this.getSelected();s&&this.__emitCmpStyleUpdate(e);var c=this.__getStateTarget();s&&c?.setStyle(s.getStyle(),o)},a.prototype.getBuiltIn=function(e){return this.builtIn.get(e)},a.prototype.getBuiltInAll=function(){return this.builtIn.props},a.prototype.addBuiltIn=function(e,o){return this.builtIn.add(e,o)},a.prototype.getModelToStyle=function(e,o){void 0===o&&(o={});var s=this.em,c=o.skipAdd;if(s&&e?.toHTML){var v=s.getConfig(),P=s.UndoManager,N=s.Css,H=s.Selectors,R=H?H.getConfig():{},it=v.devicePreviewMode?"":s.get("state"),ft=e.get("classes").getStyleable(),Ct=ft.length,St=!R.componentFirst||o.useClasses,Nt={noCount:1},zt={state:it,addOpts:Nt},Ft=void 0;if(P.stop(),Ct&&St){var pe=s.getCurrentMedia();(Ft=N.get(ft,it,pe))||c||(Ft=N.add(ft,it,pe,{},Nt))}else if(v.avoidInlineStyle){var ve=e.getId();!(Ft=N.getIdRule(ve,zt))&&!c&&(Ft=N.setIdRule(ve,{},zt)),e.is("wrapper")&&Ft.set("wrapper",1,Nt)}Ft&&(e=Ft),P.start()}return e},a.prototype.getParentRules=function(e,o){var s=void 0===o?{}:o,c=s.state,v=s.component,P=this.em,N=[];if(P&&e){var H=v,R=P.Css,it=P.CodeManager.getGenerator("css"),ft=e.toHTML?e:e.getComponent(),Ct={combination:!0,array:!0},St=[],Nt=[],zt=[];ft?(St=R.getRules("#".concat(ft.getId())),zt=(Nt=H?R.getRules(H.getSelectors().getFullName(Ct)):[]).concat(St)):(St=H?R.getRules("#".concat(H.getId())):[],Nt=R.getRules(e.getSelectors().getFullName(Ct)),zt=St.concat(Nt));var Ft=zt.filter(function(pe){return(0,x.isUndefined)(c)?1:pe.get("state")===c}).sort(it.sortRules).reverse();N=Ft.slice(Ft.indexOf(e)+1)}return N},a.prototype.addType=function(e,o){this.properties.addType(e,o)},a.prototype.getType=function(e){return this.properties.getType(e)},a.prototype.getTypes=function(){return this.properties.getTypes()},a.prototype.createType=function(e,o){var s=void 0===o?{}:o,c=s.model,v=void 0===c?{}:c,P=s.view,N=void 0===P?{}:P,H=this.config,R=this.getType(e);if(R)return new R.view(Ns({model:new R.model(v),config:H},N))},a.prototype.render=function(){var e=this,o=e.config,s=e.em,c=e.SectView,v=c&&c.el;return this.SectView=new Yg({el:v,em:s,config:o,module:this,collection:this.sectors}),this.SectView.render().el},a.prototype._logNoSector=function(e){var o=this.em;o&&o.logWarning("'".concat(e,"' sector not found"))},a.prototype.__emitCmpStyleUpdate=function(e,o){void 0===o&&(o={});var s=this.em,c="component:styleUpdate";if(!e.__p){var v=o.components||s.getSelectedAll(),P=Array.isArray(v)?v:[v],N=Ns({},e);delete N.__p;var H=Object.keys(N),R={style:N};P.forEach(function(it){s.trigger(c,it,R),H.forEach(function(ft){return s.trigger("".concat(c,":").concat(ft),it,R)})})}},a.prototype.__upProps=function(e){var o=this;void 0===e&&(e={});var s=this.getSelected();if(s){var c=this.sectors,v=this.model.get("component"),P=this.getSelectedParents(),N=s.getStyle(),H=P.map(function(R){return{target:R,style:R.getStyle()}});c.map(function(R){R.getProperties().map(function(it){o.__upProp(it,N,H,e)})}),c.forEach(function(R){var it=R.getProperties();it.forEach(function(Ct){var St=Ct.__checkVisibility({target:s,component:v,sectors:c});Ct.set("visible",St)});var ft=it.some(function(Ct){return Ct.isVisible()});R.set("visible",ft)})}},a.prototype.__upProp=function(e,o,s,c){var v=this,P=e.getName(),N=o[P],H=Dh(N),R="stack"===e.getType(),it="composite"===e.getType(),ft=Ns(Ns({},c),{__up:!0}),Ct=!it&&!R,St=R?e.__getLayersFromStyle(o):[],Nt=it?e.__getPropsFromStyle(o):{},zt=H?N:null,Ft=null;if(R&&null===St||it&&null===Nt){var pe=R?"__getLayersFromStyle":"__getPropsFromStyle";if(De=s.filter(function(wn){return null!==e[pe](wn.style)})[0]){zt=De.style[P],Ft=De.target;var ve=e[pe](De.style);R?St=ve:Nt=ve}}else if(!H){var De;zt=null,(De=s.filter(function(wn){return Dh(wn.style[P])})[0])&&(zt=De.style[P],Ft=De.target)}if(e.__setParentTarget(Ft),Ct&&e.__getFullValue()!==zt&&e.upValue(zt,ft),R&&e.__setLayers(St||[]),it){var je=e.getProperties();if(e.isDetached()){var nn=e.__getPropsFromStyle(o,{byName:!0})||{},cn=s.map(function(wn){return Ns(Ns({},wn),{style:e.__getPropsFromStyle(wn.style,{byName:!0})||{}})});je.map(function(wn){return v.__upProp(wn,nn,cn,c)})}else e.__setProperties(Nt||{},ft),e.getProperties().map(function(wn){return wn.__setParentTarget(Ft)})}},a.prototype.destroy=function(){var e;[this.properties,this.sectors].forEach(function(o){o.reset(),o.stopListening()}),null===(e=this.SectView)||void 0===e||e.remove(),this.model.stopListening(),this.upAll.cancel()},a}(G);const sm=im;var am=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),ro=function(){return ro=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},ro.apply(this,arguments)},Id=function(p,a,e,o){return new(e||(e=Promise))(function(s,c){function v(H){try{N(o.next(H))}catch(R){c(R)}}function P(H){try{N(o.throw(H))}catch(R){c(R)}}function N(H){var R;H.done?s(H.value):(R=H.value,R instanceof e?R:new e(function(it){it(R)})).then(v,P)}N((o=o.apply(p,a||[])).next())})},Rd=function(p,a){var e,o,s,c,v={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function P(N){return function(H){return function(R){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,R[0]&&(v=0)),v;)try{if(e=1,o&&(s=2&R[0]?o.return:R[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,R[1])).done)return s;switch(o=0,s&&(R=[2&R[0],s.value]),R[0]){case 0:case 1:s=R;break;case 4:return v.label++,{value:R[1],done:!1};case 5:v.label++,o=R[1],R=[0];continue;case 7:R=v.ops.pop(),v.trys.pop();continue;default:if(!((s=(s=v.trys).length>0&&s[s.length-1])||6!==R[0]&&2!==R[0])){v=0;continue}if(3===R[0]&&(!s||R[1]>s[0]&&R[1]<s[3])){v.label=R[1];break}if(6===R[0]&&v.label<s[1]){v.label=s[1],s=R;break}if(s&&v.label<s[2]){v.label=s[2],v.ops.push(R);break}s[2]&&v.ops.pop(),v.trys.pop();continue}R=a.call(p,v)}catch(it){R=[6,it],o=0}finally{e=s=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([N,H])}}},cm=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))};m().$=_.default;var um=[Cf,gf,Nf,A1,Du,Le,Kr,sm,da,Ff,w1,n1,R1,Tc,xl,vt,B1,Xp],pm=[uf,Kl,pn,Up];!function(p){var a=p.$;if(a&&a.prototype&&"jQuery"!==a.prototype.constructor.name){var e=a.fn;e.hide=function(){return this.css("display","none")},e.show=function(){return this.css("display","block")},e.focus=function(){var c=this.get(0);return c&&c.focus(),this},e.bind=function(c,v){return this.on(c,v)},e.unbind=function(c,v){if((0,x.isObject)(c)){for(var P in c)c.hasOwnProperty(P)&&this.off(P,c[P]);return this}return this.off(c,v)},e.click=function(c){return c?this.on("click",c):this.trigger("click")},e.change=function(c){return c?this.on("change",c):this.trigger("change")},e.keydown=function(c){return c?this.on("keydown",c):this.trigger("keydown")},e.delegate=function(c,v,P,N){return N||(N=P),this.on(v,c,function(H){H.data=P,N(H)})},e.scrollLeft=function(){var c=this.get(0),v=(c=9==c.nodeType?c.defaultView:c)instanceof Window?c:null;return v?v.pageXOffset:c.scrollLeft||0},e.scrollTop=function(){var c=this.get(0),v=(c=9==c.nodeType?c.defaultView:c)instanceof Window?c:null;return v?v.pageYOffset:c.scrollTop||0};var o=a.prototype.offset;e.offset=function(c){var v,P;return c&&(v=c.top,P=c.left),void 0!==v&&this.css("top","".concat(v,"px")),void 0!==P&&this.css("left","".concat(P,"px")),o.call(this)},a.map=function(c,v){for(var P=[],N=0;N<c.length;N++)P.push(v(c[N],N));return P};var s=Array.prototype.indexOf;a.inArray=function(c,v,P){return null==v?-1:s.call(v,c,P)},a.Event=function(c,v){if(!(this instanceof a.Event))return new a.Event(c,v);this.type=c,this.isDefaultPrevented=function(){return!1}}}}({$:_.default});var Lh={debug:console.log,info:console.info,warning:console.warn,error:console.error},dm=function(p){function a(e){void 0===e&&(e={});var o=p.call(this)||this;o.__skip=!1,o.defaultRunning=!1,o.destroyed=!1,o._config=e;var s=o.config;o.set("Config",e),o.set("modules",[]),o.set("toLoad",[]),o.set("storables",[]),o.set("selected",new A),o.set("dmode",s.dragMode);var c=s.el,v=s.log,P=!0===v?(0,x.keys)(Lh):(0,x.isArray)(v)?v:[];return(0,x.bindAll)(o,"initBaseColorPicker"),c&&s.fromElement&&(s.components=c.innerHTML),o.attrsOrig=c?(0,x.toArray)(c.attributes).reduce(function(N,H){return N[H.nodeName]=H.nodeValue,N},{}):"",s.components&&!s.pageManager&&(s.pageManager={pages:[{component:s.components}]}),um.forEach(function(N){return o.loadModule(N)}),pm.forEach(function(N){return o.loadStorableModule(N)}),o.on("change:componentHovered",o.componentHovered,o),o.on("change:changesCount",o.updateChanges,o),o.on("change:readyLoad change:readyCanvas",o._checkReady,o),P.forEach(function(N){return o.listenLog(N)}),[{from:"change:selectedComponent",to:"component:toggled"}].forEach(function(N){var H=N.from,R=N.to;o.listenTo(o,H,function(){for(var it=[],ft=0;ft<arguments.length;ft++)it[ft]=arguments[ft];o.trigger.apply(o,cm([R],it,!1)),o.logWarning("The event '".concat(H,"' is deprecated, replace it with '").concat(R,"'"))})}),o}return am(a,p),a.prototype.defaults=function(){return{editing:0,selected:0,clipboard:null,dmode:0,componentHovered:null,previousModel:null,changesCount:0,storables:[],modules:[],toLoad:[],opened:{},device:""}},Object.defineProperty(a.prototype,"storables",{get:function(){return this.get("storables")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"modules",{get:function(){return this.get("modules")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"toLoad",{get:function(){return this.get("toLoad")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"selected",{get:function(){return this.get("selected")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"shallow",{get:function(){return this.get("shallow")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"I18n",{get:function(){return this.get("I18n")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Utils",{get:function(){return this.get("Utils")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Commands",{get:function(){return this.get("Commands")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Keymaps",{get:function(){return this.get("Keymaps")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Modal",{get:function(){return this.get("Modal")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Panels",{get:function(){return this.get("Panels")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"CodeManager",{get:function(){return this.get("CodeManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"UndoManager",{get:function(){return this.get("UndoManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"RichTextEditor",{get:function(){return this.get("RichTextEditor")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Canvas",{get:function(){return this.get("Canvas")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Editor",{get:function(){return this.get("Editor")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Components",{get:function(){return this.get("DomComponents")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Css",{get:function(){return this.get("CssComposer")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Blocks",{get:function(){return this.get("BlockManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Selectors",{get:function(){return this.get("SelectorManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Storage",{get:function(){return this.get("StorageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Traits",{get:function(){return this.get("TraitManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Parser",{get:function(){return this.get("Parser")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Layers",{get:function(){return this.get("LayerManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Assets",{get:function(){return this.get("AssetManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Devices",{get:function(){return this.get("DeviceManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Pages",{get:function(){return this.get("PageManager")},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"Styles",{get:function(){return this.get("StyleManager")},enumerable:!1,configurable:!0}),a.prototype._checkReady=function(){this.get("readyLoad")&&this.get("readyCanvas")&&!this.get("ready")&&this.set("ready",!0)},a.prototype.getContainer=function(){return this.config.el},a.prototype.listenLog=function(e){this.listenTo(this,"log:".concat(e),Lh[e])},Object.defineProperty(a.prototype,"config",{get:function(){return this._config},enumerable:!1,configurable:!0}),a.prototype.getConfig=function(e){var o=this.config;return(0,x.isUndefined)(e)?o:o[e]},a.prototype.loadOnStart=function(){var e=this,o=this.config,s=o.projectData,c=o.headless,v=this.get("StorageManager");this.toLoad.reverse().forEach(function(H){return H.onLoad()});var P=function(){e.modules.forEach(function(H){return H.postLoad&&H.postLoad(e)}),e.set("readyLoad",1)};c?(s&&this.loadData(s),P()):this._storageTimeout=setTimeout(function(){return Id(e,void 0,void 0,function(){var H;return Rd(this,function(R){switch(R.label){case 0:return s?(this.loadData(s),[3,5]):[3,1];case 1:if(!v?.canAutoload())return[3,5];R.label=2;case 2:return R.trys.push([2,4,,5]),[4,this.load()];case 3:return R.sent(),[3,5];case 4:return H=R.sent(),this.logError(H),[3,5];case 5:return P(),[2]}})})});var N=new a({noticeOnUnload:!1,storageManager:!1,undoManager:!1});N.Pages.onLoad(),N.Canvas.postLoad(),this.set("shallow",N)},a.prototype.updateChanges=function(){var e=this,o=this.get("StorageManager"),s=this.getDirtyCount();this.updateItr&&clearTimeout(this.updateItr),this.updateItr=setTimeout(function(){return e.trigger("update")}),this.config.noticeOnUnload&&(window.onbeforeunload=s?function(){return!0}:null),o.isAutosave()&&s>=o.getStepsBeforeSave()&&this.store().catch(function(c){return e.logError(c)})},a.prototype.loadModule=function(e){var o=new e(this);return this.set(o.name,o),o.onLoad&&this.toLoad.push(o),this.modules.push(o),o},a.prototype.loadStorableModule=function(e){var o=this.loadModule(e);return this.storables.push(o),o},a.prototype.init=function(e,o){void 0===o&&(o={}),this.destroyed&&(this.initialize(o),this.destroyed=!1),this.set("Editor",e)},a.prototype.getEditor=function(){return this.get("Editor")},a.prototype.handleUpdates=function(e,o,s){var c=this;void 0===s&&(s={}),this.__skip||s.temporary||s.noCount||s.avoidStore||!this.get("ready")||(this.timedInterval&&clearTimeout(this.timedInterval),this.timedInterval=setTimeout(function(){var v=c.getDirtyCount()||0,P=(s.unset,function(p,a){var e={};for(var o in p)Object.prototype.hasOwnProperty.call(p,o)&&a.indexOf(o)<0&&(e[o]=p[o]);if(null!=p&&"function"==typeof Object.getOwnPropertySymbols){var s=0;for(o=Object.getOwnPropertySymbols(p);s<o.length;s++)a.indexOf(o[s])<0&&Object.prototype.propertyIsEnumerable.call(p,o[s])&&(e[o[s]]=p[o[s]])}return e}(s,["unset"]));c.set("changesCount",v+1,P)},0))},a.prototype.changesUp=function(e){this.handleUpdates(0,0,e)},a.prototype.componentHovered=function(e,o,s){var c=this.previous("componentHovered");c&&this.trigger("component:unhovered",c,s),o&&this.trigger("component:hovered",o,s)},a.prototype.getSelected=function(){return this.selected.lastComponent()},a.prototype.getSelectedAll=function(){return this.selected.allComponents()},a.prototype.setSelected=function(e,o){var s=this;void 0===o&&(o={});var c=o.event,v=c&&(c.ctrlKey||c.metaKey),P=(c||{}).shiftKey,N=((0,x.isArray)(e)?e:[e]).map(function(ft){return(0,g.getModel)(ft,_.default)}),H=this.getSelectedAll(),R=this.getConfig().multipleSelection,it=(0,x.isArray)(e);it&&this.removeSelected(H.filter(function(ft){return!(0,x.contains)(N,ft)})),N.forEach(function(ft){var Ct=(0,g.getModel)(ft,void 0);if(Ct&&(s.trigger("component:select:before",Ct,o),!Ct.get("selectable")||o.abort)){if(!o.useValid)return;for(var St=Ct.parent();St&&!St.get("selectable");)St=St.parent();Ct=St}if(v&&R)return s.toggleSelected(Ct);if(P&&R){s.clearSelection(s.get("Canvas").getWindow());var Nt,zt,Ft=Ct.collection,pe=Ct.index();if(s.getSelectedAll().forEach(function(ve){var De=ve.collection,je=ve.index();De===Ft&&(je<pe?Nt=(0,x.isUndefined)(Nt)?je:Math.max(Nt,je):je>pe&&(zt=(0,x.isUndefined)(zt)?je:Math.min(zt,je)))}),!(0,x.isUndefined)(Nt))for(;Nt!==pe;)s.addSelected(Ft.at(Nt)),Nt++;if(!(0,x.isUndefined)(zt))for(;zt!==pe;)s.addSelected(Ft.at(zt)),zt--;return s.addSelected(Ct)}!it&&s.removeSelected(H.filter(function(ve){return ve!==Ct})),s.addSelected(Ct,o)})},a.prototype.addSelected=function(e,o){var s=this;void 0===o&&(o={});var c=(0,g.getModel)(e,_.default);((0,x.isArray)(c)?c:[c]).forEach(function(v){var P=s.selected;v&&v.get("selectable")&&!v.parents().some(function(N){return P.hasComponent(N)})&&(o.forceChange&&s.removeSelected(v,o),P.allComponents().filter(function(N){return(0,x.contains)(N.parents(),v)}).forEach(function(N){return s.removeSelected(N,o)}),P.addComponent(v,o),v&&s.trigger("component:select",v,o))})},a.prototype.removeSelected=function(e,o){void 0===o&&(o={}),this.selected.removeComponent((0,g.getModel)(e,_.default),o)},a.prototype.toggleSelected=function(e,o){var s=this;void 0===o&&(o={});var c=(0,g.getModel)(e,_.default);((0,x.isArray)(c)?c:[c]).forEach(function(v){s.selected.hasComponent(v)?s.removeSelected(v,o):s.addSelected(v,o)})},a.prototype.setHovered=function(e,o){if(void 0===o&&(o={}),!e)return this.set("componentHovered","");var s="component:hover",c=(0,g.getModel)(e,void 0);if(c){if(o.forceChange&&this.set("componentHovered",""),this.trigger("".concat(s,":before"),c,o),!c.get("hoverable")){if(!o.useValid||o.abort)return;for(var v=c&&c.parent();v&&!v.get("hoverable");)v=v.parent();c=v}o.abort||(this.set("componentHovered",c,o),this.trigger(s,c,o))}},a.prototype.getHovered=function(){return this.get("componentHovered")},a.prototype.setComponents=function(e,o){return void 0===o&&(o={}),this.Components.setComponents(e,o)},a.prototype.getComponents=function(){var e=this.Components,o=this.CodeManager;if(e&&o){var s=e.getComponents();return o.getCode(s,"json")}},a.prototype.setStyle=function(e,o){void 0===o&&(o={});var s=this.Css;return s.clear(o),s.getAll().add(e,o),this},a.prototype.addStyle=function(e,o){void 0===o&&(o={});var s=this.getStyle().add(e,o);return(0,x.isArray)(s)?s:[s]},a.prototype.getStyle=function(){return this.Css.getAll()},a.prototype.setState=function(e){return this.set("state",e),this},a.prototype.getState=function(){return this.get("state")||""},a.prototype.getHtml=function(e){void 0===e&&(e={});var o=this.config,s=o.optsHtml,c=o.jsInHtml?this.getJs(e):"",v=e.component||this.Components.getComponent();return(v?this.CodeManager.getCode(v,"html",ro(ro({},s),e)):"")+(c?"<script>".concat(c,"<\/script>"):"")},a.prototype.getCss=function(e){void 0===e&&(e={});var o=this.config,s=o.optsCss,c=e.avoidProtected,v=(0,x.isUndefined)(e.keepUnusedStyles)?o.keepUnusedStyles:e.keepUnusedStyles,P=this.Css,N=e.component||this.Components.getComponent(),H=c?"":o.protectedCss,R=N&&this.CodeManager.getCode(N,"css",ro(ro({cssc:P,keepUnusedStyles:v},s),e));return N?e.json?R:H+R:""},a.prototype.getJs=function(e){void 0===e&&(e={});var o=e.component||this.Components.getWrapper();return o?this.CodeManager.getCode(o,"js").trim():""},a.prototype.store=function(e){return Id(this,void 0,void 0,function(){var o;return Rd(this,function(s){switch(s.label){case 0:return o=this.storeData(),[4,this.Storage.store(o,e)];case 1:return s.sent(),this.clearDirtyCount(),[2,o]}})})},a.prototype.load=function(e){return Id(this,void 0,void 0,function(){var o;return Rd(this,function(s){switch(s.label){case 0:return[4,this.Storage.load(e)];case 1:return o=s.sent(),this.loadData(o),[2,o]}})})},a.prototype.storeData=function(){var e={},o=this.getEditing();return o&&o.trigger("sync:content",{noCount:!0}),this.storables.forEach(function(s){e=ro(ro({},e),s.store(1))}),JSON.parse(JSON.stringify(e))},a.prototype.loadData=function(e){return void 0===e&&(e={}),(0,g.isEmptyObj)(e)||(this.storables.forEach(function(o){return o.clear()}),this.storables.forEach(function(o){return o.load(e)})),e},a.prototype.getDeviceModel=function(){var e=this.get("device");return this.Devices.get(e)},a.prototype.runDefault=function(e){void 0===e&&(e={});var o=this.get("Commands").get(this.config.defaultCommand);o&&!this.defaultRunning&&(o.stop(this,this,e),o.run(this,this,e),this.defaultRunning=!0)},a.prototype.stopDefault=function(e){void 0===e&&(e={});var o=this.get("Commands").get(this.config.defaultCommand);o&&this.defaultRunning&&(o.stop(this,this,e),this.defaultRunning=!1)},a.prototype.refreshCanvas=function(e){void 0===e&&(e={}),this.set("canvasOffset",null),this.set("canvasOffset",this.Canvas.getOffset()),e.tools&&this.trigger("canvas:updateTools")},a.prototype.clearSelection=function(e){var o;null===(o=(e||window).getSelection())||void 0===o||o.removeAllRanges()},a.prototype.getCurrentMedia=function(){var e=this.config,o=this.getDeviceModel(),s=e.mediaCondition,c=e.devicePreviewMode,v=o&&o.get("widthMedia");return o&&v&&!c?"(".concat(s,": ").concat(v,")"):""},a.prototype.getWrapper=function(){return this.Components.getWrapper()},a.prototype.setCurrentFrame=function(e){return this.set("currentFrame",e)},a.prototype.getCurrentFrame=function(){return this.get("currentFrame")},a.prototype.getCurrentFrameModel=function(){var e;return null===(e=this.getCurrentFrame()||{})||void 0===e?void 0:e.model},a.prototype.getIcon=function(e){return(this.config.icons||{})[e]||""},a.prototype.getDirtyCount=function(){return this.get("changesCount")},a.prototype.clearDirtyCount=function(){return this.set("changesCount",0)},a.prototype.getZoomDecimal=function(){return this.Canvas.getZoomDecimal()},a.prototype.getZoomMultiplier=function(){return this.Canvas.getZoomMultiplier()},a.prototype.setDragMode=function(e){return this.set("dmode",e)},a.prototype.getDragMode=function(e){return e?.getDragMode()||this.get("dmode")||""},a.prototype.t=function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];var s=this.get("I18n");return s?.t.apply(s,e)},a.prototype.inAbsoluteMode=function(e){return"absolute"===this.getDragMode(e)},a.prototype.destroyAll=function(){var e=this,o=this.config,s=this.view,c=this.getEditor(),v=(o.grapesjs||{}).editors,P=void 0===v?[]:v,N=this.get("shallow");this._storageTimeout&&clearTimeout(this._storageTimeout),N?.destroyAll(),this.stopListening(),this.stopDefault(),this.modules.slice().reverse().forEach(function(H){return H.destroy()}),s&&s.remove(),this.clear({silent:!0}),this.destroyed=!0,["_config","view","_previousAttributes","_events","_listeners"].forEach(function(H){return e[H]={}}),P.splice(P.indexOf(c),1),(0,g.hasWin)()&&(0,_.default)(o.el).empty().attr(this.attrsOrig)},a.prototype.getEditing=function(){var e=this.get("editing");return e&&e.model||void 0},a.prototype.setEditing=function(e){return this.set("editing",e),this},a.prototype.isEditing=function(){return!!this.get("editing")},a.prototype.log=function(e,o){void 0===o&&(o={});var s=o.ns,c=o.level,v=void 0===c?"debug":c;if(this.trigger("log",e,o),v&&this.trigger("log:".concat(v),e,o),s){var P="log-".concat(s);this.trigger(P,e,o),v&&this.trigger("".concat(P,":").concat(v),e,o)}},a.prototype.logInfo=function(e,o){this.log(e,ro(ro({},o),{level:"info"}))},a.prototype.logWarning=function(e,o){this.log(e,ro(ro({},o),{level:"warning"}))},a.prototype.logError=function(e,o){this.log(e,ro(ro({},o),{level:"error"}))},a.prototype.initBaseColorPicker=function(e,o){void 0===o&&(o={});var s=this.config,c=s.colorPicker,v=void 0===c?{}:c,P=s.el,N=s.stylePrefix;return(0,_.default)(e).spectrum(ro(ro({containerClassName:"".concat(N,"one-bg ").concat(N,"two-color"),appendTo:P||"body",maxSelectionSize:8,showPalette:!0,palette:[],showAlpha:!0,chooseText:"Ok",cancelText:"\u2a2f"},o),v))},a.prototype.skip=function(e){this.__skip=!0;var o=this.UndoManager;o?o.skip(e):e(),this.__skip=!1},a.prototype.data=function(e,o,s){var c="_gjs-data";if(e[c]||(e[c]={}),(0,x.isUndefined)(s))return e[c][o];e[c][o]=s},a}(T.Hn);const hm=dm;var fm=function(){var p=function(a,e){return(p=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,s){o.__proto__=s}||function(o,s){for(var c in s)Object.prototype.hasOwnProperty.call(s,c)&&(o[c]=s[c])})(a,e)};return function(a,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function o(){this.constructor=a}p(a,e),a.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),gm=function(p){function a(e){var o=p.call(this,{model:e})||this,s=e.attributes,c=s.Panels,v=s.UndoManager;return e.view=o,e.once("change:ready",function(){c.active(),c.disableButtons(),v.clear(),setTimeout(function(){e.trigger("load",e.get("Editor")),e.clearDirtyCount()})}),o}return fm(a,p),a.prototype.render=function(){var e=this,o=this.$el,s=this.model,c=s.attributes,v=c.Panels,P=c.Canvas,N=s.config,H=s.modules,R=N.stylePrefix,it=["".concat(R,"editor")];!N.customUI&&it.push("".concat(R,"one-bg ").concat(R,"two-color"));var ft=(0,_.default)(N.el||"body ".concat(N.container));N.cssIcons&&(0,g.appendStyles)(N.cssIcons,{unique:!0,prepand:!0}),o.empty(),N.width&&ft.css("width",N.width),N.height&&ft.css("height",N.height),o.append(P.render()),o.append(v.render());var Ct=s.get("shallow").get("Canvas").render();return Ct.style.display="none",o.append(Ct),o.attr("class",it.join(" ")),ft.addClass("".concat(R,"editor-cont")).empty().append(o),H.forEach(function(St){return St.postRender&&St.postRender(e)}),this},a}(T.G7);const mm=gm;var Lc=function(){return Lc=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},Lc.apply(this,arguments)},Ih=function(p,a,e,o){return new(e||(e=Promise))(function(s,c){function v(H){try{N(o.next(H))}catch(R){c(R)}}function P(H){try{N(o.throw(H))}catch(R){c(R)}}function N(H){var R;H.done?s(H.value):(R=H.value,R instanceof e?R:new e(function(it){it(R)})).then(v,P)}N((o=o.apply(p,a||[])).next())})},Rh=function(p,a){var e,o,s,c,v={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return c={next:P(0),throw:P(1),return:P(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function P(N){return function(H){return function(R){if(e)throw new TypeError("Generator is already executing.");for(;c&&(c=0,R[0]&&(v=0)),v;)try{if(e=1,o&&(s=2&R[0]?o.return:R[0]?o.throw||((s=o.return)&&s.call(o),0):o.next)&&!(s=s.call(o,R[1])).done)return s;switch(o=0,s&&(R=[2&R[0],s.value]),R[0]){case 0:case 1:s=R;break;case 4:return v.label++,{value:R[1],done:!1};case 5:v.label++,o=R[1],R=[0];continue;case 7:R=v.ops.pop(),v.trys.pop();continue;default:if(!((s=(s=v.trys).length>0&&s[s.length-1])||6!==R[0]&&2!==R[0])){v=0;continue}if(3===R[0]&&(!s||R[1]>s[0]&&R[1]<s[3])){v.label=R[1];break}if(6===R[0]&&v.label<s[1]){v.label=s[1],s=R;break}if(s&&v.label<s[2]){v.label=s[2],v.ops.push(R);break}s[2]&&v.ops.pop(),v.trys.pop();continue}R=a.call(p,v)}catch(it){R=[6,it],o=0}finally{e=s=0}if(5&R[0])throw R[1];return{value:R[0]?R[1]:void 0,done:!0}}([N,H])}}},vm=function(p,a,e){if(e||2===arguments.length)for(var o,s=0,c=a.length;s<c;s++)!o&&s in a||(o||(o=Array.prototype.slice.call(a,0,s)),o[s]=a[s]);return p.concat(o||Array.prototype.slice.call(a))},ym=function(){function p(a,e){var o;void 0===a&&(a={}),void 0===e&&(e={}),this.html=M,this.config=Lc(Lc(Lc({},h),a),{pStylePrefix:null!==(o=a.stylePrefix)&&void 0!==o?o:h.stylePrefix}),this.em=new hm(this.config),this.$=e.$,this.em.init(this),this.editor=this.em}return Object.defineProperty(p.prototype,"Config",{get:function(){return this.em.config},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"I18n",{get:function(){return this.em.I18n},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Utils",{get:function(){return this.em.Utils},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Commands",{get:function(){return this.em.Commands},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Keymaps",{get:function(){return this.em.Keymaps},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Modal",{get:function(){return this.em.Modal},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Panels",{get:function(){return this.em.Panels},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Canvas",{get:function(){return this.em.Canvas},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Parser",{get:function(){return this.em.Parser},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"CodeManager",{get:function(){return this.em.CodeManager},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"UndoManager",{get:function(){return this.em.UndoManager},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"RichTextEditor",{get:function(){return this.em.RichTextEditor},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Pages",{get:function(){return this.em.Pages},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Components",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"DomComponents",{get:function(){return this.em.Components},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Layers",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"LayerManager",{get:function(){return this.em.Layers},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Css",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"CssComposer",{get:function(){return this.em.Css},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Storage",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"StorageManager",{get:function(){return this.em.Storage},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Assets",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"AssetManager",{get:function(){return this.em.Assets},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Blocks",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"BlockManager",{get:function(){return this.em.Blocks},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Traits",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"TraitManager",{get:function(){return this.em.Traits},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Selectors",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"SelectorManager",{get:function(){return this.em.Selectors},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Styles",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"StyleManager",{get:function(){return this.em.Styles},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"Devices",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"DeviceManager",{get:function(){return this.em.Devices},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"EditorModel",{get:function(){return this.em},enumerable:!1,configurable:!0}),p.prototype.getConfig=function(a){return this.em.getConfig(a)},p.prototype.getHtml=function(a){return this.em.getHtml(a)},p.prototype.getCss=function(a){return this.em.getCss(a)},p.prototype.getJs=function(a){return this.em.getJs(a)},p.prototype.getComponents=function(){return this.Components.getComponents()},p.prototype.getWrapper=function(){return this.Components.getWrapper()},p.prototype.setComponents=function(a,e){return void 0===e&&(e={}),this.em.setComponents(a,e),this},p.prototype.addComponents=function(a,e){return this.getWrapper().append(a,e)},p.prototype.getStyle=function(){return this.em.Css.getAll()},p.prototype.setStyle=function(a,e){return void 0===e&&(e={}),this.em.setStyle(a,e),this},p.prototype.addStyle=function(a,e){return void 0===e&&(e={}),this.em.addStyle(a,e)},p.prototype.getSelected=function(){return this.em.getSelected()},p.prototype.getSelectedAll=function(){return this.em.getSelectedAll()},p.prototype.getSelectedToStyle=function(){var a=this.em.getSelected();if(a)return this.StyleManager.getModelToStyle(a)},p.prototype.select=function(a,e){return this.em.setSelected(a,e),this},p.prototype.selectAdd=function(a){return this.em.addSelected(a),this},p.prototype.selectRemove=function(a){return this.em.removeSelected(a),this},p.prototype.selectToggle=function(a){return this.em.toggleSelected(a),this},p.prototype.getEditing=function(){return this.em.getEditing()},p.prototype.setDevice=function(a){return this.em.set("device",a),this},p.prototype.getDevice=function(){return this.em.get("device")},p.prototype.runCommand=function(a,e){return void 0===e&&(e={}),this.Commands.run(a,e)},p.prototype.stopCommand=function(a,e){return void 0===e&&(e={}),this.Commands.stop(a,e)},p.prototype.store=function(a){return Ih(this,void 0,void 0,function(){return Rh(this,function(e){switch(e.label){case 0:return[4,this.em.store(a)];case 1:return[2,e.sent()]}})})},p.prototype.load=function(a){return Ih(this,void 0,void 0,function(){return Rh(this,function(e){switch(e.label){case 0:return[4,this.em.load(a)];case 1:return[2,e.sent()]}})})},p.prototype.getProjectData=function(){return this.em.storeData()},p.prototype.loadProjectData=function(a){return this.em.loadData(a)},p.prototype.storeData=function(){return this.em.storeData()},p.prototype.loadData=function(a){return this.em.loadData(a)},p.prototype.getContainer=function(){return this.config.el},p.prototype.getDirtyCount=function(){return this.em.getDirtyCount()},p.prototype.clearDirtyCount=function(){return this.em.clearDirtyCount()},p.prototype.refresh=function(a){this.em.refreshCanvas(a)},p.prototype.setCustomRte=function(a){this.RichTextEditor.customRte=a},p.prototype.setCustomParserCss=function(a){return this.Parser.getConfig().parserCss=a,this},p.prototype.setDragMode=function(a){return this.em.setDragMode(a),this},p.prototype.log=function(a,e){return void 0===e&&(e={}),this.em.log(a,e),this},p.prototype.t=function(){for(var a,e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];return(a=this.em).t.apply(a,e)},p.prototype.on=function(a,e){return this.em.on(a,e),this},p.prototype.once=function(a,e){return this.em.once(a,e),this},p.prototype.off=function(a,e){return this.em.off(a,e),this},p.prototype.trigger=function(a){for(var e=[],o=1;o<arguments.length;o++)e[o-1]=arguments[o];return this.em.trigger.apply(this.em,vm([a],e,!0)),this},p.prototype.destroy=function(){this.em&&(this.em.destroyAll(),this.editorView=void 0)},p.prototype.getEl=function(){var a;return null===(a=this.editorView)||void 0===a?void 0:a.el},p.prototype.getModel=function(){return this.em},p.prototype.render=function(){var a;return null===(a=this.editorView)||void 0===a||a.remove(),this.editorView=new mm(this.em),this.editorView.render().el},p.prototype.onReady=function(a){this.em.get("ready")?a(this):this.em.on("load",a)},p}();const bm=ym;var jh=function(p,a){return(0,x.isString)(p)?function(e,o){var s=o.get(e);if(!s){var c=(0,g.getGlobal)()[e];s=c?.default||c}return s}(p,a):p},Hh=function(p,a){p.getModel().logWarning("Plugin ".concat(a," not found"),{context:"plugins",plugin:a})};const _m=function(){function p(){this.plugins={}}return p.prototype.add=function(a,e){return this.get(a)||(this.plugins[a]=e,e)},p.prototype.get=function(a){return this.plugins[a]},p.prototype.getAll=function(){return this.plugins},p}();var bp=function(){return bp=Object.assign||function(p){for(var a,e=1,o=arguments.length;e<o;e++)for(var s in a=arguments[e])Object.prototype.hasOwnProperty.call(a,s)&&(p[s]=a[s]);return p},bp.apply(this,arguments)};!function(){if((0,g.hasWin)()&&function(){for(var a,e=window.navigator.userAgent,o=[["edge",/Edge\/([0-9\._]+)/],["ie",/MSIE\s(7\.0)/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/]],s=0;s<o.length&&!(a=o[s][1].exec(e));s++);return!!a}()){var p=DOMImplementation.prototype.createHTMLDocument;DOMImplementation.prototype.createHTMLDocument=function(a){return a||(a=""),p.apply(document.implementation,[a])}}}();var jd=new _m,Fh=[],Bh=function(p,a){var e=jh(p,jd);return function(o){e?e(o,a||{}):Hh(o,p)}},Uh={$:_.default,editors:Fh,plugins:jd,usePlugin:Bh,version:"0.21.4",init:function(p){void 0===p&&(p={});var a=p.headless,e=p.container;if(!e&&!a)throw new Error("'container' is required");var o=bp(bp({autorender:!0,plugins:[],pluginsOpts:{}},p),{grapesjs:this,el:a?void 0:(0,x.isElement)(e)?e:document.querySelector(e)}),s=new bm(o,{$:_.default}),c=s.getModel();return o.plugins.forEach(function(v){var P=jh(v,jd),N=o.pluginsOpts[v]||{};P?P(s,N):Hh(s,v)}),c.loadOnStart(),o.autorender&&!a&&s.render(),Fh.push(s),s}};const wm=Uh})(),W})()),function(V,qt){"object"==typeof exports&&"object"==typeof module?module.exports=qt():"function"==typeof define&&define.amd?define([],qt):"object"==typeof exports?exports["grapesjs-preset-newsletter"]=qt():V["grapesjs-preset-newsletter"]=qt()}(typeof globalThis<"u"?globalThis:typeof window<"u"?window:this,()=>(()=>{var V={1073:x=>{x.exports={trueFunc:function(){return!0},falseFunc:function(){return!1}}},9125:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.groupSelectors=g.getDocumentRoot=void 0;var h=M(2515);g.getDocumentRoot=function(y){for(;y.parent;)y=y.parent;return y},g.groupSelectors=function(y){for(var m=[],_=[],b=0,T=y;b<T.length;b++){var C=T[b];C.some(h.isFilter)?m.push(C):_.push(C)}return[_,m]}},7248:function(x,g,M){"use strict";var h=this&&this.__assign||function(){return h=Object.assign||function(J){for(var K,at=1,Q=arguments.length;at<Q;at++)for(var gt in K=arguments[at])Object.prototype.hasOwnProperty.call(K,gt)&&(J[gt]=K[gt]);return J},h.apply(this,arguments)},y=this&&this.__createBinding||(Object.create?function(J,K,at,Q){void 0===Q&&(Q=at);var gt=Object.getOwnPropertyDescriptor(K,at);gt&&!("get"in gt?!K.__esModule:gt.writable||gt.configurable)||(gt={enumerable:!0,get:function(){return K[at]}}),Object.defineProperty(J,Q,gt)}:function(J,K,at,Q){void 0===Q&&(Q=at),J[Q]=K[at]}),m=this&&this.__setModuleDefault||(Object.create?function(J,K){Object.defineProperty(J,"default",{enumerable:!0,value:K})}:function(J,K){J.default=K}),_=this&&this.__importStar||function(J){if(J&&J.__esModule)return J;var K={};if(null!=J)for(var at in J)"default"!==at&&Object.prototype.hasOwnProperty.call(J,at)&&y(K,J,at);return m(K,J),K},b=this&&this.__spreadArray||function(J,K,at){if(at||2===arguments.length)for(var Q,gt=0,ot=K.length;gt<ot;gt++)!Q&&gt in K||(Q||(Q=Array.prototype.slice.call(K,0,gt)),Q[gt]=K[gt]);return J.concat(Q||Array.prototype.slice.call(K))};Object.defineProperty(g,"__esModule",{value:!0}),g.select=g.filter=g.some=g.is=g.aliases=g.pseudos=g.filters=void 0;var T=M(7763),C=M(5366),k=_(M(9432)),A=M(9125),I=M(2515),D=M(5366);Object.defineProperty(g,"filters",{enumerable:!0,get:function(){return D.filters}}),Object.defineProperty(g,"pseudos",{enumerable:!0,get:function(){return D.pseudos}}),Object.defineProperty(g,"aliases",{enumerable:!0,get:function(){return D.aliases}});var L={type:T.SelectorType.Pseudo,name:"scope",data:null},U=h({},L),S={type:T.SelectorType.Universal,namespace:null};function G(J,K,at){if(void 0===at&&(at={}),"function"==typeof K)return J.some(K);var Q=(0,A.groupSelectors)((0,T.parse)(K)),gt=Q[0],ot=Q[1];return gt.length>0&&J.some((0,C._compileToken)(gt,at))||ot.some(function(Ot){return q(Ot,J,at).length>0})}function Y(J,K,at){if(0===K.length)return[];var Q,gt=(0,A.groupSelectors)(J),ot=gt[0],Ot=gt[1];if(ot.length){var yt=X(K,ot,at);if(0===Ot.length)return yt;yt.length&&(Q=new Set(yt))}for(var Et=0;Et<Ot.length&&Q?.size!==K.length;Et++){var Mt=Ot[Et];if(0===(Q?K.filter(function(jt){return k.isTag(jt)&&!Q.has(jt)}):K).length)break;if((yt=q(Mt,K,at)).length)if(Q)yt.forEach(function(jt){return Q.add(jt)});else{if(Et===Ot.length-1)return yt;Q=new Set(yt)}}return void 0!==Q?Q.size===K.length?K:K.filter(function(jt){return Q.has(jt)}):[]}function q(J,K,at){var Q;return J.some(T.isTraversal)?bt(null!==(Q=at.root)&&void 0!==Q?Q:(0,A.getDocumentRoot)(K[0]),b(b([],J,!0),[U],!1),at,!0,K):bt(K,J,at,!1)}g.is=function(J,K,at){return void 0===at&&(at={}),G([J],K,at)},g.some=G,g.filter=function(J,K,at){return void 0===at&&(at={}),Y((0,T.parse)(J),K,at)},g.select=function(J,K,at){if(void 0===at&&(at={}),"function"==typeof J)return B(K,J);var Q=(0,A.groupSelectors)((0,T.parse)(J)),gt=Q[0],ot=Q[1].map(function(Ot){return bt(K,Ot,at,!0)});return gt.length&&ot.push(F(K,gt,at,1/0)),0===ot.length?[]:1===ot.length?ot[0]:k.uniqueSort(ot.reduce(function(Ot,yt){return b(b([],Ot,!0),yt,!0)}))};var tt=new Set([T.SelectorType.Descendant,T.SelectorType.Adjacent]);function ht(J){return J!==L&&"pseudo"===J.type&&("scope"===J.name||Array.isArray(J.data)&&J.data.some(function(K){return K.some(ht)}))}function ut(J,K,at){return at&&J.some(ht)?h(h({},K),{context:at}):K}function bt(J,K,at,Q,gt){var ot=K.findIndex(I.isFilter),Ot=K.slice(0,ot),yt=K[ot],Et=(0,I.getLimit)(yt.name,yt.data);if(0===Et)return[];var Mt=ut(Ot,at,gt),jt=(0!==Ot.length||Array.isArray(J)?0===Ot.length||1===Ot.length&&Ot[0]===L?(Array.isArray(J)?J:[J]).filter(k.isTag):Q||Ot.some(T.isTraversal)?F(J,[Ot],Mt,Et):X(J,[Ot],Mt):k.getChildren(J).filter(k.isTag)).slice(0,Et),Ut=function(Ht,_t,Xt,Gt){var Pt="string"==typeof Xt?parseInt(Xt,10):NaN;switch(Ht){case"first":case"lt":return _t;case"last":return _t.length>0?[_t[_t.length-1]]:_t;case"nth":case"eq":return isFinite(Pt)&&Math.abs(Pt)<_t.length?[Pt<0?_t[_t.length+Pt]:_t[Pt]]:[];case"gt":return isFinite(Pt)?_t.slice(Pt+1):[];case"even":return _t.filter(function(fe,Ce){return Ce%2==0});case"odd":return _t.filter(function(fe,Ce){return Ce%2==1});case"not":var he=new Set(Y(Xt,_t,Gt));return _t.filter(function(fe){return!he.has(fe)})}}(yt.name,jt,yt.data,at);if(0===Ut.length||K.length===ot+1)return Ut;var le=K.slice(ot+1),Zt=le.some(T.isTraversal),ie=ut(le,at,gt);return Zt&&(tt.has(le[0].type)&&le.unshift(S),le.unshift(L)),le.some(I.isFilter)?bt(Ut,le,at,!1,gt):Zt?F(Ut,[le],ie,1/0):X(Ut,[le],ie)}function F(J,K,at,Q){return 0===Q?[]:B(J,(0,C._compileToken)(K,at,J),Q)}function B(J,K,at){void 0===at&&(at=1/0);var Q=(0,C.prepareContext)(J,k,K.shouldTestNextSiblings);return k.find(function(gt){return k.isTag(gt)&&K(gt)},Q,!0,at)}function X(J,K,at){var Q=(Array.isArray(J)?J:[J]).filter(k.isTag);if(0===Q.length)return Q;var gt=(0,C._compileToken)(K,at);return Q.filter(gt)}},2515:(x,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.getLimit=g.isFilter=g.filterNames=void 0,g.filterNames=new Set(["first","last","eq","gt","nth","lt","even","odd"]),g.isFilter=function M(h){return"pseudo"===h.type&&(!!g.filterNames.has(h.name)||!("not"!==h.name||!Array.isArray(h.data))&&h.data.some(function(y){return y.some(M)}))},g.getLimit=function(M,h){var y=null!=h?parseInt(h,10):NaN;switch(M){case"first":return 1;case"nth":case"eq":return isFinite(y)?y>=0?y+1:1/0:0;case"lt":return isFinite(y)?y>=0?y:1/0:0;case"gt":return isFinite(y)?1/0:0;default:return 1/0}}},6451:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.toggleClass=g.removeClass=g.addClass=g.hasClass=g.removeAttr=g.val=g.data=g.prop=g.attr=void 0;var h=M(6634),y=M(5633),m=Object.prototype.hasOwnProperty,_=/\s+/,b="data-",T={null:null,true:!0,false:!1},C=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,k=/^{[^]*}$|^\[[^]*]$/;function A(q,tt,ht){var ut;if(q&&y.isTag(q))return null!==(ut=q.attribs)&&void 0!==ut||(q.attribs={}),tt?m.call(q.attribs,tt)?!ht&&C.test(tt)?tt:q.attribs[tt]:"option"===q.name&&"value"===tt?h.text(q.children):"input"!==q.name||"radio"!==q.attribs.type&&"checkbox"!==q.attribs.type||"value"!==tt?void 0:"on":q.attribs}function I(q,tt,ht){null===ht?G(q,tt):q.attribs[tt]=""+ht}function D(q,tt,ht){if(q&&y.isTag(q))return tt in q?q[tt]:!ht&&C.test(tt)?void 0!==A(q,tt,!1):A(q,tt,ht)}function L(q,tt,ht,ut){tt in q?q[tt]=ht:I(q,tt,!ut&&C.test(tt)?ht?"":null:""+ht)}function U(q,tt,ht){var ut,bt=q;null!==(ut=bt.data)&&void 0!==ut||(bt.data={}),"object"==typeof tt?Object.assign(bt.data,tt):"string"==typeof tt&&void 0!==ht&&(bt.data[tt]=ht)}function S(q,tt){var ht,ut,bt;null==tt?ut=(ht=Object.keys(q.attribs).filter(function(J){return J.startsWith(b)})).map(function(J){return y.camelCase(J.slice(b.length))}):(ht=[b+y.cssCase(tt)],ut=[tt]);for(var F=0;F<ht.length;++F){var B=ht[F],X=ut[F];if(m.call(q.attribs,B)&&!m.call(q.data,X)){if(bt=q.attribs[B],m.call(T,bt))bt=T[bt];else if(bt===String(Number(bt)))bt=Number(bt);else if(k.test(bt))try{bt=JSON.parse(bt)}catch{}q.data[X]=bt}}return null==tt?q.data:bt}function G(q,tt){q.attribs&&m.call(q.attribs,tt)&&delete q.attribs[tt]}function Y(q){return q?q.trim().split(_):[]}g.attr=function(q,tt){if("object"==typeof q||void 0!==tt){if("function"==typeof tt){if("string"!=typeof q)throw new Error("Bad combination of arguments.");return y.domEach(this,function(ht,ut){y.isTag(ht)&&I(ht,q,tt.call(ht,ut,ht.attribs[q]))})}return y.domEach(this,function(ht){y.isTag(ht)&&("object"==typeof q?Object.keys(q).forEach(function(ut){var bt=q[ut];I(ht,ut,bt)}):I(ht,q,tt))})}return arguments.length>1?this:A(this[0],q,this.options.xmlMode)},g.prop=function(q,tt){var ht=this;if("string"==typeof q&&void 0===tt)switch(q){case"style":var ut=this.css(),bt=Object.keys(ut);return bt.forEach(function(B,X){ut[X]=B}),ut.length=bt.length,ut;case"tagName":case"nodeName":var F=this[0];return y.isTag(F)?F.name.toUpperCase():void 0;case"outerHTML":return this.clone().wrap("<container />").parent().html();case"innerHTML":return this.html();default:return D(this[0],q,this.options.xmlMode)}if("object"==typeof q||void 0!==tt){if("function"==typeof tt){if("object"==typeof q)throw new Error("Bad combination of arguments.");return y.domEach(this,function(B,X){y.isTag(B)&&L(B,q,tt.call(B,X,D(B,q,ht.options.xmlMode)),ht.options.xmlMode)})}return y.domEach(this,function(B){y.isTag(B)&&("object"==typeof q?Object.keys(q).forEach(function(X){var J=q[X];L(B,X,J,ht.options.xmlMode)}):L(B,q,tt,ht.options.xmlMode))})}},g.data=function(q,tt){var ht,ut=this[0];if(ut&&y.isTag(ut)){var bt=ut;return null!==(ht=bt.data)&&void 0!==ht||(bt.data={}),q?"object"==typeof q||void 0!==tt?(y.domEach(this,function(F){y.isTag(F)&&("object"==typeof q?U(F,q):U(F,q,tt))}),this):m.call(bt.data,q)?bt.data[q]:S(bt,q):S(bt)}},g.val=function(q){var tt=0===arguments.length,ht=this[0];if(!ht||!y.isTag(ht))return tt?void 0:this;switch(ht.name){case"textarea":return this.text(q);case"select":var ut=this.find("option:selected");if(!tt){if(null==this.attr("multiple")&&"object"==typeof q)return this;this.find("option").removeAttr("selected");for(var bt="object"!=typeof q?[q]:q,F=0;F<bt.length;F++)this.find('option[value="'+bt[F]+'"]').attr("selected","");return this}return this.attr("multiple")?ut.toArray().map(function(B){return h.text(B.children)}):ut.attr("value");case"input":case"option":return tt?this.attr("value"):this.attr("value",q)}},g.removeAttr=function(q){for(var tt=Y(q),ht=function(F){y.domEach(ut,function(B){y.isTag(B)&&G(B,tt[F])})},ut=this,bt=0;bt<tt.length;bt++)ht(bt);return this},g.hasClass=function(q){return this.toArray().some(function(tt){var ht=y.isTag(tt)&&tt.attribs.class,ut=-1;if(ht&&q.length)for(;(ut=ht.indexOf(q,ut+1))>-1;){var bt=ut+q.length;if((0===ut||_.test(ht[ut-1]))&&(bt===ht.length||_.test(ht[bt])))return!0}return!1})},g.addClass=function q(tt){if("function"==typeof tt)return y.domEach(this,function(at,Q){if(y.isTag(at)){var gt=at.attribs.class||"";q.call([at],tt.call(at,Q,gt))}});if(!tt||"string"!=typeof tt)return this;for(var ht=tt.split(_),ut=this.length,bt=0;bt<ut;bt++){var F=this[bt];if(y.isTag(F)){var B=A(F,"class",!1);if(B){for(var X=" "+B+" ",J=0;J<ht.length;J++){var K=ht[J]+" ";X.includes(" "+K)||(X+=K)}I(F,"class",X.trim())}else I(F,"class",ht.join(" ").trim())}}return this},g.removeClass=function q(tt){if("function"==typeof tt)return y.domEach(this,function(F,B){y.isTag(F)&&q.call([F],tt.call(F,B,F.attribs.class||""))});var ht=Y(tt),ut=ht.length,bt=0===arguments.length;return y.domEach(this,function(F){if(y.isTag(F))if(bt)F.attribs.class="";else{for(var B=Y(F.attribs.class),X=!1,J=0;J<ut;J++){var K=B.indexOf(ht[J]);K>=0&&(B.splice(K,1),X=!0,J--)}X&&(F.attribs.class=B.join(" "))}})},g.toggleClass=function q(tt,ht){if("function"==typeof tt)return y.domEach(this,function(gt,ot){y.isTag(gt)&&q.call([gt],tt.call(gt,ot,gt.attribs.class||"",ht),ht)});if(!tt||"string"!=typeof tt)return this;for(var ut=tt.split(_),bt=ut.length,F="boolean"==typeof ht?ht?1:-1:0,B=this.length,X=0;X<B;X++){var J=this[X];if(y.isTag(J)){for(var K=Y(J.attribs.class),at=0;at<bt;at++){var Q=K.indexOf(ut[at]);F>=0&&Q<0?K.push(ut[at]):F<=0&&Q>=0&&K.splice(Q,1)}J.attribs.class=K.join(" ")}}return this}},9806:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.css=void 0;var h=M(5633);function y(_,b,T,C){if("string"==typeof b){var k=m(_),A="function"==typeof T?T.call(_,C,k[b]):T;""===A?delete k[b]:null!=A&&(k[b]=A),_.attribs.style=(I=k,Object.keys(I).reduce(function(D,L){return D+(D?" ":"")+L+": "+I[L]+";"},""))}else"object"==typeof b&&Object.keys(b).forEach(function(D,L){y(_,D,b[D],L)});var I}function m(_,b){if(_&&h.isTag(_)){var T=(k=((k=_.attribs.style)||"").trim())?k.split(";").reduce(function(A,I){var D=I.indexOf(":");return D<1||D===I.length-1||(A[I.slice(0,D).trim()]=I.slice(D+1).trim()),A},{}):{};if("string"==typeof b)return T[b];if(Array.isArray(b)){var C={};return b.forEach(function(k){null!=T[k]&&(C[k]=T[k])}),C}return T}var k}g.css=function(_,b){return null!=_&&null!=b||"object"==typeof _&&!Array.isArray(_)?h.domEach(this,function(T,C){h.isTag(T)&&y(T,_,b,C)}):m(this[0],_)}},3432:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.serializeArray=g.serialize=void 0;var h=M(5633),y="input,select,textarea,keygen",m=/%20/g,_=/\r?\n/g;g.serialize=function(){return this.serializeArray().map(function(b){return encodeURIComponent(b.name)+"="+encodeURIComponent(b.value)}).join("&").replace(m,"+")},g.serializeArray=function(){var b=this;return this.map(function(T,C){var k=b._make(C);return h.isTag(C)&&"form"===C.name?k.find(y).toArray():k.filter(y).toArray()}).filter('[name!=""]:enabled:not(:submit, :button, :image, :reset, :file):matches([checked], :not(:checkbox, :radio))').map(function(T,C){var k,A=b._make(C),I=A.attr("name"),D=null!==(k=A.val())&&void 0!==k?k:"";return Array.isArray(D)?D.map(function(L){return{name:I,value:L.replace(_,"\r\n")}}):{name:I,value:D.replace(_,"\r\n")}}).toArray()}},848:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.clone=g.text=g.toString=g.html=g.empty=g.replaceWith=g.remove=g.insertBefore=g.before=g.insertAfter=g.after=g.wrapAll=g.unwrap=g.wrapInner=g.wrap=g.prepend=g.append=g.prependTo=g.appendTo=g._makeDomArray=void 0;var h=M(655),y=M(7915),m=M(7915),_=h.__importStar(M(5012)),b=M(6634),T=M(5633),C=M(3719);function k(D){return function(){for(var L=this,U=[],S=0;S<arguments.length;S++)U[S]=arguments[S];var G=this.length-1;return T.domEach(this,function(Y,q){if(y.hasChildren(Y)){var tt="function"==typeof U[0]?U[0].call(Y,q,b.html(Y.children)):U,ht=L._makeDomArray(tt,q<G);D(ht,Y.children,Y)}})}}function A(D,L,U,S,G){for(var Y,q,tt=h.__spreadArray([L,U],S),ht=D[L-1]||null,ut=D[L+U]||null,bt=0;bt<S.length;++bt){var F=S[bt],B=F.parent;if(B){var X=B.children.indexOf(S[bt]);X>-1&&(B.children.splice(X,1),G===B&&L>X&&tt[0]--)}F.parent=G,F.prev&&(F.prev.next=null!==(Y=F.next)&&void 0!==Y?Y:null),F.next&&(F.next.prev=null!==(q=F.prev)&&void 0!==q?q:null),F.prev=S[bt-1]||ht,F.next=S[bt+1]||ut}return ht&&(ht.next=S[0]),ut&&(ut.prev=S[S.length-1]),D.splice.apply(D,tt)}function I(D){return function(L){for(var U=this.length-1,S=this.parents().last(),G=0;G<this.length;G++){var Y=this[G],q="function"==typeof L?L.call(Y,G,Y):"string"!=typeof L||T.isHtml(L)?L:S.find(L).clone(),tt=this._makeDomArray(q,G<U)[0];if(tt&&C.DomUtils.hasChildren(tt)){for(var ht=tt,ut=0;ut<ht.children.length;){var bt=ht.children[ut];T.isTag(bt)?(ht=bt,ut=0):ut++}D(Y,ht,[tt])}}return this}}g._makeDomArray=function(D,L){var U=this;return null==D?[]:T.isCheerio(D)?L?T.cloneDom(D.get()):D.get():Array.isArray(D)?D.reduce(function(S,G){return S.concat(U._makeDomArray(G,L))},[]):"string"==typeof D?_.default(D,this.options,!1).children:L?T.cloneDom([D]):[D]},g.appendTo=function(D){return(T.isCheerio(D)?D:this._make(D)).append(this),this},g.prependTo=function(D){return(T.isCheerio(D)?D:this._make(D)).prepend(this),this},g.append=k(function(D,L,U){A(L,L.length,0,D,U)}),g.prepend=k(function(D,L,U){A(L,0,0,D,U)}),g.wrap=I(function(D,L,U){var S=D.parent;if(S){var G=S.children,Y=G.indexOf(D);_.update([D],L),A(G,Y,0,U,S)}}),g.wrapInner=I(function(D,L,U){y.hasChildren(D)&&(_.update(D.children,L),_.update(U,D))}),g.unwrap=function(D){var L=this;return this.parent(D).not("body").each(function(U,S){L._make(S).replaceWith(S.children)}),this},g.wrapAll=function(D){var L=this[0];if(L){for(var U=this._make("function"==typeof D?D.call(L,0,L):D).insertBefore(L),S=void 0,G=0;G<U.length;G++)"tag"===U[G].type&&(S=U[G]);for(var Y=0;S&&Y<S.children.length;){var q=S.children[Y];"tag"===q.type?(S=q,Y=0):Y++}S&&this._make(S).append(this)}return this},g.after=function(){for(var D=this,L=[],U=0;U<arguments.length;U++)L[U]=arguments[U];var S=this.length-1;return T.domEach(this,function(G,Y){var q=G.parent;if(C.DomUtils.hasChildren(G)&&q){var tt=q.children,ht=tt.indexOf(G);if(!(ht<0)){var ut="function"==typeof L[0]?L[0].call(G,Y,b.html(G.children)):L;A(tt,ht+1,0,D._makeDomArray(ut,Y<S),q)}}})},g.insertAfter=function(D){var L=this;"string"==typeof D&&(D=this._make(D)),this.remove();var U=[];return this._makeDomArray(D).forEach(function(S){var G=L.clone().toArray(),Y=S.parent;if(Y){var q=Y.children,tt=q.indexOf(S);tt<0||(A(q,tt+1,0,G,Y),U.push.apply(U,G))}}),this._make(U)},g.before=function(){for(var D=this,L=[],U=0;U<arguments.length;U++)L[U]=arguments[U];var S=this.length-1;return T.domEach(this,function(G,Y){var q=G.parent;if(C.DomUtils.hasChildren(G)&&q){var tt=q.children,ht=tt.indexOf(G);if(!(ht<0)){var ut="function"==typeof L[0]?L[0].call(G,Y,b.html(G.children)):L;A(tt,ht,0,D._makeDomArray(ut,Y<S),q)}}})},g.insertBefore=function(D){var L=this,U=this._make(D);this.remove();var S=[];return T.domEach(U,function(G){var Y=L.clone().toArray(),q=G.parent;if(q){var tt=q.children,ht=tt.indexOf(G);ht<0||(A(tt,ht,0,Y,q),S.push.apply(S,Y))}}),this._make(S)},g.remove=function(D){var L=D?this.filter(D):this;return T.domEach(L,function(U){C.DomUtils.removeElement(U),U.prev=U.next=U.parent=null}),this},g.replaceWith=function(D){var L=this;return T.domEach(this,function(U,S){var G=U.parent;if(G){var Y=G.children,q="function"==typeof D?D.call(U,S,U):D,tt=L._makeDomArray(q);_.update(tt,null);var ht=Y.indexOf(U);A(Y,ht,1,tt,G),tt.includes(U)||(U.parent=U.prev=U.next=null)}})},g.empty=function(){return T.domEach(this,function(D){C.DomUtils.hasChildren(D)&&(D.children.forEach(function(L){L.next=L.prev=L.parent=null}),D.children.length=0)})},g.html=function(D){if(void 0===D){var L=this[0];return L&&C.DomUtils.hasChildren(L)?b.html(L.children,this.options):null}var U=h.__assign(h.__assign({},this.options),{context:null});return T.domEach(this,function(S){if(C.DomUtils.hasChildren(S)){S.children.forEach(function(Y){Y.next=Y.prev=Y.parent=null}),U.context=S;var G=T.isCheerio(D)?D.toArray():_.default(""+D,U,!1).children;_.update(G,S)}})},g.toString=function(){return b.html(this,this.options)},g.text=function D(L){var U=this;return void 0===L?b.text(this):"function"==typeof L?T.domEach(this,function(S,G){D.call(U._make(S),L.call(S,G,b.text([S])))}):T.domEach(this,function(S){if(C.DomUtils.hasChildren(S)){S.children.forEach(function(Y){Y.next=Y.prev=Y.parent=null});var G=new m.Text(L);_.update(G,S)}})},g.clone=function(){return this._make(T.cloneDom(this.get()))}},1042:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.addBack=g.add=g.end=g.slice=g.index=g.toArray=g.get=g.eq=g.last=g.first=g.has=g.not=g.is=g.filterArray=g.filter=g.map=g.each=g.contents=g.children=g.siblings=g.prevUntil=g.prevAll=g.prev=g.nextUntil=g.nextAll=g.next=g.closest=g.parentsUntil=g.parents=g.parent=g.find=void 0;var h=M(655),y=M(7915),m=h.__importStar(M(7248)),_=M(5633),b=M(6634),T=M(3719),C=T.DomUtils.uniqueSort,k=/^\s*[~+]/;function A(Y){return function(q){for(var tt=[],ht=1;ht<arguments.length;ht++)tt[ht-1]=arguments[ht];return function(ut){var bt,F=Y(q,this);return ut&&(F=G(F,ut,this.options.xmlMode,null===(bt=this._root)||void 0===bt?void 0:bt[0])),this._make(this.length>1&&F.length>1?tt.reduce(function(B,X){return X(B)},F):F)}}}g.find=function(Y){var q;if(!Y)return this._make([]);var tt=this.toArray();if("string"!=typeof Y){var ht=_.isCheerio(Y)?Y.toArray():[Y];return this._make(ht.filter(function(F){return tt.some(function(B){return b.contains(B,F)})}))}var ut=k.test(Y)?tt:this.children().toArray(),bt={context:tt,root:null===(q=this._root)||void 0===q?void 0:q[0],xmlMode:this.options.xmlMode};return this._make(m.select(Y,ut,bt))};var I=A(function(Y,q){for(var tt,ht=[],ut=0;ut<q.length;ut++){var bt=Y(q[ut]);ht.push(bt)}return(tt=new Array).concat.apply(tt,ht)}),D=A(function(Y,q){for(var tt=[],ht=0;ht<q.length;ht++){var ut=Y(q[ht]);null!==ut&&tt.push(ut)}return tt});function L(Y){for(var q=[],tt=1;tt<arguments.length;tt++)q[tt-1]=arguments[tt];var ht=null,ut=A(function(bt,F){var B=[];return _.domEach(F,function(X){for(var J;(J=bt(X))&&!ht?.(J,B.length);X=J)B.push(J)}),B}).apply(void 0,h.__spreadArray([Y],q));return function(bt,F){var B=this;ht="string"==typeof bt?function(J){return m.is(J,bt,B.options)}:bt?S(bt):null;var X=ut.call(this,F);return ht=null,X}}function U(Y){return Array.from(new Set(Y))}function S(Y){return"function"==typeof Y?function(q,tt){return Y.call(q,tt,q)}:_.isCheerio(Y)?function(q){return Array.prototype.includes.call(Y,q)}:function(q){return Y===q}}function G(Y,q,tt,ht){return"string"==typeof q?m.filter(q,Y,{xmlMode:tt,root:ht}):Y.filter(S(q))}g.parent=D(function(Y){var q=Y.parent;return q&&!y.isDocument(q)?q:null},U),g.parents=I(function(Y){for(var q=[];Y.parent&&!y.isDocument(Y.parent);)q.push(Y.parent),Y=Y.parent;return q},C,function(Y){return Y.reverse()}),g.parentsUntil=L(function(Y){var q=Y.parent;return q&&!y.isDocument(q)?q:null},C,function(Y){return Y.reverse()}),g.closest=function(Y){var q=this,tt=[];return Y?(_.domEach(this,function(ht){for(var ut;ht&&"root"!==ht.type;){if(!Y||G([ht],Y,q.options.xmlMode,null===(ut=q._root)||void 0===ut?void 0:ut[0]).length){ht&&!tt.includes(ht)&&tt.push(ht);break}ht=ht.parent}}),this._make(tt)):this._make(tt)},g.next=D(function(Y){return T.DomUtils.nextElementSibling(Y)}),g.nextAll=I(function(Y){for(var q=[];Y.next;)Y=Y.next,_.isTag(Y)&&q.push(Y);return q},U),g.nextUntil=L(function(Y){return T.DomUtils.nextElementSibling(Y)},U),g.prev=D(function(Y){return T.DomUtils.prevElementSibling(Y)}),g.prevAll=I(function(Y){for(var q=[];Y.prev;)Y=Y.prev,_.isTag(Y)&&q.push(Y);return q},U),g.prevUntil=L(function(Y){return T.DomUtils.prevElementSibling(Y)},U),g.siblings=I(function(Y){return T.DomUtils.getSiblings(Y).filter(function(q){return _.isTag(q)&&q!==Y})},C),g.children=I(function(Y){return T.DomUtils.getChildren(Y).filter(_.isTag)},U),g.contents=function(){var Y=this.toArray().reduce(function(q,tt){return y.hasChildren(tt)?q.concat(tt.children):q},[]);return this._make(Y)},g.each=function(Y){for(var q=0,tt=this.length;q<tt&&!1!==Y.call(this[q],q,this[q]);)++q;return this},g.map=function(Y){for(var q=[],tt=0;tt<this.length;tt++){var ht=this[tt],ut=Y.call(ht,tt,ht);null!=ut&&(q=q.concat(ut))}return this._make(q)},g.filter=function(Y){var q;return this._make(G(this.toArray(),Y,this.options.xmlMode,null===(q=this._root)||void 0===q?void 0:q[0]))},g.filterArray=G,g.is=function(Y){var q=this.toArray();return"string"==typeof Y?m.some(q.filter(_.isTag),Y,this.options):!!Y&&q.some(S(Y))},g.not=function(Y){var q=this.toArray();if("string"==typeof Y){var tt=new Set(m.filter(Y,q,this.options));q=q.filter(function(ut){return!tt.has(ut)})}else{var ht=S(Y);q=q.filter(function(ut,bt){return!ht(ut,bt)})}return this._make(q)},g.has=function(Y){var q=this;return this.filter("string"==typeof Y?":has("+Y+")":function(tt,ht){return q._make(ht).find(Y).length>0})},g.first=function(){return this.length>1?this._make(this[0]):this},g.last=function(){return this.length>0?this._make(this[this.length-1]):this},g.eq=function(Y){var q;return 0==(Y=+Y)&&this.length<=1?this:(Y<0&&(Y=this.length+Y),this._make(null!==(q=this[Y])&&void 0!==q?q:[]))},g.get=function(Y){return null==Y?this.toArray():this[Y<0?this.length+Y:Y]},g.toArray=function(){return Array.prototype.slice.call(this)},g.index=function(Y){var q,tt;return null==Y?(q=this.parent().children(),tt=this[0]):"string"==typeof Y?(q=this._make(Y),tt=this[0]):(q=this,tt=_.isCheerio(Y)?Y[0]:Y),Array.prototype.indexOf.call(q,tt)},g.slice=function(Y,q){return this._make(Array.prototype.slice.call(this,Y,q))},g.end=function(){var Y;return null!==(Y=this.prevObject)&&void 0!==Y?Y:this._make([])},g.add=function(Y,q){var tt=this._make(Y,q),ht=C(h.__spreadArray(h.__spreadArray([],this.get()),tt.get()));return this._make(ht)},g.addBack=function(Y){return this.prevObject?this.add(Y?this.prevObject.filter(Y):this.prevObject):this}},7911:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.Cheerio=void 0;var h=M(655),y=h.__importDefault(M(5012)),m=h.__importDefault(M(2754)),_=M(5633),b=h.__importStar(M(6451)),T=h.__importStar(M(1042)),C=h.__importStar(M(848)),k=h.__importStar(M(9806)),A=h.__importStar(M(3432)),I=function(){function D(L,U,S,G){var Y=this;if(void 0===G&&(G=m.default),this.length=0,this.options=G,!L)return this;if(S&&("string"==typeof S&&(S=y.default(S,this.options,!1)),this._root=new this.constructor(S,null,null,this.options),this._root._root=this._root),_.isCheerio(L))return L;var q,tt="string"==typeof L&&_.isHtml(L)?y.default(L,this.options,!1).children:(q=L).name||"root"===q.type||"text"===q.type||"comment"===q.type?[L]:Array.isArray(L)?L:null;if(tt)return tt.forEach(function(bt,F){Y[F]=bt}),this.length=tt.length,this;var ht=L,ut=U?"string"==typeof U?_.isHtml(U)?this._make(y.default(U,this.options,!1)):(ht=U+" "+ht,this._root):_.isCheerio(U)?U:this._make(U):this._root;return ut?ut.find(ht):this}return D.prototype._make=function(L,U){var S=new this.constructor(L,U,this._root,this.options);return S.prevObject=this,S},D}();g.Cheerio=I,I.prototype.cheerio="[cheerio object]",I.prototype.splice=Array.prototype.splice,I.prototype[Symbol.iterator]=Array.prototype[Symbol.iterator],Object.assign(I.prototype,b,T,C,k,A)},7503:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.root=g.parseHTML=g.merge=g.contains=void 0;var h=M(655);h.__exportStar(M(8701),g),h.__exportStar(M(3434),g);var y=M(3434);g.default=y.load([]);var m=h.__importStar(M(6634));g.contains=m.contains,g.merge=m.merge,g.parseHTML=m.parseHTML,g.root=m.root},3434:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.load=void 0;var h=M(655),y=h.__importStar(M(2754)),m=h.__importStar(M(6634)),_=M(7911),b=h.__importDefault(M(5012));g.load=function T(C,k,A){if(void 0===A&&(A=!0),null==C)throw new Error("cheerio.load() expects a string");var I=h.__assign(h.__assign({},y.default),y.flatten(k)),D=b.default(C,I,A),L=function(S){function G(){return null!==S&&S.apply(this,arguments)||this}return h.__extends(G,S),G}(_.Cheerio);function U(S,G,Y,q){return void 0===Y&&(Y=D),new L(S,G,Y,h.__assign(h.__assign({},I),y.flatten(q)))}return Object.assign(U,m,{load:T,_root:D,_options:I,fn:L.prototype,prototype:L.prototype}),U}},2754:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.flatten=void 0;var h=M(655);g.default={xml:!1,decodeEntities:!0};var y={_useHtmlParser2:!0,xmlMode:!0};g.flatten=function(m){return m?.xml?"boolean"==typeof m.xml?y:h.__assign(h.__assign({},y),m.xml):m??void 0}},5012:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.update=void 0;var h=M(3719),y=M(8585),m=M(7957),_=M(7915);function b(T,C){var k=Array.isArray(T)?T:[T];C?C.children=k:C=null;for(var A=0;A<k.length;A++){var I=k[A];I.parent&&I.parent.children!==k&&h.DomUtils.removeElement(I),C?(I.prev=k[A-1]||null,I.next=k[A+1]||null):I.prev=I.next=null,I.parent=C}return C}g.default=function(T,C,k){if(typeof Buffer<"u"&&Buffer.isBuffer(T)&&(T=T.toString()),"string"==typeof T)return C.xmlMode||C._useHtmlParser2?y.parse(T,C):m.parse(T,C,k);var A=T;if(!Array.isArray(A)&&_.isDocument(A))return A;var I=new _.Document([]);return b(A,I),I},g.update=b},8585:function(x,g,M){"use strict";var h=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(g,"__esModule",{value:!0}),g.render=g.parse=void 0;var y=M(3719);Object.defineProperty(g,"parse",{enumerable:!0,get:function(){return y.parseDocument}});var m=M(7220);Object.defineProperty(g,"render",{enumerable:!0,get:function(){return h(m).default}})},7957:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.render=g.parse=void 0;var h=M(655),y=M(7915),m=M(2394),_=h.__importDefault(M(1906));g.parse=function(b,T,C){var k={scriptingEnabled:"boolean"!=typeof T.scriptingEnabled||T.scriptingEnabled,treeAdapter:_.default,sourceCodeLocationInfo:T.sourceCodeLocationInfo},A=T.context;return C?m.parse(b,k):m.parseFragment(A,b,k)},g.render=function(b){for(var T,C=("length"in b?b:[b]),k=0;k<C.length;k+=1){var A=C[k];y.isDocument(A)&&(T=Array.prototype.splice).call.apply(T,h.__spreadArray([C,k,1],A.children))}return m.serialize({children:C},{treeAdapter:_.default})}},6634:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.merge=g.contains=g.root=g.parseHTML=g.text=g.xml=g.html=void 0;var h=M(655),y=h.__importStar(M(2754)),m=M(7248),_=M(3719),b=M(7957),T=M(8585);function C(A,I,D){var L,U=I?"string"==typeof I?m.select(I,null!==(L=A?._root)&&void 0!==L?L:[],D):I:A?._root.children;return U?D.xmlMode||D._useHtmlParser2?T.render(U,D):b.render(U):""}function k(A){if(Array.isArray(A))return!0;if("object"!=typeof A||!Object.prototype.hasOwnProperty.call(A,"length")||"number"!=typeof A.length||A.length<0)return!1;for(var I=0;I<A.length;I++)if(!(I in A))return!1;return!0}g.html=function(A,I){return!I&&("object"==typeof(D=A)&&null!=D&&!("length"in D)&&!("type"in D))&&(I=A,A=void 0),C(this||void 0,A,h.__assign(h.__assign(h.__assign({},y.default),this?this._options:{}),y.flatten(I??{})));var D},g.xml=function(A){return C(this,A,h.__assign(h.__assign({},this._options),{xmlMode:!0}))},g.text=function A(I){for(var D=I||(this?this.root():[]),L="",U=0;U<D.length;U++){var S=D[U];_.DomUtils.isText(S)?L+=S.data:_.DomUtils.hasChildren(S)&&S.type!==_.ElementType.Comment&&S.type!==_.ElementType.Script&&S.type!==_.ElementType.Style&&(L+=A(S.children))}return L},g.parseHTML=function(A,I,D){if(void 0===D&&(D="boolean"==typeof I&&I),!A||"string"!=typeof A)return null;"boolean"==typeof I&&(D=I);var L=this.load(A,y.default,!1);return D||L("script").remove(),L.root()[0].children.slice()},g.root=function(){return this(this._root)},g.contains=function(A,I){if(I===A)return!1;for(var D=I;D&&D!==D.parent;)if((D=D.parent)===A)return!0;return!1},g.merge=function(A,I){if(k(A)&&k(I)){for(var D=A.length,L=+I.length,U=0;U<L;U++)A[D++]=I[U];return A.length=D,A}}},8701:(x,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0})},5633:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.isHtml=g.cloneDom=g.domEach=g.cssCase=g.camelCase=g.isCheerio=g.isTag=void 0;var h=M(3719),y=M(7915);g.isTag=h.DomUtils.isTag,g.isCheerio=function(_){return null!=_.cheerio},g.camelCase=function(_){return _.replace(/[_.-](\w|$)/g,function(b,T){return T.toUpperCase()})},g.cssCase=function(_){return _.replace(/[A-Z]/g,"-$&").toLowerCase()},g.domEach=function(_,b){for(var T=_.length,C=0;C<T;C++)b(_[C],C);return _},g.cloneDom=function(_){var b="length"in _?Array.prototype.map.call(_,function(C){return y.cloneNode(C,!0)}):[y.cloneNode(_,!0)],T=new y.Document(b);return b.forEach(function(C){C.parent=T}),b};var m=/<[a-zA-Z][^]*>/;g.isHtml=function(_){return m.test(_)}},996:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.attributeRules=void 0;var h=M(1073),y=/[-[\]{}()*+?.,\\^$|#\s]/g;function m(T){return T.replace(y,"\\$&")}var _=new Set(["accept","accept-charset","align","alink","axis","bgcolor","charset","checked","clear","codetype","color","compact","declare","defer","dir","direction","disabled","enctype","face","frame","hreflang","http-equiv","lang","language","link","media","method","multiple","nohref","noresize","noshade","nowrap","readonly","rel","rev","rules","scope","scrolling","selected","shape","target","text","type","valign","valuetype","vlink"]);function b(T,C){return"boolean"==typeof T.ignoreCase?T.ignoreCase:"quirks"===T.ignoreCase?!!C.quirksMode:!C.xmlMode&&_.has(T.name)}g.attributeRules={equals:function(T,C,k){var A=k.adapter,I=C.name,D=C.value;return b(C,k)?(D=D.toLowerCase(),function(L){var U=A.getAttributeValue(L,I);return null!=U&&U.length===D.length&&U.toLowerCase()===D&&T(L)}):function(L){return A.getAttributeValue(L,I)===D&&T(L)}},hyphen:function(T,C,k){var A=k.adapter,I=C.name,D=C.value,L=D.length;return b(C,k)?(D=D.toLowerCase(),function(U){var S=A.getAttributeValue(U,I);return null!=S&&(S.length===L||"-"===S.charAt(L))&&S.substr(0,L).toLowerCase()===D&&T(U)}):function(U){var S=A.getAttributeValue(U,I);return null!=S&&(S.length===L||"-"===S.charAt(L))&&S.substr(0,L)===D&&T(U)}},element:function(T,C,k){var A=k.adapter,I=C.name,D=C.value;if(/\s/.test(D))return h.falseFunc;var L=new RegExp("(?:^|\\s)".concat(m(D),"(?:$|\\s)"),b(C,k)?"i":"");return function(U){var S=A.getAttributeValue(U,I);return null!=S&&S.length>=D.length&&L.test(S)&&T(U)}},exists:function(T,C,k){var A=C.name,I=k.adapter;return function(D){return I.hasAttrib(D,A)&&T(D)}},start:function(T,C,k){var A=k.adapter,I=C.name,D=C.value,L=D.length;return 0===L?h.falseFunc:b(C,k)?(D=D.toLowerCase(),function(U){var S=A.getAttributeValue(U,I);return null!=S&&S.length>=L&&S.substr(0,L).toLowerCase()===D&&T(U)}):function(U){var S;return!(null===(S=A.getAttributeValue(U,I))||void 0===S||!S.startsWith(D))&&T(U)}},end:function(T,C,k){var A=k.adapter,I=C.name,D=C.value,L=-D.length;return 0===L?h.falseFunc:b(C,k)?(D=D.toLowerCase(),function(U){var S;return(null===(S=A.getAttributeValue(U,I))||void 0===S?void 0:S.substr(L).toLowerCase())===D&&T(U)}):function(U){var S;return!(null===(S=A.getAttributeValue(U,I))||void 0===S||!S.endsWith(D))&&T(U)}},any:function(T,C,k){var A=k.adapter,I=C.name,D=C.value;if(""===D)return h.falseFunc;if(b(C,k)){var L=new RegExp(m(D),"i");return function(U){var S=A.getAttributeValue(U,I);return null!=S&&S.length>=D.length&&L.test(S)&&T(U)}}return function(U){var S;return!(null===(S=A.getAttributeValue(U,I))||void 0===S||!S.includes(D))&&T(U)}},not:function(T,C,k){var A=k.adapter,I=C.name,D=C.value;return""===D?function(L){return!!A.getAttributeValue(L,I)&&T(L)}:b(C,k)?(D=D.toLowerCase(),function(L){var U=A.getAttributeValue(L,I);return(null==U||U.length!==D.length||U.toLowerCase()!==D)&&T(L)}):function(L){return A.getAttributeValue(L,I)!==D&&T(L)}}}},8866:function(x,g,M){"use strict";var h=this&&this.__importDefault||function(G){return G&&G.__esModule?G:{default:G}};Object.defineProperty(g,"__esModule",{value:!0}),g.compileToken=g.compileUnsafe=g.compile=void 0;var y=M(7763),m=M(1073),_=h(M(7353)),b=M(7177),T=M(3621),C=M(1768);function k(G,Y,q){return U("string"==typeof G?(0,y.parse)(G):G,Y,q)}function A(G){return"pseudo"===G.type&&("scope"===G.name||Array.isArray(G.data)&&G.data.some(function(Y){return Y.some(A)}))}g.compile=function(G,Y,q){var tt=k(G,Y,q);return(0,C.ensureIsTag)(tt,Y.adapter)},g.compileUnsafe=k;var I={type:y.SelectorType.Descendant},D={type:"_flexibleDescendant"},L={type:y.SelectorType.Pseudo,name:"scope",data:null};function U(G,Y,q){var tt;(G=G.filter(function(B){return B.length>0})).forEach(_.default),q=null!==(tt=Y.context)&&void 0!==tt?tt:q;var ht=Array.isArray(q),ut=q&&(Array.isArray(q)?q:[q]);!function(B,X,J){for(var K=X.adapter,at=!!J?.every(function(Ot){var yt=K.isTag(Ot)&&K.getParent(Ot);return Ot===C.PLACEHOLDER_ELEMENT||yt&&K.isTag(yt)}),Q=0,gt=B;Q<gt.length;Q++){var ot=gt[Q];if(!(ot.length>0&&(0,b.isTraversal)(ot[0])&&"descendant"!==ot[0].type)){if(!at||ot.some(A))continue;ot.unshift(I)}ot.unshift(L)}}(G,Y,ut);var bt=!1,F=G.map(function(B){if(B.length>=2){var X=B[0],J=B[1];"pseudo"!==X.type||"scope"!==X.name||(ht&&"descendant"===J.type?B[1]=D:"adjacent"!==J.type&&"sibling"!==J.type||(bt=!0))}return at=Y,Q=ut,B.reduce(function(ot,Ot){return ot===m.falseFunc?m.falseFunc:(0,T.compileGeneralSelector)(ot,Ot,at,Q,U)},null!==(gt=at.rootFunc)&&void 0!==gt?gt:m.trueFunc);var at,Q,gt}).reduce(S,m.falseFunc);return F.shouldTestNextSiblings=bt,F}function S(G,Y){return Y===m.falseFunc||G===m.trueFunc?G:G===m.falseFunc||Y===m.trueFunc?Y:function(q){return G(q)||Y(q)}}g.compileToken=U},3621:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.compileGeneralSelector=void 0;var h=M(996),y=M(8677),m=M(7763);g.compileGeneralSelector=function(_,b,T,C,k){var A=T.adapter,I=T.equals;switch(b.type){case m.SelectorType.PseudoElement:throw new Error("Pseudo-elements are not supported by css-select");case m.SelectorType.ColumnCombinator:throw new Error("Column combinators are not yet supported by css-select");case m.SelectorType.Attribute:if(null!=b.namespace)throw new Error("Namespaced attributes are not yet supported by css-select");return T.xmlMode&&!T.lowerCaseAttributeNames||(b.name=b.name.toLowerCase()),h.attributeRules[b.action](_,b,T);case m.SelectorType.Pseudo:return(0,y.compilePseudoSelector)(_,b,T,C,k);case m.SelectorType.Tag:if(null!=b.namespace)throw new Error("Namespaced tag names are not yet supported by css-select");var D=b.name;return T.xmlMode&&!T.lowerCaseTags||(D=D.toLowerCase()),function(U){return A.getName(U)===D&&_(U)};case m.SelectorType.Descendant:if(!1===T.cacheResults||typeof WeakSet>"u")return function(U){for(var S=U;S=A.getParent(S);)if(A.isTag(S)&&_(S))return!0;return!1};var L=new WeakSet;return function(U){for(var S=U;S=A.getParent(S);)if(!L.has(S)){if(A.isTag(S)&&_(S))return!0;L.add(S)}return!1};case"_flexibleDescendant":return function(U){var S=U;do{if(A.isTag(S)&&_(S))return!0}while(S=A.getParent(S));return!1};case m.SelectorType.Parent:return function(U){return A.getChildren(U).some(function(S){return A.isTag(S)&&_(S)})};case m.SelectorType.Child:return function(U){var S=A.getParent(U);return null!=S&&A.isTag(S)&&_(S)};case m.SelectorType.Sibling:return function(U){for(var S=A.getSiblings(U),G=0;G<S.length;G++){var Y=S[G];if(I(U,Y))break;if(A.isTag(Y)&&_(Y))return!0}return!1};case m.SelectorType.Adjacent:return A.prevElementSibling?function(U){var S=A.prevElementSibling(U);return null!=S&&_(S)}:function(U){for(var S,G=A.getSiblings(U),Y=0;Y<G.length;Y++){var q=G[Y];if(I(U,q))break;A.isTag(q)&&(S=q)}return!!S&&_(S)};case m.SelectorType.Universal:if(null!=b.namespace&&"*"!==b.namespace)throw new Error("Namespaced universal selectors are not yet supported by css-select");return _}}},5366:function(x,g,M){"use strict";var h=this&&this.__createBinding||(Object.create?function(G,Y,q,tt){void 0===tt&&(tt=q);var ht=Object.getOwnPropertyDescriptor(Y,q);ht&&!("get"in ht?!Y.__esModule:ht.writable||ht.configurable)||(ht={enumerable:!0,get:function(){return Y[q]}}),Object.defineProperty(G,tt,ht)}:function(G,Y,q,tt){void 0===tt&&(tt=q),G[tt]=Y[q]}),y=this&&this.__setModuleDefault||(Object.create?function(G,Y){Object.defineProperty(G,"default",{enumerable:!0,value:Y})}:function(G,Y){G.default=Y}),m=this&&this.__importStar||function(G){if(G&&G.__esModule)return G;var Y={};if(null!=G)for(var q in G)"default"!==q&&Object.prototype.hasOwnProperty.call(G,q)&&h(Y,G,q);return y(Y,G),Y};Object.defineProperty(g,"__esModule",{value:!0}),g.aliases=g.pseudos=g.filters=g.is=g.selectOne=g.selectAll=g.prepareContext=g._compileToken=g._compileUnsafe=g.compile=void 0;var _=m(M(9432)),b=M(1073),T=M(8866),C=M(1768),k=function(G,Y){return G===Y},A={adapter:_,equals:k};function I(G){var Y,q,tt,ht,ut=G??A;return null!==(Y=ut.adapter)&&void 0!==Y||(ut.adapter=_),null!==(q=ut.equals)&&void 0!==q||(ut.equals=null!==(ht=null===(tt=ut.adapter)||void 0===tt?void 0:tt.equals)&&void 0!==ht?ht:k),ut}function D(G){return function(Y,q,tt){var ht=I(q);return G(Y,ht,tt)}}function L(G){return function(Y,q,tt){var ht=I(tt);"function"!=typeof Y&&(Y=(0,T.compileUnsafe)(Y,ht,q));var ut=U(q,ht.adapter,Y.shouldTestNextSiblings);return G(Y,ut,ht)}}function U(G,Y,q){return void 0===q&&(q=!1),q&&(G=function(tt,ht){for(var ut=Array.isArray(tt)?tt.slice(0):[tt],bt=ut.length,F=0;F<bt;F++){var B=(0,C.getNextSiblings)(ut[F],ht);ut.push.apply(ut,B)}return ut}(G,Y)),Array.isArray(G)?Y.removeSubsets(G):Y.getChildren(G)}g.compile=D(T.compile),g._compileUnsafe=D(T.compileUnsafe),g._compileToken=D(T.compileToken),g.prepareContext=U,g.selectAll=L(function(G,Y,q){return G!==b.falseFunc&&Y&&0!==Y.length?q.adapter.findAll(G,Y):[]}),g.selectOne=L(function(G,Y,q){return G!==b.falseFunc&&Y&&0!==Y.length?q.adapter.findOne(G,Y):null}),g.is=function(G,Y,q){var tt=I(q);return("function"==typeof Y?Y:(0,T.compile)(Y,tt))(G)},g.default=g.selectAll;var S=M(8677);Object.defineProperty(g,"filters",{enumerable:!0,get:function(){return S.filters}}),Object.defineProperty(g,"pseudos",{enumerable:!0,get:function(){return S.pseudos}}),Object.defineProperty(g,"aliases",{enumerable:!0,get:function(){return S.aliases}})},7177:(x,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.isTraversal=g.procedure=void 0,g.procedure={universal:50,tag:30,attribute:1,pseudo:0,"pseudo-element":0,"column-combinator":-1,descendant:-1,child:-1,parent:-1,sibling:-1,adjacent:-1,_flexibleDescendant:-1},g.isTraversal=function(M){return g.procedure[M.type]<0}},2968:(x,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.aliases=void 0,g.aliases={"any-link":":is(a, area, link)[href]",link:":any-link:not(:visited)",disabled:":is(\n        :is(button, input, select, textarea, optgroup, option)[disabled],\n        optgroup[disabled] > option,\n        fieldset[disabled]:not(fieldset[disabled] legend:first-of-type *)\n    )",enabled:":not(:disabled)",checked:":is(:is(input[type=radio], input[type=checkbox])[checked], option:selected)",required:":is(input, select, textarea)[required]",optional:":is(input, select, textarea):not([required])",selected:"option:is([selected], select:not([multiple]):not(:has(> option[selected])) > :first-of-type)",checkbox:"[type=checkbox]",file:"[type=file]",password:"[type=password]",radio:"[type=radio]",reset:"[type=reset]",image:"[type=image]",submit:"[type=submit]",parent:":not(:empty)",header:":is(h1, h2, h3, h4, h5, h6)",button:":is(button, input[type=button])",input:":is(input, textarea, select, button)",text:"input:is(:not([type!='']), [type=text])"}},7689:function(x,g,M){"use strict";var h=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(g,"__esModule",{value:!0}),g.filters=void 0;var y=h(M(7540)),m=M(1073);function _(T,C){return function(k){var A=C.getParent(k);return null!=A&&C.isTag(A)&&T(k)}}function b(T){return function(C,k,A){var I=A.adapter[T];return"function"!=typeof I?m.falseFunc:function(D){return I(D)&&C(D)}}}g.filters={contains:function(T,C,k){var A=k.adapter;return function(I){return T(I)&&A.getText(I).includes(C)}},icontains:function(T,C,k){var A=k.adapter,I=C.toLowerCase();return function(D){return T(D)&&A.getText(D).toLowerCase().includes(I)}},"nth-child":function(T,C,k){var A=k.adapter,I=k.equals,D=(0,y.default)(C);return D===m.falseFunc?m.falseFunc:D===m.trueFunc?_(T,A):function(L){for(var U=A.getSiblings(L),S=0,G=0;G<U.length&&!I(L,U[G]);G++)A.isTag(U[G])&&S++;return D(S)&&T(L)}},"nth-last-child":function(T,C,k){var A=k.adapter,I=k.equals,D=(0,y.default)(C);return D===m.falseFunc?m.falseFunc:D===m.trueFunc?_(T,A):function(L){for(var U=A.getSiblings(L),S=0,G=U.length-1;G>=0&&!I(L,U[G]);G--)A.isTag(U[G])&&S++;return D(S)&&T(L)}},"nth-of-type":function(T,C,k){var A=k.adapter,I=k.equals,D=(0,y.default)(C);return D===m.falseFunc?m.falseFunc:D===m.trueFunc?_(T,A):function(L){for(var U=A.getSiblings(L),S=0,G=0;G<U.length;G++){var Y=U[G];if(I(L,Y))break;A.isTag(Y)&&A.getName(Y)===A.getName(L)&&S++}return D(S)&&T(L)}},"nth-last-of-type":function(T,C,k){var A=k.adapter,I=k.equals,D=(0,y.default)(C);return D===m.falseFunc?m.falseFunc:D===m.trueFunc?_(T,A):function(L){for(var U=A.getSiblings(L),S=0,G=U.length-1;G>=0;G--){var Y=U[G];if(I(L,Y))break;A.isTag(Y)&&A.getName(Y)===A.getName(L)&&S++}return D(S)&&T(L)}},root:function(T,C,k){var A=k.adapter;return function(I){var D=A.getParent(I);return(null==D||!A.isTag(D))&&T(I)}},scope:function(T,C,k,A){var I=k.equals;return A&&0!==A.length?1===A.length?function(D){return I(A[0],D)&&T(D)}:function(D){return A.includes(D)&&T(D)}:g.filters.root(T,C,k)},hover:b("isHovered"),visited:b("isVisited"),active:b("isActive")}},8677:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.compilePseudoSelector=g.aliases=g.pseudos=g.filters=void 0;var h=M(1073),y=M(7763),m=M(7689);Object.defineProperty(g,"filters",{enumerable:!0,get:function(){return m.filters}});var _=M(7221);Object.defineProperty(g,"pseudos",{enumerable:!0,get:function(){return _.pseudos}});var b=M(2968);Object.defineProperty(g,"aliases",{enumerable:!0,get:function(){return b.aliases}});var T=M(1768);g.compilePseudoSelector=function(C,k,A,I,D){var L=k.name,U=k.data;if(Array.isArray(U))return T.subselects[L](C,U,A,I,D);if(L in b.aliases){if(null!=U)throw new Error("Pseudo ".concat(L," doesn't have any arguments"));var S=(0,y.parse)(b.aliases[L]);return T.subselects.is(C,S,A,I,D)}if(L in m.filters)return m.filters[L](C,U,A,I);if(L in _.pseudos){var G=_.pseudos[L];return(0,_.verifyPseudoArgs)(G,L,U),G===h.falseFunc?h.falseFunc:C===h.trueFunc?function(Y){return G(Y,A,U)}:function(Y){return G(Y,A,U)&&C(Y)}}throw new Error("unmatched pseudo-class :".concat(L))}},7221:(x,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.verifyPseudoArgs=g.pseudos=void 0,g.pseudos={empty:function(M,h){var y=h.adapter;return!y.getChildren(M).some(function(m){return y.isTag(m)||""!==y.getText(m)})},"first-child":function(M,h){var y=h.adapter,m=h.equals,_=y.getSiblings(M).find(function(b){return y.isTag(b)});return null!=_&&m(M,_)},"last-child":function(M,h){for(var y=h.adapter,m=h.equals,_=y.getSiblings(M),b=_.length-1;b>=0;b--){if(m(M,_[b]))return!0;if(y.isTag(_[b]))break}return!1},"first-of-type":function(M,h){for(var y=h.adapter,m=h.equals,_=y.getSiblings(M),b=y.getName(M),T=0;T<_.length;T++){var C=_[T];if(m(M,C))return!0;if(y.isTag(C)&&y.getName(C)===b)break}return!1},"last-of-type":function(M,h){for(var y=h.adapter,m=h.equals,_=y.getSiblings(M),b=y.getName(M),T=_.length-1;T>=0;T--){var C=_[T];if(m(M,C))return!0;if(y.isTag(C)&&y.getName(C)===b)break}return!1},"only-of-type":function(M,h){var y=h.adapter,m=h.equals,_=y.getName(M);return y.getSiblings(M).every(function(b){return m(M,b)||!y.isTag(b)||y.getName(b)!==_})},"only-child":function(M,h){var y=h.adapter,m=h.equals;return y.getSiblings(M).every(function(_){return m(M,_)||!y.isTag(_)})}},g.verifyPseudoArgs=function(M,h,y){if(null===y){if(M.length>2)throw new Error("pseudo-selector :".concat(h," requires an argument"))}else if(2===M.length)throw new Error("pseudo-selector :".concat(h," doesn't have any arguments"))}},1768:function(x,g,M){"use strict";var h=this&&this.__spreadArray||function(C,k,A){if(A||2===arguments.length)for(var I,D=0,L=k.length;D<L;D++)!I&&D in k||(I||(I=Array.prototype.slice.call(k,0,D)),I[D]=k[D]);return C.concat(I||Array.prototype.slice.call(k))};Object.defineProperty(g,"__esModule",{value:!0}),g.subselects=g.getNextSiblings=g.ensureIsTag=g.PLACEHOLDER_ELEMENT=void 0;var y=M(1073),m=M(7177);function _(C,k){return C===y.falseFunc?y.falseFunc:function(A){return k.isTag(A)&&C(A)}}function b(C,k){var A=k.getSiblings(C);if(A.length<=1)return[];var I=A.indexOf(C);return I<0||I===A.length-1?[]:A.slice(I+1).filter(k.isTag)}g.PLACEHOLDER_ELEMENT={},g.ensureIsTag=_,g.getNextSiblings=b;var T=function(C,k,A,I,D){var L=D(k,{xmlMode:!!A.xmlMode,adapter:A.adapter,equals:A.equals},I);return function(U){return L(U)&&C(U)}};g.subselects={is:T,matches:T,where:T,not:function(C,k,A,I,D){var L=D(k,{xmlMode:!!A.xmlMode,adapter:A.adapter,equals:A.equals},I);return L===y.falseFunc?C:L===y.trueFunc?y.falseFunc:function(U){return!L(U)&&C(U)}},has:function(C,k,A,I,D){var L=A.adapter,U={xmlMode:!!A.xmlMode,adapter:L,equals:A.equals},S=k.some(function(ht){return ht.some(m.isTraversal)})?[g.PLACEHOLDER_ELEMENT]:void 0,G=D(k,U,S);if(G===y.falseFunc)return y.falseFunc;if(G===y.trueFunc)return function(ht){return L.getChildren(ht).some(L.isTag)&&C(ht)};var Y=_(G,L),q=G.shouldTestNextSiblings,tt=void 0!==q&&q;return S?function(ht){S[0]=ht;var ut=L.getChildren(ht),bt=tt?h(h([],ut,!0),b(ht,L),!0):ut;return C(ht)&&L.existsOne(Y,bt)}:function(ht){return C(ht)&&L.existsOne(Y,L.getChildren(ht))}}}},7353:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0});var h=M(7763),y=M(7177),m={exists:10,equals:8,not:7,start:6,end:6,any:5,hyphen:4,element:4};function _(b){var T=y.procedure[b.type];if(b.type===h.SelectorType.Attribute)(T=m[b.action])===m.equals&&"id"===b.name&&(T=9),b.ignoreCase&&(T>>=1);else if(b.type===h.SelectorType.Pseudo)if(b.data)if("has"===b.name||"contains"===b.name)T=0;else if(Array.isArray(b.data)){T=0;for(var C=0;C<b.data.length;C++)if(1===b.data[C].length){var k=_(b.data[C][0]);if(0===k){T=0;break}k>T&&(T=k)}b.data.length>1&&T>0&&(T-=1)}else T=1;else T=3;return T}g.default=function(b){for(var T=b.map(_),C=1;C<b.length;C++){var k=T[C];if(!(k<0))for(var A=C-1;A>=0&&k<T[A];A--){var I=b[A+1];b[A+1]=b[A],b[A]=I,T[A+1]=T[A],T[A]=k}}}},7763:(x,g,M)=>{"use strict";var h,K;M.r(g),M.d(g,{AttributeAction:()=>m,IgnoreCaseMode:()=>y,SelectorType:()=>h,isTraversal:()=>k,parse:()=>S,stringify:()=>bt}),(K=h||(h={})).Attribute="attribute",K.Pseudo="pseudo",K.PseudoElement="pseudo-element",K.Tag="tag",K.Universal="universal",K.Adjacent="adjacent",K.Child="child",K.Descendant="descendant",K.Parent="parent",K.Sibling="sibling",K.ColumnCombinator="column-combinator";const y={Unknown:null,QuirksMode:"quirks",IgnoreCase:!0,CaseSensitive:!1};var m;!function(K){K.Any="any",K.Element="element",K.End="end",K.Equals="equals",K.Exists="exists",K.Hyphen="hyphen",K.Not="not",K.Start="start"}(m||(m={}));const _=/^[^\\#]?(?:\\(?:[\da-f]{1,6}\s?|.)|[\w\-\u00b0-\uFFFF])+/,b=/\\([\da-f]{1,6}\s?|(\s)|.)/gi,T=new Map([[126,m.Element],[94,m.Start],[36,m.End],[42,m.Any],[33,m.Not],[124,m.Hyphen]]),C=new Set(["has","not","matches","is","where","host","host-context"]);function k(K){switch(K.type){case h.Adjacent:case h.Child:case h.Descendant:case h.Parent:case h.Sibling:case h.ColumnCombinator:return!0;default:return!1}}const A=new Set(["contains","icontains"]);function I(K,at,Q){const gt=parseInt(at,16)-65536;return gt!=gt||Q?at:gt<0?String.fromCharCode(gt+65536):String.fromCharCode(gt>>10|55296,1023&gt|56320)}function D(K){return K.replace(b,I)}function L(K){return 39===K||34===K}function U(K){return 32===K||9===K||10===K||12===K||13===K}function S(K){const at=[],Q=G(at,`${K}`,0);if(Q<K.length)throw new Error(`Unmatched selector: ${K.slice(Q)}`);return at}function G(K,at,Q){let gt=[];function ot(Zt){const ie=at.slice(Q+Zt).match(_);if(!ie)throw new Error(`Expected name, found ${at.slice(Q)}`);const[Ht]=ie;return Q+=Zt+Ht.length,D(Ht)}function Ot(Zt){for(Q+=Zt;Q<at.length&&U(at.charCodeAt(Q));)Q++}function yt(){const Zt=Q+=1;let ie=1;for(;ie>0&&Q<at.length;Q++)40!==at.charCodeAt(Q)||Et(Q)?41!==at.charCodeAt(Q)||Et(Q)||ie--:ie++;if(ie)throw new Error("Parenthesis not matched");return D(at.slice(Zt,Q-1))}function Et(Zt){let ie=0;for(;92===at.charCodeAt(--Zt);)ie++;return 1==(1&ie)}function Mt(){if(gt.length>0&&k(gt[gt.length-1]))throw new Error("Did not expect successive traversals.")}function jt(Zt){gt.length>0&&gt[gt.length-1].type===h.Descendant?gt[gt.length-1].type=Zt:(Mt(),gt.push({type:Zt}))}function Ut(Zt,ie){gt.push({type:h.Attribute,name:Zt,action:ie,value:ot(1),namespace:null,ignoreCase:"quirks"})}function le(){if(gt.length&&gt[gt.length-1].type===h.Descendant&&gt.pop(),0===gt.length)throw new Error("Empty sub-selector");K.push(gt)}if(Ot(0),at.length===Q)return Q;t:for(;Q<at.length;){const Zt=at.charCodeAt(Q);switch(Zt){case 32:case 9:case 10:case 12:case 13:0!==gt.length&&gt[0].type===h.Descendant||(Mt(),gt.push({type:h.Descendant})),Ot(1);break;case 62:jt(h.Child),Ot(1);break;case 60:jt(h.Parent),Ot(1);break;case 126:jt(h.Sibling),Ot(1);break;case 43:jt(h.Adjacent),Ot(1);break;case 46:Ut("class",m.Element);break;case 35:Ut("id",m.Equals);break;case 91:{let ie;Ot(1);let Ht=null;124===at.charCodeAt(Q)?ie=ot(1):at.startsWith("*|",Q)?(Ht="*",ie=ot(2)):(ie=ot(0),124===at.charCodeAt(Q)&&61!==at.charCodeAt(Q+1)&&(Ht=ie,ie=ot(1))),Ot(0);let _t=m.Exists;const Xt=T.get(at.charCodeAt(Q));if(Xt){if(_t=Xt,61!==at.charCodeAt(Q+1))throw new Error("Expected `=`");Ot(2)}else 61===at.charCodeAt(Q)&&(_t=m.Equals,Ot(1));let Gt="",Pt=null;if("exists"!==_t){if(L(at.charCodeAt(Q))){const Ce=at.charCodeAt(Q);let Ee=Q+1;for(;Ee<at.length&&(at.charCodeAt(Ee)!==Ce||Et(Ee));)Ee+=1;if(at.charCodeAt(Ee)!==Ce)throw new Error("Attribute value didn't end");Gt=D(at.slice(Q+1,Ee)),Q=Ee+1}else{const Ce=Q;for(;Q<at.length&&(!U(at.charCodeAt(Q))&&93!==at.charCodeAt(Q)||Et(Q));)Q+=1;Gt=D(at.slice(Ce,Q))}Ot(0);const fe=32|at.charCodeAt(Q);115===fe?(Pt=!1,Ot(1)):105===fe&&(Pt=!0,Ot(1))}if(93!==at.charCodeAt(Q))throw new Error("Attribute selector didn't terminate");Q+=1;const he={type:h.Attribute,name:ie,action:_t,value:Gt,namespace:Ht,ignoreCase:Pt};gt.push(he);break}case 58:{if(58===at.charCodeAt(Q+1)){gt.push({type:h.PseudoElement,name:ot(2).toLowerCase(),data:40===at.charCodeAt(Q)?yt():null});continue}const ie=ot(1).toLowerCase();let Ht=null;if(40===at.charCodeAt(Q))if(C.has(ie)){if(L(at.charCodeAt(Q+1)))throw new Error(`Pseudo-selector ${ie} cannot be quoted`);if(Ht=[],Q=G(Ht,at,Q+1),41!==at.charCodeAt(Q))throw new Error(`Missing closing parenthesis in :${ie} (${at})`);Q+=1}else{if(Ht=yt(),A.has(ie)){const _t=Ht.charCodeAt(0);_t===Ht.charCodeAt(Ht.length-1)&&L(_t)&&(Ht=Ht.slice(1,-1))}Ht=D(Ht)}gt.push({type:h.Pseudo,name:ie,data:Ht});break}case 44:le(),gt=[],Ot(1);break;default:{if(at.startsWith("/*",Q)){const _t=at.indexOf("*/",Q+2);if(_t<0)throw new Error("Comment was not terminated");Q=_t+2,0===gt.length&&Ot(0);break}let ie,Ht=null;if(42===Zt)Q+=1,ie="*";else if(124===Zt){if(ie="",124===at.charCodeAt(Q+1)){jt(h.ColumnCombinator),Ot(2);break}}else{if(!_.test(at.slice(Q)))break t;ie=ot(0)}124===at.charCodeAt(Q)&&124!==at.charCodeAt(Q+1)&&(Ht=ie,42===at.charCodeAt(Q+1)?(ie="*",Q+=2):ie=ot(1)),gt.push("*"===ie?{type:h.Universal,namespace:Ht}:{type:h.Tag,name:ie,namespace:Ht})}}}return le(),Q}const Y=["\\",'"'],q=[...Y,"(",")"],tt=new Set(Y.map(K=>K.charCodeAt(0))),ht=new Set(q.map(K=>K.charCodeAt(0))),ut=new Set([...q,"~","^","$","*","+","!","|",":","[","]"," ","."].map(K=>K.charCodeAt(0)));function bt(K){return K.map(at=>at.map(F).join("")).join(", ")}function F(K,at,Q){switch(K.type){case h.Child:return 0===at?"> ":" > ";case h.Parent:return 0===at?"< ":" < ";case h.Sibling:return 0===at?"~ ":" ~ ";case h.Adjacent:return 0===at?"+ ":" + ";case h.Descendant:return" ";case h.ColumnCombinator:return 0===at?"|| ":" || ";case h.Universal:return"*"===K.namespace&&at+1<Q.length&&"name"in Q[at+1]?"":`${X(K.namespace)}*`;case h.Tag:return B(K);case h.PseudoElement:return`::${J(K.name,ut)}${null===K.data?"":`(${J(K.data,ht)})`}`;case h.Pseudo:return`:${J(K.name,ut)}${null===K.data?"":`(${"string"==typeof K.data?J(K.data,ht):bt(K.data)})`}`;case h.Attribute:{if("id"===K.name&&K.action===m.Equals&&"quirks"===K.ignoreCase&&!K.namespace)return`#${J(K.value,ut)}`;if("class"===K.name&&K.action===m.Element&&"quirks"===K.ignoreCase&&!K.namespace)return`.${J(K.value,ut)}`;const gt=B(K);return K.action===m.Exists?`[${gt}]`:`[${gt}${function(ot){switch(ot){case m.Equals:return"";case m.Element:return"~";case m.Start:return"^";case m.End:return"$";case m.Any:return"*";case m.Not:return"!";case m.Hyphen:return"|";case m.Exists:throw new Error("Shouldn't be here")}}(K.action)}="${J(K.value,tt)}"${null===K.ignoreCase?"":K.ignoreCase?" i":" s"}]`}}}function B(K){return`${X(K.namespace)}${J(K.name,ut)}`}function X(K){return null!==K?`${"*"===K?"*":J(K,ut)}|`:""}function J(K,at){let Q=0,gt="";for(let ot=0;ot<K.length;ot++)at.has(K.charCodeAt(ot))&&(gt+=`${K.slice(Q,ot)}\\${K.charAt(ot)}`,Q=ot+1);return gt.length>0?gt+K.slice(Q):K}},7837:(x,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.attributeNames=g.elementNames=void 0,g.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),g.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},7220:function(x,g,M){"use strict";var h=this&&this.__assign||function(){return h=Object.assign||function(S){for(var G,Y=1,q=arguments.length;Y<q;Y++)for(var tt in G=arguments[Y])Object.prototype.hasOwnProperty.call(G,tt)&&(S[tt]=G[tt]);return S},h.apply(this,arguments)},y=this&&this.__createBinding||(Object.create?function(S,G,Y,q){void 0===q&&(q=Y),Object.defineProperty(S,q,{enumerable:!0,get:function(){return G[Y]}})}:function(S,G,Y,q){void 0===q&&(q=Y),S[q]=G[Y]}),m=this&&this.__setModuleDefault||(Object.create?function(S,G){Object.defineProperty(S,"default",{enumerable:!0,value:G})}:function(S,G){S.default=G}),_=this&&this.__importStar||function(S){if(S&&S.__esModule)return S;var G={};if(null!=S)for(var Y in S)"default"!==Y&&Object.prototype.hasOwnProperty.call(S,Y)&&y(G,S,Y);return m(G,S),G};Object.defineProperty(g,"__esModule",{value:!0});var b=_(M(9960)),T=M(5863),C=M(7837),k=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),A=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function I(S,G){void 0===G&&(G={});for(var Y=("length"in S?S:[S]),q="",tt=0;tt<Y.length;tt++)q+=D(Y[tt],G);return q}function D(S,G){switch(S.type){case b.Root:return I(S.children,G);case b.Directive:case b.Doctype:return"<"+S.data+">";case b.Comment:return"\x3c!--"+S.data+"--\x3e";case b.CDATA:return function(Y){return"<![CDATA["+Y.children[0].data+"]]>"}(S);case b.Script:case b.Style:case b.Tag:return function(Y,q){var tt;"foreign"===q.xmlMode&&(Y.name=null!==(tt=C.elementNames.get(Y.name))&&void 0!==tt?tt:Y.name,Y.parent&&L.has(Y.parent.name)&&(q=h(h({},q),{xmlMode:!1}))),!q.xmlMode&&U.has(Y.name)&&(q=h(h({},q),{xmlMode:"foreign"}));var ht="<"+Y.name,ut=function(bt,F){if(bt)return Object.keys(bt).map(function(B){var X,J,K=null!==(X=bt[B])&&void 0!==X?X:"";return"foreign"===F.xmlMode&&(B=null!==(J=C.attributeNames.get(B))&&void 0!==J?J:B),F.emptyAttrs||F.xmlMode||""!==K?B+'="'+(!1!==F.decodeEntities?T.encodeXML(K):K.replace(/"/g,"&quot;"))+'"':B}).join(" ")}(Y.attribs,q);return ut&&(ht+=" "+ut),0===Y.children.length&&(q.xmlMode?!1!==q.selfClosingTags:q.selfClosingTags&&A.has(Y.name))?(q.xmlMode||(ht+=" "),ht+="/>"):(ht+=">",Y.children.length>0&&(ht+=I(Y.children,q)),!q.xmlMode&&A.has(Y.name)||(ht+="</"+Y.name+">")),ht}(S,G);case b.Text:return function(Y,q){var tt=Y.data||"";return!1===q.decodeEntities||!q.xmlMode&&Y.parent&&k.has(Y.parent.name)||(tt=T.encodeXML(tt)),tt}(S,G)}}g.default=I;var L=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),U=new Set(["svg","math"])},9960:(x,g)=>{"use strict";var M,h;Object.defineProperty(g,"__esModule",{value:!0}),g.Doctype=g.CDATA=g.Tag=g.Style=g.Script=g.Comment=g.Directive=g.Text=g.Root=g.isTag=g.ElementType=void 0,(h=M=g.ElementType||(g.ElementType={})).Root="root",h.Text="text",h.Directive="directive",h.Comment="comment",h.Script="script",h.Style="style",h.Tag="tag",h.CDATA="cdata",h.Doctype="doctype",g.isTag=function(h){return h.type===M.Tag||h.type===M.Script||h.type===M.Style},g.Root=M.Root,g.Text=M.Text,g.Directive=M.Directive,g.Comment=M.Comment,g.Script=M.Script,g.Style=M.Style,g.Tag=M.Tag,g.CDATA=M.CDATA,g.Doctype=M.Doctype},7915:function(x,g,M){"use strict";var h=this&&this.__createBinding||(Object.create?function(k,A,I,D){void 0===D&&(D=I);var L=Object.getOwnPropertyDescriptor(A,I);L&&!("get"in L?!A.__esModule:L.writable||L.configurable)||(L={enumerable:!0,get:function(){return A[I]}}),Object.defineProperty(k,D,L)}:function(k,A,I,D){void 0===D&&(D=I),k[D]=A[I]}),y=this&&this.__exportStar||function(k,A){for(var I in k)"default"===I||Object.prototype.hasOwnProperty.call(A,I)||h(A,k,I)};Object.defineProperty(g,"__esModule",{value:!0}),g.DomHandler=void 0;var m=M(9960),_=M(7790);y(M(7790),g);var b=/\s+/g,T={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1,xmlMode:!1},C=function(){function k(A,I,D){this.dom=[],this.root=new _.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null,"function"==typeof I&&(D=I,I=T),"object"==typeof A&&(I=A,A=void 0),this.callback=A??null,this.options=I??T,this.elementCB=D??null}return k.prototype.onparserinit=function(A){this.parser=A},k.prototype.onreset=function(){this.dom=[],this.root=new _.Document(this.dom),this.done=!1,this.tagStack=[this.root],this.lastNode=null,this.parser=null},k.prototype.onend=function(){this.done||(this.done=!0,this.parser=null,this.handleCallback(null))},k.prototype.onerror=function(A){this.handleCallback(A)},k.prototype.onclosetag=function(){this.lastNode=null;var A=this.tagStack.pop();this.options.withEndIndices&&(A.endIndex=this.parser.endIndex),this.elementCB&&this.elementCB(A)},k.prototype.onopentag=function(A,I){var D=this.options.xmlMode?m.ElementType.Tag:void 0,L=new _.Element(A,I,void 0,D);this.addNode(L),this.tagStack.push(L)},k.prototype.ontext=function(A){var I=this.options.normalizeWhitespace,D=this.lastNode;if(D&&D.type===m.ElementType.Text)I?D.data=(D.data+A).replace(b," "):D.data+=A,this.options.withEndIndices&&(D.endIndex=this.parser.endIndex);else{I&&(A=A.replace(b," "));var L=new _.Text(A);this.addNode(L),this.lastNode=L}},k.prototype.oncomment=function(A){if(this.lastNode&&this.lastNode.type===m.ElementType.Comment)this.lastNode.data+=A;else{var I=new _.Comment(A);this.addNode(I),this.lastNode=I}},k.prototype.oncommentend=function(){this.lastNode=null},k.prototype.oncdatastart=function(){var A=new _.Text(""),I=new _.NodeWithChildren(m.ElementType.CDATA,[A]);this.addNode(I),A.parent=I,this.lastNode=A},k.prototype.oncdataend=function(){this.lastNode=null},k.prototype.onprocessinginstruction=function(A,I){var D=new _.ProcessingInstruction(A,I);this.addNode(D)},k.prototype.handleCallback=function(A){if("function"==typeof this.callback)this.callback(A,this.dom);else if(A)throw A},k.prototype.addNode=function(A){var I=this.tagStack[this.tagStack.length-1],D=I.children[I.children.length-1];this.options.withStartIndices&&(A.startIndex=this.parser.startIndex),this.options.withEndIndices&&(A.endIndex=this.parser.endIndex),I.children.push(A),D&&(A.prev=D,D.next=A),A.parent=I,this.lastNode=null},k}();g.DomHandler=C,g.default=C},7790:function(x,g,M){"use strict";var h,y=this&&this.__extends||(h=function(F,B){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(X,J){X.__proto__=J}||function(X,J){for(var K in J)Object.prototype.hasOwnProperty.call(J,K)&&(X[K]=J[K])})(F,B)},function(F,B){if("function"!=typeof B&&null!==B)throw new TypeError("Class extends value "+String(B)+" is not a constructor or null");function X(){this.constructor=F}h(F,B),F.prototype=null===B?Object.create(B):(X.prototype=B.prototype,new X)}),m=this&&this.__assign||function(){return m=Object.assign||function(F){for(var B,X=1,J=arguments.length;X<J;X++)for(var K in B=arguments[X])Object.prototype.hasOwnProperty.call(B,K)&&(F[K]=B[K]);return F},m.apply(this,arguments)};Object.defineProperty(g,"__esModule",{value:!0}),g.cloneNode=g.hasChildren=g.isDocument=g.isDirective=g.isComment=g.isText=g.isCDATA=g.isTag=g.Element=g.Document=g.NodeWithChildren=g.ProcessingInstruction=g.Comment=g.Text=g.DataNode=g.Node=void 0;var _=M(9960),b=new Map([[_.ElementType.Tag,1],[_.ElementType.Script,1],[_.ElementType.Style,1],[_.ElementType.Directive,1],[_.ElementType.Text,3],[_.ElementType.CDATA,4],[_.ElementType.Comment,8],[_.ElementType.Root,9]]),T=function(){function F(B){this.type=B,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(F.prototype,"nodeType",{get:function(){var B;return null!==(B=b.get(this.type))&&void 0!==B?B:1},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"parentNode",{get:function(){return this.parent},set:function(B){this.parent=B},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"previousSibling",{get:function(){return this.prev},set:function(B){this.prev=B},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"nextSibling",{get:function(){return this.next},set:function(B){this.next=B},enumerable:!1,configurable:!0}),F.prototype.cloneNode=function(B){return void 0===B&&(B=!1),ut(this,B)},F}();g.Node=T;var C=function(F){function B(X,J){var K=F.call(this,X)||this;return K.data=J,K}return y(B,F),Object.defineProperty(B.prototype,"nodeValue",{get:function(){return this.data},set:function(X){this.data=X},enumerable:!1,configurable:!0}),B}(T);g.DataNode=C;var k=function(F){function B(X){return F.call(this,_.ElementType.Text,X)||this}return y(B,F),B}(C);g.Text=k;var A=function(F){function B(X){return F.call(this,_.ElementType.Comment,X)||this}return y(B,F),B}(C);g.Comment=A;var I=function(F){function B(X,J){var K=F.call(this,_.ElementType.Directive,J)||this;return K.name=X,K}return y(B,F),B}(C);g.ProcessingInstruction=I;var D=function(F){function B(X,J){var K=F.call(this,X)||this;return K.children=J,K}return y(B,F),Object.defineProperty(B.prototype,"firstChild",{get:function(){var X;return null!==(X=this.children[0])&&void 0!==X?X:null},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"lastChild",{get:function(){return this.children.length>0?this.children[this.children.length-1]:null},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"childNodes",{get:function(){return this.children},set:function(X){this.children=X},enumerable:!1,configurable:!0}),B}(T);g.NodeWithChildren=D;var L=function(F){function B(X){return F.call(this,_.ElementType.Root,X)||this}return y(B,F),B}(D);g.Document=L;var U=function(F){function B(X,J,K,at){void 0===K&&(K=[]),void 0===at&&(at="script"===X?_.ElementType.Script:"style"===X?_.ElementType.Style:_.ElementType.Tag);var Q=F.call(this,at,K)||this;return Q.name=X,Q.attribs=J,Q}return y(B,F),Object.defineProperty(B.prototype,"tagName",{get:function(){return this.name},set:function(X){this.name=X},enumerable:!1,configurable:!0}),Object.defineProperty(B.prototype,"attributes",{get:function(){var X=this;return Object.keys(this.attribs).map(function(J){var K,at;return{name:J,value:X.attribs[J],namespace:null===(K=X["x-attribsNamespace"])||void 0===K?void 0:K[J],prefix:null===(at=X["x-attribsPrefix"])||void 0===at?void 0:at[J]}})},enumerable:!1,configurable:!0}),B}(D);function S(F){return(0,_.isTag)(F)}function G(F){return F.type===_.ElementType.CDATA}function Y(F){return F.type===_.ElementType.Text}function q(F){return F.type===_.ElementType.Comment}function tt(F){return F.type===_.ElementType.Directive}function ht(F){return F.type===_.ElementType.Root}function ut(F,B){var X;if(void 0===B&&(B=!1),Y(F))X=new k(F.data);else if(q(F))X=new A(F.data);else if(S(F)){var J=B?bt(F.children):[],K=new U(F.name,m({},F.attribs),J);J.forEach(function(ot){return ot.parent=K}),null!=F.namespace&&(K.namespace=F.namespace),F["x-attribsNamespace"]&&(K["x-attribsNamespace"]=m({},F["x-attribsNamespace"])),F["x-attribsPrefix"]&&(K["x-attribsPrefix"]=m({},F["x-attribsPrefix"])),X=K}else if(G(F)){J=B?bt(F.children):[];var at=new D(_.ElementType.CDATA,J);J.forEach(function(ot){return ot.parent=at}),X=at}else if(ht(F)){J=B?bt(F.children):[];var Q=new L(J);J.forEach(function(ot){return ot.parent=Q}),F["x-mode"]&&(Q["x-mode"]=F["x-mode"]),X=Q}else{if(!tt(F))throw new Error("Not implemented yet: ".concat(F.type));var gt=new I(F.name,F.data);null!=F["x-name"]&&(gt["x-name"]=F["x-name"],gt["x-publicId"]=F["x-publicId"],gt["x-systemId"]=F["x-systemId"]),X=gt}return X.startIndex=F.startIndex,X.endIndex=F.endIndex,null!=F.sourceCodeLocation&&(X.sourceCodeLocation=F.sourceCodeLocation),X}function bt(F){for(var B=F.map(function(J){return ut(J,!0)}),X=1;X<B.length;X++)B[X].prev=B[X-1],B[X-1].next=B[X];return B}g.Element=U,g.isTag=S,g.isCDATA=G,g.isText=Y,g.isComment=q,g.isDirective=tt,g.isDocument=ht,g.hasChildren=function(F){return Object.prototype.hasOwnProperty.call(F,"children")},g.cloneNode=ut},6996:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.getFeed=void 0;var h=M(3346),y=M(3905);g.getFeed=function(I){var D=T(A,I);return D?"feed"===D.name?function(L){var U,S=L.children,G={type:"atom",items:(0,y.getElementsByTagName)("entry",S).map(function(tt){var ht,ut=tt.children,bt={media:b(ut)};k(bt,"id","id",ut),k(bt,"title","title",ut);var F=null===(ht=T("link",ut))||void 0===ht?void 0:ht.attribs.href;F&&(bt.link=F);var B=C("summary",ut)||C("content",ut);B&&(bt.description=B);var X=C("updated",ut);return X&&(bt.pubDate=new Date(X)),bt})};k(G,"id","id",S),k(G,"title","title",S);var Y=null===(U=T("link",S))||void 0===U?void 0:U.attribs.href;Y&&(G.link=Y),k(G,"description","subtitle",S);var q=C("updated",S);return q&&(G.updated=new Date(q)),k(G,"author","email",S,!0),G}(D):function(L){var U,S,G=null!==(S=null===(U=T("channel",L.children))||void 0===U?void 0:U.children)&&void 0!==S?S:[],Y={type:L.name.substr(0,3),id:"",items:(0,y.getElementsByTagName)("item",L.children).map(function(tt){var ht=tt.children,ut={media:b(ht)};k(ut,"id","guid",ht),k(ut,"title","title",ht),k(ut,"link","link",ht),k(ut,"description","description",ht);var bt=C("pubDate",ht);return bt&&(ut.pubDate=new Date(bt)),ut})};k(Y,"title","title",G),k(Y,"link","link",G),k(Y,"description","description",G);var q=C("lastBuildDate",G);return q&&(Y.updated=new Date(q)),k(Y,"author","managingEditor",G,!0),Y}(D):null};var m=["url","type","lang"],_=["fileSize","bitrate","framerate","samplingrate","channels","duration","height","width"];function b(I){return(0,y.getElementsByTagName)("media:content",I).map(function(D){for(var L=D.attribs,U={medium:L.medium,isDefault:!!L.isDefault},S=0,G=m;S<G.length;S++)L[tt=G[S]]&&(U[tt]=L[tt]);for(var Y=0,q=_;Y<q.length;Y++){var tt;L[tt=q[Y]]&&(U[tt]=parseInt(L[tt],10))}return L.expression&&(U.expression=L.expression),U})}function T(I,D){return(0,y.getElementsByTagName)(I,D,!0,1)[0]}function C(I,D,L){return void 0===L&&(L=!1),(0,h.textContent)((0,y.getElementsByTagName)(I,D,L,1)).trim()}function k(I,D,L,U,S){void 0===S&&(S=!1);var G=C(L,U,S);G&&(I[D]=G)}function A(I){return"rss"===I||"feed"===I||"rdf:RDF"===I}},4975:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.uniqueSort=g.compareDocumentPosition=g.removeSubsets=void 0;var h=M(7915);function y(m,_){var b=[],T=[];if(m===_)return 0;for(var C=(0,h.hasChildren)(m)?m:m.parent;C;)b.unshift(C),C=C.parent;for(C=(0,h.hasChildren)(_)?_:_.parent;C;)T.unshift(C),C=C.parent;for(var k=Math.min(b.length,T.length),A=0;A<k&&b[A]===T[A];)A++;if(0===A)return 1;var I=b[A-1],D=I.children,L=b[A],U=T[A];return D.indexOf(L)>D.indexOf(U)?I===_?20:4:I===m?10:2}g.removeSubsets=function(m){for(var _=m.length;--_>=0;){var b=m[_];if(_>0&&m.lastIndexOf(b,_-1)>=0)m.splice(_,1);else for(var T=b.parent;T;T=T.parent)if(m.includes(T)){m.splice(_,1);break}}return m},g.compareDocumentPosition=y,g.uniqueSort=function(m){return(m=m.filter(function(_,b,T){return!T.includes(_,b+1)})).sort(function(_,b){var T=y(_,b);return 2&T?-1:4&T?1:0}),m}},9432:function(x,g,M){"use strict";var h=this&&this.__createBinding||(Object.create?function(_,b,T,C){void 0===C&&(C=T),Object.defineProperty(_,C,{enumerable:!0,get:function(){return b[T]}})}:function(_,b,T,C){void 0===C&&(C=T),_[C]=b[T]}),y=this&&this.__exportStar||function(_,b){for(var T in _)"default"===T||Object.prototype.hasOwnProperty.call(b,T)||h(b,_,T)};Object.defineProperty(g,"__esModule",{value:!0}),g.hasChildren=g.isDocument=g.isComment=g.isText=g.isCDATA=g.isTag=void 0,y(M(3346),g),y(M(5010),g),y(M(6765),g),y(M(8043),g),y(M(3905),g),y(M(4975),g),y(M(6996),g);var m=M(7915);Object.defineProperty(g,"isTag",{enumerable:!0,get:function(){return m.isTag}}),Object.defineProperty(g,"isCDATA",{enumerable:!0,get:function(){return m.isCDATA}}),Object.defineProperty(g,"isText",{enumerable:!0,get:function(){return m.isText}}),Object.defineProperty(g,"isComment",{enumerable:!0,get:function(){return m.isComment}}),Object.defineProperty(g,"isDocument",{enumerable:!0,get:function(){return m.isDocument}}),Object.defineProperty(g,"hasChildren",{enumerable:!0,get:function(){return m.hasChildren}})},3905:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.getElementsByTagType=g.getElementsByTagName=g.getElementById=g.getElements=g.testElement=void 0;var h=M(7915),y=M(8043),m={tag_name:function(C){return"function"==typeof C?function(k){return(0,h.isTag)(k)&&C(k.name)}:"*"===C?h.isTag:function(k){return(0,h.isTag)(k)&&k.name===C}},tag_type:function(C){return"function"==typeof C?function(k){return C(k.type)}:function(k){return k.type===C}},tag_contains:function(C){return"function"==typeof C?function(k){return(0,h.isText)(k)&&C(k.data)}:function(k){return(0,h.isText)(k)&&k.data===C}}};function _(C,k){return"function"==typeof k?function(A){return(0,h.isTag)(A)&&k(A.attribs[C])}:function(A){return(0,h.isTag)(A)&&A.attribs[C]===k}}function b(C,k){return function(A){return C(A)||k(A)}}function T(C){var k=Object.keys(C).map(function(A){var I=C[A];return Object.prototype.hasOwnProperty.call(m,A)?m[A](I):_(A,I)});return 0===k.length?null:k.reduce(b)}g.testElement=function(C,k){var A=T(C);return!A||A(k)},g.getElements=function(C,k,A,I){void 0===I&&(I=1/0);var D=T(C);return D?(0,y.filter)(D,k,A,I):[]},g.getElementById=function(C,k,A){return void 0===A&&(A=!0),Array.isArray(k)||(k=[k]),(0,y.findOne)(_("id",C),k,A)},g.getElementsByTagName=function(C,k,A,I){return void 0===A&&(A=!0),void 0===I&&(I=1/0),(0,y.filter)(m.tag_name(C),k,A,I)},g.getElementsByTagType=function(C,k,A,I){return void 0===A&&(A=!0),void 0===I&&(I=1/0),(0,y.filter)(m.tag_type(C),k,A,I)}},6765:(x,g)=>{"use strict";function M(h){if(h.prev&&(h.prev.next=h.next),h.next&&(h.next.prev=h.prev),h.parent){var y=h.parent.children;y.splice(y.lastIndexOf(h),1)}}Object.defineProperty(g,"__esModule",{value:!0}),g.prepend=g.prependChild=g.append=g.appendChild=g.replaceElement=g.removeElement=void 0,g.removeElement=M,g.replaceElement=function(h,y){var m=y.prev=h.prev;m&&(m.next=y);var _=y.next=h.next;_&&(_.prev=y);var b=y.parent=h.parent;if(b){var T=b.children;T[T.lastIndexOf(h)]=y}},g.appendChild=function(h,y){if(M(y),y.next=null,y.parent=h,h.children.push(y)>1){var m=h.children[h.children.length-2];m.next=y,y.prev=m}else y.prev=null},g.append=function(h,y){M(y);var m=h.parent,_=h.next;if(y.next=_,y.prev=h,h.next=y,y.parent=m,_){if(_.prev=y,m){var b=m.children;b.splice(b.lastIndexOf(_),0,y)}}else m&&m.children.push(y)},g.prependChild=function(h,y){if(M(y),y.parent=h,y.prev=null,1!==h.children.unshift(y)){var m=h.children[1];m.prev=y,y.next=m}else y.next=null},g.prepend=function(h,y){M(y);var m=h.parent;if(m){var _=m.children;_.splice(_.indexOf(h),0,y)}h.prev&&(h.prev.next=y),y.parent=m,y.prev=h.prev,y.next=h,h.prev=y}},8043:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.findAll=g.existsOne=g.findOne=g.findOneChild=g.find=g.filter=void 0;var h=M(7915);function y(m,_,b,T){for(var C=[],k=0,A=_;k<A.length;k++){var I=A[k];if(m(I)&&(C.push(I),--T<=0))break;if(b&&(0,h.hasChildren)(I)&&I.children.length>0){var D=y(m,I.children,b,T);if(C.push.apply(C,D),(T-=D.length)<=0)break}}return C}g.filter=function(m,_,b,T){return void 0===b&&(b=!0),void 0===T&&(T=1/0),Array.isArray(_)||(_=[_]),y(m,_,b,T)},g.find=y,g.findOneChild=function(m,_){return _.find(m)},g.findOne=function m(_,b,T){void 0===T&&(T=!0);for(var C=null,k=0;k<b.length&&!C;k++){var A=b[k];(0,h.isTag)(A)&&(_(A)?C=A:T&&A.children.length>0&&(C=m(_,A.children)))}return C},g.existsOne=function m(_,b){return b.some(function(T){return(0,h.isTag)(T)&&(_(T)||T.children.length>0&&m(_,T.children))})},g.findAll=function(m,_){for(var b,T,C=[],k=_.filter(h.isTag);T=k.shift();){var A=null===(b=T.children)||void 0===b?void 0:b.filter(h.isTag);A&&A.length>0&&k.unshift.apply(k,A),m(T)&&C.push(T)}return C}},3346:function(x,g,M){"use strict";var h=this&&this.__importDefault||function(T){return T&&T.__esModule?T:{default:T}};Object.defineProperty(g,"__esModule",{value:!0}),g.innerText=g.textContent=g.getText=g.getInnerHTML=g.getOuterHTML=void 0;var y=M(7915),m=h(M(7220)),_=M(9960);function b(T,C){return(0,m.default)(T,C)}g.getOuterHTML=b,g.getInnerHTML=function(T,C){return(0,y.hasChildren)(T)?T.children.map(function(k){return b(k,C)}).join(""):""},g.getText=function T(C){return Array.isArray(C)?C.map(T).join(""):(0,y.isTag)(C)?"br"===C.name?"\n":T(C.children):(0,y.isCDATA)(C)?T(C.children):(0,y.isText)(C)?C.data:""},g.textContent=function T(C){return Array.isArray(C)?C.map(T).join(""):(0,y.hasChildren)(C)&&!(0,y.isComment)(C)?T(C.children):(0,y.isText)(C)?C.data:""},g.innerText=function T(C){return Array.isArray(C)?C.map(T).join(""):(0,y.hasChildren)(C)&&(C.type===_.ElementType.Tag||(0,y.isCDATA)(C))?T(C.children):(0,y.isText)(C)?C.data:""}},5010:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.prevElementSibling=g.nextElementSibling=g.getName=g.hasAttrib=g.getAttributeValue=g.getSiblings=g.getParent=g.getChildren=void 0;var h=M(7915),y=[];function m(b){var T;return null!==(T=b.children)&&void 0!==T?T:y}function _(b){return b.parent||null}g.getChildren=m,g.getParent=_,g.getSiblings=function(b){var T=_(b);if(null!=T)return m(T);for(var C=[b],k=b.prev,A=b.next;null!=k;)C.unshift(k),k=k.prev;for(;null!=A;)C.push(A),A=A.next;return C},g.getAttributeValue=function(b,T){var C;return null===(C=b.attribs)||void 0===C?void 0:C[T]},g.hasAttrib=function(b,T){return null!=b.attribs&&Object.prototype.hasOwnProperty.call(b.attribs,T)&&null!=b.attribs[T]},g.getName=function(b){return b.name},g.nextElementSibling=function(b){for(var T=b.next;null!==T&&!(0,h.isTag)(T);)T=T.next;return T},g.prevElementSibling=function(b){for(var T=b.prev;null!==T&&!(0,h.isTag)(T);)T=T.prev;return T}},4076:function(x,g,M){"use strict";var h=this&&this.__importDefault||function(I){return I&&I.__esModule?I:{default:I}};Object.defineProperty(g,"__esModule",{value:!0}),g.decodeHTML=g.decodeHTMLStrict=g.decodeXML=void 0;var y=h(M(9323)),m=h(M(9591)),_=h(M(2586)),b=h(M(26)),T=/&(?:[a-zA-Z0-9]+|#[xX][\da-fA-F]+|#\d+);/g;function C(I){var D=A(I);return function(L){return String(L).replace(T,D)}}g.decodeXML=C(_.default),g.decodeHTMLStrict=C(y.default);var k=function(I,D){return I<D?1:-1};function A(I){return function(D){if("#"===D.charAt(1)){var L=D.charAt(2);return"X"===L||"x"===L?b.default(parseInt(D.substr(3),16)):b.default(parseInt(D.substr(2),10))}return I[D.slice(1,-1)]||D}}g.decodeHTML=function(){for(var I=Object.keys(m.default).sort(k),D=Object.keys(y.default).sort(k),L=0,U=0;L<D.length;L++)I[U]===D[L]?(D[L]+=";?",U++):D[L]+=";";var S=new RegExp("&(?:"+D.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),G=A(y.default);function Y(q){return";"!==q.substr(-1)&&(q+=";"),G(q)}return function(q){return String(q).replace(S,Y)}}()},26:function(x,g,M){"use strict";var h=this&&this.__importDefault||function(_){return _&&_.__esModule?_:{default:_}};Object.defineProperty(g,"__esModule",{value:!0});var y=h(M(3600)),m=String.fromCodePoint||function(_){var b="";return _>65535&&(_-=65536,b+=String.fromCharCode(_>>>10&1023|55296),_=56320|1023&_),b+String.fromCharCode(_)};g.default=function(_){return _>=55296&&_<=57343||_>1114111?"\ufffd":(_ in y.default&&(_=y.default[_]),m(_))}},7322:function(x,g,M){"use strict";var h=this&&this.__importDefault||function(G){return G&&G.__esModule?G:{default:G}};Object.defineProperty(g,"__esModule",{value:!0}),g.escapeUTF8=g.escape=g.encodeNonAsciiHTML=g.encodeHTML=g.encodeXML=void 0;var y=k(h(M(2586)).default),m=A(y);g.encodeXML=S(y);var _,b,T=k(h(M(9323)).default),C=A(T);function k(G){return Object.keys(G).sort().reduce(function(Y,q){return Y[G[q]]="&"+q+";",Y},{})}function A(G){for(var Y=[],q=[],tt=0,ht=Object.keys(G);tt<ht.length;tt++){var ut=ht[tt];1===ut.length?Y.push("\\"+ut):q.push(ut)}Y.sort();for(var bt=0;bt<Y.length-1;bt++){for(var F=bt;F<Y.length-1&&Y[F].charCodeAt(1)+1===Y[F+1].charCodeAt(1);)F+=1;var B=1+F-bt;B<3||Y.splice(bt,B,Y[bt]+"-"+Y[F])}return q.unshift("["+Y.join("")+"]"),new RegExp(q.join("|"),"g")}g.encodeHTML=(_=T,b=C,function(G){return G.replace(b,function(Y){return _[Y]}).replace(I,L)}),g.encodeNonAsciiHTML=S(T);var I=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g,D=null!=String.prototype.codePointAt?function(G){return G.codePointAt(0)}:function(G){return 1024*(G.charCodeAt(0)-55296)+G.charCodeAt(1)-56320+65536};function L(G){return"&#x"+(G.length>1?D(G):G.charCodeAt(0)).toString(16).toUpperCase()+";"}var U=new RegExp(m.source+"|"+I.source,"g");function S(G){return function(Y){return Y.replace(U,function(q){return G[q]||L(q)})}}g.escape=function(G){return G.replace(U,L)},g.escapeUTF8=function(G){return G.replace(m,L)}},5863:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.decodeXMLStrict=g.decodeHTML5Strict=g.decodeHTML4Strict=g.decodeHTML5=g.decodeHTML4=g.decodeHTMLStrict=g.decodeHTML=g.decodeXML=g.encodeHTML5=g.encodeHTML4=g.escapeUTF8=g.escape=g.encodeNonAsciiHTML=g.encodeHTML=g.encodeXML=g.encode=g.decodeStrict=g.decode=void 0;var h=M(4076),y=M(7322);g.decode=function(b,T){return(!T||T<=0?h.decodeXML:h.decodeHTML)(b)},g.decodeStrict=function(b,T){return(!T||T<=0?h.decodeXML:h.decodeHTMLStrict)(b)},g.encode=function(b,T){return(!T||T<=0?y.encodeXML:y.encodeHTML)(b)};var m=M(7322);Object.defineProperty(g,"encodeXML",{enumerable:!0,get:function(){return m.encodeXML}}),Object.defineProperty(g,"encodeHTML",{enumerable:!0,get:function(){return m.encodeHTML}}),Object.defineProperty(g,"encodeNonAsciiHTML",{enumerable:!0,get:function(){return m.encodeNonAsciiHTML}}),Object.defineProperty(g,"escape",{enumerable:!0,get:function(){return m.escape}}),Object.defineProperty(g,"escapeUTF8",{enumerable:!0,get:function(){return m.escapeUTF8}}),Object.defineProperty(g,"encodeHTML4",{enumerable:!0,get:function(){return m.encodeHTML}}),Object.defineProperty(g,"encodeHTML5",{enumerable:!0,get:function(){return m.encodeHTML}});var _=M(4076);Object.defineProperty(g,"decodeXML",{enumerable:!0,get:function(){return _.decodeXML}}),Object.defineProperty(g,"decodeHTML",{enumerable:!0,get:function(){return _.decodeHTML}}),Object.defineProperty(g,"decodeHTMLStrict",{enumerable:!0,get:function(){return _.decodeHTMLStrict}}),Object.defineProperty(g,"decodeHTML4",{enumerable:!0,get:function(){return _.decodeHTML}}),Object.defineProperty(g,"decodeHTML5",{enumerable:!0,get:function(){return _.decodeHTML}}),Object.defineProperty(g,"decodeHTML4Strict",{enumerable:!0,get:function(){return _.decodeHTMLStrict}}),Object.defineProperty(g,"decodeHTML5Strict",{enumerable:!0,get:function(){return _.decodeHTMLStrict}}),Object.defineProperty(g,"decodeXMLStrict",{enumerable:!0,get:function(){return _.decodeXML}})},3870:function(x,g,M){"use strict";var h,y=this&&this.__extends||(h=function(ut,bt){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(F,B){F.__proto__=B}||function(F,B){for(var X in B)Object.prototype.hasOwnProperty.call(B,X)&&(F[X]=B[X])})(ut,bt)},function(ut,bt){if("function"!=typeof bt&&null!==bt)throw new TypeError("Class extends value "+String(bt)+" is not a constructor or null");function F(){this.constructor=ut}h(ut,bt),ut.prototype=null===bt?Object.create(bt):(F.prototype=bt.prototype,new F)}),m=this&&this.__createBinding||(Object.create?function(ut,bt,F,B){void 0===B&&(B=F),Object.defineProperty(ut,B,{enumerable:!0,get:function(){return bt[F]}})}:function(ut,bt,F,B){void 0===B&&(B=F),ut[B]=bt[F]}),_=this&&this.__setModuleDefault||(Object.create?function(ut,bt){Object.defineProperty(ut,"default",{enumerable:!0,value:bt})}:function(ut,bt){ut.default=bt}),b=this&&this.__importStar||function(ut){if(ut&&ut.__esModule)return ut;var bt={};if(null!=ut)for(var F in ut)"default"!==F&&Object.prototype.hasOwnProperty.call(ut,F)&&m(bt,ut,F);return _(bt,ut),bt},T=this&&this.__importDefault||function(ut){return ut&&ut.__esModule?ut:{default:ut}};Object.defineProperty(g,"__esModule",{value:!0}),g.parseFeed=g.FeedHandler=void 0;var C,k,ut,A=T(M(7915)),I=b(M(9432)),D=M(763);(ut=C||(C={}))[ut.image=0]="image",ut[ut.audio=1]="audio",ut[ut.video=2]="video",ut[ut.document=3]="document",ut[ut.executable=4]="executable",function(ut){ut[ut.sample=0]="sample",ut[ut.full=1]="full",ut[ut.nonstop=2]="nonstop"}(k||(k={}));var L=function(ut){function bt(F,B){return"object"==typeof F&&(B=F=void 0),ut.call(this,F,B)||this}return y(bt,ut),bt.prototype.onend=function(){var F,B,X=G(ht,this.dom);if(X){var J={};if("feed"===X.name){var K=X.children;J.type="atom",tt(J,"id","id",K),tt(J,"title","title",K);var at=q("href",G("link",K));at&&(J.link=at),tt(J,"description","subtitle",K),(Q=Y("updated",K))&&(J.updated=new Date(Q)),tt(J,"author","email",K,!0),J.items=S("entry",K).map(function(gt){var ot={},Ot=gt.children;tt(ot,"id","id",Ot),tt(ot,"title","title",Ot);var yt=q("href",G("link",Ot));yt&&(ot.link=yt);var Et=Y("summary",Ot)||Y("content",Ot);Et&&(ot.description=Et);var Mt=Y("updated",Ot);return Mt&&(ot.pubDate=new Date(Mt)),ot.media=U(Ot),ot})}else{var Q;K=null!==(B=null===(F=G("channel",X.children))||void 0===F?void 0:F.children)&&void 0!==B?B:[],J.type=X.name.substr(0,3),J.id="",tt(J,"title","title",K),tt(J,"link","link",K),tt(J,"description","description",K),(Q=Y("lastBuildDate",K))&&(J.updated=new Date(Q)),tt(J,"author","managingEditor",K,!0),J.items=S("item",X.children).map(function(gt){var ot={},Ot=gt.children;tt(ot,"id","guid",Ot),tt(ot,"title","title",Ot),tt(ot,"link","link",Ot),tt(ot,"description","description",Ot);var yt=Y("pubDate",Ot);return yt&&(ot.pubDate=new Date(yt)),ot.media=U(Ot),ot})}this.feed=J,this.handleCallback(null)}else this.handleCallback(new Error("couldn't find root of feed"))},bt}(A.default);function U(ut){return S("media:content",ut).map(function(bt){var F={medium:bt.attribs.medium,isDefault:!!bt.attribs.isDefault};return bt.attribs.url&&(F.url=bt.attribs.url),bt.attribs.fileSize&&(F.fileSize=parseInt(bt.attribs.fileSize,10)),bt.attribs.type&&(F.type=bt.attribs.type),bt.attribs.expression&&(F.expression=bt.attribs.expression),bt.attribs.bitrate&&(F.bitrate=parseInt(bt.attribs.bitrate,10)),bt.attribs.framerate&&(F.framerate=parseInt(bt.attribs.framerate,10)),bt.attribs.samplingrate&&(F.samplingrate=parseInt(bt.attribs.samplingrate,10)),bt.attribs.channels&&(F.channels=parseInt(bt.attribs.channels,10)),bt.attribs.duration&&(F.duration=parseInt(bt.attribs.duration,10)),bt.attribs.height&&(F.height=parseInt(bt.attribs.height,10)),bt.attribs.width&&(F.width=parseInt(bt.attribs.width,10)),bt.attribs.lang&&(F.lang=bt.attribs.lang),F})}function S(ut,bt){return I.getElementsByTagName(ut,bt,!0)}function G(ut,bt){return I.getElementsByTagName(ut,bt,!0,1)[0]}function Y(ut,bt,F){return void 0===F&&(F=!1),I.getText(I.getElementsByTagName(ut,bt,F,1)).trim()}function q(ut,bt){return bt?bt.attribs[ut]:null}function tt(ut,bt,F,B,X){void 0===X&&(X=!1);var J=Y(F,B,X);J&&(ut[bt]=J)}function ht(ut){return"rss"===ut||"feed"===ut||"rdf:RDF"===ut}g.FeedHandler=L,g.parseFeed=function(ut,bt){void 0===bt&&(bt={xmlMode:!0});var F=new L(bt);return new D.Parser(F,bt).end(ut),F.feed}},763:function(x,g,M){"use strict";var h=this&&this.__importDefault||function(D){return D&&D.__esModule?D:{default:D}};Object.defineProperty(g,"__esModule",{value:!0}),g.Parser=void 0;var y=h(M(9889)),m=new Set(["input","option","optgroup","select","button","datalist","textarea"]),_=new Set(["p"]),b={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:_,h1:_,h2:_,h3:_,h4:_,h5:_,h6:_,select:m,input:m,output:m,button:m,datalist:m,textarea:m,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:_,article:_,aside:_,blockquote:_,details:_,div:_,dl:_,fieldset:_,figcaption:_,figure:_,footer:_,form:_,header:_,hr:_,main:_,nav:_,ol:_,pre:_,section:_,table:_,ul:_,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},T=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),C=new Set(["math","svg"]),k=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),A=/\s|\//,I=function(){function D(L,U){var S,G,Y,q,tt;void 0===U&&(U={}),this.startIndex=0,this.endIndex=null,this.tagname="",this.attribname="",this.attribvalue="",this.attribs=null,this.stack=[],this.foreignContext=[],this.options=U,this.cbs=L??{},this.lowerCaseTagNames=null!==(S=U.lowerCaseTags)&&void 0!==S?S:!U.xmlMode,this.lowerCaseAttributeNames=null!==(G=U.lowerCaseAttributeNames)&&void 0!==G?G:!U.xmlMode,this.tokenizer=new(null!==(Y=U.Tokenizer)&&void 0!==Y?Y:y.default)(this.options,this),null===(tt=(q=this.cbs).onparserinit)||void 0===tt||tt.call(q,this)}return D.prototype.updatePosition=function(L){null===this.endIndex?this.tokenizer.sectionStart<=L?this.startIndex=0:this.startIndex=this.tokenizer.sectionStart-L:this.startIndex=this.endIndex+1,this.endIndex=this.tokenizer.getAbsoluteIndex()},D.prototype.ontext=function(L){var U,S;this.updatePosition(1),this.endIndex--,null===(S=(U=this.cbs).ontext)||void 0===S||S.call(U,L)},D.prototype.onopentagname=function(L){var U,S;if(this.lowerCaseTagNames&&(L=L.toLowerCase()),this.tagname=L,!this.options.xmlMode&&Object.prototype.hasOwnProperty.call(b,L))for(var G=void 0;this.stack.length>0&&b[L].has(G=this.stack[this.stack.length-1]);)this.onclosetag(G);!this.options.xmlMode&&T.has(L)||(this.stack.push(L),C.has(L)?this.foreignContext.push(!0):k.has(L)&&this.foreignContext.push(!1)),null===(S=(U=this.cbs).onopentagname)||void 0===S||S.call(U,L),this.cbs.onopentag&&(this.attribs={})},D.prototype.onopentagend=function(){var L,U;this.updatePosition(1),this.attribs&&(null===(U=(L=this.cbs).onopentag)||void 0===U||U.call(L,this.tagname,this.attribs),this.attribs=null),!this.options.xmlMode&&this.cbs.onclosetag&&T.has(this.tagname)&&this.cbs.onclosetag(this.tagname),this.tagname=""},D.prototype.onclosetag=function(L){if(this.updatePosition(1),this.lowerCaseTagNames&&(L=L.toLowerCase()),(C.has(L)||k.has(L))&&this.foreignContext.pop(),!this.stack.length||!this.options.xmlMode&&T.has(L))this.options.xmlMode||"br"!==L&&"p"!==L||(this.onopentagname(L),this.closeCurrentTag());else{var U=this.stack.lastIndexOf(L);if(-1!==U)if(this.cbs.onclosetag)for(U=this.stack.length-U;U--;)this.cbs.onclosetag(this.stack.pop());else this.stack.length=U;else"p"!==L||this.options.xmlMode||(this.onopentagname(L),this.closeCurrentTag())}},D.prototype.onselfclosingtag=function(){this.options.xmlMode||this.options.recognizeSelfClosing||this.foreignContext[this.foreignContext.length-1]?this.closeCurrentTag():this.onopentagend()},D.prototype.closeCurrentTag=function(){var L,U,S=this.tagname;this.onopentagend(),this.stack[this.stack.length-1]===S&&(null===(U=(L=this.cbs).onclosetag)||void 0===U||U.call(L,S),this.stack.pop())},D.prototype.onattribname=function(L){this.lowerCaseAttributeNames&&(L=L.toLowerCase()),this.attribname=L},D.prototype.onattribdata=function(L){this.attribvalue+=L},D.prototype.onattribend=function(L){var U,S;null===(S=(U=this.cbs).onattribute)||void 0===S||S.call(U,this.attribname,this.attribvalue,L),this.attribs&&!Object.prototype.hasOwnProperty.call(this.attribs,this.attribname)&&(this.attribs[this.attribname]=this.attribvalue),this.attribname="",this.attribvalue=""},D.prototype.getInstructionName=function(L){var U=L.search(A),S=U<0?L:L.substr(0,U);return this.lowerCaseTagNames&&(S=S.toLowerCase()),S},D.prototype.ondeclaration=function(L){if(this.cbs.onprocessinginstruction){var U=this.getInstructionName(L);this.cbs.onprocessinginstruction("!"+U,"!"+L)}},D.prototype.onprocessinginstruction=function(L){if(this.cbs.onprocessinginstruction){var U=this.getInstructionName(L);this.cbs.onprocessinginstruction("?"+U,"?"+L)}},D.prototype.oncomment=function(L){var U,S,G,Y;this.updatePosition(4),null===(S=(U=this.cbs).oncomment)||void 0===S||S.call(U,L),null===(Y=(G=this.cbs).oncommentend)||void 0===Y||Y.call(G)},D.prototype.oncdata=function(L){var U,S,G,Y,q,tt;this.updatePosition(1),this.options.xmlMode||this.options.recognizeCDATA?(null===(S=(U=this.cbs).oncdatastart)||void 0===S||S.call(U),null===(Y=(G=this.cbs).ontext)||void 0===Y||Y.call(G,L),null===(tt=(q=this.cbs).oncdataend)||void 0===tt||tt.call(q)):this.oncomment("[CDATA["+L+"]]")},D.prototype.onerror=function(L){var U,S;null===(S=(U=this.cbs).onerror)||void 0===S||S.call(U,L)},D.prototype.onend=function(){var L,U;if(this.cbs.onclosetag)for(var S=this.stack.length;S>0;this.cbs.onclosetag(this.stack[--S]));null===(U=(L=this.cbs).onend)||void 0===U||U.call(L)},D.prototype.reset=function(){var L,U,S,G;null===(U=(L=this.cbs).onreset)||void 0===U||U.call(L),this.tokenizer.reset(),this.tagname="",this.attribname="",this.attribs=null,this.stack=[],null===(G=(S=this.cbs).onparserinit)||void 0===G||G.call(S,this)},D.prototype.parseComplete=function(L){this.reset(),this.end(L)},D.prototype.write=function(L){this.tokenizer.write(L)},D.prototype.end=function(L){this.tokenizer.end(L)},D.prototype.pause=function(){this.tokenizer.pause()},D.prototype.resume=function(){this.tokenizer.resume()},D.prototype.parseChunk=function(L){this.write(L)},D.prototype.done=function(L){this.end(L)},D}();g.Parser=I},9889:function(x,g,M){"use strict";var h=this&&this.__importDefault||function(Ht){return Ht&&Ht.__esModule?Ht:{default:Ht}};Object.defineProperty(g,"__esModule",{value:!0});var y=h(M(26)),m=h(M(9323)),_=h(M(9591)),b=h(M(2586));function T(Ht){return" "===Ht||"\n"===Ht||"\t"===Ht||"\f"===Ht||"\r"===Ht}function C(Ht){return Ht>="a"&&Ht<="z"||Ht>="A"&&Ht<="Z"}function k(Ht,_t,Xt){var Gt=Ht.toLowerCase();return Ht===Gt?function(Pt,he){he===Gt?Pt._state=_t:(Pt._state=Xt,Pt._index--)}:function(Pt,he){he===Gt||he===Ht?Pt._state=_t:(Pt._state=Xt,Pt._index--)}}function A(Ht,_t){var Xt=Ht.toLowerCase();return function(Gt,Pt){Pt===Xt||Pt===Ht?Gt._state=_t:(Gt._state=3,Gt._index--)}}var I=k("C",24,16),D=k("D",25,16),L=k("A",26,16),U=k("T",27,16),S=k("A",28,16),G=A("R",35),Y=A("I",36),q=A("P",37),tt=A("T",38),ht=k("R",40,1),ut=k("I",41,1),bt=k("P",42,1),F=k("T",43,1),B=A("Y",45),X=A("L",46),J=A("E",47),K=k("Y",49,1),at=k("L",50,1),Q=k("E",51,1),gt=A("I",54),ot=A("T",55),Ot=A("L",56),yt=A("E",57),Et=k("I",58,1),Mt=k("T",59,1),jt=k("L",60,1),Ut=k("E",61,1),le=k("#",63,64),Zt=k("X",66,65),ie=function(){function Ht(_t,Xt){var Gt;this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1,this.cbs=Xt,this.xmlMode=!!_t?.xmlMode,this.decodeEntities=null===(Gt=_t?.decodeEntities)||void 0===Gt||Gt}return Ht.prototype.reset=function(){this._state=1,this.buffer="",this.sectionStart=0,this._index=0,this.bufferOffset=0,this.baseState=1,this.special=1,this.running=!0,this.ended=!1},Ht.prototype.write=function(_t){this.ended&&this.cbs.onerror(Error(".write() after done!")),this.buffer+=_t,this.parse()},Ht.prototype.end=function(_t){this.ended&&this.cbs.onerror(Error(".end() after done!")),_t&&this.write(_t),this.ended=!0,this.running&&this.finish()},Ht.prototype.pause=function(){this.running=!1},Ht.prototype.resume=function(){this.running=!0,this._index<this.buffer.length&&this.parse(),this.ended&&this.finish()},Ht.prototype.getAbsoluteIndex=function(){return this.bufferOffset+this._index},Ht.prototype.stateText=function(_t){"<"===_t?(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this._state=2,this.sectionStart=this._index):!this.decodeEntities||"&"!==_t||1!==this.special&&4!==this.special||(this._index>this.sectionStart&&this.cbs.ontext(this.getSection()),this.baseState=1,this._state=62,this.sectionStart=this._index)},Ht.prototype.isTagStartChar=function(_t){return C(_t)||this.xmlMode&&!T(_t)&&"/"!==_t&&">"!==_t},Ht.prototype.stateBeforeTagName=function(_t){"/"===_t?this._state=5:"<"===_t?(this.cbs.ontext(this.getSection()),this.sectionStart=this._index):">"===_t||1!==this.special||T(_t)?this._state=1:"!"===_t?(this._state=15,this.sectionStart=this._index+1):"?"===_t?(this._state=17,this.sectionStart=this._index+1):this.isTagStartChar(_t)?(this._state=this.xmlMode||"s"!==_t&&"S"!==_t?this.xmlMode||"t"!==_t&&"T"!==_t?3:52:32,this.sectionStart=this._index):this._state=1},Ht.prototype.stateInTagName=function(_t){("/"===_t||">"===_t||T(_t))&&(this.emitToken("onopentagname"),this._state=8,this._index--)},Ht.prototype.stateBeforeClosingTagName=function(_t){T(_t)||(">"===_t?this._state=1:1!==this.special?4===this.special||"s"!==_t&&"S"!==_t?4!==this.special||"t"!==_t&&"T"!==_t?(this._state=1,this._index--):this._state=53:this._state=33:this.isTagStartChar(_t)?(this._state=6,this.sectionStart=this._index):(this._state=20,this.sectionStart=this._index))},Ht.prototype.stateInClosingTagName=function(_t){(">"===_t||T(_t))&&(this.emitToken("onclosetag"),this._state=7,this._index--)},Ht.prototype.stateAfterClosingTagName=function(_t){">"===_t&&(this._state=1,this.sectionStart=this._index+1)},Ht.prototype.stateBeforeAttributeName=function(_t){">"===_t?(this.cbs.onopentagend(),this._state=1,this.sectionStart=this._index+1):"/"===_t?this._state=4:T(_t)||(this._state=9,this.sectionStart=this._index)},Ht.prototype.stateInSelfClosingTag=function(_t){">"===_t?(this.cbs.onselfclosingtag(),this._state=1,this.sectionStart=this._index+1,this.special=1):T(_t)||(this._state=8,this._index--)},Ht.prototype.stateInAttributeName=function(_t){("="===_t||"/"===_t||">"===_t||T(_t))&&(this.cbs.onattribname(this.getSection()),this.sectionStart=-1,this._state=10,this._index--)},Ht.prototype.stateAfterAttributeName=function(_t){"="===_t?this._state=11:"/"===_t||">"===_t?(this.cbs.onattribend(void 0),this._state=8,this._index--):T(_t)||(this.cbs.onattribend(void 0),this._state=9,this.sectionStart=this._index)},Ht.prototype.stateBeforeAttributeValue=function(_t){'"'===_t?(this._state=12,this.sectionStart=this._index+1):"'"===_t?(this._state=13,this.sectionStart=this._index+1):T(_t)||(this._state=14,this.sectionStart=this._index,this._index--)},Ht.prototype.handleInAttributeValue=function(_t,Xt){_t===Xt?(this.emitToken("onattribdata"),this.cbs.onattribend(Xt),this._state=8):this.decodeEntities&&"&"===_t&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},Ht.prototype.stateInAttributeValueDoubleQuotes=function(_t){this.handleInAttributeValue(_t,'"')},Ht.prototype.stateInAttributeValueSingleQuotes=function(_t){this.handleInAttributeValue(_t,"'")},Ht.prototype.stateInAttributeValueNoQuotes=function(_t){T(_t)||">"===_t?(this.emitToken("onattribdata"),this.cbs.onattribend(null),this._state=8,this._index--):this.decodeEntities&&"&"===_t&&(this.emitToken("onattribdata"),this.baseState=this._state,this._state=62,this.sectionStart=this._index)},Ht.prototype.stateBeforeDeclaration=function(_t){this._state="["===_t?23:"-"===_t?18:16},Ht.prototype.stateInDeclaration=function(_t){">"===_t&&(this.cbs.ondeclaration(this.getSection()),this._state=1,this.sectionStart=this._index+1)},Ht.prototype.stateInProcessingInstruction=function(_t){">"===_t&&(this.cbs.onprocessinginstruction(this.getSection()),this._state=1,this.sectionStart=this._index+1)},Ht.prototype.stateBeforeComment=function(_t){"-"===_t?(this._state=19,this.sectionStart=this._index+1):this._state=16},Ht.prototype.stateInComment=function(_t){"-"===_t&&(this._state=21)},Ht.prototype.stateInSpecialComment=function(_t){">"===_t&&(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index)),this._state=1,this.sectionStart=this._index+1)},Ht.prototype.stateAfterComment1=function(_t){this._state="-"===_t?22:19},Ht.prototype.stateAfterComment2=function(_t){">"===_t?(this.cbs.oncomment(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"-"!==_t&&(this._state=19)},Ht.prototype.stateBeforeCdata6=function(_t){"["===_t?(this._state=29,this.sectionStart=this._index+1):(this._state=16,this._index--)},Ht.prototype.stateInCdata=function(_t){"]"===_t&&(this._state=30)},Ht.prototype.stateAfterCdata1=function(_t){this._state="]"===_t?31:29},Ht.prototype.stateAfterCdata2=function(_t){">"===_t?(this.cbs.oncdata(this.buffer.substring(this.sectionStart,this._index-2)),this._state=1,this.sectionStart=this._index+1):"]"!==_t&&(this._state=29)},Ht.prototype.stateBeforeSpecialS=function(_t){"c"===_t||"C"===_t?this._state=34:"t"===_t||"T"===_t?this._state=44:(this._state=3,this._index--)},Ht.prototype.stateBeforeSpecialSEnd=function(_t){2!==this.special||"c"!==_t&&"C"!==_t?3!==this.special||"t"!==_t&&"T"!==_t?this._state=1:this._state=48:this._state=39},Ht.prototype.stateBeforeSpecialLast=function(_t,Xt){("/"===_t||">"===_t||T(_t))&&(this.special=Xt),this._state=3,this._index--},Ht.prototype.stateAfterSpecialLast=function(_t,Xt){">"===_t||T(_t)?(this.special=1,this._state=6,this.sectionStart=this._index-Xt,this._index--):this._state=1},Ht.prototype.parseFixedEntity=function(_t){if(void 0===_t&&(_t=this.xmlMode?b.default:m.default),this.sectionStart+1<this._index){var Xt=this.buffer.substring(this.sectionStart+1,this._index);Object.prototype.hasOwnProperty.call(_t,Xt)&&(this.emitPartial(_t[Xt]),this.sectionStart=this._index+1)}},Ht.prototype.parseLegacyEntity=function(){for(var _t=this.sectionStart+1,Xt=Math.min(this._index-_t,6);Xt>=2;){var Gt=this.buffer.substr(_t,Xt);if(Object.prototype.hasOwnProperty.call(_.default,Gt))return this.emitPartial(_.default[Gt]),void(this.sectionStart+=Xt+1);Xt--}},Ht.prototype.stateInNamedEntity=function(_t){";"===_t?(this.parseFixedEntity(),1===this.baseState&&this.sectionStart+1<this._index&&!this.xmlMode&&this.parseLegacyEntity(),this._state=this.baseState):(_t<"0"||_t>"9")&&!C(_t)&&(this.xmlMode||this.sectionStart+1===this._index||(1!==this.baseState?"="!==_t&&this.parseFixedEntity(_.default):this.parseLegacyEntity()),this._state=this.baseState,this._index--)},Ht.prototype.decodeNumericEntity=function(_t,Xt,Gt){var Pt=this.sectionStart+_t;if(Pt!==this._index){var he=this.buffer.substring(Pt,this._index),fe=parseInt(he,Xt);this.emitPartial(y.default(fe)),this.sectionStart=Gt?this._index+1:this._index}this._state=this.baseState},Ht.prototype.stateInNumericEntity=function(_t){";"===_t?this.decodeNumericEntity(2,10,!0):(_t<"0"||_t>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(2,10,!1),this._index--)},Ht.prototype.stateInHexEntity=function(_t){";"===_t?this.decodeNumericEntity(3,16,!0):(_t<"a"||_t>"f")&&(_t<"A"||_t>"F")&&(_t<"0"||_t>"9")&&(this.xmlMode?this._state=this.baseState:this.decodeNumericEntity(3,16,!1),this._index--)},Ht.prototype.cleanup=function(){this.sectionStart<0?(this.buffer="",this.bufferOffset+=this._index,this._index=0):this.running&&(1===this._state?(this.sectionStart!==this._index&&this.cbs.ontext(this.buffer.substr(this.sectionStart)),this.buffer="",this.bufferOffset+=this._index,this._index=0):this.sectionStart===this._index?(this.buffer="",this.bufferOffset+=this._index,this._index=0):(this.buffer=this.buffer.substr(this.sectionStart),this._index-=this.sectionStart,this.bufferOffset+=this.sectionStart),this.sectionStart=0)},Ht.prototype.parse=function(){for(;this._index<this.buffer.length&&this.running;){var _t=this.buffer.charAt(this._index);1===this._state?this.stateText(_t):12===this._state?this.stateInAttributeValueDoubleQuotes(_t):9===this._state?this.stateInAttributeName(_t):19===this._state?this.stateInComment(_t):20===this._state?this.stateInSpecialComment(_t):8===this._state?this.stateBeforeAttributeName(_t):3===this._state?this.stateInTagName(_t):6===this._state?this.stateInClosingTagName(_t):2===this._state?this.stateBeforeTagName(_t):10===this._state?this.stateAfterAttributeName(_t):13===this._state?this.stateInAttributeValueSingleQuotes(_t):11===this._state?this.stateBeforeAttributeValue(_t):5===this._state?this.stateBeforeClosingTagName(_t):7===this._state?this.stateAfterClosingTagName(_t):32===this._state?this.stateBeforeSpecialS(_t):21===this._state?this.stateAfterComment1(_t):14===this._state?this.stateInAttributeValueNoQuotes(_t):4===this._state?this.stateInSelfClosingTag(_t):16===this._state?this.stateInDeclaration(_t):15===this._state?this.stateBeforeDeclaration(_t):22===this._state?this.stateAfterComment2(_t):18===this._state?this.stateBeforeComment(_t):33===this._state?this.stateBeforeSpecialSEnd(_t):53===this._state?Et(this,_t):39===this._state?ht(this,_t):40===this._state?ut(this,_t):41===this._state?bt(this,_t):34===this._state?G(this,_t):35===this._state?Y(this,_t):36===this._state?q(this,_t):37===this._state?tt(this,_t):38===this._state?this.stateBeforeSpecialLast(_t,2):42===this._state?F(this,_t):43===this._state?this.stateAfterSpecialLast(_t,6):44===this._state?B(this,_t):29===this._state?this.stateInCdata(_t):45===this._state?X(this,_t):46===this._state?J(this,_t):47===this._state?this.stateBeforeSpecialLast(_t,3):48===this._state?K(this,_t):49===this._state?at(this,_t):50===this._state?Q(this,_t):51===this._state?this.stateAfterSpecialLast(_t,5):52===this._state?gt(this,_t):54===this._state?ot(this,_t):55===this._state?Ot(this,_t):56===this._state?yt(this,_t):57===this._state?this.stateBeforeSpecialLast(_t,4):58===this._state?Mt(this,_t):59===this._state?jt(this,_t):60===this._state?Ut(this,_t):61===this._state?this.stateAfterSpecialLast(_t,5):17===this._state?this.stateInProcessingInstruction(_t):64===this._state?this.stateInNamedEntity(_t):23===this._state?I(this,_t):62===this._state?le(this,_t):24===this._state?D(this,_t):25===this._state?L(this,_t):30===this._state?this.stateAfterCdata1(_t):31===this._state?this.stateAfterCdata2(_t):26===this._state?U(this,_t):27===this._state?S(this,_t):28===this._state?this.stateBeforeCdata6(_t):66===this._state?this.stateInHexEntity(_t):65===this._state?this.stateInNumericEntity(_t):63===this._state?Zt(this,_t):this.cbs.onerror(Error("unknown _state"),this._state),this._index++}this.cleanup()},Ht.prototype.finish=function(){this.sectionStart<this._index&&this.handleTrailingData(),this.cbs.onend()},Ht.prototype.handleTrailingData=function(){var _t=this.buffer.substr(this.sectionStart);29===this._state||30===this._state||31===this._state?this.cbs.oncdata(_t):19===this._state||21===this._state||22===this._state?this.cbs.oncomment(_t):64!==this._state||this.xmlMode?65!==this._state||this.xmlMode?66!==this._state||this.xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this.cbs.ontext(_t):(this.decodeNumericEntity(3,16,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.decodeNumericEntity(2,10,!1),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData())):(this.parseLegacyEntity(),this.sectionStart<this._index&&(this._state=this.baseState,this.handleTrailingData()))},Ht.prototype.getSection=function(){return this.buffer.substring(this.sectionStart,this._index)},Ht.prototype.emitToken=function(_t){this.cbs[_t](this.getSection()),this.sectionStart=-1},Ht.prototype.emitPartial=function(_t){1!==this.baseState?this.cbs.onattribdata(_t):this.cbs.ontext(_t)},Ht}();g.default=ie},3719:function(x,g,M){"use strict";var h=this&&this.__createBinding||(Object.create?function(L,U,S,G){void 0===G&&(G=S),Object.defineProperty(L,G,{enumerable:!0,get:function(){return U[S]}})}:function(L,U,S,G){void 0===G&&(G=S),L[G]=U[S]}),y=this&&this.__setModuleDefault||(Object.create?function(L,U){Object.defineProperty(L,"default",{enumerable:!0,value:U})}:function(L,U){L.default=U}),m=this&&this.__importStar||function(L){if(L&&L.__esModule)return L;var U={};if(null!=L)for(var S in L)"default"!==S&&Object.prototype.hasOwnProperty.call(L,S)&&h(U,L,S);return y(U,L),U},_=this&&this.__exportStar||function(L,U){for(var S in L)"default"===S||Object.prototype.hasOwnProperty.call(U,S)||h(U,L,S)},b=this&&this.__importDefault||function(L){return L&&L.__esModule?L:{default:L}};Object.defineProperty(g,"__esModule",{value:!0}),g.RssHandler=g.DefaultHandler=g.DomUtils=g.ElementType=g.Tokenizer=g.createDomStream=g.parseDOM=g.parseDocument=g.DomHandler=g.Parser=void 0;var T=M(763);Object.defineProperty(g,"Parser",{enumerable:!0,get:function(){return T.Parser}});var C=M(7915);function k(L,U){var S=new C.DomHandler(void 0,U);return new T.Parser(S,U).end(L),S.root}Object.defineProperty(g,"DomHandler",{enumerable:!0,get:function(){return C.DomHandler}}),Object.defineProperty(g,"DefaultHandler",{enumerable:!0,get:function(){return C.DomHandler}}),g.parseDocument=k,g.parseDOM=function(L,U){return k(L,U).children},g.createDomStream=function(L,U,S){var G=new C.DomHandler(L,U,S);return new T.Parser(G,U)};var A=M(9889);Object.defineProperty(g,"Tokenizer",{enumerable:!0,get:function(){return b(A).default}});var I=m(M(9960));g.ElementType=I,_(M(3870),g),g.DomUtils=m(M(9432));var D=M(3870);Object.defineProperty(g,"RssHandler",{enumerable:!0,get:function(){return D.FeedHandler}})},6094:(x,g,M)=>{"use strict";var h=M(9018),y=M(8880)(function(_,b){return h(_,{xmlMode:b&&b.xmlMode},m,[b])}),m=function(_,b){return y.juiceDocument(_,b)};y.inlineContent=function(_,b,T){return h(_,{xmlMode:T&&T.xmlMode},y.inlineDocument,[b,T])},x.exports=y},9018:(x,g,M)=>{"use strict";var h=M(7503);M(9671),x.exports=function(y,m,_,b){var T,D,L,U,C=(T=[],{encodeEntities:function(D){var L=x.exports.codeBlocks;return Object.keys(L).forEach(function(U){var S=new RegExp(L[U].start+"([\\S\\s]*?)"+L[U].end,"g");D=D.replace(S,function(G,Y){return T.push(G),"JUICE_CODE_BLOCK_"+(T.length-1)+"_"})}),D},decodeEntities:function(D){for(var L=0;L<T.length;L++){var U=new RegExp("JUICE_CODE_BLOCK_"+L+'_(="")?',"gi");D=D.replace(U,function(){return T[L]})}return D}}),k=(D=y,L=m,U=C.encodeEntities,L=Object.assign({decodeEntities:!1,_useHtmlParser2:!0},L),D=U(D),h.load(D,L)),A=[k];A.push.apply(A,b);var I=_.apply(void 0,A)||k;return m&&m.xmlMode?C.decodeEntities(I.xml()):C.decodeEntities(I.html())},x.exports.codeBlocks={EJS:{start:"<%",end:"%>"},HBS:{start:"{{",end:"}}"}}},8880:(x,g,M)=>{"use strict";var h=M(9671),y=M(5468);x.exports=function(m){function _(A,I,D){D=D||{};var L=h.parseCSS(I),U=[],S="style",G={};if(D.styleAttributeName&&(S=D.styleAttributeName),L.forEach(function(ut){var bt=ut[0],F=ut[1],B=new h.Selector(bt),X=B.parsed();if(X){for(var J,K=function(Et){if(0!==Et.length){var Mt=Et[Et.length-1].pseudos;if(Mt)for(var jt=0;jt<Mt.length;jt++)if(k(Mt[jt]))return Mt[jt].name}}(X),at=0;at<X.length;++at){var Q=X[at];if(Q.pseudos)for(var gt=0;gt<Q.pseudos.length;++gt){var ot=Q.pseudos[gt];if(m.ignoredPseudos.indexOf(ot.name)>=0)return}}if(K){var Ot=X[X.length-1],yt=Ot.pseudos;Ot.pseudos=Ot.pseudos.filter(function(Mt){return!k(Mt)}),bt=X.toString(),Ot.pseudos=yt}try{J=A(bt)}catch{return}J.each(function(){var Et=this;if(!(Et.name&&m.nonVisualElements.indexOf(Et.name.toUpperCase())>=0)){if(K){var Mt="pseudo"+K,jt=Et[Mt];jt||((jt=Et[Mt]=A("<span />").get(0)).pseudoElementType=K,jt.pseudoElementParent=Et,jt.counterProps=Et.counterProps,Et[Mt]=jt),Et=jt}if(!Et.styleProps){if(Et.styleProps={},A(Et).attr(S)){var Ut="* { "+A(Et).attr(S)+" } ";ie(h.parseCSS(Ut)[0][1],new h.Selector("<style>",!0))}U.push(Et)}Et.counterProps||(Et.counterProps=Et.parent&&Et.parent.counterProps?Object.create(Et.parent.counterProps):{}),ie(F,B)}function le(Ht,_t){for(var Xt=_t.split(/\s+/),Gt=0;Gt<Xt.length;Gt++){var Pt=Xt[Gt],he=parseInt(Xt[Gt+1],10);isNaN(he)?Ht.counterProps[Pt]=G[Pt]=0:Ht.counterProps[Pt]=G[Xt[Gt++]]=he}}function Zt(Ht,_t){for(var Xt=_t.split(/\s+/),Gt=0;Gt<Xt.length;Gt++){var Pt=Xt[Gt];if(void 0!==Ht.counterProps[Pt]){var he=parseInt(Xt[Gt+1],10);isNaN(he)?Ht.counterProps[Pt]=G[Pt]+=1:Ht.counterProps[Pt]=G[Xt[Gt++]]+=he}}}function ie(Ht,_t){for(var Xt=0,Gt=Ht.length;Xt<Gt;Xt++)if("property"==Ht[Xt].type){var Pt=Ht[Xt].name,he=Ht[Xt].value;"counter-reset"===Pt&&le(Et,he),"counter-increment"===Pt&&Zt(Et,he);var fe=null!==he.match(/!important$/);fe&&!D.preserveImportant&&(he=b(he));var Ce=[Ht[Xt].position.start.line,Ht[Xt].position.start.col],Ee=new h.Property(Pt,he,_t,fe?2:0,Ce),Te=Et.styleProps[Pt];m.excludedProperties.indexOf(Pt)<0&&(Te&&Te.compare(Ee)===Ee||!Te)&&(Te&&Te.selector!==_t?delete Et.styleProps[Pt]:Te&&(Ee.nextProp=Te),Et.styleProps[Pt]=Ee)}}})}}),U.forEach(function(ut){Object.keys(ut.styleProps).length;var bt=[];Object.keys(ut.styleProps).forEach(function(B){for(var X=ut.styleProps[B];void 0!==X;)bt.push(X),X=X.nextProp}),bt.sort(function(B,X){return B.compareFunc(X)});var F=bt.filter(function(B){return"content"!==B.prop}).map(function(B){return B.prop+": "+B.value.replace(/["]/g,"'")+";"}).join(" ");F&&A(ut).attr(S,F)}),D.inlinePseudoElements&&U.forEach(function(ut){if(ut.pseudoElementType&&ut.styleProps.content){var bt=function(B){var X=B.styleProps.content.value;if("none"===X||"normal"===X)return"";var J=X.match(/^\s*url\s*\(\s*(.*?)\s*\)\s*$/i);if(J)return{img:J[1].replace(/^['"]|['"]$/g,"")};for(var K=[],at=X.split(/['"]/),Q=0;Q<at.length;Q++)if(""!==at[Q]){var gt=at[Q].match(/var\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(gt){var ot=T(B,gt[1])||gt[2];K.push(ot.replace(/^['"]|['"]$/g,""))}else{var Ot=at[Q].match(/counter\s*\(\s*(.*?)\s*(,\s*(.*?)\s*)?\s*\)/i);if(Ot&&Ot[1]in B.counterProps){var yt=B.counterProps[Ot[1]];K.push(C(yt,Ot[3]))}else{var Et=at[Q].match(/attr\s*\(\s*(.*?)\s*\)/i);if(Et){var Mt=Et[1];K.push(B.pseudoElementParent?B.pseudoElementParent.attribs[Mt]:B.attribs[Mt])}else K.push(at[Q])}}}return(X=K.join("")).replace(/\\/g,"")}(ut);bt.img?(ut.name="img",A(ut).attr("src",bt.img)):A(ut).text(bt);var F=ut.pseudoElementParent;"before"===ut.pseudoElementType?A(F).prepend(ut):A(F).append(ut)}}),D.applyWidthAttributes&&U.forEach(function(ut){tt(ut,"width")}),D.applyHeightAttributes&&U.forEach(function(ut){tt(ut,"height")}),D.applyAttributesTableElements&&U.forEach(function(ut){if(ut.name){var bt=ut.name.toUpperCase(),F=Object.keys(m.styleToAttribute);if(m.tableElements.indexOf(bt)>-1)for(var B in ut.styleProps)if(F.indexOf(ut.styleProps[B].prop)>-1){var X=m.styleToAttribute[ut.styleProps[B].prop],J=ut.styleProps[B].value;if(D.preserveImportant&&(J=b(J)),"background"===X&&(J=ht(J)),/(linear|radial)-gradient\(/i.test(J))continue;A(ut).attr(X,J)}}}),D.insertPreservedExtraCss&&D.extraCss){var Y=h.getPreservedText(D.extraCss,{mediaQueries:D.preserveMediaQueries,fontFaces:D.preserveFontFaces,keyFrames:D.preserveKeyFrames});if(Y){var q=null;!0!==D.insertPreservedExtraCss?q=A(D.insertPreservedExtraCss):((q=A("head")).length||(q=A("body")),q.length||(q=A.root())),q.first().append("<style>"+Y+"</style>")}}function tt(ut,bt){if(ut.name){var F=ut.name.toUpperCase();if(m[bt+"Elements"].indexOf(F)>-1)for(var B in ut.styleProps)if(ut.styleProps[B].prop===bt){var X=ut.styleProps[B].value;if(D.preserveImportant&&(X=b(X)),X.match(/px/)){var J=X.replace("px","");return void A(ut).attr(bt,J)}if(m.tableElements.indexOf(F)>-1&&X.match(/\%/))return void A(ut).attr(bt,X)}}}function ht(ut){return 0!==ut.indexOf("url(")?ut:ut.replace(/^url\((["'])?([^"']+)\1\)$/,"$2")}}function b(A){return A.replace(/\s*!important$/,"")}function T(A,I){for(;A;){if(I in A.styleProps)return A.styleProps[I].value;A=A.pseudoElementParent||A.parent}}function C(A,I){switch(I){case"lower-roman":return y.romanize(A).toLowerCase();case"upper-roman":return y.romanize(A);case"lower-latin":case"lower-alpha":return y.alphanumeric(A).toLowerCase();case"upper-latin":case"upper-alpha":return y.alphanumeric(A);default:return A.toString()}}function k(A){return"before"===A.name||"after"===A.name}return m.ignoredPseudos=["hover","active","focus","visited","link"],m.widthElements=["TABLE","TD","TH","IMG"],m.heightElements=["TABLE","TD","TH","IMG"],m.tableElements=["TABLE","TH","TR","TD","CAPTION","COLGROUP","COL","THEAD","TBODY","TFOOT"],m.nonVisualElements=["HEAD","TITLE","BASE","LINK","STYLE","META","SCRIPT","NOSCRIPT"],m.styleToAttribute={"background-color":"bgcolor","background-image":"background","text-align":"align","vertical-align":"valign"},m.excludedProperties=[],m.juiceDocument=function(A,I){I=h.getDefaultOptions(I);var Y,q,tt,ht,ut,bt,D=(q=I,bt=[],(Y=A)("style").each(function(){var B=!!(ut=this).childNodes;if(1===(tt=B?ut.childNodes:ut.children).length){if(ht=tt[0].data,q.applyStyleTags&&void 0===Y(ut).attr("data-embed")&&bt.push(ht),q.removeStyleTags&&void 0===Y(ut).attr("data-embed")){var X=B?ut.childNodes[0].nodeValue:ut.children[0].data,J=h.getPreservedText(X,{mediaQueries:q.preserveMediaQueries,fontFaces:q.preserveFontFaces,keyFrames:q.preserveKeyFrames,pseudos:q.preservePseudos},m.ignoredPseudos);J?B?ut.childNodes[0].nodeValue=J:ut.children[0].data=J:Y(ut).remove()}Y(ut).removeAttr("data-embed")}else q.removeStyleTags&&Y(ut).remove()}),bt).join("\n");return _(A,D+="\n"+I.extraCss,I),A},m.inlineDocument=_,m}},5468:(x,g)=>{"use strict";g.romanize=function(M){if(isNaN(M))return NaN;for(var h=String(+M).split(""),y=["","C","CC","CCC","CD","D","DC","DCC","DCCC","CM","","X","XX","XXX","XL","L","LX","LXX","LXXX","XC","","I","II","III","IV","V","VI","VII","VIII","IX"],m="",_=3;_--;)m=(y[+h.pop()+10*_]||"")+m;return Array(+h.join("")+1).join("M")+m},g.alphanumeric=function(M){for(var h,y="";M>0;)h=(M-1)%26,y=String.fromCharCode(65+h)+y,M=(M-h)/26|0;return y||void 0}},4777:(x,g,M)=>{"use strict";x.exports=y;var h=M(9671);function y(m,_,b,T,C){this.prop=m,this.value=_,this.selector=b,this.priority=T||0,this.additionalPriority=C||[]}y.prototype.compareFunc=function(m){var _=[];_.push.apply(_,this.selector.specificity()),_.push.apply(_,this.additionalPriority),_[0]+=this.priority;var b=[];return b.push.apply(b,m.selector.specificity()),b.push.apply(b,m.additionalPriority),b[0]+=m.priority,h.compareFunc(_,b)},y.prototype.compare=function(m){return 1===this.compareFunc(m)?this:m},y.prototype.toString=function(){return this.prop+": "+this.value.replace(/['"]+/g,"")+";"}},9240:(x,g,M)=>{"use strict";var h=M(6585);function y(_,b){this.text=_,this.spec=void 0,this.styleAttribute=b||!1}function m(_){try{return h(_)[0]}catch{return[]}}x.exports=y,y.prototype.parsed=function(){return this.tokens||(this.tokens=m(this.text)),this.tokens},y.prototype.specificity=function(){var _=this.styleAttribute;return this.spec||(this.spec=function b(T,C){for(var k=C||m(T),A=[_?1:0,0,0,0],I=[],D=0;D<k.length;D++){var L=k[D],U=L.pseudos;if(L.id&&A[1]++,L.attributes&&(A[2]+=L.attributes.length),L.classList&&(A[2]+=L.classList.length),L.tag&&"*"!==L.tag&&A[3]++,U){A[3]+=U.length;for(var S=0;S<U.length;S++)"not"===U[S].name&&(I.push(U[S].value),A[3]--)}}for(var G=I.length;G--;)for(var Y=b(I[G]),q=4;q--;)A[q]+=Y[q];return A}(this.text,this.parsed())),this.spec}},9671:(x,g,M)=>{"use strict";var h=M(4984),y=M(9240),m=M(4777);g.Selector=y,g.Property=m,g.extract=function(_){for(var b=0,T=[],C="",k=0,A=_.length;k<A;k++){var I=_.charAt(k);b?("]"!==I&&")"!==I||b--,C+=I):","===I?(T.push(C),C=""):("["!==I&&"("!==I||b++,(C.length||","!==I&&"\n"!==I&&" "!==I)&&(C+=I))}return C.length&&T.push(C),T},g.parseCSS=function(_){for(var b=h.parse(_,{position:!0,comments:!0}),T=void 0!==b.stylesheet&&b.stylesheet.rules?b.stylesheet.rules:[],C=[],k=0,A=T.length;k<A;k++)if("rule"==T[k].type)for(var I=T[k],D=I.selectors,L=0,U=D.length;L<U;L++)C.push([D[L],I.declarations]);return C},g.getPreservedText=function(_,b,T){for(var C=h.parse(_,{position:!0,comments:!0}),k=void 0!==C.stylesheet&&C.stylesheet.rules?C.stylesheet.rules:[],A=[],I=k.length-1;I>=0;I--)(b.fontFaces&&"font-face"===k[I].type||b.mediaQueries&&"media"===k[I].type||b.keyFrames&&"keyframes"===k[I].type||b.pseudos&&k[I].selectors&&this.matchesPseudo(k[I].selectors[0],T))&&A.unshift(h.stringify({stylesheet:{rules:[k[I]]}},{comments:!1,indentation:"  "})),k[I].position.start;return 0!==A.length&&"\n"+A.join("\n")+"\n"},g.normalizeLineEndings=function(_){return _.replace(/\r\n/g,"\n").replace(/\n/g,"\r\n")},g.matchesPseudo=function(_,b){return b.find(function(T){return _.indexOf(T)>-1})},g.compareFunc=function(_,b){for(var T=Math.min(_.length,b.length),C=0;C<T;C++)if(_[C]!==b[C])return _[C]>b[C]?1:-1;return _.length-b.length},g.compare=function(_,b){return 1==g.compareFunc(_,b)?_:b},g.getDefaultOptions=function(_){var b=Object.assign({extraCss:"",insertPreservedExtraCss:!0,applyStyleTags:!0,removeStyleTags:!0,preserveMediaQueries:!0,preserveFontFaces:!0,preserveKeyFrames:!0,preservePseudos:!0,applyWidthAttributes:!0,applyHeightAttributes:!0,applyAttributesTableElements:!0,url:""},_);return b.webResources=b.webResources||{},b}},4984:(x,g,M)=>{x.exports={lex:M(5625),parse:M(2579),stringify:M(7134)}},1514:(x,g)=>{function M(h){var y=[].slice.call(arguments,1);y.unshift("["+h+"]"),process.stderr.write(y.join(" ")+"\n")}x.exports=function(h){return M.bind(null,h)}},5625:(x,g,M)=>{var h=!1,m=M(1514)("lex");x.exports=function(_){var T,Mt,jt,C="",k=0,A=-1,I=0,D=1,L="before-selector",U=[L],S={},G=[],Y=["media","keyframes",{name:"-webkit-keyframes",type:"keyframes",prefix:"-webkit-"},{name:"-moz-keyframes",type:"keyframes",prefix:"-moz-"},{name:"-ms-keyframes",type:"keyframes",prefix:"-ms-"},{name:"-o-keyframes",type:"keyframes",prefix:"-o-"},"font-face",{name:"import",state:"before-at-value"},{name:"charset",state:"before-at-value"},"supports","viewport",{name:"namespace",state:"before-at-value"},"document",{name:"-moz-document",type:"document",prefix:"-moz-"},"page"];function q(Mt){return Mt?U[U.length-1-Mt]:L}function tt(Mt){var jt=A+1;return Mt===_.slice(jt,jt+Mt.length)}function ut(Mt){return Mt===bt(1)}function bt(Mt){return _[A+(Mt||1)]}function F(){var Mt=U.pop();return L=U[U.length-1],Mt}function B(Mt){return L=Mt,U.push(L),U.length}function X(Mt){var jt=L;return U[U.length-1]=L=Mt,jt}function J(Mt){if(1==(Mt||1))"\n"==_[A]?(D++,k=1):k++,A++;else{var jt=_.slice(A,A+Mt).split("\n");jt.length>1&&(D+=jt.length-1,k=1),k+=jt[jt.length-1].length,A+=Mt}}function K(){S.end={line:D,col:k},h&&m("addToken:",JSON.stringify(S,null,2)),G.push(S),C="",S={}}function at(Mt){S={type:Mt,start:{line:D,col:k}}}for(;J(),T=_[A];)switch(h&&m(T,q()),T){case" ":switch(q()){case"selector":case"value":case"value-paren":case"at-group":case"at-value":case"comment":case"double-string":case"single-string":C+=T}break;case"\n":case"\t":case"\r":case"\f":switch(q()){case"value":case"value-paren":case"at-group":case"comment":case"single-string":case"double-string":case"selector":C+=T;break;case"at-value":"\n"===T&&(S.value=C.trim(),K(),F())}break;case":":switch(q()){case"name":S.name=C.trim(),C="",X("before-value");break;case"before-selector":C+=T,at("selector"),B("selector");break;case"before-value":X("value"),C+=T;break;default:C+=T}break;case";":switch(q()){case"name":case"before-value":case"value":C.trim().length>0&&(S.value=C.trim(),K()),X("before-name");break;case"value-paren":default:C+=T;break;case"at-value":S.value=C.trim(),K(),F();case"before-name":}break;case"{":switch(q()){case"selector":if("\\"===bt(-1)){C+=T;break}S.text=C.trim(),K(),X("before-name"),I+=1;break;case"at-group":switch(S.name=C.trim(),S.type){case"font-face":case"viewport":case"page":B("before-name");break;default:B("before-selector")}K(),I+=1;break;case"name":case"at-rule":S.name=C.trim(),K(),B("before-name"),I+=1;break;case"comment":case"double-string":case"single-string":C+=T;break;case"before-value":X("value"),C+=T}break;case"}":switch(q()){case"before-name":case"name":case"before-value":case"value":C&&(S.value=C.trim()),S.name&&S.value&&K(),at("end"),K(),F(),"at-group"===q()&&(at("at-group-end"),K(),F()),I>0&&(I-=1);break;case"at-group":case"before-selector":case"selector":if("\\"===bt(-1)){C+=T;break}I>0&&"at-group"===q(1)&&(at("at-group-end"),K()),I>1&&F(),I>0&&(I-=1);break;case"double-string":case"single-string":case"comment":C+=T}break;case'"':case"'":switch(q()){case"double-string":'"'===T&&"\\"!==bt(-1)&&F();break;case"single-string":"'"===T&&"\\"!==bt(-1)&&F();break;case"before-at-value":X("at-value"),B('"'===T?"double-string":"single-string");break;case"before-value":X("value"),B('"'===T?"double-string":"single-string");break;case"comment":break;default:"\\"!==bt(-1)&&B('"'===T?"double-string":"single-string")}C+=T;break;case"/":switch(q()){case"comment":case"double-string":case"single-string":C+=T;break;case"before-value":case"selector":case"name":case"value":if(ut("*")){var Q=(Mt="*/",jt=void 0,(jt=_.slice(A).indexOf(Mt))>0&&jt);Q&&J(Q+1)}else"before-value"==q()&&X("value"),C+=T;break;default:ut("*")?(at("comment"),B("comment"),J()):C+=T}break;case"*":switch(q()){case"comment":ut("/")?(S.text=C,J(),K(),F()):C+=T;break;case"before-selector":C+=T,at("selector"),B("selector");break;case"before-value":X("value"),C+=T;break;default:C+=T}break;case"@":switch(q()){case"comment":case"double-string":case"single-string":C+=T;break;case"before-value":X("value"),C+=T;break;default:for(var gt,ot,Ot=!1,yt=0,Et=Y.length;!Ot&&yt<Et;++yt)tt(gt=(ot=Y[yt]).name||ot)&&(Ot=!0,at(gt),B(ot.state||"at-group"),J(gt.length),ot.prefix&&(S.prefix=ot.prefix),ot.type&&(S.type=ot.type));Ot||(C+=T)}break;case"(":switch(q()){case"value":B("value-paren");break;case"before-value":X("value")}C+=T;break;case")":switch(q()){case"value-paren":F();break;case"before-value":X("value")}C+=T;break;default:switch(q()){case"before-selector":at("selector"),B("selector");break;case"before-name":at("property"),X("name");break;case"before-value":X("value");break;case"before-at-value":X("at-value")}C+=T}return G}},2579:(x,g,M)=>{var h,y,m,_,b=!1,C=M(1514)("parse"),k=M(5625);function A(G,Y){var q;Y||(Y={});for(var tt=["type","name","value"],ht={},ut=0;ut<tt.length;++ut)G[q=tt[ut]]&&(ht[q]=Y[q]||G[q]);for(tt=Object.keys(Y),ut=0;ut<tt.length;++ut)ht[q=tt[ut]]||(ht[q]=Y[q]);return m&&(ht.position={start:G.start,end:G.end}),b&&C("astNode:",JSON.stringify(ht,null,2)),ht}function I(){var G=_.shift();return b&&C("next:",JSON.stringify(G,null,2)),G}function L(G){switch(G.type){case"property":case"charset":case"import":case"namespace":return A(G);case"selector":return function(Y){return A(Y,{type:"rule",selectors:Y.text.split(",").map(function(q){return q.trim()}),declarations:S()})}(G);case"at-group-end":return void(y-=1);case"media":case"keyframes":case"font-face":case"supports":case"viewport":case"document":case"page":return function D(G){y+=1;var Y={};switch(G.type){case"font-face":case"viewport":Y.declarations=S();break;case"page":Y.prefix=G.prefix,Y.declarations=S();break;default:Y.prefix=G.prefix,Y.rules=U(function(){return y})}return A(G,Y)}(G);case"comment":if(h)return function(Y){return A(Y,{text:Y.text})}(G)}b&&C("parseToken: unexpected token:",JSON.stringify(G))}function U(G){for(var Y,q,tt=[];(q=I())&&G&&G(q);)(Y=L(q))&&tt.push(Y);return q&&"end"!==q.type&&_.unshift(q),tt}function S(){return U(function(G){return"property"===G.type||"comment"===G.type})}x.exports=function(G,Y){var tt;Y||(Y={}),h=!!Y.comments,m=!!Y.position,y=0,_=Array.isArray(G)?G.slice():k(G);for(var ht,ut=[];ht=I();)(tt=L(ht))&&ut.push(tt);return{type:"stylesheet",stylesheet:{rules:ut}}}},7134:(x,g,M)=>{var h,y,m,_,b,T,C=!1,A=M(1514)("stringify");function I(tt){if(!tt)return y?"":Array(_).join(m||"");_+=tt}function L(tt){return h?"/*"+(tt.text||"")+"*/"+b:""}function U(tt){var ht;return tt.selectors?ht=tt.selectors.join(","+b):(ht="@"+tt.type,ht+=tt.name?" "+tt.name:""),I()+ht+T+G(tt)+b}function S(tt,ht){return tt.reduce(function(ut,bt){var F="comment"===bt.type?L(bt):ht(bt);return F&&ut.push(F),ut},[])}function G(tt,ht){var ut=tt.declarations,bt=Y;return tt.rules&&(ut=tt.rules,bt=U),(ut=function(F,B){if(!F)return"";I(1);var X=S(F,B);return I(-1),X.length?X.join(b):""}(ut,bt))&&(ut=b+ut+(ht?"":b)),"{"+ut+I()+"}"}function Y(tt){if("property"===tt.type)return ut=(ht=tt).name?ht.name+":"+T:"",I()+ut+ht.value+";";var ht,ut;C&&A("stringifyDeclaration: unexpected node:",JSON.stringify(tt))}function q(tt){switch(tt.type){case"rule":return U(tt);case"media":case"keyframes":case"font-face":case"supports":case"viewport":case"document":case"page":return function D(tt){var ht="",ut=tt.prefix||"";tt.name&&(ht=" "+tt.name);var bt="page"!==tt.type;return"@"+ut+tt.type+ht+T+G(tt,bt)+b}(tt);case"comment":return L(tt);case"import":case"charset":case"namespace":return"@"+(ht=tt).type+" "+ht.value+";"+b}var ht;C&&A("stringifyNode: unexpected node: "+JSON.stringify(tt))}x.exports=function(tt,ht){return ht||(ht={}),m=ht.indentation||"",y=!!ht.compress,h=!!ht.comments,_=1,y?b=T="":(b="\n",T=" "),S(tt.stylesheet.rules,q).join("\n").trim()}},9769:function(x,g,M){"use strict";var h=this&&this.__importDefault||function(m){return m&&m.__esModule?m:{default:m}};Object.defineProperty(g,"__esModule",{value:!0}),g.generate=g.compile=void 0;var y=h(M(1073));g.compile=function(m){var _=m[0],b=m[1]-1;if(b<0&&_<=0)return y.default.falseFunc;if(-1===_)return function(k){return k<=b};if(0===_)return function(k){return k===b};if(1===_)return b<0?y.default.trueFunc:function(k){return k>=b};var T=Math.abs(_),C=(b%T+T)%T;return _>1?function(k){return k>=b&&k%T===C}:function(k){return k<=b&&k%T===C}},g.generate=function(m){var _=m[0],b=m[1]-1,T=0;if(_<0){var C=-_,k=(b%C+C)%C;return function(){var A=k+C*T++;return A>b?null:A}}return 0===_?b<0?function(){return null}:function(){return 0==T++?b:null}:(b<0&&(b+=_*Math.ceil(-b/_)),function(){return _*T+++b})}},7540:(x,g,M)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.sequence=g.generate=g.compile=g.parse=void 0;var h=M(7766);Object.defineProperty(g,"parse",{enumerable:!0,get:function(){return h.parse}});var y=M(9769);Object.defineProperty(g,"compile",{enumerable:!0,get:function(){return y.compile}}),Object.defineProperty(g,"generate",{enumerable:!0,get:function(){return y.generate}}),g.default=function(m){return(0,y.compile)((0,h.parse)(m))},g.sequence=function(m){return(0,y.generate)((0,h.parse)(m))}},7766:(x,g)=>{"use strict";Object.defineProperty(g,"__esModule",{value:!0}),g.parse=void 0;var M=new Set([9,10,12,13,32]),h="0".charCodeAt(0),y="9".charCodeAt(0);g.parse=function(m){if("even"===(m=m.trim().toLowerCase()))return[2,0];if("odd"===m)return[2,1];var _=0,b=0,T=k(),C=A();if(_<m.length&&"n"===m.charAt(_)&&(_++,b=T*(C??1),I(),_<m.length?(T=k(),I(),C=A()):T=C=0),null===C||_<m.length)throw new Error("n-th rule couldn't be parsed ('".concat(m,"')"));return[b,T*C];function k(){return"-"===m.charAt(_)?(_++,-1):("+"===m.charAt(_)&&_++,1)}function A(){for(var D=_,L=0;_<m.length&&m.charCodeAt(_)>=h&&m.charCodeAt(_)<=y;)L=10*L+(m.charCodeAt(_)-h),_++;return _===D?null:L}function I(){for(;_<m.length&&M.has(m.charCodeAt(_));)_++}}},1906:(x,g,M)=>{"use strict";const h=M(1515),{DOCUMENT_MODE:y}=M(6152),m={element:1,text:3,cdata:4,comment:8},_={tagName:"name",childNodes:"children",parentNode:"parent",previousSibling:"prev",nextSibling:"next",nodeValue:"data"};class b{constructor(I){for(const D of Object.keys(I))this[D]=I[D]}get firstChild(){const I=this.children;return I&&I[0]||null}get lastChild(){const I=this.children;return I&&I[I.length-1]||null}get nodeType(){return m[this.type]||m.element}}Object.keys(_).forEach(A=>{const I=_[A];Object.defineProperty(b.prototype,A,{get:function(){return this[I]||null},set:function(D){return this[I]=D,D}})}),g.createDocument=function(){return new b({type:"root",name:"root",parent:null,prev:null,next:null,children:[],"x-mode":y.NO_QUIRKS})},g.createDocumentFragment=function(){return new b({type:"root",name:"root",parent:null,prev:null,next:null,children:[]})},g.createElement=function(A,I,D){const L=Object.create(null),U=Object.create(null),S=Object.create(null);for(let G=0;G<D.length;G++){const Y=D[G].name;L[Y]=D[G].value,U[Y]=D[G].namespace,S[Y]=D[G].prefix}return new b({type:"script"===A||"style"===A?A:"tag",name:A,namespace:I,attribs:L,"x-attribsNamespace":U,"x-attribsPrefix":S,children:[],parent:null,prev:null,next:null})},g.createCommentNode=function(A){return new b({type:"comment",data:A,parent:null,prev:null,next:null})};const T=function(A){return new b({type:"text",data:A,parent:null,prev:null,next:null})},C=g.appendChild=function(A,I){const D=A.children[A.children.length-1];D&&(D.next=I,I.prev=D),A.children.push(I),I.parent=A},k=g.insertBefore=function(A,I,D){const L=A.children.indexOf(D),U=D.prev;U&&(U.next=I,I.prev=U),D.prev=I,I.next=D,A.children.splice(L,0,I),I.parent=A};g.setTemplateContent=function(A,I){C(A,I)},g.getTemplateContent=function(A){return A.children[0]},g.setDocumentType=function(A,I,D,L){const U=h.serializeContent(I,D,L);let S=null;for(let G=0;G<A.children.length;G++)if("directive"===A.children[G].type&&"!doctype"===A.children[G].name){S=A.children[G];break}S?(S.data=U,S["x-name"]=I,S["x-publicId"]=D,S["x-systemId"]=L):C(A,new b({type:"directive",name:"!doctype",data:U,"x-name":I,"x-publicId":D,"x-systemId":L}))},g.setDocumentMode=function(A,I){A["x-mode"]=I},g.getDocumentMode=function(A){return A["x-mode"]},g.detachNode=function(A){if(A.parent){const I=A.parent.children.indexOf(A),D=A.prev,L=A.next;A.prev=null,A.next=null,D&&(D.next=L),L&&(L.prev=D),A.parent.children.splice(I,1),A.parent=null}},g.insertText=function(A,I){const D=A.children[A.children.length-1];D&&"text"===D.type?D.data+=I:C(A,T(I))},g.insertTextBefore=function(A,I,D){const L=A.children[A.children.indexOf(D)-1];L&&"text"===L.type?L.data+=I:k(A,T(I),D)},g.adoptAttributes=function(A,I){for(let D=0;D<I.length;D++){const L=I[D].name;void 0===A.attribs[L]&&(A.attribs[L]=I[D].value,A["x-attribsNamespace"][L]=I[D].namespace,A["x-attribsPrefix"][L]=I[D].prefix)}},g.getFirstChild=function(A){return A.children[0]},g.getChildNodes=function(A){return A.children},g.getParentNode=function(A){return A.parent},g.getAttrList=function(A){const I=[];for(const D in A.attribs)I.push({name:D,value:A.attribs[D],namespace:A["x-attribsNamespace"][D],prefix:A["x-attribsPrefix"][D]});return I},g.getTagName=function(A){return A.name},g.getNamespaceURI=function(A){return A.namespace},g.getTextNodeContent=function(A){return A.data},g.getCommentNodeContent=function(A){return A.data},g.getDocumentTypeNodeName=function(A){return A["x-name"]},g.getDocumentTypeNodePublicId=function(A){return A["x-publicId"]},g.getDocumentTypeNodeSystemId=function(A){return A["x-systemId"]},g.isTextNode=function(A){return"text"===A.type},g.isCommentNode=function(A){return"comment"===A.type},g.isDocumentTypeNode=function(A){return"directive"===A.type&&"!doctype"===A.name},g.isElementNode=function(A){return!!A.attribs},g.setNodeSourceCodeLocation=function(A,I){A.sourceCodeLocation=I},g.getNodeSourceCodeLocation=function(A){return A.sourceCodeLocation},g.updateNodeSourceCodeLocation=function(A,I){A.sourceCodeLocation=Object.assign(A.sourceCodeLocation,I)}},1515:(x,g,M)=>{"use strict";const{DOCUMENT_MODE:h}=M(6152),y="html",b=["+//silmaril//dtd html pro v0r11 19970101//","-//as//dtd html 3.0 aswedit + extensions//","-//advasoft ltd//dtd html 3.0 aswedit + extensions//","-//ietf//dtd html 2.0 level 1//","-//ietf//dtd html 2.0 level 2//","-//ietf//dtd html 2.0 strict level 1//","-//ietf//dtd html 2.0 strict level 2//","-//ietf//dtd html 2.0 strict//","-//ietf//dtd html 2.0//","-//ietf//dtd html 2.1e//","-//ietf//dtd html 3.0//","-//ietf//dtd html 3.2 final//","-//ietf//dtd html 3.2//","-//ietf//dtd html 3//","-//ietf//dtd html level 0//","-//ietf//dtd html level 1//","-//ietf//dtd html level 2//","-//ietf//dtd html level 3//","-//ietf//dtd html strict level 0//","-//ietf//dtd html strict level 1//","-//ietf//dtd html strict level 2//","-//ietf//dtd html strict level 3//","-//ietf//dtd html strict//","-//ietf//dtd html//","-//metrius//dtd metrius presentational//","-//microsoft//dtd internet explorer 2.0 html strict//","-//microsoft//dtd internet explorer 2.0 html//","-//microsoft//dtd internet explorer 2.0 tables//","-//microsoft//dtd internet explorer 3.0 html strict//","-//microsoft//dtd internet explorer 3.0 html//","-//microsoft//dtd internet explorer 3.0 tables//","-//netscape comm. corp.//dtd html//","-//netscape comm. corp.//dtd strict html//","-//o'reilly and associates//dtd html 2.0//","-//o'reilly and associates//dtd html extended 1.0//","-//o'reilly and associates//dtd html extended relaxed 1.0//","-//sq//dtd html 2.0 hotmetal + extensions//","-//softquad software//dtd hotmetal pro 6.0::19990601::extensions to html 4.0//","-//softquad//dtd hotmetal pro 4.0::19971010::extensions to html 4.0//","-//spyglass//dtd html 2.0 extended//","-//sun microsystems corp.//dtd hotjava html//","-//sun microsystems corp.//dtd hotjava strict html//","-//w3c//dtd html 3 1995-03-24//","-//w3c//dtd html 3.2 draft//","-//w3c//dtd html 3.2 final//","-//w3c//dtd html 3.2//","-//w3c//dtd html 3.2s draft//","-//w3c//dtd html 4.0 frameset//","-//w3c//dtd html 4.0 transitional//","-//w3c//dtd html experimental 19960712//","-//w3c//dtd html experimental 970421//","-//w3c//dtd w3 html//","-//w3o//dtd w3 html 3.0//","-//webtechs//dtd mozilla html 2.0//","-//webtechs//dtd mozilla html//"],T=b.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]),C=["-//w3o//dtd w3 html strict 3.0//en//","-/w3c/dtd html 4.0 transitional/en","html"],k=["-//w3c//dtd xhtml 1.0 frameset//","-//w3c//dtd xhtml 1.0 transitional//"],A=k.concat(["-//w3c//dtd html 4.01 frameset//","-//w3c//dtd html 4.01 transitional//"]);function I(L){const U=-1!==L.indexOf('"')?"'":'"';return U+L+U}function D(L,U){for(let S=0;S<U.length;S++)if(0===L.indexOf(U[S]))return!0;return!1}g.isConforming=function(L){return L.name===y&&null===L.publicId&&(null===L.systemId||"about:legacy-compat"===L.systemId)},g.getDocumentMode=function(L){if(L.name!==y)return h.QUIRKS;const U=L.systemId;if(U&&"http://www.ibm.com/data/dtd/v11/ibmxhtml1-transitional.dtd"===U.toLowerCase())return h.QUIRKS;let S=L.publicId;if(null!==S){if(S=S.toLowerCase(),C.indexOf(S)>-1)return h.QUIRKS;let G=null===U?T:b;if(D(S,G))return h.QUIRKS;if(G=null===U?k:A,D(S,G))return h.LIMITED_QUIRKS}return h.NO_QUIRKS},g.serializeContent=function(L,U,S){let G="!DOCTYPE ";return L&&(G+=L),U?G+=" PUBLIC "+I(U):S&&(G+=" SYSTEM"),null!==S&&(G+=" "+I(S)),G}},1734:x=>{"use strict";x.exports={controlCharacterInInputStream:"control-character-in-input-stream",noncharacterInInputStream:"noncharacter-in-input-stream",surrogateInInputStream:"surrogate-in-input-stream",nonVoidHtmlElementStartTagWithTrailingSolidus:"non-void-html-element-start-tag-with-trailing-solidus",endTagWithAttributes:"end-tag-with-attributes",endTagWithTrailingSolidus:"end-tag-with-trailing-solidus",unexpectedSolidusInTag:"unexpected-solidus-in-tag",unexpectedNullCharacter:"unexpected-null-character",unexpectedQuestionMarkInsteadOfTagName:"unexpected-question-mark-instead-of-tag-name",invalidFirstCharacterOfTagName:"invalid-first-character-of-tag-name",unexpectedEqualsSignBeforeAttributeName:"unexpected-equals-sign-before-attribute-name",missingEndTagName:"missing-end-tag-name",unexpectedCharacterInAttributeName:"unexpected-character-in-attribute-name",unknownNamedCharacterReference:"unknown-named-character-reference",missingSemicolonAfterCharacterReference:"missing-semicolon-after-character-reference",unexpectedCharacterAfterDoctypeSystemIdentifier:"unexpected-character-after-doctype-system-identifier",unexpectedCharacterInUnquotedAttributeValue:"unexpected-character-in-unquoted-attribute-value",eofBeforeTagName:"eof-before-tag-name",eofInTag:"eof-in-tag",missingAttributeValue:"missing-attribute-value",missingWhitespaceBetweenAttributes:"missing-whitespace-between-attributes",missingWhitespaceAfterDoctypePublicKeyword:"missing-whitespace-after-doctype-public-keyword",missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers:"missing-whitespace-between-doctype-public-and-system-identifiers",missingWhitespaceAfterDoctypeSystemKeyword:"missing-whitespace-after-doctype-system-keyword",missingQuoteBeforeDoctypePublicIdentifier:"missing-quote-before-doctype-public-identifier",missingQuoteBeforeDoctypeSystemIdentifier:"missing-quote-before-doctype-system-identifier",missingDoctypePublicIdentifier:"missing-doctype-public-identifier",missingDoctypeSystemIdentifier:"missing-doctype-system-identifier",abruptDoctypePublicIdentifier:"abrupt-doctype-public-identifier",abruptDoctypeSystemIdentifier:"abrupt-doctype-system-identifier",cdataInHtmlContent:"cdata-in-html-content",incorrectlyOpenedComment:"incorrectly-opened-comment",eofInScriptHtmlCommentLikeText:"eof-in-script-html-comment-like-text",eofInDoctype:"eof-in-doctype",nestedComment:"nested-comment",abruptClosingOfEmptyComment:"abrupt-closing-of-empty-comment",eofInComment:"eof-in-comment",incorrectlyClosedComment:"incorrectly-closed-comment",eofInCdata:"eof-in-cdata",absenceOfDigitsInNumericCharacterReference:"absence-of-digits-in-numeric-character-reference",nullCharacterReference:"null-character-reference",surrogateCharacterReference:"surrogate-character-reference",characterReferenceOutsideUnicodeRange:"character-reference-outside-unicode-range",controlCharacterReference:"control-character-reference",noncharacterCharacterReference:"noncharacter-character-reference",missingWhitespaceBeforeDoctypeName:"missing-whitespace-before-doctype-name",missingDoctypeName:"missing-doctype-name",invalidCharacterSequenceAfterDoctypeName:"invalid-character-sequence-after-doctype-name",duplicateAttribute:"duplicate-attribute",nonConformingDoctype:"non-conforming-doctype",missingDoctype:"missing-doctype",misplacedDoctype:"misplaced-doctype",endTagWithoutMatchingOpenElement:"end-tag-without-matching-open-element",closingOfElementWithOpenChildElements:"closing-of-element-with-open-child-elements",disallowedContentInNoscriptInHead:"disallowed-content-in-noscript-in-head",openElementsLeftAfterEof:"open-elements-left-after-eof",abandonedHeadElementChild:"abandoned-head-element-child",misplacedStartTagForHeadElement:"misplaced-start-tag-for-head-element",nestedNoscriptInHead:"nested-noscript-in-head",eofInElementThatCanContainOnlyText:"eof-in-element-that-can-contain-only-text"}},8779:(x,g,M)=>{"use strict";const h=M(5763),y=M(6152),m=y.TAG_NAMES,_=y.NAMESPACES,b=y.ATTRS,I={attributename:"attributeName",attributetype:"attributeType",basefrequency:"baseFrequency",baseprofile:"baseProfile",calcmode:"calcMode",clippathunits:"clipPathUnits",diffuseconstant:"diffuseConstant",edgemode:"edgeMode",filterunits:"filterUnits",glyphref:"glyphRef",gradienttransform:"gradientTransform",gradientunits:"gradientUnits",kernelmatrix:"kernelMatrix",kernelunitlength:"kernelUnitLength",keypoints:"keyPoints",keysplines:"keySplines",keytimes:"keyTimes",lengthadjust:"lengthAdjust",limitingconeangle:"limitingConeAngle",markerheight:"markerHeight",markerunits:"markerUnits",markerwidth:"markerWidth",maskcontentunits:"maskContentUnits",maskunits:"maskUnits",numoctaves:"numOctaves",pathlength:"pathLength",patterncontentunits:"patternContentUnits",patterntransform:"patternTransform",patternunits:"patternUnits",pointsatx:"pointsAtX",pointsaty:"pointsAtY",pointsatz:"pointsAtZ",preservealpha:"preserveAlpha",preserveaspectratio:"preserveAspectRatio",primitiveunits:"primitiveUnits",refx:"refX",refy:"refY",repeatcount:"repeatCount",repeatdur:"repeatDur",requiredextensions:"requiredExtensions",requiredfeatures:"requiredFeatures",specularconstant:"specularConstant",specularexponent:"specularExponent",spreadmethod:"spreadMethod",startoffset:"startOffset",stddeviation:"stdDeviation",stitchtiles:"stitchTiles",surfacescale:"surfaceScale",systemlanguage:"systemLanguage",tablevalues:"tableValues",targetx:"targetX",targety:"targetY",textlength:"textLength",viewbox:"viewBox",viewtarget:"viewTarget",xchannelselector:"xChannelSelector",ychannelselector:"yChannelSelector",zoomandpan:"zoomAndPan"},D={"xlink:actuate":{prefix:"xlink",name:"actuate",namespace:_.XLINK},"xlink:arcrole":{prefix:"xlink",name:"arcrole",namespace:_.XLINK},"xlink:href":{prefix:"xlink",name:"href",namespace:_.XLINK},"xlink:role":{prefix:"xlink",name:"role",namespace:_.XLINK},"xlink:show":{prefix:"xlink",name:"show",namespace:_.XLINK},"xlink:title":{prefix:"xlink",name:"title",namespace:_.XLINK},"xlink:type":{prefix:"xlink",name:"type",namespace:_.XLINK},"xml:base":{prefix:"xml",name:"base",namespace:_.XML},"xml:lang":{prefix:"xml",name:"lang",namespace:_.XML},"xml:space":{prefix:"xml",name:"space",namespace:_.XML},xmlns:{prefix:"",name:"xmlns",namespace:_.XMLNS},"xmlns:xlink":{prefix:"xmlns",name:"xlink",namespace:_.XMLNS}},L=g.SVG_TAG_NAMES_ADJUSTMENT_MAP={altglyph:"altGlyph",altglyphdef:"altGlyphDef",altglyphitem:"altGlyphItem",animatecolor:"animateColor",animatemotion:"animateMotion",animatetransform:"animateTransform",clippath:"clipPath",feblend:"feBlend",fecolormatrix:"feColorMatrix",fecomponenttransfer:"feComponentTransfer",fecomposite:"feComposite",feconvolvematrix:"feConvolveMatrix",fediffuselighting:"feDiffuseLighting",fedisplacementmap:"feDisplacementMap",fedistantlight:"feDistantLight",feflood:"feFlood",fefunca:"feFuncA",fefuncb:"feFuncB",fefuncg:"feFuncG",fefuncr:"feFuncR",fegaussianblur:"feGaussianBlur",feimage:"feImage",femerge:"feMerge",femergenode:"feMergeNode",femorphology:"feMorphology",feoffset:"feOffset",fepointlight:"fePointLight",fespecularlighting:"feSpecularLighting",fespotlight:"feSpotLight",fetile:"feTile",feturbulence:"feTurbulence",foreignobject:"foreignObject",glyphref:"glyphRef",lineargradient:"linearGradient",radialgradient:"radialGradient",textpath:"textPath"},U={[m.B]:!0,[m.BIG]:!0,[m.BLOCKQUOTE]:!0,[m.BODY]:!0,[m.BR]:!0,[m.CENTER]:!0,[m.CODE]:!0,[m.DD]:!0,[m.DIV]:!0,[m.DL]:!0,[m.DT]:!0,[m.EM]:!0,[m.EMBED]:!0,[m.H1]:!0,[m.H2]:!0,[m.H3]:!0,[m.H4]:!0,[m.H5]:!0,[m.H6]:!0,[m.HEAD]:!0,[m.HR]:!0,[m.I]:!0,[m.IMG]:!0,[m.LI]:!0,[m.LISTING]:!0,[m.MENU]:!0,[m.META]:!0,[m.NOBR]:!0,[m.OL]:!0,[m.P]:!0,[m.PRE]:!0,[m.RUBY]:!0,[m.S]:!0,[m.SMALL]:!0,[m.SPAN]:!0,[m.STRONG]:!0,[m.STRIKE]:!0,[m.SUB]:!0,[m.SUP]:!0,[m.TABLE]:!0,[m.TT]:!0,[m.U]:!0,[m.UL]:!0,[m.VAR]:!0};g.causesExit=function(S){const G=S.tagName;return G===m.FONT&&(null!==h.getTokenAttr(S,b.COLOR)||null!==h.getTokenAttr(S,b.SIZE)||null!==h.getTokenAttr(S,b.FACE))||U[G]},g.adjustTokenMathMLAttrs=function(S){for(let G=0;G<S.attrs.length;G++)if("definitionurl"===S.attrs[G].name){S.attrs[G].name="definitionURL";break}},g.adjustTokenSVGAttrs=function(S){for(let G=0;G<S.attrs.length;G++){const Y=I[S.attrs[G].name];Y&&(S.attrs[G].name=Y)}},g.adjustTokenXMLAttrs=function(S){for(let G=0;G<S.attrs.length;G++){const Y=D[S.attrs[G].name];Y&&(S.attrs[G].prefix=Y.prefix,S.attrs[G].name=Y.name,S.attrs[G].namespace=Y.namespace)}},g.adjustTokenSVGTagName=function(S){const G=L[S.tagName];G&&(S.tagName=G)},g.isIntegrationPoint=function(S,G,Y,q){return!(q&&q!==_.HTML||!function(tt,ht,ut){if(ht===_.MATHML&&tt===m.ANNOTATION_XML)for(let bt=0;bt<ut.length;bt++)if(ut[bt].name===b.ENCODING){const F=ut[bt].value.toLowerCase();return"text/html"===F||"application/xhtml+xml"===F}return ht===_.SVG&&(tt===m.FOREIGN_OBJECT||tt===m.DESC||tt===m.TITLE)}(S,G,Y))||!(q&&q!==_.MATHML||(tt=S,ht=G,ht!==_.MATHML||tt!==m.MI&&tt!==m.MO&&tt!==m.MN&&tt!==m.MS&&tt!==m.MTEXT));var tt,ht}},6152:(x,g)=>{"use strict";const M=g.NAMESPACES={HTML:"http://www.w3.org/1999/xhtml",MATHML:"http://www.w3.org/1998/Math/MathML",SVG:"http://www.w3.org/2000/svg",XLINK:"http://www.w3.org/1999/xlink",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"};g.ATTRS={TYPE:"type",ACTION:"action",ENCODING:"encoding",PROMPT:"prompt",NAME:"name",COLOR:"color",FACE:"face",SIZE:"size"},g.DOCUMENT_MODE={NO_QUIRKS:"no-quirks",QUIRKS:"quirks",LIMITED_QUIRKS:"limited-quirks"};const h=g.TAG_NAMES={A:"a",ADDRESS:"address",ANNOTATION_XML:"annotation-xml",APPLET:"applet",AREA:"area",ARTICLE:"article",ASIDE:"aside",B:"b",BASE:"base",BASEFONT:"basefont",BGSOUND:"bgsound",BIG:"big",BLOCKQUOTE:"blockquote",BODY:"body",BR:"br",BUTTON:"button",CAPTION:"caption",CENTER:"center",CODE:"code",COL:"col",COLGROUP:"colgroup",DD:"dd",DESC:"desc",DETAILS:"details",DIALOG:"dialog",DIR:"dir",DIV:"div",DL:"dl",DT:"dt",EM:"em",EMBED:"embed",FIELDSET:"fieldset",FIGCAPTION:"figcaption",FIGURE:"figure",FONT:"font",FOOTER:"footer",FOREIGN_OBJECT:"foreignObject",FORM:"form",FRAME:"frame",FRAMESET:"frameset",H1:"h1",H2:"h2",H3:"h3",H4:"h4",H5:"h5",H6:"h6",HEAD:"head",HEADER:"header",HGROUP:"hgroup",HR:"hr",HTML:"html",I:"i",IMG:"img",IMAGE:"image",INPUT:"input",IFRAME:"iframe",KEYGEN:"keygen",LABEL:"label",LI:"li",LINK:"link",LISTING:"listing",MAIN:"main",MALIGNMARK:"malignmark",MARQUEE:"marquee",MATH:"math",MENU:"menu",META:"meta",MGLYPH:"mglyph",MI:"mi",MO:"mo",MN:"mn",MS:"ms",MTEXT:"mtext",NAV:"nav",NOBR:"nobr",NOFRAMES:"noframes",NOEMBED:"noembed",NOSCRIPT:"noscript",OBJECT:"object",OL:"ol",OPTGROUP:"optgroup",OPTION:"option",P:"p",PARAM:"param",PLAINTEXT:"plaintext",PRE:"pre",RB:"rb",RP:"rp",RT:"rt",RTC:"rtc",RUBY:"ruby",S:"s",SCRIPT:"script",SECTION:"section",SELECT:"select",SOURCE:"source",SMALL:"small",SPAN:"span",STRIKE:"strike",STRONG:"strong",STYLE:"style",SUB:"sub",SUMMARY:"summary",SUP:"sup",TABLE:"table",TBODY:"tbody",TEMPLATE:"template",TEXTAREA:"textarea",TFOOT:"tfoot",TD:"td",TH:"th",THEAD:"thead",TITLE:"title",TR:"tr",TRACK:"track",TT:"tt",U:"u",UL:"ul",SVG:"svg",VAR:"var",WBR:"wbr",XMP:"xmp"};g.SPECIAL_ELEMENTS={[M.HTML]:{[h.ADDRESS]:!0,[h.APPLET]:!0,[h.AREA]:!0,[h.ARTICLE]:!0,[h.ASIDE]:!0,[h.BASE]:!0,[h.BASEFONT]:!0,[h.BGSOUND]:!0,[h.BLOCKQUOTE]:!0,[h.BODY]:!0,[h.BR]:!0,[h.BUTTON]:!0,[h.CAPTION]:!0,[h.CENTER]:!0,[h.COL]:!0,[h.COLGROUP]:!0,[h.DD]:!0,[h.DETAILS]:!0,[h.DIR]:!0,[h.DIV]:!0,[h.DL]:!0,[h.DT]:!0,[h.EMBED]:!0,[h.FIELDSET]:!0,[h.FIGCAPTION]:!0,[h.FIGURE]:!0,[h.FOOTER]:!0,[h.FORM]:!0,[h.FRAME]:!0,[h.FRAMESET]:!0,[h.H1]:!0,[h.H2]:!0,[h.H3]:!0,[h.H4]:!0,[h.H5]:!0,[h.H6]:!0,[h.HEAD]:!0,[h.HEADER]:!0,[h.HGROUP]:!0,[h.HR]:!0,[h.HTML]:!0,[h.IFRAME]:!0,[h.IMG]:!0,[h.INPUT]:!0,[h.LI]:!0,[h.LINK]:!0,[h.LISTING]:!0,[h.MAIN]:!0,[h.MARQUEE]:!0,[h.MENU]:!0,[h.META]:!0,[h.NAV]:!0,[h.NOEMBED]:!0,[h.NOFRAMES]:!0,[h.NOSCRIPT]:!0,[h.OBJECT]:!0,[h.OL]:!0,[h.P]:!0,[h.PARAM]:!0,[h.PLAINTEXT]:!0,[h.PRE]:!0,[h.SCRIPT]:!0,[h.SECTION]:!0,[h.SELECT]:!0,[h.SOURCE]:!0,[h.STYLE]:!0,[h.SUMMARY]:!0,[h.TABLE]:!0,[h.TBODY]:!0,[h.TD]:!0,[h.TEMPLATE]:!0,[h.TEXTAREA]:!0,[h.TFOOT]:!0,[h.TH]:!0,[h.THEAD]:!0,[h.TITLE]:!0,[h.TR]:!0,[h.TRACK]:!0,[h.UL]:!0,[h.WBR]:!0,[h.XMP]:!0},[M.MATHML]:{[h.MI]:!0,[h.MO]:!0,[h.MN]:!0,[h.MS]:!0,[h.MTEXT]:!0,[h.ANNOTATION_XML]:!0},[M.SVG]:{[h.TITLE]:!0,[h.FOREIGN_OBJECT]:!0,[h.DESC]:!0}}},4284:(x,g)=>{"use strict";const M=[65534,65535,131070,131071,196606,196607,262142,262143,327678,327679,393214,393215,458750,458751,524286,524287,589822,589823,655358,655359,720894,720895,786430,786431,851966,851967,917502,917503,983038,983039,1048574,1048575,1114110,1114111];g.REPLACEMENT_CHARACTER="\ufffd",g.CODE_POINTS={EOF:-1,NULL:0,TABULATION:9,CARRIAGE_RETURN:13,LINE_FEED:10,FORM_FEED:12,SPACE:32,EXCLAMATION_MARK:33,QUOTATION_MARK:34,NUMBER_SIGN:35,AMPERSAND:38,APOSTROPHE:39,HYPHEN_MINUS:45,SOLIDUS:47,DIGIT_0:48,DIGIT_9:57,SEMICOLON:59,LESS_THAN_SIGN:60,EQUALS_SIGN:61,GREATER_THAN_SIGN:62,QUESTION_MARK:63,LATIN_CAPITAL_A:65,LATIN_CAPITAL_F:70,LATIN_CAPITAL_X:88,LATIN_CAPITAL_Z:90,RIGHT_SQUARE_BRACKET:93,GRAVE_ACCENT:96,LATIN_SMALL_A:97,LATIN_SMALL_F:102,LATIN_SMALL_X:120,LATIN_SMALL_Z:122,REPLACEMENT_CHARACTER:65533},g.CODE_POINT_SEQUENCES={DASH_DASH_STRING:[45,45],DOCTYPE_STRING:[68,79,67,84,89,80,69],CDATA_START_STRING:[91,67,68,65,84,65,91],SCRIPT_STRING:[115,99,114,105,112,116],PUBLIC_STRING:[80,85,66,76,73,67],SYSTEM_STRING:[83,89,83,84,69,77]},g.isSurrogate=function(h){return h>=55296&&h<=57343},g.isSurrogatePair=function(h){return h>=56320&&h<=57343},g.getSurrogatePairCodePoint=function(h,y){return 1024*(h-55296)+9216+y},g.isControlCodePoint=function(h){return 32!==h&&10!==h&&13!==h&&9!==h&&12!==h&&h>=1&&h<=31||h>=127&&h<=159},g.isUndefinedCodePoint=function(h){return h>=64976&&h<=65007||M.indexOf(h)>-1}},3843:(x,g,M)=>{"use strict";const h=M(1704);x.exports=class extends h{constructor(y,m){super(y),this.posTracker=null,this.onParseError=m.onParseError}_setErrorLocation(y){y.startLine=y.endLine=this.posTracker.line,y.startCol=y.endCol=this.posTracker.col,y.startOffset=y.endOffset=this.posTracker.offset}_reportError(y){const m={code:y,startLine:-1,startCol:-1,startOffset:-1,endLine:-1,endCol:-1,endOffset:-1};this._setErrorLocation(m),this.onParseError(m)}_getOverriddenMethods(y){return{_err(m){y._reportError(m)}}}}},2232:(x,g,M)=>{"use strict";const h=M(3843),y=M(50),m=M(6110),_=M(1704);x.exports=class extends h{constructor(b,T){super(b,T),this.opts=T,this.ctLoc=null,this.locBeforeToken=!1}_setErrorLocation(b){this.ctLoc&&(b.startLine=this.ctLoc.startLine,b.startCol=this.ctLoc.startCol,b.startOffset=this.ctLoc.startOffset,b.endLine=this.locBeforeToken?this.ctLoc.startLine:this.ctLoc.endLine,b.endCol=this.locBeforeToken?this.ctLoc.startCol:this.ctLoc.endCol,b.endOffset=this.locBeforeToken?this.ctLoc.startOffset:this.ctLoc.endOffset)}_getOverriddenMethods(b,T){return{_bootstrap(C,k){T._bootstrap.call(this,C,k),_.install(this.tokenizer,y,b.opts),_.install(this.tokenizer,m)},_processInputToken(C){b.ctLoc=C.location,T._processInputToken.call(this,C)},_err(C,k){b.locBeforeToken=k&&k.beforeToken,b._reportError(C)}}}}},3288:(x,g,M)=>{"use strict";const h=M(3843),y=M(7930),m=M(1704);x.exports=class extends h{constructor(_,b){super(_,b),this.posTracker=m.install(_,y),this.lastErrOffset=-1}_reportError(_){this.lastErrOffset!==this.posTracker.offset&&(this.lastErrOffset=this.posTracker.offset,super._reportError(_))}}},50:(x,g,M)=>{"use strict";const h=M(3843),y=M(3288),m=M(1704);x.exports=class extends h{constructor(_,b){super(_,b);const T=m.install(_.preprocessor,y,b);this.posTracker=T.posTracker}}},1077:(x,g,M)=>{"use strict";const h=M(1704);x.exports=class extends h{constructor(y,m){super(y),this.onItemPop=m.onItemPop}_getOverriddenMethods(y,m){return{pop(){y.onItemPop(this.current),m.pop.call(this)},popAllUpToHtmlElement(){for(let _=this.stackTop;_>0;_--)y.onItemPop(this.items[_]);m.popAllUpToHtmlElement.call(this)},remove(_){y.onItemPop(this.current),m.remove.call(this,_)}}}}},452:(x,g,M)=>{"use strict";const h=M(1704),y=M(5763),m=M(6110),_=M(1077),b=M(6152).TAG_NAMES;x.exports=class extends h{constructor(T){super(T),this.parser=T,this.treeAdapter=this.parser.treeAdapter,this.posTracker=null,this.lastStartTagToken=null,this.lastFosterParentingLocation=null,this.currentToken=null}_setStartLocation(T){let C=null;this.lastStartTagToken&&(C=Object.assign({},this.lastStartTagToken.location),C.startTag=this.lastStartTagToken.location),this.treeAdapter.setNodeSourceCodeLocation(T,C)}_setEndLocation(T,C){if(this.treeAdapter.getNodeSourceCodeLocation(T)&&C.location){const k=C.location,A=this.treeAdapter.getTagName(T),I={};C.type===y.END_TAG_TOKEN&&A===C.tagName?(I.endTag=Object.assign({},k),I.endLine=k.endLine,I.endCol=k.endCol,I.endOffset=k.endOffset):(I.endLine=k.startLine,I.endCol=k.startCol,I.endOffset=k.startOffset),this.treeAdapter.updateNodeSourceCodeLocation(T,I)}}_getOverriddenMethods(T,C){return{_bootstrap(k,A){C._bootstrap.call(this,k,A),T.lastStartTagToken=null,T.lastFosterParentingLocation=null,T.currentToken=null;const I=h.install(this.tokenizer,m);T.posTracker=I.posTracker,h.install(this.openElements,_,{onItemPop:function(D){T._setEndLocation(D,T.currentToken)}})},_runParsingLoop(k){C._runParsingLoop.call(this,k);for(let A=this.openElements.stackTop;A>=0;A--)T._setEndLocation(this.openElements.items[A],T.currentToken)},_processTokenInForeignContent(k){T.currentToken=k,C._processTokenInForeignContent.call(this,k)},_processToken(k){if(T.currentToken=k,C._processToken.call(this,k),k.type===y.END_TAG_TOKEN&&(k.tagName===b.HTML||k.tagName===b.BODY&&this.openElements.hasInScope(b.BODY)))for(let A=this.openElements.stackTop;A>=0;A--){const I=this.openElements.items[A];if(this.treeAdapter.getTagName(I)===k.tagName){T._setEndLocation(I,k);break}}},_setDocumentType(k){C._setDocumentType.call(this,k);const A=this.treeAdapter.getChildNodes(this.document),I=A.length;for(let D=0;D<I;D++){const L=A[D];if(this.treeAdapter.isDocumentTypeNode(L)){this.treeAdapter.setNodeSourceCodeLocation(L,k.location);break}}},_attachElementToTree(k){T._setStartLocation(k),T.lastStartTagToken=null,C._attachElementToTree.call(this,k)},_appendElement(k,A){T.lastStartTagToken=k,C._appendElement.call(this,k,A)},_insertElement(k,A){T.lastStartTagToken=k,C._insertElement.call(this,k,A)},_insertTemplate(k){T.lastStartTagToken=k,C._insertTemplate.call(this,k);const A=this.treeAdapter.getTemplateContent(this.openElements.current);this.treeAdapter.setNodeSourceCodeLocation(A,null)},_insertFakeRootElement(){C._insertFakeRootElement.call(this),this.treeAdapter.setNodeSourceCodeLocation(this.openElements.current,null)},_appendCommentNode(k,A){C._appendCommentNode.call(this,k,A);const I=this.treeAdapter.getChildNodes(A),D=I[I.length-1];this.treeAdapter.setNodeSourceCodeLocation(D,k.location)},_findFosterParentingLocation(){return T.lastFosterParentingLocation=C._findFosterParentingLocation.call(this),T.lastFosterParentingLocation},_insertCharacters(k){C._insertCharacters.call(this,k);const A=this._shouldFosterParentOnInsertion(),I=A&&T.lastFosterParentingLocation.parent||this.openElements.currentTmplContent||this.openElements.current,D=this.treeAdapter.getChildNodes(I),L=A&&T.lastFosterParentingLocation.beforeElement?D.indexOf(T.lastFosterParentingLocation.beforeElement)-1:D.length-1,U=D[L];if(this.treeAdapter.getNodeSourceCodeLocation(U)){const{endLine:S,endCol:G,endOffset:Y}=k.location;this.treeAdapter.updateNodeSourceCodeLocation(U,{endLine:S,endCol:G,endOffset:Y})}else this.treeAdapter.setNodeSourceCodeLocation(U,k.location)}}}}},6110:(x,g,M)=>{"use strict";const h=M(1704),y=M(5763),m=M(7930);x.exports=class extends h{constructor(_){super(_),this.tokenizer=_,this.posTracker=h.install(_.preprocessor,m),this.currentAttrLocation=null,this.ctLoc=null}_getCurrentLocation(){return{startLine:this.posTracker.line,startCol:this.posTracker.col,startOffset:this.posTracker.offset,endLine:-1,endCol:-1,endOffset:-1}}_attachCurrentAttrLocationInfo(){this.currentAttrLocation.endLine=this.posTracker.line,this.currentAttrLocation.endCol=this.posTracker.col,this.currentAttrLocation.endOffset=this.posTracker.offset;const _=this.tokenizer.currentToken,b=this.tokenizer.currentAttr;_.location.attrs||(_.location.attrs=Object.create(null)),_.location.attrs[b.name]=this.currentAttrLocation}_getOverriddenMethods(_,b){const T={_createStartTagToken(){b._createStartTagToken.call(this),this.currentToken.location=_.ctLoc},_createEndTagToken(){b._createEndTagToken.call(this),this.currentToken.location=_.ctLoc},_createCommentToken(){b._createCommentToken.call(this),this.currentToken.location=_.ctLoc},_createDoctypeToken(C){b._createDoctypeToken.call(this,C),this.currentToken.location=_.ctLoc},_createCharacterToken(C,k){b._createCharacterToken.call(this,C,k),this.currentCharacterToken.location=_.ctLoc},_createEOFToken(){b._createEOFToken.call(this),this.currentToken.location=_._getCurrentLocation()},_createAttr(C){b._createAttr.call(this,C),_.currentAttrLocation=_._getCurrentLocation()},_leaveAttrName(C){b._leaveAttrName.call(this,C),_._attachCurrentAttrLocationInfo()},_leaveAttrValue(C){b._leaveAttrValue.call(this,C),_._attachCurrentAttrLocationInfo()},_emitCurrentToken(){const C=this.currentToken.location;this.currentCharacterToken&&(this.currentCharacterToken.location.endLine=C.startLine,this.currentCharacterToken.location.endCol=C.startCol,this.currentCharacterToken.location.endOffset=C.startOffset),this.currentToken.type===y.EOF_TOKEN?(C.endLine=C.startLine,C.endCol=C.startCol,C.endOffset=C.startOffset):(C.endLine=_.posTracker.line,C.endCol=_.posTracker.col+1,C.endOffset=_.posTracker.offset+1),b._emitCurrentToken.call(this)},_emitCurrentCharacterToken(){const C=this.currentCharacterToken&&this.currentCharacterToken.location;C&&-1===C.endOffset&&(C.endLine=_.posTracker.line,C.endCol=_.posTracker.col,C.endOffset=_.posTracker.offset),b._emitCurrentCharacterToken.call(this)}};return Object.keys(y.MODE).forEach(C=>{const k=y.MODE[C];T[k]=function(A){_.ctLoc=_._getCurrentLocation(),b[k].call(this,A)}}),T}}},7930:(x,g,M)=>{"use strict";const h=M(1704);x.exports=class extends h{constructor(y){super(y),this.preprocessor=y,this.isEol=!1,this.lineStartPos=0,this.droppedBufferSize=0,this.offset=0,this.col=0,this.line=1}_getOverriddenMethods(y,m){return{advance(){const _=this.pos+1,b=this.html[_];return y.isEol&&(y.isEol=!1,y.line++,y.lineStartPos=_),("\n"===b||"\r"===b&&"\n"!==this.html[_+1])&&(y.isEol=!0),y.col=_-y.lineStartPos+1,y.offset=y.droppedBufferSize+_,m.advance.call(this)},retreat(){m.retreat.call(this),y.isEol=!1,y.col=this.pos-y.lineStartPos+1},dropParsedChunk(){const _=this.pos;m.dropParsedChunk.call(this);const b=_-this.pos;y.lineStartPos-=b,y.droppedBufferSize+=b,y.offset=y.droppedBufferSize+this.pos}}}}},2394:(x,g,M)=>{"use strict";const h=M(7045),y=M(3988);g.parse=function(m,_){return new h(_).parse(m)},g.parseFragment=function(m,_,b){return"string"==typeof m&&(b=_,_=m,m=null),new h(b).parseFragment(_,m)},g.serialize=function(m,_){return new y(m,_).serialize()}},2484:x=>{"use strict";class M{constructor(y){this.length=0,this.entries=[],this.treeAdapter=y,this.bookmark=null}_getNoahArkConditionCandidates(y){const m=[];if(this.length>=3){const _=this.treeAdapter.getAttrList(y).length,b=this.treeAdapter.getTagName(y),T=this.treeAdapter.getNamespaceURI(y);for(let C=this.length-1;C>=0;C--){const k=this.entries[C];if(k.type===M.MARKER_ENTRY)break;const A=k.element,I=this.treeAdapter.getAttrList(A);this.treeAdapter.getTagName(A)===b&&this.treeAdapter.getNamespaceURI(A)===T&&I.length===_&&m.push({idx:C,attrs:I})}}return m.length<3?[]:m}_ensureNoahArkCondition(y){const m=this._getNoahArkConditionCandidates(y);let _=m.length;if(_){const b=this.treeAdapter.getAttrList(y),T=b.length,C=Object.create(null);for(let k=0;k<T;k++){const A=b[k];C[A.name]=A.value}for(let k=0;k<T;k++)for(let A=0;A<_;A++){const I=m[A].attrs[k];if(C[I.name]!==I.value&&(m.splice(A,1),_--),m.length<3)return}for(let k=_-1;k>=2;k--)this.entries.splice(m[k].idx,1),this.length--}}insertMarker(){this.entries.push({type:M.MARKER_ENTRY}),this.length++}pushElement(y,m){this._ensureNoahArkCondition(y),this.entries.push({type:M.ELEMENT_ENTRY,element:y,token:m}),this.length++}insertElementAfterBookmark(y,m){let _=this.length-1;for(;_>=0&&this.entries[_]!==this.bookmark;_--);this.entries.splice(_+1,0,{type:M.ELEMENT_ENTRY,element:y,token:m}),this.length++}removeEntry(y){for(let m=this.length-1;m>=0;m--)if(this.entries[m]===y){this.entries.splice(m,1),this.length--;break}}clearToLastMarker(){for(;this.length;){const y=this.entries.pop();if(this.length--,y.type===M.MARKER_ENTRY)break}}getElementEntryInScopeWithTagName(y){for(let m=this.length-1;m>=0;m--){const _=this.entries[m];if(_.type===M.MARKER_ENTRY)return null;if(this.treeAdapter.getTagName(_.element)===y)return _}return null}getElementEntry(y){for(let m=this.length-1;m>=0;m--){const _=this.entries[m];if(_.type===M.ELEMENT_ENTRY&&_.element===y)return _}return null}}M.MARKER_ENTRY="MARKER_ENTRY",M.ELEMENT_ENTRY="ELEMENT_ENTRY",x.exports=M},7045:(x,g,M)=>{"use strict";const h=M(5763),y=M(6519),m=M(2484),_=M(452),b=M(2232),T=M(1704),C=M(7296),k=M(8904),A=M(1515),I=M(8779),D=M(1734),L=M(4284),U=M(6152),S=U.TAG_NAMES,G=U.NAMESPACES,Y=U.ATTRS,q={scriptingEnabled:!0,sourceCodeLocationInfo:!1,onParseError:null,treeAdapter:C},tt="hidden",ht=8,ut=3,bt="INITIAL_MODE",F="BEFORE_HTML_MODE",B="BEFORE_HEAD_MODE",X="IN_HEAD_MODE",J="IN_HEAD_NO_SCRIPT_MODE",K="AFTER_HEAD_MODE",at="IN_BODY_MODE",Q="TEXT_MODE",gt="IN_TABLE_MODE",ot="IN_TABLE_TEXT_MODE",Ot="IN_CAPTION_MODE",yt="IN_COLUMN_GROUP_MODE",Et="IN_TABLE_BODY_MODE",Mt="IN_ROW_MODE",jt="IN_CELL_MODE",Ut="IN_SELECT_MODE",le="IN_SELECT_IN_TABLE_MODE",Zt="IN_TEMPLATE_MODE",ie="AFTER_BODY_MODE",Ht="IN_FRAMESET_MODE",_t="AFTER_FRAMESET_MODE",Xt="AFTER_AFTER_BODY_MODE",Gt="AFTER_AFTER_FRAMESET_MODE",Pt={[S.TR]:Mt,[S.TBODY]:Et,[S.THEAD]:Et,[S.TFOOT]:Et,[S.CAPTION]:Ot,[S.COLGROUP]:yt,[S.TABLE]:gt,[S.BODY]:at,[S.FRAMESET]:Ht},he={[S.CAPTION]:gt,[S.COLGROUP]:gt,[S.TBODY]:gt,[S.TFOOT]:gt,[S.THEAD]:gt,[S.COL]:yt,[S.TR]:Et,[S.TD]:Mt,[S.TH]:Mt},fe={[bt]:{[h.CHARACTER_TOKEN]:$t,[h.NULL_CHARACTER_TOKEN]:$t,[h.WHITESPACE_CHARACTER_TOKEN]:Ne,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:function(z,st){z._setDocumentType(st);const nt=st.forceQuirks?U.DOCUMENT_MODE.QUIRKS:A.getDocumentMode(st);A.isConforming(st)||z._err(D.nonConformingDoctype),z.treeAdapter.setDocumentMode(z.document,nt),z.insertionMode=F},[h.START_TAG_TOKEN]:$t,[h.END_TAG_TOKEN]:$t,[h.EOF_TOKEN]:$t},[F]:{[h.CHARACTER_TOKEN]:oe,[h.NULL_CHARACTER_TOKEN]:oe,[h.WHITESPACE_CHARACTER_TOKEN]:Ne,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:Ne,[h.START_TAG_TOKEN]:function(z,st){st.tagName===S.HTML?(z._insertElement(st,G.HTML),z.insertionMode=B):oe(z,st)},[h.END_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt!==S.HTML&&nt!==S.HEAD&&nt!==S.BODY&&nt!==S.BR||oe(z,st)},[h.EOF_TOKEN]:oe},[B]:{[h.CHARACTER_TOKEN]:se,[h.NULL_CHARACTER_TOKEN]:se,[h.WHITESPACE_CHARACTER_TOKEN]:Ne,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:Qt,[h.START_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.HTML?Qe(z,st):nt===S.HEAD?(z._insertElement(st,G.HTML),z.headElement=z.openElements.current,z.insertionMode=X):se(z,st)},[h.END_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.HEAD||nt===S.BODY||nt===S.HTML||nt===S.BR?se(z,st):z._err(D.endTagWithoutMatchingOpenElement)},[h.EOF_TOKEN]:se},[X]:{[h.CHARACTER_TOKEN]:$e,[h.NULL_CHARACTER_TOKEN]:$e,[h.WHITESPACE_CHARACTER_TOKEN]:Tt,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:Qt,[h.START_TAG_TOKEN]:xe,[h.END_TAG_TOKEN]:Ue,[h.EOF_TOKEN]:$e},[J]:{[h.CHARACTER_TOKEN]:on,[h.NULL_CHARACTER_TOKEN]:on,[h.WHITESPACE_CHARACTER_TOKEN]:Tt,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:Qt,[h.START_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.HTML?Qe(z,st):nt===S.BASEFONT||nt===S.BGSOUND||nt===S.HEAD||nt===S.LINK||nt===S.META||nt===S.NOFRAMES||nt===S.STYLE?xe(z,st):nt===S.NOSCRIPT?z._err(D.nestedNoscriptInHead):on(z,st)},[h.END_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.NOSCRIPT?(z.openElements.pop(),z.insertionMode=X):nt===S.BR?on(z,st):z._err(D.endTagWithoutMatchingOpenElement)},[h.EOF_TOKEN]:on},[K]:{[h.CHARACTER_TOKEN]:bn,[h.NULL_CHARACTER_TOKEN]:bn,[h.WHITESPACE_CHARACTER_TOKEN]:Tt,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:Qt,[h.START_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.HTML?Qe(z,st):nt===S.BODY?(z._insertElement(st,G.HTML),z.framesetOk=!1,z.insertionMode=at):nt===S.FRAMESET?(z._insertElement(st,G.HTML),z.insertionMode=Ht):nt===S.BASE||nt===S.BASEFONT||nt===S.BGSOUND||nt===S.LINK||nt===S.META||nt===S.NOFRAMES||nt===S.SCRIPT||nt===S.STYLE||nt===S.TEMPLATE||nt===S.TITLE?(z._err(D.abandonedHeadElementChild),z.openElements.push(z.headElement),xe(z,st),z.openElements.remove(z.headElement)):nt===S.HEAD?z._err(D.misplacedStartTagForHeadElement):bn(z,st)},[h.END_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.BODY||nt===S.HTML||nt===S.BR?bn(z,st):nt===S.TEMPLATE?Ue(z,st):z._err(D.endTagWithoutMatchingOpenElement)},[h.EOF_TOKEN]:bn},[at]:{[h.CHARACTER_TOKEN]:xt,[h.NULL_CHARACTER_TOKEN]:Ne,[h.WHITESPACE_CHARACTER_TOKEN]:Se,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:Ne,[h.START_TAG_TOKEN]:Qe,[h.END_TAG_TOKEN]:kn,[h.EOF_TOKEN]:Pn},[Q]:{[h.CHARACTER_TOKEN]:Tt,[h.NULL_CHARACTER_TOKEN]:Tt,[h.WHITESPACE_CHARACTER_TOKEN]:Tt,[h.COMMENT_TOKEN]:Ne,[h.DOCTYPE_TOKEN]:Ne,[h.START_TAG_TOKEN]:Ne,[h.END_TAG_TOKEN]:function(z,st){st.tagName===S.SCRIPT&&(z.pendingScript=z.openElements.current),z.openElements.pop(),z.insertionMode=z.originalInsertionMode},[h.EOF_TOKEN]:function(z,st){z._err(D.eofInElementThatCanContainOnlyText),z.openElements.pop(),z.insertionMode=z.originalInsertionMode,z._processToken(st)}},[gt]:{[h.CHARACTER_TOKEN]:Wn,[h.NULL_CHARACTER_TOKEN]:Wn,[h.WHITESPACE_CHARACTER_TOKEN]:Wn,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:Ne,[h.START_TAG_TOKEN]:$n,[h.END_TAG_TOKEN]:Tr,[h.EOF_TOKEN]:Pn},[ot]:{[h.CHARACTER_TOKEN]:function(z,st){z.pendingCharacterTokens.push(st),z.hasNonWhitespacePendingCharacterToken=!0},[h.NULL_CHARACTER_TOKEN]:Ne,[h.WHITESPACE_CHARACTER_TOKEN]:function(z,st){z.pendingCharacterTokens.push(st)},[h.COMMENT_TOKEN]:Ar,[h.DOCTYPE_TOKEN]:Ar,[h.START_TAG_TOKEN]:Ar,[h.END_TAG_TOKEN]:Ar,[h.EOF_TOKEN]:Ar},[Ot]:{[h.CHARACTER_TOKEN]:xt,[h.NULL_CHARACTER_TOKEN]:Ne,[h.WHITESPACE_CHARACTER_TOKEN]:Se,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:Ne,[h.START_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.CAPTION||nt===S.COL||nt===S.COLGROUP||nt===S.TBODY||nt===S.TD||nt===S.TFOOT||nt===S.TH||nt===S.THEAD||nt===S.TR?z.openElements.hasInTableScope(S.CAPTION)&&(z.openElements.generateImpliedEndTags(),z.openElements.popUntilTagNamePopped(S.CAPTION),z.activeFormattingElements.clearToLastMarker(),z.insertionMode=gt,z._processToken(st)):Qe(z,st)},[h.END_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.CAPTION||nt===S.TABLE?z.openElements.hasInTableScope(S.CAPTION)&&(z.openElements.generateImpliedEndTags(),z.openElements.popUntilTagNamePopped(S.CAPTION),z.activeFormattingElements.clearToLastMarker(),z.insertionMode=gt,nt===S.TABLE&&z._processToken(st)):nt!==S.BODY&&nt!==S.COL&&nt!==S.COLGROUP&&nt!==S.HTML&&nt!==S.TBODY&&nt!==S.TD&&nt!==S.TFOOT&&nt!==S.TH&&nt!==S.THEAD&&nt!==S.TR&&kn(z,st)},[h.EOF_TOKEN]:Pn},[yt]:{[h.CHARACTER_TOKEN]:dr,[h.NULL_CHARACTER_TOKEN]:dr,[h.WHITESPACE_CHARACTER_TOKEN]:Tt,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:Ne,[h.START_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.HTML?Qe(z,st):nt===S.COL?(z._appendElement(st,G.HTML),st.ackSelfClosing=!0):nt===S.TEMPLATE?xe(z,st):dr(z,st)},[h.END_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.COLGROUP?z.openElements.currentTagName===S.COLGROUP&&(z.openElements.pop(),z.insertionMode=gt):nt===S.TEMPLATE?Ue(z,st):nt!==S.COL&&dr(z,st)},[h.EOF_TOKEN]:Pn},[Et]:{[h.CHARACTER_TOKEN]:Wn,[h.NULL_CHARACTER_TOKEN]:Wn,[h.WHITESPACE_CHARACTER_TOKEN]:Wn,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:Ne,[h.START_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.TR?(z.openElements.clearBackToTableBodyContext(),z._insertElement(st,G.HTML),z.insertionMode=Mt):nt===S.TH||nt===S.TD?(z.openElements.clearBackToTableBodyContext(),z._insertFakeElement(S.TR),z.insertionMode=Mt,z._processToken(st)):nt===S.CAPTION||nt===S.COL||nt===S.COLGROUP||nt===S.TBODY||nt===S.TFOOT||nt===S.THEAD?z.openElements.hasTableBodyContextInTableScope()&&(z.openElements.clearBackToTableBodyContext(),z.openElements.pop(),z.insertionMode=gt,z._processToken(st)):$n(z,st)},[h.END_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.TBODY||nt===S.TFOOT||nt===S.THEAD?z.openElements.hasInTableScope(nt)&&(z.openElements.clearBackToTableBodyContext(),z.openElements.pop(),z.insertionMode=gt):nt===S.TABLE?z.openElements.hasTableBodyContextInTableScope()&&(z.openElements.clearBackToTableBodyContext(),z.openElements.pop(),z.insertionMode=gt,z._processToken(st)):(nt!==S.BODY&&nt!==S.CAPTION&&nt!==S.COL&&nt!==S.COLGROUP||nt!==S.HTML&&nt!==S.TD&&nt!==S.TH&&nt!==S.TR)&&Tr(z,st)},[h.EOF_TOKEN]:Pn},[Mt]:{[h.CHARACTER_TOKEN]:Wn,[h.NULL_CHARACTER_TOKEN]:Wn,[h.WHITESPACE_CHARACTER_TOKEN]:Wn,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:Ne,[h.START_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.TH||nt===S.TD?(z.openElements.clearBackToTableRowContext(),z._insertElement(st,G.HTML),z.insertionMode=jt,z.activeFormattingElements.insertMarker()):nt===S.CAPTION||nt===S.COL||nt===S.COLGROUP||nt===S.TBODY||nt===S.TFOOT||nt===S.THEAD||nt===S.TR?z.openElements.hasInTableScope(S.TR)&&(z.openElements.clearBackToTableRowContext(),z.openElements.pop(),z.insertionMode=Et,z._processToken(st)):$n(z,st)},[h.END_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.TR?z.openElements.hasInTableScope(S.TR)&&(z.openElements.clearBackToTableRowContext(),z.openElements.pop(),z.insertionMode=Et):nt===S.TABLE?z.openElements.hasInTableScope(S.TR)&&(z.openElements.clearBackToTableRowContext(),z.openElements.pop(),z.insertionMode=Et,z._processToken(st)):nt===S.TBODY||nt===S.TFOOT||nt===S.THEAD?(z.openElements.hasInTableScope(nt)||z.openElements.hasInTableScope(S.TR))&&(z.openElements.clearBackToTableRowContext(),z.openElements.pop(),z.insertionMode=Et,z._processToken(st)):(nt!==S.BODY&&nt!==S.CAPTION&&nt!==S.COL&&nt!==S.COLGROUP||nt!==S.HTML&&nt!==S.TD&&nt!==S.TH)&&Tr(z,st)},[h.EOF_TOKEN]:Pn},[jt]:{[h.CHARACTER_TOKEN]:xt,[h.NULL_CHARACTER_TOKEN]:Ne,[h.WHITESPACE_CHARACTER_TOKEN]:Se,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:Ne,[h.START_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.CAPTION||nt===S.COL||nt===S.COLGROUP||nt===S.TBODY||nt===S.TD||nt===S.TFOOT||nt===S.TH||nt===S.THEAD||nt===S.TR?(z.openElements.hasInTableScope(S.TD)||z.openElements.hasInTableScope(S.TH))&&(z._closeTableCell(),z._processToken(st)):Qe(z,st)},[h.END_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.TD||nt===S.TH?z.openElements.hasInTableScope(nt)&&(z.openElements.generateImpliedEndTags(),z.openElements.popUntilTagNamePopped(nt),z.activeFormattingElements.clearToLastMarker(),z.insertionMode=Mt):nt===S.TABLE||nt===S.TBODY||nt===S.TFOOT||nt===S.THEAD||nt===S.TR?z.openElements.hasInTableScope(nt)&&(z._closeTableCell(),z._processToken(st)):nt!==S.BODY&&nt!==S.CAPTION&&nt!==S.COL&&nt!==S.COLGROUP&&nt!==S.HTML&&kn(z,st)},[h.EOF_TOKEN]:Pn},[Ut]:{[h.CHARACTER_TOKEN]:Tt,[h.NULL_CHARACTER_TOKEN]:Ne,[h.WHITESPACE_CHARACTER_TOKEN]:Tt,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:Ne,[h.START_TAG_TOKEN]:_n,[h.END_TAG_TOKEN]:Zn,[h.EOF_TOKEN]:Pn},[le]:{[h.CHARACTER_TOKEN]:Tt,[h.NULL_CHARACTER_TOKEN]:Ne,[h.WHITESPACE_CHARACTER_TOKEN]:Tt,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:Ne,[h.START_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.CAPTION||nt===S.TABLE||nt===S.TBODY||nt===S.TFOOT||nt===S.THEAD||nt===S.TR||nt===S.TD||nt===S.TH?(z.openElements.popUntilTagNamePopped(S.SELECT),z._resetInsertionMode(),z._processToken(st)):_n(z,st)},[h.END_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.CAPTION||nt===S.TABLE||nt===S.TBODY||nt===S.TFOOT||nt===S.THEAD||nt===S.TR||nt===S.TD||nt===S.TH?z.openElements.hasInTableScope(nt)&&(z.openElements.popUntilTagNamePopped(S.SELECT),z._resetInsertionMode(),z._processToken(st)):Zn(z,st)},[h.EOF_TOKEN]:Pn},[Zt]:{[h.CHARACTER_TOKEN]:xt,[h.NULL_CHARACTER_TOKEN]:Ne,[h.WHITESPACE_CHARACTER_TOKEN]:Se,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:Ne,[h.START_TAG_TOKEN]:function(z,st){const nt=st.tagName;if(nt===S.BASE||nt===S.BASEFONT||nt===S.BGSOUND||nt===S.LINK||nt===S.META||nt===S.NOFRAMES||nt===S.SCRIPT||nt===S.STYLE||nt===S.TEMPLATE||nt===S.TITLE)xe(z,st);else{const kt=he[nt]||at;z._popTmplInsertionMode(),z._pushTmplInsertionMode(kt),z.insertionMode=kt,z._processToken(st)}},[h.END_TAG_TOKEN]:function(z,st){st.tagName===S.TEMPLATE&&Ue(z,st)},[h.EOF_TOKEN]:Sn},[ie]:{[h.CHARACTER_TOKEN]:Rn,[h.NULL_CHARACTER_TOKEN]:Rn,[h.WHITESPACE_CHARACTER_TOKEN]:Se,[h.COMMENT_TOKEN]:function(z,st){z._appendCommentNode(st,z.openElements.items[0])},[h.DOCTYPE_TOKEN]:Ne,[h.START_TAG_TOKEN]:function(z,st){st.tagName===S.HTML?Qe(z,st):Rn(z,st)},[h.END_TAG_TOKEN]:function(z,st){st.tagName===S.HTML?z.fragmentContext||(z.insertionMode=Xt):Rn(z,st)},[h.EOF_TOKEN]:At},[Ht]:{[h.CHARACTER_TOKEN]:Ne,[h.NULL_CHARACTER_TOKEN]:Ne,[h.WHITESPACE_CHARACTER_TOKEN]:Tt,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:Ne,[h.START_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.HTML?Qe(z,st):nt===S.FRAMESET?z._insertElement(st,G.HTML):nt===S.FRAME?(z._appendElement(st,G.HTML),st.ackSelfClosing=!0):nt===S.NOFRAMES&&xe(z,st)},[h.END_TAG_TOKEN]:function(z,st){st.tagName!==S.FRAMESET||z.openElements.isRootHtmlElementCurrent()||(z.openElements.pop(),z.fragmentContext||z.openElements.currentTagName===S.FRAMESET||(z.insertionMode=_t))},[h.EOF_TOKEN]:At},[_t]:{[h.CHARACTER_TOKEN]:Ne,[h.NULL_CHARACTER_TOKEN]:Ne,[h.WHITESPACE_CHARACTER_TOKEN]:Tt,[h.COMMENT_TOKEN]:ae,[h.DOCTYPE_TOKEN]:Ne,[h.START_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.HTML?Qe(z,st):nt===S.NOFRAMES&&xe(z,st)},[h.END_TAG_TOKEN]:function(z,st){st.tagName===S.HTML&&(z.insertionMode=Gt)},[h.EOF_TOKEN]:At},[Xt]:{[h.CHARACTER_TOKEN]:Gn,[h.NULL_CHARACTER_TOKEN]:Gn,[h.WHITESPACE_CHARACTER_TOKEN]:Se,[h.COMMENT_TOKEN]:rt,[h.DOCTYPE_TOKEN]:Ne,[h.START_TAG_TOKEN]:function(z,st){st.tagName===S.HTML?Qe(z,st):Gn(z,st)},[h.END_TAG_TOKEN]:Gn,[h.EOF_TOKEN]:At},[Gt]:{[h.CHARACTER_TOKEN]:Ne,[h.NULL_CHARACTER_TOKEN]:Ne,[h.WHITESPACE_CHARACTER_TOKEN]:Se,[h.COMMENT_TOKEN]:rt,[h.DOCTYPE_TOKEN]:Ne,[h.START_TAG_TOKEN]:function(z,st){const nt=st.tagName;nt===S.HTML?Qe(z,st):nt===S.NOFRAMES&&xe(z,st)},[h.END_TAG_TOKEN]:Ne,[h.EOF_TOKEN]:At}};function Ce(z,st){let nt=z.activeFormattingElements.getElementEntryInScopeWithTagName(st.tagName);return nt?z.openElements.contains(nt.element)?z.openElements.hasInScope(st.tagName)||(nt=null):(z.activeFormattingElements.removeEntry(nt),nt=null):yn(z,st),nt}function Ee(z,st){let nt=null;for(let kt=z.openElements.stackTop;kt>=0;kt--){const ne=z.openElements.items[kt];if(ne===st.element)break;z._isSpecialElement(ne)&&(nt=ne)}return nt||(z.openElements.popUntilElementPopped(st.element),z.activeFormattingElements.removeEntry(st)),nt}function Te(z,st,nt){let kt=st,ne=z.openElements.getCommonAncestor(st);for(let Xe=0,zn=ne;zn!==nt;Xe++,zn=ne){ne=z.openElements.getCommonAncestor(zn);const Ve=z.activeFormattingElements.getElementEntry(zn),ye=Ve&&Xe>=ut;!Ve||ye?(ye&&z.activeFormattingElements.removeEntry(Ve),z.openElements.remove(zn)):(zn=Ke(z,Ve),kt===st&&(z.activeFormattingElements.bookmark=Ve),z.treeAdapter.detachNode(kt),z.treeAdapter.appendChild(zn,kt),kt=zn)}return kt}function Ke(z,st){const nt=z.treeAdapter.getNamespaceURI(st.element),kt=z.treeAdapter.createElement(st.token.tagName,nt,st.token.attrs);return z.openElements.replace(st.element,kt),st.element=kt,kt}function pn(z,st,nt){if(z._isElementCausesFosterParenting(st))z._fosterParentElement(nt);else{const kt=z.treeAdapter.getTagName(st),ne=z.treeAdapter.getNamespaceURI(st);kt===S.TEMPLATE&&ne===G.HTML&&(st=z.treeAdapter.getTemplateContent(st)),z.treeAdapter.appendChild(st,nt)}}function We(z,st,nt){const kt=z.treeAdapter.getNamespaceURI(nt.element),ne=nt.token,Xe=z.treeAdapter.createElement(ne.tagName,kt,ne.attrs);z._adoptNodes(st,Xe),z.treeAdapter.appendChild(st,Xe),z.activeFormattingElements.insertElementAfterBookmark(Xe,nt.token),z.activeFormattingElements.removeEntry(nt),z.openElements.remove(nt.element),z.openElements.insertAfter(st,Xe)}function Ye(z,st){let nt;for(let kt=0;kt<ht&&(nt=Ce(z,st),nt);kt++){const ne=Ee(z,nt);if(!ne)break;z.activeFormattingElements.bookmark=nt;const Xe=Te(z,ne,nt.element),zn=z.openElements.getCommonAncestor(nt.element);z.treeAdapter.detachNode(Xe),pn(z,zn,Xe),We(z,ne,nt)}}function Ne(){}function Qt(z){z._err(D.misplacedDoctype)}function ae(z,st){z._appendCommentNode(st,z.openElements.currentTmplContent||z.openElements.current)}function rt(z,st){z._appendCommentNode(st,z.document)}function Tt(z,st){z._insertCharacters(st)}function At(z){z.stopped=!0}function $t(z,st){z._err(D.missingDoctype,{beforeToken:!0}),z.treeAdapter.setDocumentMode(z.document,U.DOCUMENT_MODE.QUIRKS),z.insertionMode=F,z._processToken(st)}function oe(z,st){z._insertFakeRootElement(),z.insertionMode=B,z._processToken(st)}function se(z,st){z._insertFakeElement(S.HEAD),z.headElement=z.openElements.current,z.insertionMode=X,z._processToken(st)}function xe(z,st){const nt=st.tagName;nt===S.HTML?Qe(z,st):nt===S.BASE||nt===S.BASEFONT||nt===S.BGSOUND||nt===S.LINK||nt===S.META?(z._appendElement(st,G.HTML),st.ackSelfClosing=!0):nt===S.TITLE?z._switchToTextParsing(st,h.MODE.RCDATA):nt===S.NOSCRIPT?z.options.scriptingEnabled?z._switchToTextParsing(st,h.MODE.RAWTEXT):(z._insertElement(st,G.HTML),z.insertionMode=J):nt===S.NOFRAMES||nt===S.STYLE?z._switchToTextParsing(st,h.MODE.RAWTEXT):nt===S.SCRIPT?z._switchToTextParsing(st,h.MODE.SCRIPT_DATA):nt===S.TEMPLATE?(z._insertTemplate(st,G.HTML),z.activeFormattingElements.insertMarker(),z.framesetOk=!1,z.insertionMode=Zt,z._pushTmplInsertionMode(Zt)):nt===S.HEAD?z._err(D.misplacedStartTagForHeadElement):$e(z,st)}function Ue(z,st){const nt=st.tagName;nt===S.HEAD?(z.openElements.pop(),z.insertionMode=K):nt===S.BODY||nt===S.BR||nt===S.HTML?$e(z,st):nt===S.TEMPLATE&&z.openElements.tmplCount>0?(z.openElements.generateImpliedEndTagsThoroughly(),z.openElements.currentTagName!==S.TEMPLATE&&z._err(D.closingOfElementWithOpenChildElements),z.openElements.popUntilTagNamePopped(S.TEMPLATE),z.activeFormattingElements.clearToLastMarker(),z._popTmplInsertionMode(),z._resetInsertionMode()):z._err(D.endTagWithoutMatchingOpenElement)}function $e(z,st){z.openElements.pop(),z.insertionMode=K,z._processToken(st)}function on(z,st){const nt=st.type===h.EOF_TOKEN?D.openElementsLeftAfterEof:D.disallowedContentInNoscriptInHead;z._err(nt),z.openElements.pop(),z.insertionMode=X,z._processToken(st)}function bn(z,st){z._insertFakeElement(S.BODY),z.insertionMode=at,z._processToken(st)}function Se(z,st){z._reconstructActiveFormattingElements(),z._insertCharacters(st)}function xt(z,st){z._reconstructActiveFormattingElements(),z._insertCharacters(st),z.framesetOk=!1}function Bt(z,st){z.openElements.hasInButtonScope(S.P)&&z._closePElement(),z._insertElement(st,G.HTML)}function Wt(z,st){z.openElements.hasInButtonScope(S.P)&&z._closePElement(),z._insertElement(st,G.HTML),z.skipNextNewLine=!0,z.framesetOk=!1}function ee(z,st){z._reconstructActiveFormattingElements(),z._insertElement(st,G.HTML),z.activeFormattingElements.pushElement(z.openElements.current,st)}function Ae(z,st){z._reconstructActiveFormattingElements(),z._insertElement(st,G.HTML),z.activeFormattingElements.insertMarker(),z.framesetOk=!1}function Le(z,st){z._reconstructActiveFormattingElements(),z._appendElement(st,G.HTML),z.framesetOk=!1,st.ackSelfClosing=!0}function dn(z,st){z._appendElement(st,G.HTML),st.ackSelfClosing=!0}function fn(z,st){z._switchToTextParsing(st,h.MODE.RAWTEXT)}function Ln(z,st){z.openElements.currentTagName===S.OPTION&&z.openElements.pop(),z._reconstructActiveFormattingElements(),z._insertElement(st,G.HTML)}function nr(z,st){z.openElements.hasInScope(S.RUBY)&&z.openElements.generateImpliedEndTags(),z._insertElement(st,G.HTML)}function sn(z,st){z._reconstructActiveFormattingElements(),z._insertElement(st,G.HTML)}function Qe(z,st){const nt=st.tagName;switch(nt.length){case 1:nt===S.I||nt===S.S||nt===S.B||nt===S.U?ee(z,st):nt===S.P?Bt(z,st):nt===S.A?function(kt,ne){const Xe=kt.activeFormattingElements.getElementEntryInScopeWithTagName(S.A);Xe&&(Ye(kt,ne),kt.openElements.remove(Xe.element),kt.activeFormattingElements.removeEntry(Xe)),kt._reconstructActiveFormattingElements(),kt._insertElement(ne,G.HTML),kt.activeFormattingElements.pushElement(kt.openElements.current,ne)}(z,st):sn(z,st);break;case 2:nt===S.DL||nt===S.OL||nt===S.UL?Bt(z,st):nt===S.H1||nt===S.H2||nt===S.H3||nt===S.H4||nt===S.H5||nt===S.H6?function(kt,ne){kt.openElements.hasInButtonScope(S.P)&&kt._closePElement();const Xe=kt.openElements.currentTagName;Xe!==S.H1&&Xe!==S.H2&&Xe!==S.H3&&Xe!==S.H4&&Xe!==S.H5&&Xe!==S.H6||kt.openElements.pop(),kt._insertElement(ne,G.HTML)}(z,st):nt===S.LI||nt===S.DD||nt===S.DT?function(kt,ne){kt.framesetOk=!1;const Xe=ne.tagName;for(let zn=kt.openElements.stackTop;zn>=0;zn--){const Ve=kt.openElements.items[zn],ye=kt.treeAdapter.getTagName(Ve);let ct=null;if(Xe===S.LI&&ye===S.LI?ct=S.LI:Xe!==S.DD&&Xe!==S.DT||ye!==S.DD&&ye!==S.DT||(ct=ye),ct){kt.openElements.generateImpliedEndTagsWithExclusion(ct),kt.openElements.popUntilTagNamePopped(ct);break}if(ye!==S.ADDRESS&&ye!==S.DIV&&ye!==S.P&&kt._isSpecialElement(Ve))break}kt.openElements.hasInButtonScope(S.P)&&kt._closePElement(),kt._insertElement(ne,G.HTML)}(z,st):nt===S.EM||nt===S.TT?ee(z,st):nt===S.BR?Le(z,st):nt===S.HR?(ne=st,(kt=z).openElements.hasInButtonScope(S.P)&&kt._closePElement(),kt._appendElement(ne,G.HTML),kt.framesetOk=!1,ne.ackSelfClosing=!0):nt===S.RB?nr(z,st):nt===S.RT||nt===S.RP?function(kt,ne){kt.openElements.hasInScope(S.RUBY)&&kt.openElements.generateImpliedEndTagsWithExclusion(S.RTC),kt._insertElement(ne,G.HTML)}(z,st):nt!==S.TH&&nt!==S.TD&&nt!==S.TR&&sn(z,st);break;case 3:nt===S.DIV||nt===S.DIR||nt===S.NAV?Bt(z,st):nt===S.PRE?Wt(z,st):nt===S.BIG?ee(z,st):nt===S.IMG||nt===S.WBR?Le(z,st):nt===S.XMP?function(kt,ne){kt.openElements.hasInButtonScope(S.P)&&kt._closePElement(),kt._reconstructActiveFormattingElements(),kt.framesetOk=!1,kt._switchToTextParsing(ne,h.MODE.RAWTEXT)}(z,st):nt===S.SVG?function(kt,ne){kt._reconstructActiveFormattingElements(),I.adjustTokenSVGAttrs(ne),I.adjustTokenXMLAttrs(ne),ne.selfClosing?kt._appendElement(ne,G.SVG):kt._insertElement(ne,G.SVG),ne.ackSelfClosing=!0}(z,st):nt===S.RTC?nr(z,st):nt!==S.COL&&sn(z,st);break;case 4:nt===S.HTML?function(kt,ne){0===kt.openElements.tmplCount&&kt.treeAdapter.adoptAttributes(kt.openElements.items[0],ne.attrs)}(z,st):nt===S.BASE||nt===S.LINK||nt===S.META?xe(z,st):nt===S.BODY?function(kt,ne){const Xe=kt.openElements.tryPeekProperlyNestedBodyElement();Xe&&0===kt.openElements.tmplCount&&(kt.framesetOk=!1,kt.treeAdapter.adoptAttributes(Xe,ne.attrs))}(z,st):nt===S.MAIN||nt===S.MENU?Bt(z,st):nt===S.FORM?function(kt,ne){const Xe=kt.openElements.tmplCount>0;kt.formElement&&!Xe||(kt.openElements.hasInButtonScope(S.P)&&kt._closePElement(),kt._insertElement(ne,G.HTML),Xe||(kt.formElement=kt.openElements.current))}(z,st):nt===S.CODE||nt===S.FONT?ee(z,st):nt===S.NOBR?function(kt,ne){kt._reconstructActiveFormattingElements(),kt.openElements.hasInScope(S.NOBR)&&(Ye(kt,ne),kt._reconstructActiveFormattingElements()),kt._insertElement(ne,G.HTML),kt.activeFormattingElements.pushElement(kt.openElements.current,ne)}(z,st):nt===S.AREA?Le(z,st):nt===S.MATH?function(kt,ne){kt._reconstructActiveFormattingElements(),I.adjustTokenMathMLAttrs(ne),I.adjustTokenXMLAttrs(ne),ne.selfClosing?kt._appendElement(ne,G.MATHML):kt._insertElement(ne,G.MATHML),ne.ackSelfClosing=!0}(z,st):nt===S.MENU?function(kt,ne){kt.openElements.hasInButtonScope(S.P)&&kt._closePElement(),kt._insertElement(ne,G.HTML)}(z,st):nt!==S.HEAD&&sn(z,st);break;case 5:nt===S.STYLE||nt===S.TITLE?xe(z,st):nt===S.ASIDE?Bt(z,st):nt===S.SMALL?ee(z,st):nt===S.TABLE?function(kt,ne){kt.treeAdapter.getDocumentMode(kt.document)!==U.DOCUMENT_MODE.QUIRKS&&kt.openElements.hasInButtonScope(S.P)&&kt._closePElement(),kt._insertElement(ne,G.HTML),kt.framesetOk=!1,kt.insertionMode=gt}(z,st):nt===S.EMBED?Le(z,st):nt===S.INPUT?function(kt,ne){kt._reconstructActiveFormattingElements(),kt._appendElement(ne,G.HTML);const Xe=h.getTokenAttr(ne,Y.TYPE);Xe&&Xe.toLowerCase()===tt||(kt.framesetOk=!1),ne.ackSelfClosing=!0}(z,st):nt===S.PARAM||nt===S.TRACK?dn(z,st):nt===S.IMAGE?function(kt,ne){ne.tagName=S.IMG,Le(kt,ne)}(z,st):nt!==S.FRAME&&nt!==S.TBODY&&nt!==S.TFOOT&&nt!==S.THEAD&&sn(z,st);break;case 6:nt===S.SCRIPT?xe(z,st):nt===S.CENTER||nt===S.FIGURE||nt===S.FOOTER||nt===S.HEADER||nt===S.HGROUP||nt===S.DIALOG?Bt(z,st):nt===S.BUTTON?function(kt,ne){kt.openElements.hasInScope(S.BUTTON)&&(kt.openElements.generateImpliedEndTags(),kt.openElements.popUntilTagNamePopped(S.BUTTON)),kt._reconstructActiveFormattingElements(),kt._insertElement(ne,G.HTML),kt.framesetOk=!1}(z,st):nt===S.STRIKE||nt===S.STRONG?ee(z,st):nt===S.APPLET||nt===S.OBJECT?Ae(z,st):nt===S.KEYGEN?Le(z,st):nt===S.SOURCE?dn(z,st):nt===S.IFRAME?function(kt,ne){kt.framesetOk=!1,kt._switchToTextParsing(ne,h.MODE.RAWTEXT)}(z,st):nt===S.SELECT?function(kt,ne){kt._reconstructActiveFormattingElements(),kt._insertElement(ne,G.HTML),kt.framesetOk=!1,kt.insertionMode===gt||kt.insertionMode===Ot||kt.insertionMode===Et||kt.insertionMode===Mt||kt.insertionMode===jt?kt.insertionMode=le:kt.insertionMode=Ut}(z,st):nt===S.OPTION?Ln(z,st):sn(z,st);break;case 7:nt===S.BGSOUND?xe(z,st):nt===S.DETAILS||nt===S.ADDRESS||nt===S.ARTICLE||nt===S.SECTION||nt===S.SUMMARY?Bt(z,st):nt===S.LISTING?Wt(z,st):nt===S.MARQUEE?Ae(z,st):nt===S.NOEMBED?fn(z,st):nt!==S.CAPTION&&sn(z,st);break;case 8:nt===S.BASEFONT?xe(z,st):nt===S.FRAMESET?function(kt,ne){const Xe=kt.openElements.tryPeekProperlyNestedBodyElement();kt.framesetOk&&Xe&&(kt.treeAdapter.detachNode(Xe),kt.openElements.popAllUpToHtmlElement(),kt._insertElement(ne,G.HTML),kt.insertionMode=Ht)}(z,st):nt===S.FIELDSET?Bt(z,st):nt===S.TEXTAREA?function(kt,ne){kt._insertElement(ne,G.HTML),kt.skipNextNewLine=!0,kt.tokenizer.state=h.MODE.RCDATA,kt.originalInsertionMode=kt.insertionMode,kt.framesetOk=!1,kt.insertionMode=Q}(z,st):nt===S.TEMPLATE?xe(z,st):nt===S.NOSCRIPT?z.options.scriptingEnabled?fn(z,st):sn(z,st):nt===S.OPTGROUP?Ln(z,st):nt!==S.COLGROUP&&sn(z,st);break;case 9:nt===S.PLAINTEXT?function(kt,ne){kt.openElements.hasInButtonScope(S.P)&&kt._closePElement(),kt._insertElement(ne,G.HTML),kt.tokenizer.state=h.MODE.PLAINTEXT}(z,st):sn(z,st);break;case 10:nt===S.BLOCKQUOTE||nt===S.FIGCAPTION?Bt(z,st):sn(z,st);break;default:sn(z,st)}var kt,ne}function In(z,st){const nt=st.tagName;z.openElements.hasInScope(nt)&&(z.openElements.generateImpliedEndTags(),z.openElements.popUntilTagNamePopped(nt))}function mr(z,st){const nt=st.tagName;z.openElements.hasInScope(nt)&&(z.openElements.generateImpliedEndTags(),z.openElements.popUntilTagNamePopped(nt),z.activeFormattingElements.clearToLastMarker())}function yn(z,st){const nt=st.tagName;for(let kt=z.openElements.stackTop;kt>0;kt--){const ne=z.openElements.items[kt];if(z.treeAdapter.getTagName(ne)===nt){z.openElements.generateImpliedEndTagsWithExclusion(nt),z.openElements.popUntilElementPopped(ne);break}if(z._isSpecialElement(ne))break}}function kn(z,st){const nt=st.tagName;switch(nt.length){case 1:nt===S.A||nt===S.B||nt===S.I||nt===S.S||nt===S.U?Ye(z,st):nt===S.P?((kt=z).openElements.hasInButtonScope(S.P)||kt._insertFakeElement(S.P),kt._closePElement()):yn(z,st);break;case 2:nt===S.DL||nt===S.UL||nt===S.OL?In(z,st):nt===S.LI?function(kt){kt.openElements.hasInListItemScope(S.LI)&&(kt.openElements.generateImpliedEndTagsWithExclusion(S.LI),kt.openElements.popUntilTagNamePopped(S.LI))}(z):nt===S.DD||nt===S.DT?function(kt,ne){const Xe=ne.tagName;kt.openElements.hasInScope(Xe)&&(kt.openElements.generateImpliedEndTagsWithExclusion(Xe),kt.openElements.popUntilTagNamePopped(Xe))}(z,st):nt===S.H1||nt===S.H2||nt===S.H3||nt===S.H4||nt===S.H5||nt===S.H6?function(kt){kt.openElements.hasNumberedHeaderInScope()&&(kt.openElements.generateImpliedEndTags(),kt.openElements.popUntilNumberedHeaderPopped())}(z):nt===S.BR?function(kt){kt._reconstructActiveFormattingElements(),kt._insertFakeElement(S.BR),kt.openElements.pop(),kt.framesetOk=!1}(z):nt===S.EM||nt===S.TT?Ye(z,st):yn(z,st);break;case 3:nt===S.BIG?Ye(z,st):nt===S.DIR||nt===S.DIV||nt===S.NAV||nt===S.PRE?In(z,st):yn(z,st);break;case 4:nt===S.BODY?function(kt){kt.openElements.hasInScope(S.BODY)&&(kt.insertionMode=ie)}(z):nt===S.HTML?function(kt,ne){kt.openElements.hasInScope(S.BODY)&&(kt.insertionMode=ie,kt._processToken(ne))}(z,st):nt===S.FORM?function(kt){const ne=kt.openElements.tmplCount>0,Xe=kt.formElement;ne||(kt.formElement=null),(Xe||ne)&&kt.openElements.hasInScope(S.FORM)&&(kt.openElements.generateImpliedEndTags(),ne?kt.openElements.popUntilTagNamePopped(S.FORM):kt.openElements.remove(Xe))}(z):nt===S.CODE||nt===S.FONT||nt===S.NOBR?Ye(z,st):nt===S.MAIN||nt===S.MENU?In(z,st):yn(z,st);break;case 5:nt===S.ASIDE?In(z,st):nt===S.SMALL?Ye(z,st):yn(z,st);break;case 6:nt===S.CENTER||nt===S.FIGURE||nt===S.FOOTER||nt===S.HEADER||nt===S.HGROUP||nt===S.DIALOG?In(z,st):nt===S.APPLET||nt===S.OBJECT?mr(z,st):nt===S.STRIKE||nt===S.STRONG?Ye(z,st):yn(z,st);break;case 7:nt===S.ADDRESS||nt===S.ARTICLE||nt===S.DETAILS||nt===S.SECTION||nt===S.SUMMARY||nt===S.LISTING?In(z,st):nt===S.MARQUEE?mr(z,st):yn(z,st);break;case 8:nt===S.FIELDSET?In(z,st):nt===S.TEMPLATE?Ue(z,st):yn(z,st);break;case 10:nt===S.BLOCKQUOTE||nt===S.FIGCAPTION?In(z,st):yn(z,st);break;default:yn(z,st)}var kt}function Pn(z,st){z.tmplInsertionModeStackTop>-1?Sn(z,st):z.stopped=!0}function Wn(z,st){const nt=z.openElements.currentTagName;nt===S.TABLE||nt===S.TBODY||nt===S.TFOOT||nt===S.THEAD||nt===S.TR?(z.pendingCharacterTokens=[],z.hasNonWhitespacePendingCharacterToken=!1,z.originalInsertionMode=z.insertionMode,z.insertionMode=ot,z._processToken(st)):rr(z,st)}function $n(z,st){const nt=st.tagName;switch(nt.length){case 2:nt===S.TD||nt===S.TH||nt===S.TR?(ne=st,(kt=z).openElements.clearBackToTableContext(),kt._insertFakeElement(S.TBODY),kt.insertionMode=Et,kt._processToken(ne)):rr(z,st);break;case 3:nt===S.COL?function(kt,ne){kt.openElements.clearBackToTableContext(),kt._insertFakeElement(S.COLGROUP),kt.insertionMode=yt,kt._processToken(ne)}(z,st):rr(z,st);break;case 4:nt===S.FORM?function(kt,ne){kt.formElement||0!==kt.openElements.tmplCount||(kt._insertElement(ne,G.HTML),kt.formElement=kt.openElements.current,kt.openElements.pop())}(z,st):rr(z,st);break;case 5:nt===S.TABLE?function(kt,ne){kt.openElements.hasInTableScope(S.TABLE)&&(kt.openElements.popUntilTagNamePopped(S.TABLE),kt._resetInsertionMode(),kt._processToken(ne))}(z,st):nt===S.STYLE?xe(z,st):nt===S.TBODY||nt===S.TFOOT||nt===S.THEAD?function(kt,ne){kt.openElements.clearBackToTableContext(),kt._insertElement(ne,G.HTML),kt.insertionMode=Et}(z,st):nt===S.INPUT?function(kt,ne){const Xe=h.getTokenAttr(ne,Y.TYPE);Xe&&Xe.toLowerCase()===tt?kt._appendElement(ne,G.HTML):rr(kt,ne),ne.ackSelfClosing=!0}(z,st):rr(z,st);break;case 6:nt===S.SCRIPT?xe(z,st):rr(z,st);break;case 7:nt===S.CAPTION?function(kt,ne){kt.openElements.clearBackToTableContext(),kt.activeFormattingElements.insertMarker(),kt._insertElement(ne,G.HTML),kt.insertionMode=Ot}(z,st):rr(z,st);break;case 8:nt===S.COLGROUP?function(kt,ne){kt.openElements.clearBackToTableContext(),kt._insertElement(ne,G.HTML),kt.insertionMode=yt}(z,st):nt===S.TEMPLATE?xe(z,st):rr(z,st);break;default:rr(z,st)}var kt,ne}function Tr(z,st){const nt=st.tagName;nt===S.TABLE?z.openElements.hasInTableScope(S.TABLE)&&(z.openElements.popUntilTagNamePopped(S.TABLE),z._resetInsertionMode()):nt===S.TEMPLATE?Ue(z,st):nt!==S.BODY&&nt!==S.CAPTION&&nt!==S.COL&&nt!==S.COLGROUP&&nt!==S.HTML&&nt!==S.TBODY&&nt!==S.TD&&nt!==S.TFOOT&&nt!==S.TH&&nt!==S.THEAD&&nt!==S.TR&&rr(z,st)}function rr(z,st){const nt=z.fosterParentingEnabled;z.fosterParentingEnabled=!0,z._processTokenInBodyMode(st),z.fosterParentingEnabled=nt}function Ar(z,st){let nt=0;if(z.hasNonWhitespacePendingCharacterToken)for(;nt<z.pendingCharacterTokens.length;nt++)rr(z,z.pendingCharacterTokens[nt]);else for(;nt<z.pendingCharacterTokens.length;nt++)z._insertCharacters(z.pendingCharacterTokens[nt]);z.insertionMode=z.originalInsertionMode,z._processToken(st)}function dr(z,st){z.openElements.currentTagName===S.COLGROUP&&(z.openElements.pop(),z.insertionMode=gt,z._processToken(st))}function _n(z,st){const nt=st.tagName;nt===S.HTML?Qe(z,st):nt===S.OPTION?(z.openElements.currentTagName===S.OPTION&&z.openElements.pop(),z._insertElement(st,G.HTML)):nt===S.OPTGROUP?(z.openElements.currentTagName===S.OPTION&&z.openElements.pop(),z.openElements.currentTagName===S.OPTGROUP&&z.openElements.pop(),z._insertElement(st,G.HTML)):nt===S.INPUT||nt===S.KEYGEN||nt===S.TEXTAREA||nt===S.SELECT?z.openElements.hasInSelectScope(S.SELECT)&&(z.openElements.popUntilTagNamePopped(S.SELECT),z._resetInsertionMode(),nt!==S.SELECT&&z._processToken(st)):nt!==S.SCRIPT&&nt!==S.TEMPLATE||xe(z,st)}function Zn(z,st){const nt=st.tagName;if(nt===S.OPTGROUP){const kt=z.openElements.items[z.openElements.stackTop-1],ne=kt&&z.treeAdapter.getTagName(kt);z.openElements.currentTagName===S.OPTION&&ne===S.OPTGROUP&&z.openElements.pop(),z.openElements.currentTagName===S.OPTGROUP&&z.openElements.pop()}else nt===S.OPTION?z.openElements.currentTagName===S.OPTION&&z.openElements.pop():nt===S.SELECT&&z.openElements.hasInSelectScope(S.SELECT)?(z.openElements.popUntilTagNamePopped(S.SELECT),z._resetInsertionMode()):nt===S.TEMPLATE&&Ue(z,st)}function Sn(z,st){z.openElements.tmplCount>0?(z.openElements.popUntilTagNamePopped(S.TEMPLATE),z.activeFormattingElements.clearToLastMarker(),z._popTmplInsertionMode(),z._resetInsertionMode(),z._processToken(st)):z.stopped=!0}function Rn(z,st){z.insertionMode=at,z._processToken(st)}function Gn(z,st){z.insertionMode=at,z._processToken(st)}x.exports=class{constructor(z){this.options=k(q,z),this.treeAdapter=this.options.treeAdapter,this.pendingScript=null,this.options.sourceCodeLocationInfo&&T.install(this,_),this.options.onParseError&&T.install(this,b,{onParseError:this.options.onParseError})}parse(z){const st=this.treeAdapter.createDocument();return this._bootstrap(st,null),this.tokenizer.write(z,!0),this._runParsingLoop(null),st}parseFragment(z,st){st||(st=this.treeAdapter.createElement(S.TEMPLATE,G.HTML,[]));const nt=this.treeAdapter.createElement("documentmock",G.HTML,[]);this._bootstrap(nt,st),this.treeAdapter.getTagName(st)===S.TEMPLATE&&this._pushTmplInsertionMode(Zt),this._initTokenizerForFragmentParsing(),this._insertFakeRootElement(),this._resetInsertionMode(),this._findFormInFragmentContext(),this.tokenizer.write(z,!0),this._runParsingLoop(null);const kt=this.treeAdapter.getFirstChild(nt),ne=this.treeAdapter.createDocumentFragment();return this._adoptNodes(kt,ne),ne}_bootstrap(z,st){this.tokenizer=new h(this.options),this.stopped=!1,this.insertionMode=bt,this.originalInsertionMode="",this.document=z,this.fragmentContext=st,this.headElement=null,this.formElement=null,this.openElements=new y(this.document,this.treeAdapter),this.activeFormattingElements=new m(this.treeAdapter),this.tmplInsertionModeStack=[],this.tmplInsertionModeStackTop=-1,this.currentTmplInsertionMode=null,this.pendingCharacterTokens=[],this.hasNonWhitespacePendingCharacterToken=!1,this.framesetOk=!0,this.skipNextNewLine=!1,this.fosterParentingEnabled=!1}_err(){}_runParsingLoop(z){for(;!this.stopped;){this._setupTokenizerCDATAMode();const st=this.tokenizer.getNextToken();if(st.type===h.HIBERNATION_TOKEN)break;if(this.skipNextNewLine&&(this.skipNextNewLine=!1,st.type===h.WHITESPACE_CHARACTER_TOKEN&&"\n"===st.chars[0])){if(1===st.chars.length)continue;st.chars=st.chars.substr(1)}if(this._processInputToken(st),z&&this.pendingScript)break}}runParsingLoopForCurrentChunk(z,st){if(this._runParsingLoop(st),st&&this.pendingScript){const nt=this.pendingScript;return this.pendingScript=null,void st(nt)}z&&z()}_setupTokenizerCDATAMode(){const z=this._getAdjustedCurrentElement();this.tokenizer.allowCDATA=z&&z!==this.document&&this.treeAdapter.getNamespaceURI(z)!==G.HTML&&!this._isIntegrationPoint(z)}_switchToTextParsing(z,st){this._insertElement(z,G.HTML),this.tokenizer.state=st,this.originalInsertionMode=this.insertionMode,this.insertionMode=Q}switchToPlaintextParsing(){this.insertionMode=Q,this.originalInsertionMode=at,this.tokenizer.state=h.MODE.PLAINTEXT}_getAdjustedCurrentElement(){return 0===this.openElements.stackTop&&this.fragmentContext?this.fragmentContext:this.openElements.current}_findFormInFragmentContext(){let z=this.fragmentContext;do{if(this.treeAdapter.getTagName(z)===S.FORM){this.formElement=z;break}z=this.treeAdapter.getParentNode(z)}while(z)}_initTokenizerForFragmentParsing(){if(this.treeAdapter.getNamespaceURI(this.fragmentContext)===G.HTML){const z=this.treeAdapter.getTagName(this.fragmentContext);z===S.TITLE||z===S.TEXTAREA?this.tokenizer.state=h.MODE.RCDATA:z===S.STYLE||z===S.XMP||z===S.IFRAME||z===S.NOEMBED||z===S.NOFRAMES||z===S.NOSCRIPT?this.tokenizer.state=h.MODE.RAWTEXT:z===S.SCRIPT?this.tokenizer.state=h.MODE.SCRIPT_DATA:z===S.PLAINTEXT&&(this.tokenizer.state=h.MODE.PLAINTEXT)}}_setDocumentType(z){const st=z.name||"",nt=z.publicId||"",kt=z.systemId||"";this.treeAdapter.setDocumentType(this.document,st,nt,kt)}_attachElementToTree(z){if(this._shouldFosterParentOnInsertion())this._fosterParentElement(z);else{const st=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.appendChild(st,z)}}_appendElement(z,st){const nt=this.treeAdapter.createElement(z.tagName,st,z.attrs);this._attachElementToTree(nt)}_insertElement(z,st){const nt=this.treeAdapter.createElement(z.tagName,st,z.attrs);this._attachElementToTree(nt),this.openElements.push(nt)}_insertFakeElement(z){const st=this.treeAdapter.createElement(z,G.HTML,[]);this._attachElementToTree(st),this.openElements.push(st)}_insertTemplate(z){const st=this.treeAdapter.createElement(z.tagName,G.HTML,z.attrs),nt=this.treeAdapter.createDocumentFragment();this.treeAdapter.setTemplateContent(st,nt),this._attachElementToTree(st),this.openElements.push(st)}_insertFakeRootElement(){const z=this.treeAdapter.createElement(S.HTML,G.HTML,[]);this.treeAdapter.appendChild(this.openElements.current,z),this.openElements.push(z)}_appendCommentNode(z,st){const nt=this.treeAdapter.createCommentNode(z.data);this.treeAdapter.appendChild(st,nt)}_insertCharacters(z){if(this._shouldFosterParentOnInsertion())this._fosterParentText(z.chars);else{const st=this.openElements.currentTmplContent||this.openElements.current;this.treeAdapter.insertText(st,z.chars)}}_adoptNodes(z,st){for(let nt=this.treeAdapter.getFirstChild(z);nt;nt=this.treeAdapter.getFirstChild(z))this.treeAdapter.detachNode(nt),this.treeAdapter.appendChild(st,nt)}_shouldProcessTokenInForeignContent(z){const st=this._getAdjustedCurrentElement();if(!st||st===this.document)return!1;const nt=this.treeAdapter.getNamespaceURI(st);if(nt===G.HTML||this.treeAdapter.getTagName(st)===S.ANNOTATION_XML&&nt===G.MATHML&&z.type===h.START_TAG_TOKEN&&z.tagName===S.SVG)return!1;const kt=z.type===h.CHARACTER_TOKEN||z.type===h.NULL_CHARACTER_TOKEN||z.type===h.WHITESPACE_CHARACTER_TOKEN;return!((z.type===h.START_TAG_TOKEN&&z.tagName!==S.MGLYPH&&z.tagName!==S.MALIGNMARK||kt)&&this._isIntegrationPoint(st,G.MATHML)||(z.type===h.START_TAG_TOKEN||kt)&&this._isIntegrationPoint(st,G.HTML)||z.type===h.EOF_TOKEN)}_processToken(z){fe[this.insertionMode][z.type](this,z)}_processTokenInBodyMode(z){fe[at][z.type](this,z)}_processTokenInForeignContent(z){var st,nt;z.type===h.CHARACTER_TOKEN?(nt=z,(st=this)._insertCharacters(nt),st.framesetOk=!1):z.type===h.NULL_CHARACTER_TOKEN?function(st,nt){nt.chars=L.REPLACEMENT_CHARACTER,st._insertCharacters(nt)}(this,z):z.type===h.WHITESPACE_CHARACTER_TOKEN?Tt(this,z):z.type===h.COMMENT_TOKEN?ae(this,z):z.type===h.START_TAG_TOKEN?function(st,nt){if(I.causesExit(nt)&&!st.fragmentContext){for(;st.treeAdapter.getNamespaceURI(st.openElements.current)!==G.HTML&&!st._isIntegrationPoint(st.openElements.current);)st.openElements.pop();st._processToken(nt)}else{const kt=st._getAdjustedCurrentElement(),ne=st.treeAdapter.getNamespaceURI(kt);ne===G.MATHML?I.adjustTokenMathMLAttrs(nt):ne===G.SVG&&(I.adjustTokenSVGTagName(nt),I.adjustTokenSVGAttrs(nt)),I.adjustTokenXMLAttrs(nt),nt.selfClosing?st._appendElement(nt,ne):st._insertElement(nt,ne),nt.ackSelfClosing=!0}}(this,z):z.type===h.END_TAG_TOKEN&&function(st,nt){for(let kt=st.openElements.stackTop;kt>0;kt--){const ne=st.openElements.items[kt];if(st.treeAdapter.getNamespaceURI(ne)===G.HTML){st._processToken(nt);break}if(st.treeAdapter.getTagName(ne).toLowerCase()===nt.tagName){st.openElements.popUntilElementPopped(ne);break}}}(this,z)}_processInputToken(z){this._shouldProcessTokenInForeignContent(z)?this._processTokenInForeignContent(z):this._processToken(z),z.type===h.START_TAG_TOKEN&&z.selfClosing&&!z.ackSelfClosing&&this._err(D.nonVoidHtmlElementStartTagWithTrailingSolidus)}_isIntegrationPoint(z,st){const nt=this.treeAdapter.getTagName(z),kt=this.treeAdapter.getNamespaceURI(z),ne=this.treeAdapter.getAttrList(z);return I.isIntegrationPoint(nt,kt,ne,st)}_reconstructActiveFormattingElements(){const z=this.activeFormattingElements.length;if(z){let st=z,nt=null;do{if(st--,nt=this.activeFormattingElements.entries[st],nt.type===m.MARKER_ENTRY||this.openElements.contains(nt.element)){st++;break}}while(st>0);for(let kt=st;kt<z;kt++)nt=this.activeFormattingElements.entries[kt],this._insertElement(nt.token,this.treeAdapter.getNamespaceURI(nt.element)),nt.element=this.openElements.current}}_closeTableCell(){this.openElements.generateImpliedEndTags(),this.openElements.popUntilTableCellPopped(),this.activeFormattingElements.clearToLastMarker(),this.insertionMode=Mt}_closePElement(){this.openElements.generateImpliedEndTagsWithExclusion(S.P),this.openElements.popUntilTagNamePopped(S.P)}_resetInsertionMode(){for(let z=this.openElements.stackTop,st=!1;z>=0;z--){let nt=this.openElements.items[z];0===z&&(st=!0,this.fragmentContext&&(nt=this.fragmentContext));const kt=this.treeAdapter.getTagName(nt),ne=Pt[kt];if(ne){this.insertionMode=ne;break}if(!(st||kt!==S.TD&&kt!==S.TH)){this.insertionMode=jt;break}if(!st&&kt===S.HEAD){this.insertionMode=X;break}if(kt===S.SELECT){this._resetInsertionModeForSelect(z);break}if(kt===S.TEMPLATE){this.insertionMode=this.currentTmplInsertionMode;break}if(kt===S.HTML){this.insertionMode=this.headElement?K:B;break}if(st){this.insertionMode=at;break}}}_resetInsertionModeForSelect(z){if(z>0)for(let st=z-1;st>0;st--){const nt=this.openElements.items[st],kt=this.treeAdapter.getTagName(nt);if(kt===S.TEMPLATE)break;if(kt===S.TABLE)return void(this.insertionMode=le)}this.insertionMode=Ut}_pushTmplInsertionMode(z){this.tmplInsertionModeStack.push(z),this.tmplInsertionModeStackTop++,this.currentTmplInsertionMode=z}_popTmplInsertionMode(){this.tmplInsertionModeStack.pop(),this.tmplInsertionModeStackTop--,this.currentTmplInsertionMode=this.tmplInsertionModeStack[this.tmplInsertionModeStackTop]}_isElementCausesFosterParenting(z){const st=this.treeAdapter.getTagName(z);return st===S.TABLE||st===S.TBODY||st===S.TFOOT||st===S.THEAD||st===S.TR}_shouldFosterParentOnInsertion(){return this.fosterParentingEnabled&&this._isElementCausesFosterParenting(this.openElements.current)}_findFosterParentingLocation(){const z={parent:null,beforeElement:null};for(let st=this.openElements.stackTop;st>=0;st--){const nt=this.openElements.items[st],kt=this.treeAdapter.getTagName(nt),ne=this.treeAdapter.getNamespaceURI(nt);if(kt===S.TEMPLATE&&ne===G.HTML){z.parent=this.treeAdapter.getTemplateContent(nt);break}if(kt===S.TABLE){z.parent=this.treeAdapter.getParentNode(nt),z.parent?z.beforeElement=nt:z.parent=this.openElements.items[st-1];break}}return z.parent||(z.parent=this.openElements.items[0]),z}_fosterParentElement(z){const st=this._findFosterParentingLocation();st.beforeElement?this.treeAdapter.insertBefore(st.parent,z,st.beforeElement):this.treeAdapter.appendChild(st.parent,z)}_fosterParentText(z){const st=this._findFosterParentingLocation();st.beforeElement?this.treeAdapter.insertTextBefore(st.parent,z,st.beforeElement):this.treeAdapter.insertText(st.parent,z)}_isSpecialElement(z){const st=this.treeAdapter.getTagName(z),nt=this.treeAdapter.getNamespaceURI(z);return U.SPECIAL_ELEMENTS[nt][st]}}},6519:(x,g,M)=>{"use strict";const h=M(6152),y=h.TAG_NAMES,m=h.NAMESPACES;function _(C){switch(C.length){case 1:return C===y.P;case 2:return C===y.RB||C===y.RP||C===y.RT||C===y.DD||C===y.DT||C===y.LI;case 3:return C===y.RTC;case 6:return C===y.OPTION;case 8:return C===y.OPTGROUP}return!1}function b(C){switch(C.length){case 1:return C===y.P;case 2:return C===y.RB||C===y.RP||C===y.RT||C===y.DD||C===y.DT||C===y.LI||C===y.TD||C===y.TH||C===y.TR;case 3:return C===y.RTC;case 5:return C===y.TBODY||C===y.TFOOT||C===y.THEAD;case 6:return C===y.OPTION;case 7:return C===y.CAPTION;case 8:return C===y.OPTGROUP||C===y.COLGROUP}return!1}function T(C,k){switch(C.length){case 2:if(C===y.TD||C===y.TH)return k===m.HTML;if(C===y.MI||C===y.MO||C===y.MN||C===y.MS)return k===m.MATHML;break;case 4:if(C===y.HTML)return k===m.HTML;if(C===y.DESC)return k===m.SVG;break;case 5:if(C===y.TABLE)return k===m.HTML;if(C===y.MTEXT)return k===m.MATHML;if(C===y.TITLE)return k===m.SVG;break;case 6:return(C===y.APPLET||C===y.OBJECT)&&k===m.HTML;case 7:return(C===y.CAPTION||C===y.MARQUEE)&&k===m.HTML;case 8:return C===y.TEMPLATE&&k===m.HTML;case 13:return C===y.FOREIGN_OBJECT&&k===m.SVG;case 14:return C===y.ANNOTATION_XML&&k===m.MATHML}return!1}x.exports=class{constructor(C,k){this.stackTop=-1,this.items=[],this.current=C,this.currentTagName=null,this.currentTmplContent=null,this.tmplCount=0,this.treeAdapter=k}_indexOf(C){let k=-1;for(let A=this.stackTop;A>=0;A--)if(this.items[A]===C){k=A;break}return k}_isInTemplate(){return this.currentTagName===y.TEMPLATE&&this.treeAdapter.getNamespaceURI(this.current)===m.HTML}_updateCurrentElement(){this.current=this.items[this.stackTop],this.currentTagName=this.current&&this.treeAdapter.getTagName(this.current),this.currentTmplContent=this._isInTemplate()?this.treeAdapter.getTemplateContent(this.current):null}push(C){this.items[++this.stackTop]=C,this._updateCurrentElement(),this._isInTemplate()&&this.tmplCount++}pop(){this.stackTop--,this.tmplCount>0&&this._isInTemplate()&&this.tmplCount--,this._updateCurrentElement()}replace(C,k){const A=this._indexOf(C);this.items[A]=k,A===this.stackTop&&this._updateCurrentElement()}insertAfter(C,k){const A=this._indexOf(C)+1;this.items.splice(A,0,k),A===++this.stackTop&&this._updateCurrentElement()}popUntilTagNamePopped(C){for(;this.stackTop>-1;){const k=this.currentTagName,A=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),k===C&&A===m.HTML)break}}popUntilElementPopped(C){for(;this.stackTop>-1;){const k=this.current;if(this.pop(),k===C)break}}popUntilNumberedHeaderPopped(){for(;this.stackTop>-1;){const C=this.currentTagName,k=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),C===y.H1||C===y.H2||C===y.H3||C===y.H4||C===y.H5||C===y.H6&&k===m.HTML)break}}popUntilTableCellPopped(){for(;this.stackTop>-1;){const C=this.currentTagName,k=this.treeAdapter.getNamespaceURI(this.current);if(this.pop(),C===y.TD||C===y.TH&&k===m.HTML)break}}popAllUpToHtmlElement(){this.stackTop=0,this._updateCurrentElement()}clearBackToTableContext(){for(;this.currentTagName!==y.TABLE&&this.currentTagName!==y.TEMPLATE&&this.currentTagName!==y.HTML||this.treeAdapter.getNamespaceURI(this.current)!==m.HTML;)this.pop()}clearBackToTableBodyContext(){for(;this.currentTagName!==y.TBODY&&this.currentTagName!==y.TFOOT&&this.currentTagName!==y.THEAD&&this.currentTagName!==y.TEMPLATE&&this.currentTagName!==y.HTML||this.treeAdapter.getNamespaceURI(this.current)!==m.HTML;)this.pop()}clearBackToTableRowContext(){for(;this.currentTagName!==y.TR&&this.currentTagName!==y.TEMPLATE&&this.currentTagName!==y.HTML||this.treeAdapter.getNamespaceURI(this.current)!==m.HTML;)this.pop()}remove(C){for(let k=this.stackTop;k>=0;k--)if(this.items[k]===C){this.items.splice(k,1),this.stackTop--,this._updateCurrentElement();break}}tryPeekProperlyNestedBodyElement(){const C=this.items[1];return C&&this.treeAdapter.getTagName(C)===y.BODY?C:null}contains(C){return this._indexOf(C)>-1}getCommonAncestor(C){let k=this._indexOf(C);return--k>=0?this.items[k]:null}isRootHtmlElementCurrent(){return 0===this.stackTop&&this.currentTagName===y.HTML}hasInScope(C){for(let k=this.stackTop;k>=0;k--){const A=this.treeAdapter.getTagName(this.items[k]),I=this.treeAdapter.getNamespaceURI(this.items[k]);if(A===C&&I===m.HTML)return!0;if(T(A,I))return!1}return!0}hasNumberedHeaderInScope(){for(let C=this.stackTop;C>=0;C--){const k=this.treeAdapter.getTagName(this.items[C]),A=this.treeAdapter.getNamespaceURI(this.items[C]);if((k===y.H1||k===y.H2||k===y.H3||k===y.H4||k===y.H5||k===y.H6)&&A===m.HTML)return!0;if(T(k,A))return!1}return!0}hasInListItemScope(C){for(let k=this.stackTop;k>=0;k--){const A=this.treeAdapter.getTagName(this.items[k]),I=this.treeAdapter.getNamespaceURI(this.items[k]);if(A===C&&I===m.HTML)return!0;if((A===y.UL||A===y.OL)&&I===m.HTML||T(A,I))return!1}return!0}hasInButtonScope(C){for(let k=this.stackTop;k>=0;k--){const A=this.treeAdapter.getTagName(this.items[k]),I=this.treeAdapter.getNamespaceURI(this.items[k]);if(A===C&&I===m.HTML)return!0;if(A===y.BUTTON&&I===m.HTML||T(A,I))return!1}return!0}hasInTableScope(C){for(let k=this.stackTop;k>=0;k--){const A=this.treeAdapter.getTagName(this.items[k]);if(this.treeAdapter.getNamespaceURI(this.items[k])===m.HTML){if(A===C)return!0;if(A===y.TABLE||A===y.TEMPLATE||A===y.HTML)return!1}}return!0}hasTableBodyContextInTableScope(){for(let C=this.stackTop;C>=0;C--){const k=this.treeAdapter.getTagName(this.items[C]);if(this.treeAdapter.getNamespaceURI(this.items[C])===m.HTML){if(k===y.TBODY||k===y.THEAD||k===y.TFOOT)return!0;if(k===y.TABLE||k===y.HTML)return!1}}return!0}hasInSelectScope(C){for(let k=this.stackTop;k>=0;k--){const A=this.treeAdapter.getTagName(this.items[k]);if(this.treeAdapter.getNamespaceURI(this.items[k])===m.HTML){if(A===C)return!0;if(A!==y.OPTION&&A!==y.OPTGROUP)return!1}}return!0}generateImpliedEndTags(){for(;_(this.currentTagName);)this.pop()}generateImpliedEndTagsThoroughly(){for(;b(this.currentTagName);)this.pop()}generateImpliedEndTagsWithExclusion(C){for(;_(this.currentTagName)&&this.currentTagName!==C;)this.pop()}}},3988:(x,g,M)=>{"use strict";const h=M(7296),y=M(8904),m=M(1515),_=M(6152),b=_.TAG_NAMES,T=_.NAMESPACES,C={treeAdapter:h},k=/&/g,A=/\u00a0/g,I=/"/g,D=/</g,L=/>/g;class U{constructor(G,Y){this.options=y(C,Y),this.treeAdapter=this.options.treeAdapter,this.html="",this.startNode=G}serialize(){return this._serializeChildNodes(this.startNode),this.html}_serializeChildNodes(G){const Y=this.treeAdapter.getChildNodes(G);if(Y)for(let q=0,tt=Y.length;q<tt;q++){const ht=Y[q];this.treeAdapter.isElementNode(ht)?this._serializeElement(ht):this.treeAdapter.isTextNode(ht)?this._serializeTextNode(ht):this.treeAdapter.isCommentNode(ht)?this._serializeCommentNode(ht):this.treeAdapter.isDocumentTypeNode(ht)&&this._serializeDocumentTypeNode(ht)}}_serializeElement(G){const Y=this.treeAdapter.getTagName(G),q=this.treeAdapter.getNamespaceURI(G);if(this.html+="<"+Y,this._serializeAttributes(G),this.html+=">",Y!==b.AREA&&Y!==b.BASE&&Y!==b.BASEFONT&&Y!==b.BGSOUND&&Y!==b.BR&&Y!==b.COL&&Y!==b.EMBED&&Y!==b.FRAME&&Y!==b.HR&&Y!==b.IMG&&Y!==b.INPUT&&Y!==b.KEYGEN&&Y!==b.LINK&&Y!==b.META&&Y!==b.PARAM&&Y!==b.SOURCE&&Y!==b.TRACK&&Y!==b.WBR){const tt=Y===b.TEMPLATE&&q===T.HTML?this.treeAdapter.getTemplateContent(G):G;this._serializeChildNodes(tt),this.html+="</"+Y+">"}}_serializeAttributes(G){const Y=this.treeAdapter.getAttrList(G);for(let q=0,tt=Y.length;q<tt;q++){const ht=Y[q],ut=U.escapeString(ht.value,!0);this.html+=" ",ht.namespace?ht.namespace===T.XML?this.html+="xml:"+ht.name:ht.namespace===T.XMLNS?("xmlns"!==ht.name&&(this.html+="xmlns:"),this.html+=ht.name):ht.namespace===T.XLINK?this.html+="xlink:"+ht.name:this.html+=ht.prefix+":"+ht.name:this.html+=ht.name,this.html+='="'+ut+'"'}}_serializeTextNode(G){const Y=this.treeAdapter.getTextNodeContent(G),q=this.treeAdapter.getParentNode(G);let tt;q&&this.treeAdapter.isElementNode(q)&&(tt=this.treeAdapter.getTagName(q)),tt===b.STYLE||tt===b.SCRIPT||tt===b.XMP||tt===b.IFRAME||tt===b.NOEMBED||tt===b.NOFRAMES||tt===b.PLAINTEXT||tt===b.NOSCRIPT?this.html+=Y:this.html+=U.escapeString(Y,!1)}_serializeCommentNode(G){this.html+="\x3c!--"+this.treeAdapter.getCommentNodeContent(G)+"--\x3e"}_serializeDocumentTypeNode(G){const Y=this.treeAdapter.getDocumentTypeNodeName(G);this.html+="<"+m.serializeContent(Y,null,null)+">"}}U.escapeString=function(S,G){return S=S.replace(k,"&amp;").replace(A,"&nbsp;"),G?S.replace(I,"&quot;"):S.replace(D,"&lt;").replace(L,"&gt;")},x.exports=U},5763:(x,g,M)=>{"use strict";const h=M(7118),y=M(4284),m=M(5482),_=M(1734),b=y.CODE_POINTS,T=y.CODE_POINT_SEQUENCES,C={128:8364,130:8218,131:402,132:8222,133:8230,134:8224,135:8225,136:710,137:8240,138:352,139:8249,140:338,142:381,145:8216,146:8217,147:8220,148:8221,149:8226,150:8211,151:8212,152:732,153:8482,154:353,155:8250,156:339,158:382,159:376},L="DATA_STATE",U="RCDATA_STATE",S="RAWTEXT_STATE",G="SCRIPT_DATA_STATE",Y="PLAINTEXT_STATE",q="TAG_OPEN_STATE",tt="END_TAG_OPEN_STATE",ht="TAG_NAME_STATE",ut="RCDATA_LESS_THAN_SIGN_STATE",bt="RCDATA_END_TAG_OPEN_STATE",F="RCDATA_END_TAG_NAME_STATE",B="RAWTEXT_LESS_THAN_SIGN_STATE",X="RAWTEXT_END_TAG_OPEN_STATE",J="RAWTEXT_END_TAG_NAME_STATE",K="SCRIPT_DATA_LESS_THAN_SIGN_STATE",at="SCRIPT_DATA_END_TAG_OPEN_STATE",Q="SCRIPT_DATA_END_TAG_NAME_STATE",gt="SCRIPT_DATA_ESCAPE_START_STATE",ot="SCRIPT_DATA_ESCAPE_START_DASH_STATE",Ot="SCRIPT_DATA_ESCAPED_STATE",yt="SCRIPT_DATA_ESCAPED_DASH_STATE",Et="SCRIPT_DATA_ESCAPED_DASH_DASH_STATE",Mt="SCRIPT_DATA_ESCAPED_LESS_THAN_SIGN_STATE",jt="SCRIPT_DATA_ESCAPED_END_TAG_OPEN_STATE",Ut="SCRIPT_DATA_ESCAPED_END_TAG_NAME_STATE",le="SCRIPT_DATA_DOUBLE_ESCAPE_START_STATE",Zt="SCRIPT_DATA_DOUBLE_ESCAPED_STATE",ie="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_STATE",Ht="SCRIPT_DATA_DOUBLE_ESCAPED_DASH_DASH_STATE",_t="SCRIPT_DATA_DOUBLE_ESCAPED_LESS_THAN_SIGN_STATE",Xt="SCRIPT_DATA_DOUBLE_ESCAPE_END_STATE",Gt="BEFORE_ATTRIBUTE_NAME_STATE",Pt="ATTRIBUTE_NAME_STATE",he="AFTER_ATTRIBUTE_NAME_STATE",fe="BEFORE_ATTRIBUTE_VALUE_STATE",Ce="ATTRIBUTE_VALUE_DOUBLE_QUOTED_STATE",Ee="ATTRIBUTE_VALUE_SINGLE_QUOTED_STATE",Te="ATTRIBUTE_VALUE_UNQUOTED_STATE",Ke="AFTER_ATTRIBUTE_VALUE_QUOTED_STATE",pn="SELF_CLOSING_START_TAG_STATE",We="BOGUS_COMMENT_STATE",Ye="MARKUP_DECLARATION_OPEN_STATE",Ne="COMMENT_START_STATE",Qt="COMMENT_START_DASH_STATE",ae="COMMENT_STATE",rt="COMMENT_LESS_THAN_SIGN_STATE",Tt="COMMENT_LESS_THAN_SIGN_BANG_STATE",At="COMMENT_LESS_THAN_SIGN_BANG_DASH_STATE",$t="COMMENT_LESS_THAN_SIGN_BANG_DASH_DASH_STATE",oe="COMMENT_END_DASH_STATE",se="COMMENT_END_STATE",xe="COMMENT_END_BANG_STATE",Ue="DOCTYPE_STATE",$e="BEFORE_DOCTYPE_NAME_STATE",on="DOCTYPE_NAME_STATE",bn="AFTER_DOCTYPE_NAME_STATE",Se="AFTER_DOCTYPE_PUBLIC_KEYWORD_STATE",xt="BEFORE_DOCTYPE_PUBLIC_IDENTIFIER_STATE",Bt="DOCTYPE_PUBLIC_IDENTIFIER_DOUBLE_QUOTED_STATE",Wt="DOCTYPE_PUBLIC_IDENTIFIER_SINGLE_QUOTED_STATE",ee="AFTER_DOCTYPE_PUBLIC_IDENTIFIER_STATE",Ae="BETWEEN_DOCTYPE_PUBLIC_AND_SYSTEM_IDENTIFIERS_STATE",Le="AFTER_DOCTYPE_SYSTEM_KEYWORD_STATE",dn="BEFORE_DOCTYPE_SYSTEM_IDENTIFIER_STATE",fn="DOCTYPE_SYSTEM_IDENTIFIER_DOUBLE_QUOTED_STATE",Ln="DOCTYPE_SYSTEM_IDENTIFIER_SINGLE_QUOTED_STATE",nr="AFTER_DOCTYPE_SYSTEM_IDENTIFIER_STATE",sn="BOGUS_DOCTYPE_STATE",Qe="CDATA_SECTION_STATE",In="CDATA_SECTION_BRACKET_STATE",mr="CDATA_SECTION_END_STATE",yn="CHARACTER_REFERENCE_STATE",kn="NAMED_CHARACTER_REFERENCE_STATE",Pn="AMBIGUOS_AMPERSAND_STATE",Wn="NUMERIC_CHARACTER_REFERENCE_STATE",$n="HEXADEMICAL_CHARACTER_REFERENCE_START_STATE",Tr="DECIMAL_CHARACTER_REFERENCE_START_STATE",rr="HEXADEMICAL_CHARACTER_REFERENCE_STATE",Ar="DECIMAL_CHARACTER_REFERENCE_STATE",dr="NUMERIC_CHARACTER_REFERENCE_END_STATE";function _n(ye){return ye===b.SPACE||ye===b.LINE_FEED||ye===b.TABULATION||ye===b.FORM_FEED}function Zn(ye){return ye>=b.DIGIT_0&&ye<=b.DIGIT_9}function Sn(ye){return ye>=b.LATIN_CAPITAL_A&&ye<=b.LATIN_CAPITAL_Z}function Rn(ye){return ye>=b.LATIN_SMALL_A&&ye<=b.LATIN_SMALL_Z}function Gn(ye){return Rn(ye)||Sn(ye)}function z(ye){return Gn(ye)||Zn(ye)}function st(ye){return ye>=b.LATIN_CAPITAL_A&&ye<=b.LATIN_CAPITAL_F}function nt(ye){return ye>=b.LATIN_SMALL_A&&ye<=b.LATIN_SMALL_F}function kt(ye){return ye+32}function ne(ye){return ye<=65535?String.fromCharCode(ye):(ye-=65536,String.fromCharCode(ye>>>10&1023|55296)+String.fromCharCode(56320|1023&ye))}function Xe(ye){return String.fromCharCode(kt(ye))}function zn(ye,ct){const hn=m[++ye];let Dn=++ye,ln=Dn+hn-1;for(;Dn<=ln;){const An=Dn+ln>>>1,lr=m[An];if(lr<ct)Dn=An+1;else{if(!(lr>ct))return m[An+hn];ln=An-1}}return-1}class Ve{constructor(){this.preprocessor=new h,this.tokenQueue=[],this.allowCDATA=!1,this.state=L,this.returnState="",this.charRefCode=-1,this.tempBuff=[],this.lastStartTagName="",this.consumedAfterSnapshot=-1,this.active=!1,this.currentCharacterToken=null,this.currentToken=null,this.currentAttr=null}_err(){}_errOnNextCodePoint(ct){this._consume(),this._err(ct),this._unconsume()}getNextToken(){for(;!this.tokenQueue.length&&this.active;){this.consumedAfterSnapshot=0;const ct=this._consume();this._ensureHibernation()||this[this.state](ct)}return this.tokenQueue.shift()}write(ct,hn){this.active=!0,this.preprocessor.write(ct,hn)}insertHtmlAtCurrentPos(ct){this.active=!0,this.preprocessor.insertHtmlAtCurrentPos(ct)}_ensureHibernation(){if(this.preprocessor.endOfChunkHit){for(;this.consumedAfterSnapshot>0;this.consumedAfterSnapshot--)this.preprocessor.retreat();return this.active=!1,this.tokenQueue.push({type:Ve.HIBERNATION_TOKEN}),!0}return!1}_consume(){return this.consumedAfterSnapshot++,this.preprocessor.advance()}_unconsume(){this.consumedAfterSnapshot--,this.preprocessor.retreat()}_reconsumeInState(ct){this.state=ct,this._unconsume()}_consumeSequenceIfMatch(ct,hn,Dn){let ln=0,An=!0;const lr=ct.length;let kr,we=0,vt=hn;for(;we<lr;we++){if(we>0&&(vt=this._consume(),ln++),vt===b.EOF){An=!1;break}if(kr=ct[we],vt!==kr&&(Dn||vt!==kt(kr))){An=!1;break}}if(!An)for(;ln--;)this._unconsume();return An}_isTempBufferEqualToScriptString(){if(this.tempBuff.length!==T.SCRIPT_STRING.length)return!1;for(let ct=0;ct<this.tempBuff.length;ct++)if(this.tempBuff[ct]!==T.SCRIPT_STRING[ct])return!1;return!0}_createStartTagToken(){this.currentToken={type:Ve.START_TAG_TOKEN,tagName:"",selfClosing:!1,ackSelfClosing:!1,attrs:[]}}_createEndTagToken(){this.currentToken={type:Ve.END_TAG_TOKEN,tagName:"",selfClosing:!1,attrs:[]}}_createCommentToken(){this.currentToken={type:Ve.COMMENT_TOKEN,data:""}}_createDoctypeToken(ct){this.currentToken={type:Ve.DOCTYPE_TOKEN,name:ct,forceQuirks:!1,publicId:null,systemId:null}}_createCharacterToken(ct,hn){this.currentCharacterToken={type:ct,chars:hn}}_createEOFToken(){this.currentToken={type:Ve.EOF_TOKEN}}_createAttr(ct){this.currentAttr={name:ct,value:""}}_leaveAttrName(ct){null===Ve.getTokenAttr(this.currentToken,this.currentAttr.name)?this.currentToken.attrs.push(this.currentAttr):this._err(_.duplicateAttribute),this.state=ct}_leaveAttrValue(ct){this.state=ct}_emitCurrentToken(){this._emitCurrentCharacterToken();const ct=this.currentToken;this.currentToken=null,ct.type===Ve.START_TAG_TOKEN?this.lastStartTagName=ct.tagName:ct.type===Ve.END_TAG_TOKEN&&(ct.attrs.length>0&&this._err(_.endTagWithAttributes),ct.selfClosing&&this._err(_.endTagWithTrailingSolidus)),this.tokenQueue.push(ct)}_emitCurrentCharacterToken(){this.currentCharacterToken&&(this.tokenQueue.push(this.currentCharacterToken),this.currentCharacterToken=null)}_emitEOFToken(){this._createEOFToken(),this._emitCurrentToken()}_appendCharToCurrentCharacterToken(ct,hn){this.currentCharacterToken&&this.currentCharacterToken.type!==ct&&this._emitCurrentCharacterToken(),this.currentCharacterToken?this.currentCharacterToken.chars+=hn:this._createCharacterToken(ct,hn)}_emitCodePoint(ct){let hn=Ve.CHARACTER_TOKEN;_n(ct)?hn=Ve.WHITESPACE_CHARACTER_TOKEN:ct===b.NULL&&(hn=Ve.NULL_CHARACTER_TOKEN),this._appendCharToCurrentCharacterToken(hn,ne(ct))}_emitSeveralCodePoints(ct){for(let hn=0;hn<ct.length;hn++)this._emitCodePoint(ct[hn])}_emitChars(ct){this._appendCharToCurrentCharacterToken(Ve.CHARACTER_TOKEN,ct)}_matchNamedCharacterReference(ct){let hn=null,Dn=1,ln=zn(0,ct);for(this.tempBuff.push(ct);ln>-1;){const An=m[ln],lr=An<7;lr&&1&An&&(hn=2&An?[m[++ln],m[++ln]]:[m[++ln]],Dn=0);const kr=this._consume();if(this.tempBuff.push(kr),Dn++,kr===b.EOF)break;ln=lr?4&An?zn(ln,kr):-1:kr===An?++ln:-1}for(;Dn--;)this.tempBuff.pop(),this._unconsume();return hn}_isCharacterReferenceInAttribute(){return this.returnState===Ce||this.returnState===Ee||this.returnState===Te}_isCharacterReferenceAttributeQuirk(ct){if(!ct&&this._isCharacterReferenceInAttribute()){const hn=this._consume();return this._unconsume(),hn===b.EQUALS_SIGN||z(hn)}return!1}_flushCodePointsConsumedAsCharacterReference(){if(this._isCharacterReferenceInAttribute())for(let ct=0;ct<this.tempBuff.length;ct++)this.currentAttr.value+=ne(this.tempBuff[ct]);else this._emitSeveralCodePoints(this.tempBuff);this.tempBuff=[]}[L](ct){this.preprocessor.dropParsedChunk(),ct===b.LESS_THAN_SIGN?this.state=q:ct===b.AMPERSAND?(this.returnState=L,this.state=yn):ct===b.NULL?(this._err(_.unexpectedNullCharacter),this._emitCodePoint(ct)):ct===b.EOF?this._emitEOFToken():this._emitCodePoint(ct)}[U](ct){this.preprocessor.dropParsedChunk(),ct===b.AMPERSAND?(this.returnState=U,this.state=yn):ct===b.LESS_THAN_SIGN?this.state=ut:ct===b.NULL?(this._err(_.unexpectedNullCharacter),this._emitChars(y.REPLACEMENT_CHARACTER)):ct===b.EOF?this._emitEOFToken():this._emitCodePoint(ct)}[S](ct){this.preprocessor.dropParsedChunk(),ct===b.LESS_THAN_SIGN?this.state=B:ct===b.NULL?(this._err(_.unexpectedNullCharacter),this._emitChars(y.REPLACEMENT_CHARACTER)):ct===b.EOF?this._emitEOFToken():this._emitCodePoint(ct)}[G](ct){this.preprocessor.dropParsedChunk(),ct===b.LESS_THAN_SIGN?this.state=K:ct===b.NULL?(this._err(_.unexpectedNullCharacter),this._emitChars(y.REPLACEMENT_CHARACTER)):ct===b.EOF?this._emitEOFToken():this._emitCodePoint(ct)}[Y](ct){this.preprocessor.dropParsedChunk(),ct===b.NULL?(this._err(_.unexpectedNullCharacter),this._emitChars(y.REPLACEMENT_CHARACTER)):ct===b.EOF?this._emitEOFToken():this._emitCodePoint(ct)}[q](ct){ct===b.EXCLAMATION_MARK?this.state=Ye:ct===b.SOLIDUS?this.state=tt:Gn(ct)?(this._createStartTagToken(),this._reconsumeInState(ht)):ct===b.QUESTION_MARK?(this._err(_.unexpectedQuestionMarkInsteadOfTagName),this._createCommentToken(),this._reconsumeInState(We)):ct===b.EOF?(this._err(_.eofBeforeTagName),this._emitChars("<"),this._emitEOFToken()):(this._err(_.invalidFirstCharacterOfTagName),this._emitChars("<"),this._reconsumeInState(L))}[tt](ct){Gn(ct)?(this._createEndTagToken(),this._reconsumeInState(ht)):ct===b.GREATER_THAN_SIGN?(this._err(_.missingEndTagName),this.state=L):ct===b.EOF?(this._err(_.eofBeforeTagName),this._emitChars("</"),this._emitEOFToken()):(this._err(_.invalidFirstCharacterOfTagName),this._createCommentToken(),this._reconsumeInState(We))}[ht](ct){_n(ct)?this.state=Gt:ct===b.SOLIDUS?this.state=pn:ct===b.GREATER_THAN_SIGN?(this.state=L,this._emitCurrentToken()):Sn(ct)?this.currentToken.tagName+=Xe(ct):ct===b.NULL?(this._err(_.unexpectedNullCharacter),this.currentToken.tagName+=y.REPLACEMENT_CHARACTER):ct===b.EOF?(this._err(_.eofInTag),this._emitEOFToken()):this.currentToken.tagName+=ne(ct)}[ut](ct){ct===b.SOLIDUS?(this.tempBuff=[],this.state=bt):(this._emitChars("<"),this._reconsumeInState(U))}[bt](ct){Gn(ct)?(this._createEndTagToken(),this._reconsumeInState(F)):(this._emitChars("</"),this._reconsumeInState(U))}[F](ct){if(Sn(ct))this.currentToken.tagName+=Xe(ct),this.tempBuff.push(ct);else if(Rn(ct))this.currentToken.tagName+=ne(ct),this.tempBuff.push(ct);else{if(this.lastStartTagName===this.currentToken.tagName){if(_n(ct))return void(this.state=Gt);if(ct===b.SOLIDUS)return void(this.state=pn);if(ct===b.GREATER_THAN_SIGN)return this.state=L,void this._emitCurrentToken()}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(U)}}[B](ct){ct===b.SOLIDUS?(this.tempBuff=[],this.state=X):(this._emitChars("<"),this._reconsumeInState(S))}[X](ct){Gn(ct)?(this._createEndTagToken(),this._reconsumeInState(J)):(this._emitChars("</"),this._reconsumeInState(S))}[J](ct){if(Sn(ct))this.currentToken.tagName+=Xe(ct),this.tempBuff.push(ct);else if(Rn(ct))this.currentToken.tagName+=ne(ct),this.tempBuff.push(ct);else{if(this.lastStartTagName===this.currentToken.tagName){if(_n(ct))return void(this.state=Gt);if(ct===b.SOLIDUS)return void(this.state=pn);if(ct===b.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=L)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(S)}}[K](ct){ct===b.SOLIDUS?(this.tempBuff=[],this.state=at):ct===b.EXCLAMATION_MARK?(this.state=gt,this._emitChars("<!")):(this._emitChars("<"),this._reconsumeInState(G))}[at](ct){Gn(ct)?(this._createEndTagToken(),this._reconsumeInState(Q)):(this._emitChars("</"),this._reconsumeInState(G))}[Q](ct){if(Sn(ct))this.currentToken.tagName+=Xe(ct),this.tempBuff.push(ct);else if(Rn(ct))this.currentToken.tagName+=ne(ct),this.tempBuff.push(ct);else{if(this.lastStartTagName===this.currentToken.tagName){if(_n(ct))return void(this.state=Gt);if(ct===b.SOLIDUS)return void(this.state=pn);if(ct===b.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=L)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(G)}}[gt](ct){ct===b.HYPHEN_MINUS?(this.state=ot,this._emitChars("-")):this._reconsumeInState(G)}[ot](ct){ct===b.HYPHEN_MINUS?(this.state=Et,this._emitChars("-")):this._reconsumeInState(G)}[Ot](ct){ct===b.HYPHEN_MINUS?(this.state=yt,this._emitChars("-")):ct===b.LESS_THAN_SIGN?this.state=Mt:ct===b.NULL?(this._err(_.unexpectedNullCharacter),this._emitChars(y.REPLACEMENT_CHARACTER)):ct===b.EOF?(this._err(_.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(ct)}[yt](ct){ct===b.HYPHEN_MINUS?(this.state=Et,this._emitChars("-")):ct===b.LESS_THAN_SIGN?this.state=Mt:ct===b.NULL?(this._err(_.unexpectedNullCharacter),this.state=Ot,this._emitChars(y.REPLACEMENT_CHARACTER)):ct===b.EOF?(this._err(_.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Ot,this._emitCodePoint(ct))}[Et](ct){ct===b.HYPHEN_MINUS?this._emitChars("-"):ct===b.LESS_THAN_SIGN?this.state=Mt:ct===b.GREATER_THAN_SIGN?(this.state=G,this._emitChars(">")):ct===b.NULL?(this._err(_.unexpectedNullCharacter),this.state=Ot,this._emitChars(y.REPLACEMENT_CHARACTER)):ct===b.EOF?(this._err(_.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Ot,this._emitCodePoint(ct))}[Mt](ct){ct===b.SOLIDUS?(this.tempBuff=[],this.state=jt):Gn(ct)?(this.tempBuff=[],this._emitChars("<"),this._reconsumeInState(le)):(this._emitChars("<"),this._reconsumeInState(Ot))}[jt](ct){Gn(ct)?(this._createEndTagToken(),this._reconsumeInState(Ut)):(this._emitChars("</"),this._reconsumeInState(Ot))}[Ut](ct){if(Sn(ct))this.currentToken.tagName+=Xe(ct),this.tempBuff.push(ct);else if(Rn(ct))this.currentToken.tagName+=ne(ct),this.tempBuff.push(ct);else{if(this.lastStartTagName===this.currentToken.tagName){if(_n(ct))return void(this.state=Gt);if(ct===b.SOLIDUS)return void(this.state=pn);if(ct===b.GREATER_THAN_SIGN)return this._emitCurrentToken(),void(this.state=L)}this._emitChars("</"),this._emitSeveralCodePoints(this.tempBuff),this._reconsumeInState(Ot)}}[le](ct){_n(ct)||ct===b.SOLIDUS||ct===b.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?Zt:Ot,this._emitCodePoint(ct)):Sn(ct)?(this.tempBuff.push(kt(ct)),this._emitCodePoint(ct)):Rn(ct)?(this.tempBuff.push(ct),this._emitCodePoint(ct)):this._reconsumeInState(Ot)}[Zt](ct){ct===b.HYPHEN_MINUS?(this.state=ie,this._emitChars("-")):ct===b.LESS_THAN_SIGN?(this.state=_t,this._emitChars("<")):ct===b.NULL?(this._err(_.unexpectedNullCharacter),this._emitChars(y.REPLACEMENT_CHARACTER)):ct===b.EOF?(this._err(_.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):this._emitCodePoint(ct)}[ie](ct){ct===b.HYPHEN_MINUS?(this.state=Ht,this._emitChars("-")):ct===b.LESS_THAN_SIGN?(this.state=_t,this._emitChars("<")):ct===b.NULL?(this._err(_.unexpectedNullCharacter),this.state=Zt,this._emitChars(y.REPLACEMENT_CHARACTER)):ct===b.EOF?(this._err(_.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Zt,this._emitCodePoint(ct))}[Ht](ct){ct===b.HYPHEN_MINUS?this._emitChars("-"):ct===b.LESS_THAN_SIGN?(this.state=_t,this._emitChars("<")):ct===b.GREATER_THAN_SIGN?(this.state=G,this._emitChars(">")):ct===b.NULL?(this._err(_.unexpectedNullCharacter),this.state=Zt,this._emitChars(y.REPLACEMENT_CHARACTER)):ct===b.EOF?(this._err(_.eofInScriptHtmlCommentLikeText),this._emitEOFToken()):(this.state=Zt,this._emitCodePoint(ct))}[_t](ct){ct===b.SOLIDUS?(this.tempBuff=[],this.state=Xt,this._emitChars("/")):this._reconsumeInState(Zt)}[Xt](ct){_n(ct)||ct===b.SOLIDUS||ct===b.GREATER_THAN_SIGN?(this.state=this._isTempBufferEqualToScriptString()?Ot:Zt,this._emitCodePoint(ct)):Sn(ct)?(this.tempBuff.push(kt(ct)),this._emitCodePoint(ct)):Rn(ct)?(this.tempBuff.push(ct),this._emitCodePoint(ct)):this._reconsumeInState(Zt)}[Gt](ct){_n(ct)||(ct===b.SOLIDUS||ct===b.GREATER_THAN_SIGN||ct===b.EOF?this._reconsumeInState(he):ct===b.EQUALS_SIGN?(this._err(_.unexpectedEqualsSignBeforeAttributeName),this._createAttr("="),this.state=Pt):(this._createAttr(""),this._reconsumeInState(Pt)))}[Pt](ct){_n(ct)||ct===b.SOLIDUS||ct===b.GREATER_THAN_SIGN||ct===b.EOF?(this._leaveAttrName(he),this._unconsume()):ct===b.EQUALS_SIGN?this._leaveAttrName(fe):Sn(ct)?this.currentAttr.name+=Xe(ct):ct===b.QUOTATION_MARK||ct===b.APOSTROPHE||ct===b.LESS_THAN_SIGN?(this._err(_.unexpectedCharacterInAttributeName),this.currentAttr.name+=ne(ct)):ct===b.NULL?(this._err(_.unexpectedNullCharacter),this.currentAttr.name+=y.REPLACEMENT_CHARACTER):this.currentAttr.name+=ne(ct)}[he](ct){_n(ct)||(ct===b.SOLIDUS?this.state=pn:ct===b.EQUALS_SIGN?this.state=fe:ct===b.GREATER_THAN_SIGN?(this.state=L,this._emitCurrentToken()):ct===b.EOF?(this._err(_.eofInTag),this._emitEOFToken()):(this._createAttr(""),this._reconsumeInState(Pt)))}[fe](ct){_n(ct)||(ct===b.QUOTATION_MARK?this.state=Ce:ct===b.APOSTROPHE?this.state=Ee:ct===b.GREATER_THAN_SIGN?(this._err(_.missingAttributeValue),this.state=L,this._emitCurrentToken()):this._reconsumeInState(Te))}[Ce](ct){ct===b.QUOTATION_MARK?this.state=Ke:ct===b.AMPERSAND?(this.returnState=Ce,this.state=yn):ct===b.NULL?(this._err(_.unexpectedNullCharacter),this.currentAttr.value+=y.REPLACEMENT_CHARACTER):ct===b.EOF?(this._err(_.eofInTag),this._emitEOFToken()):this.currentAttr.value+=ne(ct)}[Ee](ct){ct===b.APOSTROPHE?this.state=Ke:ct===b.AMPERSAND?(this.returnState=Ee,this.state=yn):ct===b.NULL?(this._err(_.unexpectedNullCharacter),this.currentAttr.value+=y.REPLACEMENT_CHARACTER):ct===b.EOF?(this._err(_.eofInTag),this._emitEOFToken()):this.currentAttr.value+=ne(ct)}[Te](ct){_n(ct)?this._leaveAttrValue(Gt):ct===b.AMPERSAND?(this.returnState=Te,this.state=yn):ct===b.GREATER_THAN_SIGN?(this._leaveAttrValue(L),this._emitCurrentToken()):ct===b.NULL?(this._err(_.unexpectedNullCharacter),this.currentAttr.value+=y.REPLACEMENT_CHARACTER):ct===b.QUOTATION_MARK||ct===b.APOSTROPHE||ct===b.LESS_THAN_SIGN||ct===b.EQUALS_SIGN||ct===b.GRAVE_ACCENT?(this._err(_.unexpectedCharacterInUnquotedAttributeValue),this.currentAttr.value+=ne(ct)):ct===b.EOF?(this._err(_.eofInTag),this._emitEOFToken()):this.currentAttr.value+=ne(ct)}[Ke](ct){_n(ct)?this._leaveAttrValue(Gt):ct===b.SOLIDUS?this._leaveAttrValue(pn):ct===b.GREATER_THAN_SIGN?(this._leaveAttrValue(L),this._emitCurrentToken()):ct===b.EOF?(this._err(_.eofInTag),this._emitEOFToken()):(this._err(_.missingWhitespaceBetweenAttributes),this._reconsumeInState(Gt))}[pn](ct){ct===b.GREATER_THAN_SIGN?(this.currentToken.selfClosing=!0,this.state=L,this._emitCurrentToken()):ct===b.EOF?(this._err(_.eofInTag),this._emitEOFToken()):(this._err(_.unexpectedSolidusInTag),this._reconsumeInState(Gt))}[We](ct){ct===b.GREATER_THAN_SIGN?(this.state=L,this._emitCurrentToken()):ct===b.EOF?(this._emitCurrentToken(),this._emitEOFToken()):ct===b.NULL?(this._err(_.unexpectedNullCharacter),this.currentToken.data+=y.REPLACEMENT_CHARACTER):this.currentToken.data+=ne(ct)}[Ye](ct){this._consumeSequenceIfMatch(T.DASH_DASH_STRING,ct,!0)?(this._createCommentToken(),this.state=Ne):this._consumeSequenceIfMatch(T.DOCTYPE_STRING,ct,!1)?this.state=Ue:this._consumeSequenceIfMatch(T.CDATA_START_STRING,ct,!0)?this.allowCDATA?this.state=Qe:(this._err(_.cdataInHtmlContent),this._createCommentToken(),this.currentToken.data="[CDATA[",this.state=We):this._ensureHibernation()||(this._err(_.incorrectlyOpenedComment),this._createCommentToken(),this._reconsumeInState(We))}[Ne](ct){ct===b.HYPHEN_MINUS?this.state=Qt:ct===b.GREATER_THAN_SIGN?(this._err(_.abruptClosingOfEmptyComment),this.state=L,this._emitCurrentToken()):this._reconsumeInState(ae)}[Qt](ct){ct===b.HYPHEN_MINUS?this.state=se:ct===b.GREATER_THAN_SIGN?(this._err(_.abruptClosingOfEmptyComment),this.state=L,this._emitCurrentToken()):ct===b.EOF?(this._err(_.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(ae))}[ae](ct){ct===b.HYPHEN_MINUS?this.state=oe:ct===b.LESS_THAN_SIGN?(this.currentToken.data+="<",this.state=rt):ct===b.NULL?(this._err(_.unexpectedNullCharacter),this.currentToken.data+=y.REPLACEMENT_CHARACTER):ct===b.EOF?(this._err(_.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.data+=ne(ct)}[rt](ct){ct===b.EXCLAMATION_MARK?(this.currentToken.data+="!",this.state=Tt):ct===b.LESS_THAN_SIGN?this.currentToken.data+="!":this._reconsumeInState(ae)}[Tt](ct){ct===b.HYPHEN_MINUS?this.state=At:this._reconsumeInState(ae)}[At](ct){ct===b.HYPHEN_MINUS?this.state=$t:this._reconsumeInState(oe)}[$t](ct){ct!==b.GREATER_THAN_SIGN&&ct!==b.EOF&&this._err(_.nestedComment),this._reconsumeInState(se)}[oe](ct){ct===b.HYPHEN_MINUS?this.state=se:ct===b.EOF?(this._err(_.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="-",this._reconsumeInState(ae))}[se](ct){ct===b.GREATER_THAN_SIGN?(this.state=L,this._emitCurrentToken()):ct===b.EXCLAMATION_MARK?this.state=xe:ct===b.HYPHEN_MINUS?this.currentToken.data+="-":ct===b.EOF?(this._err(_.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--",this._reconsumeInState(ae))}[xe](ct){ct===b.HYPHEN_MINUS?(this.currentToken.data+="--!",this.state=oe):ct===b.GREATER_THAN_SIGN?(this._err(_.incorrectlyClosedComment),this.state=L,this._emitCurrentToken()):ct===b.EOF?(this._err(_.eofInComment),this._emitCurrentToken(),this._emitEOFToken()):(this.currentToken.data+="--!",this._reconsumeInState(ae))}[Ue](ct){_n(ct)?this.state=$e:ct===b.GREATER_THAN_SIGN?this._reconsumeInState($e):ct===b.EOF?(this._err(_.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(_.missingWhitespaceBeforeDoctypeName),this._reconsumeInState($e))}[$e](ct){_n(ct)||(Sn(ct)?(this._createDoctypeToken(Xe(ct)),this.state=on):ct===b.NULL?(this._err(_.unexpectedNullCharacter),this._createDoctypeToken(y.REPLACEMENT_CHARACTER),this.state=on):ct===b.GREATER_THAN_SIGN?(this._err(_.missingDoctypeName),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=L):ct===b.EOF?(this._err(_.eofInDoctype),this._createDoctypeToken(null),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._createDoctypeToken(ne(ct)),this.state=on))}[on](ct){_n(ct)?this.state=bn:ct===b.GREATER_THAN_SIGN?(this.state=L,this._emitCurrentToken()):Sn(ct)?this.currentToken.name+=Xe(ct):ct===b.NULL?(this._err(_.unexpectedNullCharacter),this.currentToken.name+=y.REPLACEMENT_CHARACTER):ct===b.EOF?(this._err(_.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.name+=ne(ct)}[bn](ct){_n(ct)||(ct===b.GREATER_THAN_SIGN?(this.state=L,this._emitCurrentToken()):ct===b.EOF?(this._err(_.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this._consumeSequenceIfMatch(T.PUBLIC_STRING,ct,!1)?this.state=Se:this._consumeSequenceIfMatch(T.SYSTEM_STRING,ct,!1)?this.state=Le:this._ensureHibernation()||(this._err(_.invalidCharacterSequenceAfterDoctypeName),this.currentToken.forceQuirks=!0,this._reconsumeInState(sn)))}[Se](ct){_n(ct)?this.state=xt:ct===b.QUOTATION_MARK?(this._err(_.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=Bt):ct===b.APOSTROPHE?(this._err(_.missingWhitespaceAfterDoctypePublicKeyword),this.currentToken.publicId="",this.state=Wt):ct===b.GREATER_THAN_SIGN?(this._err(_.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=L,this._emitCurrentToken()):ct===b.EOF?(this._err(_.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(_.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(sn))}[xt](ct){_n(ct)||(ct===b.QUOTATION_MARK?(this.currentToken.publicId="",this.state=Bt):ct===b.APOSTROPHE?(this.currentToken.publicId="",this.state=Wt):ct===b.GREATER_THAN_SIGN?(this._err(_.missingDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this.state=L,this._emitCurrentToken()):ct===b.EOF?(this._err(_.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(_.missingQuoteBeforeDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(sn)))}[Bt](ct){ct===b.QUOTATION_MARK?this.state=ee:ct===b.NULL?(this._err(_.unexpectedNullCharacter),this.currentToken.publicId+=y.REPLACEMENT_CHARACTER):ct===b.GREATER_THAN_SIGN?(this._err(_.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=L):ct===b.EOF?(this._err(_.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=ne(ct)}[Wt](ct){ct===b.APOSTROPHE?this.state=ee:ct===b.NULL?(this._err(_.unexpectedNullCharacter),this.currentToken.publicId+=y.REPLACEMENT_CHARACTER):ct===b.GREATER_THAN_SIGN?(this._err(_.abruptDoctypePublicIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=L):ct===b.EOF?(this._err(_.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.publicId+=ne(ct)}[ee](ct){_n(ct)?this.state=Ae:ct===b.GREATER_THAN_SIGN?(this.state=L,this._emitCurrentToken()):ct===b.QUOTATION_MARK?(this._err(_.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=fn):ct===b.APOSTROPHE?(this._err(_.missingWhitespaceBetweenDoctypePublicAndSystemIdentifiers),this.currentToken.systemId="",this.state=Ln):ct===b.EOF?(this._err(_.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(_.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(sn))}[Ae](ct){_n(ct)||(ct===b.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=L):ct===b.QUOTATION_MARK?(this.currentToken.systemId="",this.state=fn):ct===b.APOSTROPHE?(this.currentToken.systemId="",this.state=Ln):ct===b.EOF?(this._err(_.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(_.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(sn)))}[Le](ct){_n(ct)?this.state=dn:ct===b.QUOTATION_MARK?(this._err(_.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=fn):ct===b.APOSTROPHE?(this._err(_.missingWhitespaceAfterDoctypeSystemKeyword),this.currentToken.systemId="",this.state=Ln):ct===b.GREATER_THAN_SIGN?(this._err(_.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=L,this._emitCurrentToken()):ct===b.EOF?(this._err(_.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(_.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(sn))}[dn](ct){_n(ct)||(ct===b.QUOTATION_MARK?(this.currentToken.systemId="",this.state=fn):ct===b.APOSTROPHE?(this.currentToken.systemId="",this.state=Ln):ct===b.GREATER_THAN_SIGN?(this._err(_.missingDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this.state=L,this._emitCurrentToken()):ct===b.EOF?(this._err(_.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(_.missingQuoteBeforeDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._reconsumeInState(sn)))}[fn](ct){ct===b.QUOTATION_MARK?this.state=nr:ct===b.NULL?(this._err(_.unexpectedNullCharacter),this.currentToken.systemId+=y.REPLACEMENT_CHARACTER):ct===b.GREATER_THAN_SIGN?(this._err(_.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=L):ct===b.EOF?(this._err(_.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=ne(ct)}[Ln](ct){ct===b.APOSTROPHE?this.state=nr:ct===b.NULL?(this._err(_.unexpectedNullCharacter),this.currentToken.systemId+=y.REPLACEMENT_CHARACTER):ct===b.GREATER_THAN_SIGN?(this._err(_.abruptDoctypeSystemIdentifier),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this.state=L):ct===b.EOF?(this._err(_.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):this.currentToken.systemId+=ne(ct)}[nr](ct){_n(ct)||(ct===b.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=L):ct===b.EOF?(this._err(_.eofInDoctype),this.currentToken.forceQuirks=!0,this._emitCurrentToken(),this._emitEOFToken()):(this._err(_.unexpectedCharacterAfterDoctypeSystemIdentifier),this._reconsumeInState(sn)))}[sn](ct){ct===b.GREATER_THAN_SIGN?(this._emitCurrentToken(),this.state=L):ct===b.NULL?this._err(_.unexpectedNullCharacter):ct===b.EOF&&(this._emitCurrentToken(),this._emitEOFToken())}[Qe](ct){ct===b.RIGHT_SQUARE_BRACKET?this.state=In:ct===b.EOF?(this._err(_.eofInCdata),this._emitEOFToken()):this._emitCodePoint(ct)}[In](ct){ct===b.RIGHT_SQUARE_BRACKET?this.state=mr:(this._emitChars("]"),this._reconsumeInState(Qe))}[mr](ct){ct===b.GREATER_THAN_SIGN?this.state=L:ct===b.RIGHT_SQUARE_BRACKET?this._emitChars("]"):(this._emitChars("]]"),this._reconsumeInState(Qe))}[yn](ct){this.tempBuff=[b.AMPERSAND],ct===b.NUMBER_SIGN?(this.tempBuff.push(ct),this.state=Wn):z(ct)?this._reconsumeInState(kn):(this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[kn](ct){const hn=this._matchNamedCharacterReference(ct);if(this._ensureHibernation())this.tempBuff=[b.AMPERSAND];else if(hn){const Dn=this.tempBuff[this.tempBuff.length-1]===b.SEMICOLON;this._isCharacterReferenceAttributeQuirk(Dn)||(Dn||this._errOnNextCodePoint(_.missingSemicolonAfterCharacterReference),this.tempBuff=hn),this._flushCodePointsConsumedAsCharacterReference(),this.state=this.returnState}else this._flushCodePointsConsumedAsCharacterReference(),this.state=Pn}[Pn](ct){z(ct)?this._isCharacterReferenceInAttribute()?this.currentAttr.value+=ne(ct):this._emitCodePoint(ct):(ct===b.SEMICOLON&&this._err(_.unknownNamedCharacterReference),this._reconsumeInState(this.returnState))}[Wn](ct){this.charRefCode=0,ct===b.LATIN_SMALL_X||ct===b.LATIN_CAPITAL_X?(this.tempBuff.push(ct),this.state=$n):this._reconsumeInState(Tr)}[$n](ct){var hn;Zn(hn=ct)||st(hn)||nt(hn)?this._reconsumeInState(rr):(this._err(_.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[Tr](ct){Zn(ct)?this._reconsumeInState(Ar):(this._err(_.absenceOfDigitsInNumericCharacterReference),this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState))}[rr](ct){st(ct)?this.charRefCode=16*this.charRefCode+ct-55:nt(ct)?this.charRefCode=16*this.charRefCode+ct-87:Zn(ct)?this.charRefCode=16*this.charRefCode+ct-48:ct===b.SEMICOLON?this.state=dr:(this._err(_.missingSemicolonAfterCharacterReference),this._reconsumeInState(dr))}[Ar](ct){Zn(ct)?this.charRefCode=10*this.charRefCode+ct-48:ct===b.SEMICOLON?this.state=dr:(this._err(_.missingSemicolonAfterCharacterReference),this._reconsumeInState(dr))}[dr](){if(this.charRefCode===b.NULL)this._err(_.nullCharacterReference),this.charRefCode=b.REPLACEMENT_CHARACTER;else if(this.charRefCode>1114111)this._err(_.characterReferenceOutsideUnicodeRange),this.charRefCode=b.REPLACEMENT_CHARACTER;else if(y.isSurrogate(this.charRefCode))this._err(_.surrogateCharacterReference),this.charRefCode=b.REPLACEMENT_CHARACTER;else if(y.isUndefinedCodePoint(this.charRefCode))this._err(_.noncharacterCharacterReference);else if(y.isControlCodePoint(this.charRefCode)||this.charRefCode===b.CARRIAGE_RETURN){this._err(_.controlCharacterReference);const ct=C[this.charRefCode];ct&&(this.charRefCode=ct)}this.tempBuff=[this.charRefCode],this._flushCodePointsConsumedAsCharacterReference(),this._reconsumeInState(this.returnState)}}Ve.CHARACTER_TOKEN="CHARACTER_TOKEN",Ve.NULL_CHARACTER_TOKEN="NULL_CHARACTER_TOKEN",Ve.WHITESPACE_CHARACTER_TOKEN="WHITESPACE_CHARACTER_TOKEN",Ve.START_TAG_TOKEN="START_TAG_TOKEN",Ve.END_TAG_TOKEN="END_TAG_TOKEN",Ve.COMMENT_TOKEN="COMMENT_TOKEN",Ve.DOCTYPE_TOKEN="DOCTYPE_TOKEN",Ve.EOF_TOKEN="EOF_TOKEN",Ve.HIBERNATION_TOKEN="HIBERNATION_TOKEN",Ve.MODE={DATA:L,RCDATA:U,RAWTEXT:S,SCRIPT_DATA:G,PLAINTEXT:Y},Ve.getTokenAttr=function(ye,ct){for(let hn=ye.attrs.length-1;hn>=0;hn--)if(ye.attrs[hn].name===ct)return ye.attrs[hn].value;return null},x.exports=Ve},5482:x=>{"use strict";x.exports=new Uint16Array([4,52,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,106,303,412,810,1432,1701,1796,1987,2114,2360,2420,2484,3170,3251,4140,4393,4575,4610,5106,5512,5728,6117,6274,6315,6345,6427,6516,7002,7910,8733,9323,9870,10170,10631,10893,11318,11386,11467,12773,13092,14474,14922,15448,15542,16419,17666,18166,18611,19004,19095,19298,19397,4,16,69,77,97,98,99,102,103,108,109,110,111,112,114,115,116,117,140,150,158,169,176,194,199,210,216,222,226,242,256,266,283,294,108,105,103,5,198,1,59,148,1,198,80,5,38,1,59,156,1,38,99,117,116,101,5,193,1,59,167,1,193,114,101,118,101,59,1,258,4,2,105,121,182,191,114,99,5,194,1,59,189,1,194,59,1,1040,114,59,3,55349,56580,114,97,118,101,5,192,1,59,208,1,192,112,104,97,59,1,913,97,99,114,59,1,256,100,59,1,10835,4,2,103,112,232,237,111,110,59,1,260,102,59,3,55349,56632,112,108,121,70,117,110,99,116,105,111,110,59,1,8289,105,110,103,5,197,1,59,264,1,197,4,2,99,115,272,277,114,59,3,55349,56476,105,103,110,59,1,8788,105,108,100,101,5,195,1,59,292,1,195,109,108,5,196,1,59,301,1,196,4,8,97,99,101,102,111,114,115,117,321,350,354,383,388,394,400,405,4,2,99,114,327,336,107,115,108,97,115,104,59,1,8726,4,2,118,119,342,345,59,1,10983,101,100,59,1,8966,121,59,1,1041,4,3,99,114,116,362,369,379,97,117,115,101,59,1,8757,110,111,117,108,108,105,115,59,1,8492,97,59,1,914,114,59,3,55349,56581,112,102,59,3,55349,56633,101,118,101,59,1,728,99,114,59,1,8492,109,112,101,113,59,1,8782,4,14,72,79,97,99,100,101,102,104,105,108,111,114,115,117,442,447,456,504,542,547,569,573,577,616,678,784,790,796,99,121,59,1,1063,80,89,5,169,1,59,454,1,169,4,3,99,112,121,464,470,497,117,116,101,59,1,262,4,2,59,105,476,478,1,8914,116,97,108,68,105,102,102,101,114,101,110,116,105,97,108,68,59,1,8517,108,101,121,115,59,1,8493,4,4,97,101,105,111,514,520,530,535,114,111,110,59,1,268,100,105,108,5,199,1,59,528,1,199,114,99,59,1,264,110,105,110,116,59,1,8752,111,116,59,1,266,4,2,100,110,553,560,105,108,108,97,59,1,184,116,101,114,68,111,116,59,1,183,114,59,1,8493,105,59,1,935,114,99,108,101,4,4,68,77,80,84,591,596,603,609,111,116,59,1,8857,105,110,117,115,59,1,8854,108,117,115,59,1,8853,105,109,101,115,59,1,8855,111,4,2,99,115,623,646,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8754,101,67,117,114,108,121,4,2,68,81,658,671,111,117,98,108,101,81,117,111,116,101,59,1,8221,117,111,116,101,59,1,8217,4,4,108,110,112,117,688,701,736,753,111,110,4,2,59,101,696,698,1,8759,59,1,10868,4,3,103,105,116,709,717,722,114,117,101,110,116,59,1,8801,110,116,59,1,8751,111,117,114,73,110,116,101,103,114,97,108,59,1,8750,4,2,102,114,742,745,59,1,8450,111,100,117,99,116,59,1,8720,110,116,101,114,67,108,111,99,107,119,105,115,101,67,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8755,111,115,115,59,1,10799,99,114,59,3,55349,56478,112,4,2,59,67,803,805,1,8915,97,112,59,1,8781,4,11,68,74,83,90,97,99,101,102,105,111,115,834,850,855,860,865,888,903,916,921,1011,1415,4,2,59,111,840,842,1,8517,116,114,97,104,100,59,1,10513,99,121,59,1,1026,99,121,59,1,1029,99,121,59,1,1039,4,3,103,114,115,873,879,883,103,101,114,59,1,8225,114,59,1,8609,104,118,59,1,10980,4,2,97,121,894,900,114,111,110,59,1,270,59,1,1044,108,4,2,59,116,910,912,1,8711,97,59,1,916,114,59,3,55349,56583,4,2,97,102,927,998,4,2,99,109,933,992,114,105,116,105,99,97,108,4,4,65,68,71,84,950,957,978,985,99,117,116,101,59,1,180,111,4,2,116,117,964,967,59,1,729,98,108,101,65,99,117,116,101,59,1,733,114,97,118,101,59,1,96,105,108,100,101,59,1,732,111,110,100,59,1,8900,102,101,114,101,110,116,105,97,108,68,59,1,8518,4,4,112,116,117,119,1021,1026,1048,1249,102,59,3,55349,56635,4,3,59,68,69,1034,1036,1041,1,168,111,116,59,1,8412,113,117,97,108,59,1,8784,98,108,101,4,6,67,68,76,82,85,86,1065,1082,1101,1189,1211,1236,111,110,116,111,117,114,73,110,116,101,103,114,97,108,59,1,8751,111,4,2,116,119,1089,1092,59,1,168,110,65,114,114,111,119,59,1,8659,4,2,101,111,1107,1141,102,116,4,3,65,82,84,1117,1124,1136,114,114,111,119,59,1,8656,105,103,104,116,65,114,114,111,119,59,1,8660,101,101,59,1,10980,110,103,4,2,76,82,1149,1177,101,102,116,4,2,65,82,1158,1165,114,114,111,119,59,1,10232,105,103,104,116,65,114,114,111,119,59,1,10234,105,103,104,116,65,114,114,111,119,59,1,10233,105,103,104,116,4,2,65,84,1199,1206,114,114,111,119,59,1,8658,101,101,59,1,8872,112,4,2,65,68,1218,1225,114,114,111,119,59,1,8657,111,119,110,65,114,114,111,119,59,1,8661,101,114,116,105,99,97,108,66,97,114,59,1,8741,110,4,6,65,66,76,82,84,97,1264,1292,1299,1352,1391,1408,114,114,111,119,4,3,59,66,85,1276,1278,1283,1,8595,97,114,59,1,10515,112,65,114,114,111,119,59,1,8693,114,101,118,101,59,1,785,101,102,116,4,3,82,84,86,1310,1323,1334,105,103,104,116,86,101,99,116,111,114,59,1,10576,101,101,86,101,99,116,111,114,59,1,10590,101,99,116,111,114,4,2,59,66,1345,1347,1,8637,97,114,59,1,10582,105,103,104,116,4,2,84,86,1362,1373,101,101,86,101,99,116,111,114,59,1,10591,101,99,116,111,114,4,2,59,66,1384,1386,1,8641,97,114,59,1,10583,101,101,4,2,59,65,1399,1401,1,8868,114,114,111,119,59,1,8615,114,114,111,119,59,1,8659,4,2,99,116,1421,1426,114,59,3,55349,56479,114,111,107,59,1,272,4,16,78,84,97,99,100,102,103,108,109,111,112,113,115,116,117,120,1466,1470,1478,1489,1515,1520,1525,1536,1544,1593,1609,1617,1650,1664,1668,1677,71,59,1,330,72,5,208,1,59,1476,1,208,99,117,116,101,5,201,1,59,1487,1,201,4,3,97,105,121,1497,1503,1512,114,111,110,59,1,282,114,99,5,202,1,59,1510,1,202,59,1,1069,111,116,59,1,278,114,59,3,55349,56584,114,97,118,101,5,200,1,59,1534,1,200,101,109,101,110,116,59,1,8712,4,2,97,112,1550,1555,99,114,59,1,274,116,121,4,2,83,86,1563,1576,109,97,108,108,83,113,117,97,114,101,59,1,9723,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9643,4,2,103,112,1599,1604,111,110,59,1,280,102,59,3,55349,56636,115,105,108,111,110,59,1,917,117,4,2,97,105,1624,1640,108,4,2,59,84,1631,1633,1,10869,105,108,100,101,59,1,8770,108,105,98,114,105,117,109,59,1,8652,4,2,99,105,1656,1660,114,59,1,8496,109,59,1,10867,97,59,1,919,109,108,5,203,1,59,1675,1,203,4,2,105,112,1683,1689,115,116,115,59,1,8707,111,110,101,110,116,105,97,108,69,59,1,8519,4,5,99,102,105,111,115,1713,1717,1722,1762,1791,121,59,1,1060,114,59,3,55349,56585,108,108,101,100,4,2,83,86,1732,1745,109,97,108,108,83,113,117,97,114,101,59,1,9724,101,114,121,83,109,97,108,108,83,113,117,97,114,101,59,1,9642,4,3,112,114,117,1770,1775,1781,102,59,3,55349,56637,65,108,108,59,1,8704,114,105,101,114,116,114,102,59,1,8497,99,114,59,1,8497,4,12,74,84,97,98,99,100,102,103,111,114,115,116,1822,1827,1834,1848,1855,1877,1882,1887,1890,1896,1978,1984,99,121,59,1,1027,5,62,1,59,1832,1,62,109,109,97,4,2,59,100,1843,1845,1,915,59,1,988,114,101,118,101,59,1,286,4,3,101,105,121,1863,1869,1874,100,105,108,59,1,290,114,99,59,1,284,59,1,1043,111,116,59,1,288,114,59,3,55349,56586,59,1,8921,112,102,59,3,55349,56638,101,97,116,101,114,4,6,69,70,71,76,83,84,1915,1933,1944,1953,1959,1971,113,117,97,108,4,2,59,76,1925,1927,1,8805,101,115,115,59,1,8923,117,108,108,69,113,117,97,108,59,1,8807,114,101,97,116,101,114,59,1,10914,101,115,115,59,1,8823,108,97,110,116,69,113,117,97,108,59,1,10878,105,108,100,101,59,1,8819,99,114,59,3,55349,56482,59,1,8811,4,8,65,97,99,102,105,111,115,117,2005,2012,2026,2032,2036,2049,2073,2089,82,68,99,121,59,1,1066,4,2,99,116,2018,2023,101,107,59,1,711,59,1,94,105,114,99,59,1,292,114,59,1,8460,108,98,101,114,116,83,112,97,99,101,59,1,8459,4,2,112,114,2055,2059,102,59,1,8461,105,122,111,110,116,97,108,76,105,110,101,59,1,9472,4,2,99,116,2079,2083,114,59,1,8459,114,111,107,59,1,294,109,112,4,2,68,69,2097,2107,111,119,110,72,117,109,112,59,1,8782,113,117,97,108,59,1,8783,4,14,69,74,79,97,99,100,102,103,109,110,111,115,116,117,2144,2149,2155,2160,2171,2189,2194,2198,2209,2245,2307,2329,2334,2341,99,121,59,1,1045,108,105,103,59,1,306,99,121,59,1,1025,99,117,116,101,5,205,1,59,2169,1,205,4,2,105,121,2177,2186,114,99,5,206,1,59,2184,1,206,59,1,1048,111,116,59,1,304,114,59,1,8465,114,97,118,101,5,204,1,59,2207,1,204,4,3,59,97,112,2217,2219,2238,1,8465,4,2,99,103,2225,2229,114,59,1,298,105,110,97,114,121,73,59,1,8520,108,105,101,115,59,1,8658,4,2,116,118,2251,2281,4,2,59,101,2257,2259,1,8748,4,2,103,114,2265,2271,114,97,108,59,1,8747,115,101,99,116,105,111,110,59,1,8898,105,115,105,98,108,101,4,2,67,84,2293,2300,111,109,109,97,59,1,8291,105,109,101,115,59,1,8290,4,3,103,112,116,2315,2320,2325,111,110,59,1,302,102,59,3,55349,56640,97,59,1,921,99,114,59,1,8464,105,108,100,101,59,1,296,4,2,107,109,2347,2352,99,121,59,1,1030,108,5,207,1,59,2358,1,207,4,5,99,102,111,115,117,2372,2386,2391,2397,2414,4,2,105,121,2378,2383,114,99,59,1,308,59,1,1049,114,59,3,55349,56589,112,102,59,3,55349,56641,4,2,99,101,2403,2408,114,59,3,55349,56485,114,99,121,59,1,1032,107,99,121,59,1,1028,4,7,72,74,97,99,102,111,115,2436,2441,2446,2452,2467,2472,2478,99,121,59,1,1061,99,121,59,1,1036,112,112,97,59,1,922,4,2,101,121,2458,2464,100,105,108,59,1,310,59,1,1050,114,59,3,55349,56590,112,102,59,3,55349,56642,99,114,59,3,55349,56486,4,11,74,84,97,99,101,102,108,109,111,115,116,2508,2513,2520,2562,2585,2981,2986,3004,3011,3146,3167,99,121,59,1,1033,5,60,1,59,2518,1,60,4,5,99,109,110,112,114,2532,2538,2544,2548,2558,117,116,101,59,1,313,98,100,97,59,1,923,103,59,1,10218,108,97,99,101,116,114,102,59,1,8466,114,59,1,8606,4,3,97,101,121,2570,2576,2582,114,111,110,59,1,317,100,105,108,59,1,315,59,1,1051,4,2,102,115,2591,2907,116,4,10,65,67,68,70,82,84,85,86,97,114,2614,2663,2672,2728,2735,2760,2820,2870,2888,2895,4,2,110,114,2620,2633,103,108,101,66,114,97,99,107,101,116,59,1,10216,114,111,119,4,3,59,66,82,2644,2646,2651,1,8592,97,114,59,1,8676,105,103,104,116,65,114,114,111,119,59,1,8646,101,105,108,105,110,103,59,1,8968,111,4,2,117,119,2679,2692,98,108,101,66,114,97,99,107,101,116,59,1,10214,110,4,2,84,86,2699,2710,101,101,86,101,99,116,111,114,59,1,10593,101,99,116,111,114,4,2,59,66,2721,2723,1,8643,97,114,59,1,10585,108,111,111,114,59,1,8970,105,103,104,116,4,2,65,86,2745,2752,114,114,111,119,59,1,8596,101,99,116,111,114,59,1,10574,4,2,101,114,2766,2792,101,4,3,59,65,86,2775,2777,2784,1,8867,114,114,111,119,59,1,8612,101,99,116,111,114,59,1,10586,105,97,110,103,108,101,4,3,59,66,69,2806,2808,2813,1,8882,97,114,59,1,10703,113,117,97,108,59,1,8884,112,4,3,68,84,86,2829,2841,2852,111,119,110,86,101,99,116,111,114,59,1,10577,101,101,86,101,99,116,111,114,59,1,10592,101,99,116,111,114,4,2,59,66,2863,2865,1,8639,97,114,59,1,10584,101,99,116,111,114,4,2,59,66,2881,2883,1,8636,97,114,59,1,10578,114,114,111,119,59,1,8656,105,103,104,116,97,114,114,111,119,59,1,8660,115,4,6,69,70,71,76,83,84,2922,2936,2947,2956,2962,2974,113,117,97,108,71,114,101,97,116,101,114,59,1,8922,117,108,108,69,113,117,97,108,59,1,8806,114,101,97,116,101,114,59,1,8822,101,115,115,59,1,10913,108,97,110,116,69,113,117,97,108,59,1,10877,105,108,100,101,59,1,8818,114,59,3,55349,56591,4,2,59,101,2992,2994,1,8920,102,116,97,114,114,111,119,59,1,8666,105,100,111,116,59,1,319,4,3,110,112,119,3019,3110,3115,103,4,4,76,82,108,114,3030,3058,3070,3098,101,102,116,4,2,65,82,3039,3046,114,114,111,119,59,1,10229,105,103,104,116,65,114,114,111,119,59,1,10231,105,103,104,116,65,114,114,111,119,59,1,10230,101,102,116,4,2,97,114,3079,3086,114,114,111,119,59,1,10232,105,103,104,116,97,114,114,111,119,59,1,10234,105,103,104,116,97,114,114,111,119,59,1,10233,102,59,3,55349,56643,101,114,4,2,76,82,3123,3134,101,102,116,65,114,114,111,119,59,1,8601,105,103,104,116,65,114,114,111,119,59,1,8600,4,3,99,104,116,3154,3158,3161,114,59,1,8466,59,1,8624,114,111,107,59,1,321,59,1,8810,4,8,97,99,101,102,105,111,115,117,3188,3192,3196,3222,3227,3237,3243,3248,112,59,1,10501,121,59,1,1052,4,2,100,108,3202,3213,105,117,109,83,112,97,99,101,59,1,8287,108,105,110,116,114,102,59,1,8499,114,59,3,55349,56592,110,117,115,80,108,117,115,59,1,8723,112,102,59,3,55349,56644,99,114,59,1,8499,59,1,924,4,9,74,97,99,101,102,111,115,116,117,3271,3276,3283,3306,3422,3427,4120,4126,4137,99,121,59,1,1034,99,117,116,101,59,1,323,4,3,97,101,121,3291,3297,3303,114,111,110,59,1,327,100,105,108,59,1,325,59,1,1053,4,3,103,115,119,3314,3380,3415,97,116,105,118,101,4,3,77,84,86,3327,3340,3365,101,100,105,117,109,83,112,97,99,101,59,1,8203,104,105,4,2,99,110,3348,3357,107,83,112,97,99,101,59,1,8203,83,112,97,99,101,59,1,8203,101,114,121,84,104,105,110,83,112,97,99,101,59,1,8203,116,101,100,4,2,71,76,3389,3405,114,101,97,116,101,114,71,114,101,97,116,101,114,59,1,8811,101,115,115,76,101,115,115,59,1,8810,76,105,110,101,59,1,10,114,59,3,55349,56593,4,4,66,110,112,116,3437,3444,3460,3464,114,101,97,107,59,1,8288,66,114,101,97,107,105,110,103,83,112,97,99,101,59,1,160,102,59,1,8469,4,13,59,67,68,69,71,72,76,78,80,82,83,84,86,3492,3494,3517,3536,3578,3657,3685,3784,3823,3860,3915,4066,4107,1,10988,4,2,111,117,3500,3510,110,103,114,117,101,110,116,59,1,8802,112,67,97,112,59,1,8813,111,117,98,108,101,86,101,114,116,105,99,97,108,66,97,114,59,1,8742,4,3,108,113,120,3544,3552,3571,101,109,101,110,116,59,1,8713,117,97,108,4,2,59,84,3561,3563,1,8800,105,108,100,101,59,3,8770,824,105,115,116,115,59,1,8708,114,101,97,116,101,114,4,7,59,69,70,71,76,83,84,3600,3602,3609,3621,3631,3637,3650,1,8815,113,117,97,108,59,1,8817,117,108,108,69,113,117,97,108,59,3,8807,824,114,101,97,116,101,114,59,3,8811,824,101,115,115,59,1,8825,108,97,110,116,69,113,117,97,108,59,3,10878,824,105,108,100,101,59,1,8821,117,109,112,4,2,68,69,3666,3677,111,119,110,72,117,109,112,59,3,8782,824,113,117,97,108,59,3,8783,824,101,4,2,102,115,3692,3724,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3709,3711,3717,1,8938,97,114,59,3,10703,824,113,117,97,108,59,1,8940,115,4,6,59,69,71,76,83,84,3739,3741,3748,3757,3764,3777,1,8814,113,117,97,108,59,1,8816,114,101,97,116,101,114,59,1,8824,101,115,115,59,3,8810,824,108,97,110,116,69,113,117,97,108,59,3,10877,824,105,108,100,101,59,1,8820,101,115,116,101,100,4,2,71,76,3795,3812,114,101,97,116,101,114,71,114,101,97,116,101,114,59,3,10914,824,101,115,115,76,101,115,115,59,3,10913,824,114,101,99,101,100,101,115,4,3,59,69,83,3838,3840,3848,1,8832,113,117,97,108,59,3,10927,824,108,97,110,116,69,113,117,97,108,59,1,8928,4,2,101,105,3866,3881,118,101,114,115,101,69,108,101,109,101,110,116,59,1,8716,103,104,116,84,114,105,97,110,103,108,101,4,3,59,66,69,3900,3902,3908,1,8939,97,114,59,3,10704,824,113,117,97,108,59,1,8941,4,2,113,117,3921,3973,117,97,114,101,83,117,4,2,98,112,3933,3952,115,101,116,4,2,59,69,3942,3945,3,8847,824,113,117,97,108,59,1,8930,101,114,115,101,116,4,2,59,69,3963,3966,3,8848,824,113,117,97,108,59,1,8931,4,3,98,99,112,3981,4e3,4045,115,101,116,4,2,59,69,3990,3993,3,8834,8402,113,117,97,108,59,1,8840,99,101,101,100,115,4,4,59,69,83,84,4015,4017,4025,4037,1,8833,113,117,97,108,59,3,10928,824,108,97,110,116,69,113,117,97,108,59,1,8929,105,108,100,101,59,3,8831,824,101,114,115,101,116,4,2,59,69,4056,4059,3,8835,8402,113,117,97,108,59,1,8841,105,108,100,101,4,4,59,69,70,84,4080,4082,4089,4100,1,8769,113,117,97,108,59,1,8772,117,108,108,69,113,117,97,108,59,1,8775,105,108,100,101,59,1,8777,101,114,116,105,99,97,108,66,97,114,59,1,8740,99,114,59,3,55349,56489,105,108,100,101,5,209,1,59,4135,1,209,59,1,925,4,14,69,97,99,100,102,103,109,111,112,114,115,116,117,118,4170,4176,4187,4205,4212,4217,4228,4253,4259,4292,4295,4316,4337,4346,108,105,103,59,1,338,99,117,116,101,5,211,1,59,4185,1,211,4,2,105,121,4193,4202,114,99,5,212,1,59,4200,1,212,59,1,1054,98,108,97,99,59,1,336,114,59,3,55349,56594,114,97,118,101,5,210,1,59,4226,1,210,4,3,97,101,105,4236,4241,4246,99,114,59,1,332,103,97,59,1,937,99,114,111,110,59,1,927,112,102,59,3,55349,56646,101,110,67,117,114,108,121,4,2,68,81,4272,4285,111,117,98,108,101,81,117,111,116,101,59,1,8220,117,111,116,101,59,1,8216,59,1,10836,4,2,99,108,4301,4306,114,59,3,55349,56490,97,115,104,5,216,1,59,4314,1,216,105,4,2,108,109,4323,4332,100,101,5,213,1,59,4330,1,213,101,115,59,1,10807,109,108,5,214,1,59,4344,1,214,101,114,4,2,66,80,4354,4380,4,2,97,114,4360,4364,114,59,1,8254,97,99,4,2,101,107,4372,4375,59,1,9182,101,116,59,1,9140,97,114,101,110,116,104,101,115,105,115,59,1,9180,4,9,97,99,102,104,105,108,111,114,115,4413,4422,4426,4431,4435,4438,4448,4471,4561,114,116,105,97,108,68,59,1,8706,121,59,1,1055,114,59,3,55349,56595,105,59,1,934,59,1,928,117,115,77,105,110,117,115,59,1,177,4,2,105,112,4454,4467,110,99,97,114,101,112,108,97,110,101,59,1,8460,102,59,1,8473,4,4,59,101,105,111,4481,4483,4526,4531,1,10939,99,101,100,101,115,4,4,59,69,83,84,4498,4500,4507,4519,1,8826,113,117,97,108,59,1,10927,108,97,110,116,69,113,117,97,108,59,1,8828,105,108,100,101,59,1,8830,109,101,59,1,8243,4,2,100,112,4537,4543,117,99,116,59,1,8719,111,114,116,105,111,110,4,2,59,97,4555,4557,1,8759,108,59,1,8733,4,2,99,105,4567,4572,114,59,3,55349,56491,59,1,936,4,4,85,102,111,115,4585,4594,4599,4604,79,84,5,34,1,59,4592,1,34,114,59,3,55349,56596,112,102,59,1,8474,99,114,59,3,55349,56492,4,12,66,69,97,99,101,102,104,105,111,114,115,117,4636,4642,4650,4681,4704,4763,4767,4771,5047,5069,5081,5094,97,114,114,59,1,10512,71,5,174,1,59,4648,1,174,4,3,99,110,114,4658,4664,4668,117,116,101,59,1,340,103,59,1,10219,114,4,2,59,116,4675,4677,1,8608,108,59,1,10518,4,3,97,101,121,4689,4695,4701,114,111,110,59,1,344,100,105,108,59,1,342,59,1,1056,4,2,59,118,4710,4712,1,8476,101,114,115,101,4,2,69,85,4722,4748,4,2,108,113,4728,4736,101,109,101,110,116,59,1,8715,117,105,108,105,98,114,105,117,109,59,1,8651,112,69,113,117,105,108,105,98,114,105,117,109,59,1,10607,114,59,1,8476,111,59,1,929,103,104,116,4,8,65,67,68,70,84,85,86,97,4792,4840,4849,4905,4912,4972,5022,5040,4,2,110,114,4798,4811,103,108,101,66,114,97,99,107,101,116,59,1,10217,114,111,119,4,3,59,66,76,4822,4824,4829,1,8594,97,114,59,1,8677,101,102,116,65,114,114,111,119,59,1,8644,101,105,108,105,110,103,59,1,8969,111,4,2,117,119,4856,4869,98,108,101,66,114,97,99,107,101,116,59,1,10215,110,4,2,84,86,4876,4887,101,101,86,101,99,116,111,114,59,1,10589,101,99,116,111,114,4,2,59,66,4898,4900,1,8642,97,114,59,1,10581,108,111,111,114,59,1,8971,4,2,101,114,4918,4944,101,4,3,59,65,86,4927,4929,4936,1,8866,114,114,111,119,59,1,8614,101,99,116,111,114,59,1,10587,105,97,110,103,108,101,4,3,59,66,69,4958,4960,4965,1,8883,97,114,59,1,10704,113,117,97,108,59,1,8885,112,4,3,68,84,86,4981,4993,5004,111,119,110,86,101,99,116,111,114,59,1,10575,101,101,86,101,99,116,111,114,59,1,10588,101,99,116,111,114,4,2,59,66,5015,5017,1,8638,97,114,59,1,10580,101,99,116,111,114,4,2,59,66,5033,5035,1,8640,97,114,59,1,10579,114,114,111,119,59,1,8658,4,2,112,117,5053,5057,102,59,1,8477,110,100,73,109,112,108,105,101,115,59,1,10608,105,103,104,116,97,114,114,111,119,59,1,8667,4,2,99,104,5087,5091,114,59,1,8475,59,1,8625,108,101,68,101,108,97,121,101,100,59,1,10740,4,13,72,79,97,99,102,104,105,109,111,113,115,116,117,5134,5150,5157,5164,5198,5203,5259,5265,5277,5283,5374,5380,5385,4,2,67,99,5140,5146,72,99,121,59,1,1065,121,59,1,1064,70,84,99,121,59,1,1068,99,117,116,101,59,1,346,4,5,59,97,101,105,121,5176,5178,5184,5190,5195,1,10940,114,111,110,59,1,352,100,105,108,59,1,350,114,99,59,1,348,59,1,1057,114,59,3,55349,56598,111,114,116,4,4,68,76,82,85,5216,5227,5238,5250,111,119,110,65,114,114,111,119,59,1,8595,101,102,116,65,114,114,111,119,59,1,8592,105,103,104,116,65,114,114,111,119,59,1,8594,112,65,114,114,111,119,59,1,8593,103,109,97,59,1,931,97,108,108,67,105,114,99,108,101,59,1,8728,112,102,59,3,55349,56650,4,2,114,117,5289,5293,116,59,1,8730,97,114,101,4,4,59,73,83,85,5306,5308,5322,5367,1,9633,110,116,101,114,115,101,99,116,105,111,110,59,1,8851,117,4,2,98,112,5329,5347,115,101,116,4,2,59,69,5338,5340,1,8847,113,117,97,108,59,1,8849,101,114,115,101,116,4,2,59,69,5358,5360,1,8848,113,117,97,108,59,1,8850,110,105,111,110,59,1,8852,99,114,59,3,55349,56494,97,114,59,1,8902,4,4,98,99,109,112,5395,5420,5475,5478,4,2,59,115,5401,5403,1,8912,101,116,4,2,59,69,5411,5413,1,8912,113,117,97,108,59,1,8838,4,2,99,104,5426,5468,101,101,100,115,4,4,59,69,83,84,5440,5442,5449,5461,1,8827,113,117,97,108,59,1,10928,108,97,110,116,69,113,117,97,108,59,1,8829,105,108,100,101,59,1,8831,84,104,97,116,59,1,8715,59,1,8721,4,3,59,101,115,5486,5488,5507,1,8913,114,115,101,116,4,2,59,69,5498,5500,1,8835,113,117,97,108,59,1,8839,101,116,59,1,8913,4,11,72,82,83,97,99,102,104,105,111,114,115,5536,5546,5552,5567,5579,5602,5607,5655,5695,5701,5711,79,82,78,5,222,1,59,5544,1,222,65,68,69,59,1,8482,4,2,72,99,5558,5563,99,121,59,1,1035,121,59,1,1062,4,2,98,117,5573,5576,59,1,9,59,1,932,4,3,97,101,121,5587,5593,5599,114,111,110,59,1,356,100,105,108,59,1,354,59,1,1058,114,59,3,55349,56599,4,2,101,105,5613,5631,4,2,114,116,5619,5627,101,102,111,114,101,59,1,8756,97,59,1,920,4,2,99,110,5637,5647,107,83,112,97,99,101,59,3,8287,8202,83,112,97,99,101,59,1,8201,108,100,101,4,4,59,69,70,84,5668,5670,5677,5688,1,8764,113,117,97,108,59,1,8771,117,108,108,69,113,117,97,108,59,1,8773,105,108,100,101,59,1,8776,112,102,59,3,55349,56651,105,112,108,101,68,111,116,59,1,8411,4,2,99,116,5717,5722,114,59,3,55349,56495,114,111,107,59,1,358,4,14,97,98,99,100,102,103,109,110,111,112,114,115,116,117,5758,5789,5805,5823,5830,5835,5846,5852,5921,5937,6089,6095,6101,6108,4,2,99,114,5764,5774,117,116,101,5,218,1,59,5772,1,218,114,4,2,59,111,5781,5783,1,8607,99,105,114,59,1,10569,114,4,2,99,101,5796,5800,121,59,1,1038,118,101,59,1,364,4,2,105,121,5811,5820,114,99,5,219,1,59,5818,1,219,59,1,1059,98,108,97,99,59,1,368,114,59,3,55349,56600,114,97,118,101,5,217,1,59,5844,1,217,97,99,114,59,1,362,4,2,100,105,5858,5905,101,114,4,2,66,80,5866,5892,4,2,97,114,5872,5876,114,59,1,95,97,99,4,2,101,107,5884,5887,59,1,9183,101,116,59,1,9141,97,114,101,110,116,104,101,115,105,115,59,1,9181,111,110,4,2,59,80,5913,5915,1,8899,108,117,115,59,1,8846,4,2,103,112,5927,5932,111,110,59,1,370,102,59,3,55349,56652,4,8,65,68,69,84,97,100,112,115,5955,5985,5996,6009,6026,6033,6044,6075,114,114,111,119,4,3,59,66,68,5967,5969,5974,1,8593,97,114,59,1,10514,111,119,110,65,114,114,111,119,59,1,8645,111,119,110,65,114,114,111,119,59,1,8597,113,117,105,108,105,98,114,105,117,109,59,1,10606,101,101,4,2,59,65,6017,6019,1,8869,114,114,111,119,59,1,8613,114,114,111,119,59,1,8657,111,119,110,97,114,114,111,119,59,1,8661,101,114,4,2,76,82,6052,6063,101,102,116,65,114,114,111,119,59,1,8598,105,103,104,116,65,114,114,111,119,59,1,8599,105,4,2,59,108,6082,6084,1,978,111,110,59,1,933,105,110,103,59,1,366,99,114,59,3,55349,56496,105,108,100,101,59,1,360,109,108,5,220,1,59,6115,1,220,4,9,68,98,99,100,101,102,111,115,118,6137,6143,6148,6152,6166,6250,6255,6261,6267,97,115,104,59,1,8875,97,114,59,1,10987,121,59,1,1042,97,115,104,4,2,59,108,6161,6163,1,8873,59,1,10982,4,2,101,114,6172,6175,59,1,8897,4,3,98,116,121,6183,6188,6238,97,114,59,1,8214,4,2,59,105,6194,6196,1,8214,99,97,108,4,4,66,76,83,84,6209,6214,6220,6231,97,114,59,1,8739,105,110,101,59,1,124,101,112,97,114,97,116,111,114,59,1,10072,105,108,100,101,59,1,8768,84,104,105,110,83,112,97,99,101,59,1,8202,114,59,3,55349,56601,112,102,59,3,55349,56653,99,114,59,3,55349,56497,100,97,115,104,59,1,8874,4,5,99,101,102,111,115,6286,6292,6298,6303,6309,105,114,99,59,1,372,100,103,101,59,1,8896,114,59,3,55349,56602,112,102,59,3,55349,56654,99,114,59,3,55349,56498,4,4,102,105,111,115,6325,6330,6333,6339,114,59,3,55349,56603,59,1,926,112,102,59,3,55349,56655,99,114,59,3,55349,56499,4,9,65,73,85,97,99,102,111,115,117,6365,6370,6375,6380,6391,6405,6410,6416,6422,99,121,59,1,1071,99,121,59,1,1031,99,121,59,1,1070,99,117,116,101,5,221,1,59,6389,1,221,4,2,105,121,6397,6402,114,99,59,1,374,59,1,1067,114,59,3,55349,56604,112,102,59,3,55349,56656,99,114,59,3,55349,56500,109,108,59,1,376,4,8,72,97,99,100,101,102,111,115,6445,6450,6457,6472,6477,6501,6505,6510,99,121,59,1,1046,99,117,116,101,59,1,377,4,2,97,121,6463,6469,114,111,110,59,1,381,59,1,1047,111,116,59,1,379,4,2,114,116,6483,6497,111,87,105,100,116,104,83,112,97,99,101,59,1,8203,97,59,1,918,114,59,1,8488,112,102,59,1,8484,99,114,59,3,55349,56501,4,16,97,98,99,101,102,103,108,109,110,111,112,114,115,116,117,119,6550,6561,6568,6612,6622,6634,6645,6672,6699,6854,6870,6923,6933,6963,6974,6983,99,117,116,101,5,225,1,59,6559,1,225,114,101,118,101,59,1,259,4,6,59,69,100,105,117,121,6582,6584,6588,6591,6600,6609,1,8766,59,3,8766,819,59,1,8767,114,99,5,226,1,59,6598,1,226,116,101,5,180,1,59,6607,1,180,59,1,1072,108,105,103,5,230,1,59,6620,1,230,4,2,59,114,6628,6630,1,8289,59,3,55349,56606,114,97,118,101,5,224,1,59,6643,1,224,4,2,101,112,6651,6667,4,2,102,112,6657,6663,115,121,109,59,1,8501,104,59,1,8501,104,97,59,1,945,4,2,97,112,6678,6692,4,2,99,108,6684,6688,114,59,1,257,103,59,1,10815,5,38,1,59,6697,1,38,4,2,100,103,6705,6737,4,5,59,97,100,115,118,6717,6719,6724,6727,6734,1,8743,110,100,59,1,10837,59,1,10844,108,111,112,101,59,1,10840,59,1,10842,4,7,59,101,108,109,114,115,122,6753,6755,6758,6762,6814,6835,6848,1,8736,59,1,10660,101,59,1,8736,115,100,4,2,59,97,6770,6772,1,8737,4,8,97,98,99,100,101,102,103,104,6790,6793,6796,6799,6802,6805,6808,6811,59,1,10664,59,1,10665,59,1,10666,59,1,10667,59,1,10668,59,1,10669,59,1,10670,59,1,10671,116,4,2,59,118,6821,6823,1,8735,98,4,2,59,100,6830,6832,1,8894,59,1,10653,4,2,112,116,6841,6845,104,59,1,8738,59,1,197,97,114,114,59,1,9084,4,2,103,112,6860,6865,111,110,59,1,261,102,59,3,55349,56658,4,7,59,69,97,101,105,111,112,6886,6888,6891,6897,6900,6904,6908,1,8776,59,1,10864,99,105,114,59,1,10863,59,1,8778,100,59,1,8779,115,59,1,39,114,111,120,4,2,59,101,6917,6919,1,8776,113,59,1,8778,105,110,103,5,229,1,59,6931,1,229,4,3,99,116,121,6941,6946,6949,114,59,3,55349,56502,59,1,42,109,112,4,2,59,101,6957,6959,1,8776,113,59,1,8781,105,108,100,101,5,227,1,59,6972,1,227,109,108,5,228,1,59,6981,1,228,4,2,99,105,6989,6997,111,110,105,110,116,59,1,8755,110,116,59,1,10769,4,16,78,97,98,99,100,101,102,105,107,108,110,111,112,114,115,117,7036,7041,7119,7135,7149,7155,7219,7224,7347,7354,7463,7489,7786,7793,7814,7866,111,116,59,1,10989,4,2,99,114,7047,7094,107,4,4,99,101,112,115,7058,7064,7073,7080,111,110,103,59,1,8780,112,115,105,108,111,110,59,1,1014,114,105,109,101,59,1,8245,105,109,4,2,59,101,7088,7090,1,8765,113,59,1,8909,4,2,118,119,7100,7105,101,101,59,1,8893,101,100,4,2,59,103,7113,7115,1,8965,101,59,1,8965,114,107,4,2,59,116,7127,7129,1,9141,98,114,107,59,1,9142,4,2,111,121,7141,7146,110,103,59,1,8780,59,1,1073,113,117,111,59,1,8222,4,5,99,109,112,114,116,7167,7181,7188,7193,7199,97,117,115,4,2,59,101,7176,7178,1,8757,59,1,8757,112,116,121,118,59,1,10672,115,105,59,1,1014,110,111,117,59,1,8492,4,3,97,104,119,7207,7210,7213,59,1,946,59,1,8502,101,101,110,59,1,8812,114,59,3,55349,56607,103,4,7,99,111,115,116,117,118,119,7241,7262,7288,7305,7328,7335,7340,4,3,97,105,117,7249,7253,7258,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,4,3,100,112,116,7270,7275,7281,111,116,59,1,10752,108,117,115,59,1,10753,105,109,101,115,59,1,10754,4,2,113,116,7294,7300,99,117,112,59,1,10758,97,114,59,1,9733,114,105,97,110,103,108,101,4,2,100,117,7318,7324,111,119,110,59,1,9661,112,59,1,9651,112,108,117,115,59,1,10756,101,101,59,1,8897,101,100,103,101,59,1,8896,97,114,111,119,59,1,10509,4,3,97,107,111,7362,7436,7458,4,2,99,110,7368,7432,107,4,3,108,115,116,7377,7386,7394,111,122,101,110,103,101,59,1,10731,113,117,97,114,101,59,1,9642,114,105,97,110,103,108,101,4,4,59,100,108,114,7411,7413,7419,7425,1,9652,111,119,110,59,1,9662,101,102,116,59,1,9666,105,103,104,116,59,1,9656,107,59,1,9251,4,2,49,51,7442,7454,4,2,50,52,7448,7451,59,1,9618,59,1,9617,52,59,1,9619,99,107,59,1,9608,4,2,101,111,7469,7485,4,2,59,113,7475,7478,3,61,8421,117,105,118,59,3,8801,8421,116,59,1,8976,4,4,112,116,119,120,7499,7504,7517,7523,102,59,3,55349,56659,4,2,59,116,7510,7512,1,8869,111,109,59,1,8869,116,105,101,59,1,8904,4,12,68,72,85,86,98,100,104,109,112,116,117,118,7549,7571,7597,7619,7655,7660,7682,7708,7715,7721,7728,7750,4,4,76,82,108,114,7559,7562,7565,7568,59,1,9559,59,1,9556,59,1,9558,59,1,9555,4,5,59,68,85,100,117,7583,7585,7588,7591,7594,1,9552,59,1,9574,59,1,9577,59,1,9572,59,1,9575,4,4,76,82,108,114,7607,7610,7613,7616,59,1,9565,59,1,9562,59,1,9564,59,1,9561,4,7,59,72,76,82,104,108,114,7635,7637,7640,7643,7646,7649,7652,1,9553,59,1,9580,59,1,9571,59,1,9568,59,1,9579,59,1,9570,59,1,9567,111,120,59,1,10697,4,4,76,82,108,114,7670,7673,7676,7679,59,1,9557,59,1,9554,59,1,9488,59,1,9484,4,5,59,68,85,100,117,7694,7696,7699,7702,7705,1,9472,59,1,9573,59,1,9576,59,1,9516,59,1,9524,105,110,117,115,59,1,8863,108,117,115,59,1,8862,105,109,101,115,59,1,8864,4,4,76,82,108,114,7738,7741,7744,7747,59,1,9563,59,1,9560,59,1,9496,59,1,9492,4,7,59,72,76,82,104,108,114,7766,7768,7771,7774,7777,7780,7783,1,9474,59,1,9578,59,1,9569,59,1,9566,59,1,9532,59,1,9508,59,1,9500,114,105,109,101,59,1,8245,4,2,101,118,7799,7804,118,101,59,1,728,98,97,114,5,166,1,59,7812,1,166,4,4,99,101,105,111,7824,7829,7834,7846,114,59,3,55349,56503,109,105,59,1,8271,109,4,2,59,101,7841,7843,1,8765,59,1,8909,108,4,3,59,98,104,7855,7857,7860,1,92,59,1,10693,115,117,98,59,1,10184,4,2,108,109,7872,7885,108,4,2,59,101,7879,7881,1,8226,116,59,1,8226,112,4,3,59,69,101,7894,7896,7899,1,8782,59,1,10926,4,2,59,113,7905,7907,1,8783,59,1,8783,4,15,97,99,100,101,102,104,105,108,111,114,115,116,117,119,121,7942,8021,8075,8080,8121,8126,8157,8279,8295,8430,8446,8485,8491,8707,8726,4,3,99,112,114,7950,7956,8007,117,116,101,59,1,263,4,6,59,97,98,99,100,115,7970,7972,7977,7984,7998,8003,1,8745,110,100,59,1,10820,114,99,117,112,59,1,10825,4,2,97,117,7990,7994,112,59,1,10827,112,59,1,10823,111,116,59,1,10816,59,3,8745,65024,4,2,101,111,8013,8017,116,59,1,8257,110,59,1,711,4,4,97,101,105,117,8031,8046,8056,8061,4,2,112,114,8037,8041,115,59,1,10829,111,110,59,1,269,100,105,108,5,231,1,59,8054,1,231,114,99,59,1,265,112,115,4,2,59,115,8069,8071,1,10828,109,59,1,10832,111,116,59,1,267,4,3,100,109,110,8088,8097,8104,105,108,5,184,1,59,8095,1,184,112,116,121,118,59,1,10674,116,5,162,2,59,101,8112,8114,1,162,114,100,111,116,59,1,183,114,59,3,55349,56608,4,3,99,101,105,8134,8138,8154,121,59,1,1095,99,107,4,2,59,109,8146,8148,1,10003,97,114,107,59,1,10003,59,1,967,114,4,7,59,69,99,101,102,109,115,8174,8176,8179,8258,8261,8268,8273,1,9675,59,1,10691,4,3,59,101,108,8187,8189,8193,1,710,113,59,1,8791,101,4,2,97,100,8200,8223,114,114,111,119,4,2,108,114,8210,8216,101,102,116,59,1,8634,105,103,104,116,59,1,8635,4,5,82,83,97,99,100,8235,8238,8241,8246,8252,59,1,174,59,1,9416,115,116,59,1,8859,105,114,99,59,1,8858,97,115,104,59,1,8861,59,1,8791,110,105,110,116,59,1,10768,105,100,59,1,10991,99,105,114,59,1,10690,117,98,115,4,2,59,117,8288,8290,1,9827,105,116,59,1,9827,4,4,108,109,110,112,8305,8326,8376,8400,111,110,4,2,59,101,8313,8315,1,58,4,2,59,113,8321,8323,1,8788,59,1,8788,4,2,109,112,8332,8344,97,4,2,59,116,8339,8341,1,44,59,1,64,4,3,59,102,108,8352,8354,8358,1,8705,110,59,1,8728,101,4,2,109,120,8365,8371,101,110,116,59,1,8705,101,115,59,1,8450,4,2,103,105,8382,8395,4,2,59,100,8388,8390,1,8773,111,116,59,1,10861,110,116,59,1,8750,4,3,102,114,121,8408,8412,8417,59,3,55349,56660,111,100,59,1,8720,5,169,2,59,115,8424,8426,1,169,114,59,1,8471,4,2,97,111,8436,8441,114,114,59,1,8629,115,115,59,1,10007,4,2,99,117,8452,8457,114,59,3,55349,56504,4,2,98,112,8463,8474,4,2,59,101,8469,8471,1,10959,59,1,10961,4,2,59,101,8480,8482,1,10960,59,1,10962,100,111,116,59,1,8943,4,7,100,101,108,112,114,118,119,8507,8522,8536,8550,8600,8697,8702,97,114,114,4,2,108,114,8516,8519,59,1,10552,59,1,10549,4,2,112,115,8528,8532,114,59,1,8926,99,59,1,8927,97,114,114,4,2,59,112,8545,8547,1,8630,59,1,10557,4,6,59,98,99,100,111,115,8564,8566,8573,8587,8592,8596,1,8746,114,99,97,112,59,1,10824,4,2,97,117,8579,8583,112,59,1,10822,112,59,1,10826,111,116,59,1,8845,114,59,1,10821,59,3,8746,65024,4,4,97,108,114,118,8610,8623,8663,8672,114,114,4,2,59,109,8618,8620,1,8631,59,1,10556,121,4,3,101,118,119,8632,8651,8656,113,4,2,112,115,8639,8645,114,101,99,59,1,8926,117,99,99,59,1,8927,101,101,59,1,8910,101,100,103,101,59,1,8911,101,110,5,164,1,59,8670,1,164,101,97,114,114,111,119,4,2,108,114,8684,8690,101,102,116,59,1,8630,105,103,104,116,59,1,8631,101,101,59,1,8910,101,100,59,1,8911,4,2,99,105,8713,8721,111,110,105,110,116,59,1,8754,110,116,59,1,8753,108,99,116,121,59,1,9005,4,19,65,72,97,98,99,100,101,102,104,105,106,108,111,114,115,116,117,119,122,8773,8778,8783,8821,8839,8854,8887,8914,8930,8944,9036,9041,9058,9197,9227,9258,9281,9297,9305,114,114,59,1,8659,97,114,59,1,10597,4,4,103,108,114,115,8793,8799,8805,8809,103,101,114,59,1,8224,101,116,104,59,1,8504,114,59,1,8595,104,4,2,59,118,8816,8818,1,8208,59,1,8867,4,2,107,108,8827,8834,97,114,111,119,59,1,10511,97,99,59,1,733,4,2,97,121,8845,8851,114,111,110,59,1,271,59,1,1076,4,3,59,97,111,8862,8864,8880,1,8518,4,2,103,114,8870,8876,103,101,114,59,1,8225,114,59,1,8650,116,115,101,113,59,1,10871,4,3,103,108,109,8895,8902,8907,5,176,1,59,8900,1,176,116,97,59,1,948,112,116,121,118,59,1,10673,4,2,105,114,8920,8926,115,104,116,59,1,10623,59,3,55349,56609,97,114,4,2,108,114,8938,8941,59,1,8643,59,1,8642,4,5,97,101,103,115,118,8956,8986,8989,8996,9001,109,4,3,59,111,115,8965,8967,8983,1,8900,110,100,4,2,59,115,8975,8977,1,8900,117,105,116,59,1,9830,59,1,9830,59,1,168,97,109,109,97,59,1,989,105,110,59,1,8946,4,3,59,105,111,9009,9011,9031,1,247,100,101,5,247,2,59,111,9020,9022,1,247,110,116,105,109,101,115,59,1,8903,110,120,59,1,8903,99,121,59,1,1106,99,4,2,111,114,9048,9053,114,110,59,1,8990,111,112,59,1,8973,4,5,108,112,116,117,119,9070,9076,9081,9130,9144,108,97,114,59,1,36,102,59,3,55349,56661,4,5,59,101,109,112,115,9093,9095,9109,9116,9122,1,729,113,4,2,59,100,9102,9104,1,8784,111,116,59,1,8785,105,110,117,115,59,1,8760,108,117,115,59,1,8724,113,117,97,114,101,59,1,8865,98,108,101,98,97,114,119,101,100,103,101,59,1,8966,110,4,3,97,100,104,9153,9160,9172,114,114,111,119,59,1,8595,111,119,110,97,114,114,111,119,115,59,1,8650,97,114,112,111,111,110,4,2,108,114,9184,9190,101,102,116,59,1,8643,105,103,104,116,59,1,8642,4,2,98,99,9203,9211,107,97,114,111,119,59,1,10512,4,2,111,114,9217,9222,114,110,59,1,8991,111,112,59,1,8972,4,3,99,111,116,9235,9248,9252,4,2,114,121,9241,9245,59,3,55349,56505,59,1,1109,108,59,1,10742,114,111,107,59,1,273,4,2,100,114,9264,9269,111,116,59,1,8945,105,4,2,59,102,9276,9278,1,9663,59,1,9662,4,2,97,104,9287,9292,114,114,59,1,8693,97,114,59,1,10607,97,110,103,108,101,59,1,10662,4,2,99,105,9311,9315,121,59,1,1119,103,114,97,114,114,59,1,10239,4,18,68,97,99,100,101,102,103,108,109,110,111,112,113,114,115,116,117,120,9361,9376,9398,9439,9444,9447,9462,9495,9531,9585,9598,9614,9659,9755,9771,9792,9808,9826,4,2,68,111,9367,9372,111,116,59,1,10871,116,59,1,8785,4,2,99,115,9382,9392,117,116,101,5,233,1,59,9390,1,233,116,101,114,59,1,10862,4,4,97,105,111,121,9408,9414,9430,9436,114,111,110,59,1,283,114,4,2,59,99,9421,9423,1,8790,5,234,1,59,9428,1,234,108,111,110,59,1,8789,59,1,1101,111,116,59,1,279,59,1,8519,4,2,68,114,9453,9458,111,116,59,1,8786,59,3,55349,56610,4,3,59,114,115,9470,9472,9482,1,10906,97,118,101,5,232,1,59,9480,1,232,4,2,59,100,9488,9490,1,10902,111,116,59,1,10904,4,4,59,105,108,115,9505,9507,9515,9518,1,10905,110,116,101,114,115,59,1,9191,59,1,8467,4,2,59,100,9524,9526,1,10901,111,116,59,1,10903,4,3,97,112,115,9539,9544,9564,99,114,59,1,275,116,121,4,3,59,115,118,9554,9556,9561,1,8709,101,116,59,1,8709,59,1,8709,112,4,2,49,59,9571,9583,4,2,51,52,9577,9580,59,1,8196,59,1,8197,1,8195,4,2,103,115,9591,9594,59,1,331,112,59,1,8194,4,2,103,112,9604,9609,111,110,59,1,281,102,59,3,55349,56662,4,3,97,108,115,9622,9635,9640,114,4,2,59,115,9629,9631,1,8917,108,59,1,10723,117,115,59,1,10865,105,4,3,59,108,118,9649,9651,9656,1,949,111,110,59,1,949,59,1,1013,4,4,99,115,117,118,9669,9686,9716,9747,4,2,105,111,9675,9680,114,99,59,1,8790,108,111,110,59,1,8789,4,2,105,108,9692,9696,109,59,1,8770,97,110,116,4,2,103,108,9705,9710,116,114,59,1,10902,101,115,115,59,1,10901,4,3,97,101,105,9724,9729,9734,108,115,59,1,61,115,116,59,1,8799,118,4,2,59,68,9741,9743,1,8801,68,59,1,10872,112,97,114,115,108,59,1,10725,4,2,68,97,9761,9766,111,116,59,1,8787,114,114,59,1,10609,4,3,99,100,105,9779,9783,9788,114,59,1,8495,111,116,59,1,8784,109,59,1,8770,4,2,97,104,9798,9801,59,1,951,5,240,1,59,9806,1,240,4,2,109,114,9814,9822,108,5,235,1,59,9820,1,235,111,59,1,8364,4,3,99,105,112,9834,9838,9843,108,59,1,33,115,116,59,1,8707,4,2,101,111,9849,9859,99,116,97,116,105,111,110,59,1,8496,110,101,110,116,105,97,108,101,59,1,8519,4,12,97,99,101,102,105,106,108,110,111,112,114,115,9896,9910,9914,9921,9954,9960,9967,9989,9994,10027,10036,10164,108,108,105,110,103,100,111,116,115,101,113,59,1,8786,121,59,1,1092,109,97,108,101,59,1,9792,4,3,105,108,114,9929,9935,9950,108,105,103,59,1,64259,4,2,105,108,9941,9945,103,59,1,64256,105,103,59,1,64260,59,3,55349,56611,108,105,103,59,1,64257,108,105,103,59,3,102,106,4,3,97,108,116,9975,9979,9984,116,59,1,9837,105,103,59,1,64258,110,115,59,1,9649,111,102,59,1,402,4,2,112,114,1e4,10005,102,59,3,55349,56663,4,2,97,107,10011,10016,108,108,59,1,8704,4,2,59,118,10022,10024,1,8916,59,1,10969,97,114,116,105,110,116,59,1,10765,4,2,97,111,10042,10159,4,2,99,115,10048,10155,4,6,49,50,51,52,53,55,10062,10102,10114,10135,10139,10151,4,6,50,51,52,53,54,56,10076,10083,10086,10093,10096,10099,5,189,1,59,10081,1,189,59,1,8531,5,188,1,59,10091,1,188,59,1,8533,59,1,8537,59,1,8539,4,2,51,53,10108,10111,59,1,8532,59,1,8534,4,3,52,53,56,10122,10129,10132,5,190,1,59,10127,1,190,59,1,8535,59,1,8540,53,59,1,8536,4,2,54,56,10145,10148,59,1,8538,59,1,8541,56,59,1,8542,108,59,1,8260,119,110,59,1,8994,99,114,59,3,55349,56507,4,17,69,97,98,99,100,101,102,103,105,106,108,110,111,114,115,116,118,10206,10217,10247,10254,10268,10273,10358,10363,10374,10380,10385,10406,10458,10464,10470,10497,10610,4,2,59,108,10212,10214,1,8807,59,1,10892,4,3,99,109,112,10225,10231,10244,117,116,101,59,1,501,109,97,4,2,59,100,10239,10241,1,947,59,1,989,59,1,10886,114,101,118,101,59,1,287,4,2,105,121,10260,10265,114,99,59,1,285,59,1,1075,111,116,59,1,289,4,4,59,108,113,115,10283,10285,10288,10308,1,8805,59,1,8923,4,3,59,113,115,10296,10298,10301,1,8805,59,1,8807,108,97,110,116,59,1,10878,4,4,59,99,100,108,10318,10320,10324,10345,1,10878,99,59,1,10921,111,116,4,2,59,111,10332,10334,1,10880,4,2,59,108,10340,10342,1,10882,59,1,10884,4,2,59,101,10351,10354,3,8923,65024,115,59,1,10900,114,59,3,55349,56612,4,2,59,103,10369,10371,1,8811,59,1,8921,109,101,108,59,1,8503,99,121,59,1,1107,4,4,59,69,97,106,10395,10397,10400,10403,1,8823,59,1,10898,59,1,10917,59,1,10916,4,4,69,97,101,115,10416,10419,10434,10453,59,1,8809,112,4,2,59,112,10426,10428,1,10890,114,111,120,59,1,10890,4,2,59,113,10440,10442,1,10888,4,2,59,113,10448,10450,1,10888,59,1,8809,105,109,59,1,8935,112,102,59,3,55349,56664,97,118,101,59,1,96,4,2,99,105,10476,10480,114,59,1,8458,109,4,3,59,101,108,10489,10491,10494,1,8819,59,1,10894,59,1,10896,5,62,6,59,99,100,108,113,114,10512,10514,10527,10532,10538,10545,1,62,4,2,99,105,10520,10523,59,1,10919,114,59,1,10874,111,116,59,1,8919,80,97,114,59,1,10645,117,101,115,116,59,1,10876,4,5,97,100,101,108,115,10557,10574,10579,10599,10605,4,2,112,114,10563,10570,112,114,111,120,59,1,10886,114,59,1,10616,111,116,59,1,8919,113,4,2,108,113,10586,10592,101,115,115,59,1,8923,108,101,115,115,59,1,10892,101,115,115,59,1,8823,105,109,59,1,8819,4,2,101,110,10616,10626,114,116,110,101,113,113,59,3,8809,65024,69,59,3,8809,65024,4,10,65,97,98,99,101,102,107,111,115,121,10653,10658,10713,10718,10724,10760,10765,10786,10850,10875,114,114,59,1,8660,4,4,105,108,109,114,10668,10674,10678,10684,114,115,112,59,1,8202,102,59,1,189,105,108,116,59,1,8459,4,2,100,114,10690,10695,99,121,59,1,1098,4,3,59,99,119,10703,10705,10710,1,8596,105,114,59,1,10568,59,1,8621,97,114,59,1,8463,105,114,99,59,1,293,4,3,97,108,114,10732,10748,10754,114,116,115,4,2,59,117,10741,10743,1,9829,105,116,59,1,9829,108,105,112,59,1,8230,99,111,110,59,1,8889,114,59,3,55349,56613,115,4,2,101,119,10772,10779,97,114,111,119,59,1,10533,97,114,111,119,59,1,10534,4,5,97,109,111,112,114,10798,10803,10809,10839,10844,114,114,59,1,8703,116,104,116,59,1,8763,107,4,2,108,114,10816,10827,101,102,116,97,114,114,111,119,59,1,8617,105,103,104,116,97,114,114,111,119,59,1,8618,102,59,3,55349,56665,98,97,114,59,1,8213,4,3,99,108,116,10858,10863,10869,114,59,3,55349,56509,97,115,104,59,1,8463,114,111,107,59,1,295,4,2,98,112,10881,10887,117,108,108,59,1,8259,104,101,110,59,1,8208,4,15,97,99,101,102,103,105,106,109,110,111,112,113,115,116,117,10925,10936,10958,10977,10990,11001,11039,11045,11101,11192,11220,11226,11237,11285,11299,99,117,116,101,5,237,1,59,10934,1,237,4,3,59,105,121,10944,10946,10955,1,8291,114,99,5,238,1,59,10953,1,238,59,1,1080,4,2,99,120,10964,10968,121,59,1,1077,99,108,5,161,1,59,10975,1,161,4,2,102,114,10983,10986,59,1,8660,59,3,55349,56614,114,97,118,101,5,236,1,59,10999,1,236,4,4,59,105,110,111,11011,11013,11028,11034,1,8520,4,2,105,110,11019,11024,110,116,59,1,10764,116,59,1,8749,102,105,110,59,1,10716,116,97,59,1,8489,108,105,103,59,1,307,4,3,97,111,112,11053,11092,11096,4,3,99,103,116,11061,11065,11088,114,59,1,299,4,3,101,108,112,11073,11076,11082,59,1,8465,105,110,101,59,1,8464,97,114,116,59,1,8465,104,59,1,305,102,59,1,8887,101,100,59,1,437,4,5,59,99,102,111,116,11113,11115,11121,11136,11142,1,8712,97,114,101,59,1,8453,105,110,4,2,59,116,11129,11131,1,8734,105,101,59,1,10717,100,111,116,59,1,305,4,5,59,99,101,108,112,11154,11156,11161,11179,11186,1,8747,97,108,59,1,8890,4,2,103,114,11167,11173,101,114,115,59,1,8484,99,97,108,59,1,8890,97,114,104,107,59,1,10775,114,111,100,59,1,10812,4,4,99,103,112,116,11202,11206,11211,11216,121,59,1,1105,111,110,59,1,303,102,59,3,55349,56666,97,59,1,953,114,111,100,59,1,10812,117,101,115,116,5,191,1,59,11235,1,191,4,2,99,105,11243,11248,114,59,3,55349,56510,110,4,5,59,69,100,115,118,11261,11263,11266,11271,11282,1,8712,59,1,8953,111,116,59,1,8949,4,2,59,118,11277,11279,1,8948,59,1,8947,59,1,8712,4,2,59,105,11291,11293,1,8290,108,100,101,59,1,297,4,2,107,109,11305,11310,99,121,59,1,1110,108,5,239,1,59,11316,1,239,4,6,99,102,109,111,115,117,11332,11346,11351,11357,11363,11380,4,2,105,121,11338,11343,114,99,59,1,309,59,1,1081,114,59,3,55349,56615,97,116,104,59,1,567,112,102,59,3,55349,56667,4,2,99,101,11369,11374,114,59,3,55349,56511,114,99,121,59,1,1112,107,99,121,59,1,1108,4,8,97,99,102,103,104,106,111,115,11404,11418,11433,11438,11445,11450,11455,11461,112,112,97,4,2,59,118,11413,11415,1,954,59,1,1008,4,2,101,121,11424,11430,100,105,108,59,1,311,59,1,1082,114,59,3,55349,56616,114,101,101,110,59,1,312,99,121,59,1,1093,99,121,59,1,1116,112,102,59,3,55349,56668,99,114,59,3,55349,56512,4,23,65,66,69,72,97,98,99,100,101,102,103,104,106,108,109,110,111,112,114,115,116,117,118,11515,11538,11544,11555,11560,11721,11780,11818,11868,12136,12160,12171,12203,12208,12246,12275,12327,12509,12523,12569,12641,12732,12752,4,3,97,114,116,11523,11528,11532,114,114,59,1,8666,114,59,1,8656,97,105,108,59,1,10523,97,114,114,59,1,10510,4,2,59,103,11550,11552,1,8806,59,1,10891,97,114,59,1,10594,4,9,99,101,103,109,110,112,113,114,116,11580,11586,11594,11600,11606,11624,11627,11636,11694,117,116,101,59,1,314,109,112,116,121,118,59,1,10676,114,97,110,59,1,8466,98,100,97,59,1,955,103,4,3,59,100,108,11615,11617,11620,1,10216,59,1,10641,101,59,1,10216,59,1,10885,117,111,5,171,1,59,11634,1,171,114,4,8,59,98,102,104,108,112,115,116,11655,11657,11669,11673,11677,11681,11685,11690,1,8592,4,2,59,102,11663,11665,1,8676,115,59,1,10527,115,59,1,10525,107,59,1,8617,112,59,1,8619,108,59,1,10553,105,109,59,1,10611,108,59,1,8610,4,3,59,97,101,11702,11704,11709,1,10923,105,108,59,1,10521,4,2,59,115,11715,11717,1,10925,59,3,10925,65024,4,3,97,98,114,11729,11734,11739,114,114,59,1,10508,114,107,59,1,10098,4,2,97,107,11745,11758,99,4,2,101,107,11752,11755,59,1,123,59,1,91,4,2,101,115,11764,11767,59,1,10635,108,4,2,100,117,11774,11777,59,1,10639,59,1,10637,4,4,97,101,117,121,11790,11796,11811,11815,114,111,110,59,1,318,4,2,100,105,11802,11807,105,108,59,1,316,108,59,1,8968,98,59,1,123,59,1,1083,4,4,99,113,114,115,11828,11832,11845,11864,97,59,1,10550,117,111,4,2,59,114,11840,11842,1,8220,59,1,8222,4,2,100,117,11851,11857,104,97,114,59,1,10599,115,104,97,114,59,1,10571,104,59,1,8626,4,5,59,102,103,113,115,11880,11882,12008,12011,12031,1,8804,116,4,5,97,104,108,114,116,11895,11913,11935,11947,11996,114,114,111,119,4,2,59,116,11905,11907,1,8592,97,105,108,59,1,8610,97,114,112,111,111,110,4,2,100,117,11925,11931,111,119,110,59,1,8637,112,59,1,8636,101,102,116,97,114,114,111,119,115,59,1,8647,105,103,104,116,4,3,97,104,115,11959,11974,11984,114,114,111,119,4,2,59,115,11969,11971,1,8596,59,1,8646,97,114,112,111,111,110,115,59,1,8651,113,117,105,103,97,114,114,111,119,59,1,8621,104,114,101,101,116,105,109,101,115,59,1,8907,59,1,8922,4,3,59,113,115,12019,12021,12024,1,8804,59,1,8806,108,97,110,116,59,1,10877,4,5,59,99,100,103,115,12043,12045,12049,12070,12083,1,10877,99,59,1,10920,111,116,4,2,59,111,12057,12059,1,10879,4,2,59,114,12065,12067,1,10881,59,1,10883,4,2,59,101,12076,12079,3,8922,65024,115,59,1,10899,4,5,97,100,101,103,115,12095,12103,12108,12126,12131,112,112,114,111,120,59,1,10885,111,116,59,1,8918,113,4,2,103,113,12115,12120,116,114,59,1,8922,103,116,114,59,1,10891,116,114,59,1,8822,105,109,59,1,8818,4,3,105,108,114,12144,12150,12156,115,104,116,59,1,10620,111,111,114,59,1,8970,59,3,55349,56617,4,2,59,69,12166,12168,1,8822,59,1,10897,4,2,97,98,12177,12198,114,4,2,100,117,12184,12187,59,1,8637,4,2,59,108,12193,12195,1,8636,59,1,10602,108,107,59,1,9604,99,121,59,1,1113,4,5,59,97,99,104,116,12220,12222,12227,12235,12241,1,8810,114,114,59,1,8647,111,114,110,101,114,59,1,8990,97,114,100,59,1,10603,114,105,59,1,9722,4,2,105,111,12252,12258,100,111,116,59,1,320,117,115,116,4,2,59,97,12267,12269,1,9136,99,104,101,59,1,9136,4,4,69,97,101,115,12285,12288,12303,12322,59,1,8808,112,4,2,59,112,12295,12297,1,10889,114,111,120,59,1,10889,4,2,59,113,12309,12311,1,10887,4,2,59,113,12317,12319,1,10887,59,1,8808,105,109,59,1,8934,4,8,97,98,110,111,112,116,119,122,12345,12359,12364,12421,12446,12467,12474,12490,4,2,110,114,12351,12355,103,59,1,10220,114,59,1,8701,114,107,59,1,10214,103,4,3,108,109,114,12373,12401,12409,101,102,116,4,2,97,114,12382,12389,114,114,111,119,59,1,10229,105,103,104,116,97,114,114,111,119,59,1,10231,97,112,115,116,111,59,1,10236,105,103,104,116,97,114,114,111,119,59,1,10230,112,97,114,114,111,119,4,2,108,114,12433,12439,101,102,116,59,1,8619,105,103,104,116,59,1,8620,4,3,97,102,108,12454,12458,12462,114,59,1,10629,59,3,55349,56669,117,115,59,1,10797,105,109,101,115,59,1,10804,4,2,97,98,12480,12485,115,116,59,1,8727,97,114,59,1,95,4,3,59,101,102,12498,12500,12506,1,9674,110,103,101,59,1,9674,59,1,10731,97,114,4,2,59,108,12517,12519,1,40,116,59,1,10643,4,5,97,99,104,109,116,12535,12540,12548,12561,12564,114,114,59,1,8646,111,114,110,101,114,59,1,8991,97,114,4,2,59,100,12556,12558,1,8651,59,1,10605,59,1,8206,114,105,59,1,8895,4,6,97,99,104,105,113,116,12583,12589,12594,12597,12614,12635,113,117,111,59,1,8249,114,59,3,55349,56513,59,1,8624,109,4,3,59,101,103,12606,12608,12611,1,8818,59,1,10893,59,1,10895,4,2,98,117,12620,12623,59,1,91,111,4,2,59,114,12630,12632,1,8216,59,1,8218,114,111,107,59,1,322,5,60,8,59,99,100,104,105,108,113,114,12660,12662,12675,12680,12686,12692,12698,12705,1,60,4,2,99,105,12668,12671,59,1,10918,114,59,1,10873,111,116,59,1,8918,114,101,101,59,1,8907,109,101,115,59,1,8905,97,114,114,59,1,10614,117,101,115,116,59,1,10875,4,2,80,105,12711,12716,97,114,59,1,10646,4,3,59,101,102,12724,12726,12729,1,9667,59,1,8884,59,1,9666,114,4,2,100,117,12739,12746,115,104,97,114,59,1,10570,104,97,114,59,1,10598,4,2,101,110,12758,12768,114,116,110,101,113,113,59,3,8808,65024,69,59,3,8808,65024,4,14,68,97,99,100,101,102,104,105,108,110,111,112,115,117,12803,12809,12893,12908,12914,12928,12933,12937,13011,13025,13032,13049,13052,13069,68,111,116,59,1,8762,4,4,99,108,112,114,12819,12827,12849,12887,114,5,175,1,59,12825,1,175,4,2,101,116,12833,12836,59,1,9794,4,2,59,101,12842,12844,1,10016,115,101,59,1,10016,4,2,59,115,12855,12857,1,8614,116,111,4,4,59,100,108,117,12869,12871,12877,12883,1,8614,111,119,110,59,1,8615,101,102,116,59,1,8612,112,59,1,8613,107,101,114,59,1,9646,4,2,111,121,12899,12905,109,109,97,59,1,10793,59,1,1084,97,115,104,59,1,8212,97,115,117,114,101,100,97,110,103,108,101,59,1,8737,114,59,3,55349,56618,111,59,1,8487,4,3,99,100,110,12945,12954,12985,114,111,5,181,1,59,12952,1,181,4,4,59,97,99,100,12964,12966,12971,12976,1,8739,115,116,59,1,42,105,114,59,1,10992,111,116,5,183,1,59,12983,1,183,117,115,4,3,59,98,100,12995,12997,13e3,1,8722,59,1,8863,4,2,59,117,13006,13008,1,8760,59,1,10794,4,2,99,100,13017,13021,112,59,1,10971,114,59,1,8230,112,108,117,115,59,1,8723,4,2,100,112,13038,13044,101,108,115,59,1,8871,102,59,3,55349,56670,59,1,8723,4,2,99,116,13058,13063,114,59,3,55349,56514,112,111,115,59,1,8766,4,3,59,108,109,13077,13079,13087,1,956,116,105,109,97,112,59,1,8888,97,112,59,1,8888,4,24,71,76,82,86,97,98,99,100,101,102,103,104,105,106,108,109,111,112,114,115,116,117,118,119,13142,13165,13217,13229,13247,13330,13359,13414,13420,13508,13513,13579,13602,13626,13631,13762,13767,13855,13936,13995,14214,14285,14312,14432,4,2,103,116,13148,13152,59,3,8921,824,4,2,59,118,13158,13161,3,8811,8402,59,3,8811,824,4,3,101,108,116,13173,13200,13204,102,116,4,2,97,114,13181,13188,114,114,111,119,59,1,8653,105,103,104,116,97,114,114,111,119,59,1,8654,59,3,8920,824,4,2,59,118,13210,13213,3,8810,8402,59,3,8810,824,105,103,104,116,97,114,114,111,119,59,1,8655,4,2,68,100,13235,13241,97,115,104,59,1,8879,97,115,104,59,1,8878,4,5,98,99,110,112,116,13259,13264,13270,13275,13308,108,97,59,1,8711,117,116,101,59,1,324,103,59,3,8736,8402,4,5,59,69,105,111,112,13287,13289,13293,13298,13302,1,8777,59,3,10864,824,100,59,3,8779,824,115,59,1,329,114,111,120,59,1,8777,117,114,4,2,59,97,13316,13318,1,9838,108,4,2,59,115,13325,13327,1,9838,59,1,8469,4,2,115,117,13336,13344,112,5,160,1,59,13342,1,160,109,112,4,2,59,101,13352,13355,3,8782,824,59,3,8783,824,4,5,97,101,111,117,121,13371,13385,13391,13407,13411,4,2,112,114,13377,13380,59,1,10819,111,110,59,1,328,100,105,108,59,1,326,110,103,4,2,59,100,13399,13401,1,8775,111,116,59,3,10861,824,112,59,1,10818,59,1,1085,97,115,104,59,1,8211,4,7,59,65,97,100,113,115,120,13436,13438,13443,13466,13472,13478,13494,1,8800,114,114,59,1,8663,114,4,2,104,114,13450,13454,107,59,1,10532,4,2,59,111,13460,13462,1,8599,119,59,1,8599,111,116,59,3,8784,824,117,105,118,59,1,8802,4,2,101,105,13484,13489,97,114,59,1,10536,109,59,3,8770,824,105,115,116,4,2,59,115,13503,13505,1,8708,59,1,8708,114,59,3,55349,56619,4,4,69,101,115,116,13523,13527,13563,13568,59,3,8807,824,4,3,59,113,115,13535,13537,13559,1,8817,4,3,59,113,115,13545,13547,13551,1,8817,59,3,8807,824,108,97,110,116,59,3,10878,824,59,3,10878,824,105,109,59,1,8821,4,2,59,114,13574,13576,1,8815,59,1,8815,4,3,65,97,112,13587,13592,13597,114,114,59,1,8654,114,114,59,1,8622,97,114,59,1,10994,4,3,59,115,118,13610,13612,13623,1,8715,4,2,59,100,13618,13620,1,8956,59,1,8954,59,1,8715,99,121,59,1,1114,4,7,65,69,97,100,101,115,116,13647,13652,13656,13661,13665,13737,13742,114,114,59,1,8653,59,3,8806,824,114,114,59,1,8602,114,59,1,8229,4,4,59,102,113,115,13675,13677,13703,13725,1,8816,116,4,2,97,114,13684,13691,114,114,111,119,59,1,8602,105,103,104,116,97,114,114,111,119,59,1,8622,4,3,59,113,115,13711,13713,13717,1,8816,59,3,8806,824,108,97,110,116,59,3,10877,824,4,2,59,115,13731,13734,3,10877,824,59,1,8814,105,109,59,1,8820,4,2,59,114,13748,13750,1,8814,105,4,2,59,101,13757,13759,1,8938,59,1,8940,105,100,59,1,8740,4,2,112,116,13773,13778,102,59,3,55349,56671,5,172,3,59,105,110,13787,13789,13829,1,172,110,4,4,59,69,100,118,13800,13802,13806,13812,1,8713,59,3,8953,824,111,116,59,3,8949,824,4,3,97,98,99,13820,13823,13826,59,1,8713,59,1,8951,59,1,8950,105,4,2,59,118,13836,13838,1,8716,4,3,97,98,99,13846,13849,13852,59,1,8716,59,1,8958,59,1,8957,4,3,97,111,114,13863,13892,13899,114,4,4,59,97,115,116,13874,13876,13883,13888,1,8742,108,108,101,108,59,1,8742,108,59,3,11005,8421,59,3,8706,824,108,105,110,116,59,1,10772,4,3,59,99,101,13907,13909,13914,1,8832,117,101,59,1,8928,4,2,59,99,13920,13923,3,10927,824,4,2,59,101,13929,13931,1,8832,113,59,3,10927,824,4,4,65,97,105,116,13946,13951,13971,13982,114,114,59,1,8655,114,114,4,3,59,99,119,13961,13963,13967,1,8603,59,3,10547,824,59,3,8605,824,103,104,116,97,114,114,111,119,59,1,8603,114,105,4,2,59,101,13990,13992,1,8939,59,1,8941,4,7,99,104,105,109,112,113,117,14011,14036,14060,14080,14085,14090,14106,4,4,59,99,101,114,14021,14023,14028,14032,1,8833,117,101,59,1,8929,59,3,10928,824,59,3,55349,56515,111,114,116,4,2,109,112,14045,14050,105,100,59,1,8740,97,114,97,108,108,101,108,59,1,8742,109,4,2,59,101,14067,14069,1,8769,4,2,59,113,14075,14077,1,8772,59,1,8772,105,100,59,1,8740,97,114,59,1,8742,115,117,4,2,98,112,14098,14102,101,59,1,8930,101,59,1,8931,4,3,98,99,112,14114,14157,14171,4,4,59,69,101,115,14124,14126,14130,14133,1,8836,59,3,10949,824,59,1,8840,101,116,4,2,59,101,14141,14144,3,8834,8402,113,4,2,59,113,14151,14153,1,8840,59,3,10949,824,99,4,2,59,101,14164,14166,1,8833,113,59,3,10928,824,4,4,59,69,101,115,14181,14183,14187,14190,1,8837,59,3,10950,824,59,1,8841,101,116,4,2,59,101,14198,14201,3,8835,8402,113,4,2,59,113,14208,14210,1,8841,59,3,10950,824,4,4,103,105,108,114,14224,14228,14238,14242,108,59,1,8825,108,100,101,5,241,1,59,14236,1,241,103,59,1,8824,105,97,110,103,108,101,4,2,108,114,14254,14269,101,102,116,4,2,59,101,14263,14265,1,8938,113,59,1,8940,105,103,104,116,4,2,59,101,14279,14281,1,8939,113,59,1,8941,4,2,59,109,14291,14293,1,957,4,3,59,101,115,14301,14303,14308,1,35,114,111,59,1,8470,112,59,1,8199,4,9,68,72,97,100,103,105,108,114,115,14332,14338,14344,14349,14355,14369,14376,14408,14426,97,115,104,59,1,8877,97,114,114,59,1,10500,112,59,3,8781,8402,97,115,104,59,1,8876,4,2,101,116,14361,14365,59,3,8805,8402,59,3,62,8402,110,102,105,110,59,1,10718,4,3,65,101,116,14384,14389,14393,114,114,59,1,10498,59,3,8804,8402,4,2,59,114,14399,14402,3,60,8402,105,101,59,3,8884,8402,4,2,65,116,14414,14419,114,114,59,1,10499,114,105,101,59,3,8885,8402,105,109,59,3,8764,8402,4,3,65,97,110,14440,14445,14468,114,114,59,1,8662,114,4,2,104,114,14452,14456,107,59,1,10531,4,2,59,111,14462,14464,1,8598,119,59,1,8598,101,97,114,59,1,10535,4,18,83,97,99,100,101,102,103,104,105,108,109,111,112,114,115,116,117,118,14512,14515,14535,14560,14597,14603,14618,14643,14657,14662,14701,14741,14747,14769,14851,14877,14907,14916,59,1,9416,4,2,99,115,14521,14531,117,116,101,5,243,1,59,14529,1,243,116,59,1,8859,4,2,105,121,14541,14557,114,4,2,59,99,14548,14550,1,8858,5,244,1,59,14555,1,244,59,1,1086,4,5,97,98,105,111,115,14572,14577,14583,14587,14591,115,104,59,1,8861,108,97,99,59,1,337,118,59,1,10808,116,59,1,8857,111,108,100,59,1,10684,108,105,103,59,1,339,4,2,99,114,14609,14614,105,114,59,1,10687,59,3,55349,56620,4,3,111,114,116,14626,14630,14640,110,59,1,731,97,118,101,5,242,1,59,14638,1,242,59,1,10689,4,2,98,109,14649,14654,97,114,59,1,10677,59,1,937,110,116,59,1,8750,4,4,97,99,105,116,14672,14677,14693,14698,114,114,59,1,8634,4,2,105,114,14683,14687,114,59,1,10686,111,115,115,59,1,10683,110,101,59,1,8254,59,1,10688,4,3,97,101,105,14709,14714,14719,99,114,59,1,333,103,97,59,1,969,4,3,99,100,110,14727,14733,14736,114,111,110,59,1,959,59,1,10678,117,115,59,1,8854,112,102,59,3,55349,56672,4,3,97,101,108,14755,14759,14764,114,59,1,10679,114,112,59,1,10681,117,115,59,1,8853,4,7,59,97,100,105,111,115,118,14785,14787,14792,14831,14837,14841,14848,1,8744,114,114,59,1,8635,4,4,59,101,102,109,14802,14804,14817,14824,1,10845,114,4,2,59,111,14811,14813,1,8500,102,59,1,8500,5,170,1,59,14822,1,170,5,186,1,59,14829,1,186,103,111,102,59,1,8886,114,59,1,10838,108,111,112,101,59,1,10839,59,1,10843,4,3,99,108,111,14859,14863,14873,114,59,1,8500,97,115,104,5,248,1,59,14871,1,248,108,59,1,8856,105,4,2,108,109,14884,14893,100,101,5,245,1,59,14891,1,245,101,115,4,2,59,97,14901,14903,1,8855,115,59,1,10806,109,108,5,246,1,59,14914,1,246,98,97,114,59,1,9021,4,12,97,99,101,102,104,105,108,109,111,114,115,117,14948,14992,14996,15033,15038,15068,15090,15189,15192,15222,15427,15441,114,4,4,59,97,115,116,14959,14961,14976,14989,1,8741,5,182,2,59,108,14968,14970,1,182,108,101,108,59,1,8741,4,2,105,108,14982,14986,109,59,1,10995,59,1,11005,59,1,8706,121,59,1,1087,114,4,5,99,105,109,112,116,15009,15014,15019,15024,15027,110,116,59,1,37,111,100,59,1,46,105,108,59,1,8240,59,1,8869,101,110,107,59,1,8241,114,59,3,55349,56621,4,3,105,109,111,15046,15057,15063,4,2,59,118,15052,15054,1,966,59,1,981,109,97,116,59,1,8499,110,101,59,1,9742,4,3,59,116,118,15076,15078,15087,1,960,99,104,102,111,114,107,59,1,8916,59,1,982,4,2,97,117,15096,15119,110,4,2,99,107,15103,15115,107,4,2,59,104,15110,15112,1,8463,59,1,8462,118,59,1,8463,115,4,9,59,97,98,99,100,101,109,115,116,15140,15142,15148,15151,15156,15168,15171,15179,15184,1,43,99,105,114,59,1,10787,59,1,8862,105,114,59,1,10786,4,2,111,117,15162,15165,59,1,8724,59,1,10789,59,1,10866,110,5,177,1,59,15177,1,177,105,109,59,1,10790,119,111,59,1,10791,59,1,177,4,3,105,112,117,15200,15208,15213,110,116,105,110,116,59,1,10773,102,59,3,55349,56673,110,100,5,163,1,59,15220,1,163,4,10,59,69,97,99,101,105,110,111,115,117,15244,15246,15249,15253,15258,15334,15347,15367,15416,15421,1,8826,59,1,10931,112,59,1,10935,117,101,59,1,8828,4,2,59,99,15264,15266,1,10927,4,6,59,97,99,101,110,115,15280,15282,15290,15299,15303,15329,1,8826,112,112,114,111,120,59,1,10935,117,114,108,121,101,113,59,1,8828,113,59,1,10927,4,3,97,101,115,15311,15319,15324,112,112,114,111,120,59,1,10937,113,113,59,1,10933,105,109,59,1,8936,105,109,59,1,8830,109,101,4,2,59,115,15342,15344,1,8242,59,1,8473,4,3,69,97,115,15355,15358,15362,59,1,10933,112,59,1,10937,105,109,59,1,8936,4,3,100,102,112,15375,15378,15404,59,1,8719,4,3,97,108,115,15386,15392,15398,108,97,114,59,1,9006,105,110,101,59,1,8978,117,114,102,59,1,8979,4,2,59,116,15410,15412,1,8733,111,59,1,8733,105,109,59,1,8830,114,101,108,59,1,8880,4,2,99,105,15433,15438,114,59,3,55349,56517,59,1,968,110,99,115,112,59,1,8200,4,6,102,105,111,112,115,117,15462,15467,15472,15478,15485,15491,114,59,3,55349,56622,110,116,59,1,10764,112,102,59,3,55349,56674,114,105,109,101,59,1,8279,99,114,59,3,55349,56518,4,3,97,101,111,15499,15520,15534,116,4,2,101,105,15506,15515,114,110,105,111,110,115,59,1,8461,110,116,59,1,10774,115,116,4,2,59,101,15528,15530,1,63,113,59,1,8799,116,5,34,1,59,15540,1,34,4,21,65,66,72,97,98,99,100,101,102,104,105,108,109,110,111,112,114,115,116,117,120,15586,15609,15615,15620,15796,15855,15893,15931,15977,16001,16039,16183,16204,16222,16228,16285,16312,16318,16363,16408,16416,4,3,97,114,116,15594,15599,15603,114,114,59,1,8667,114,59,1,8658,97,105,108,59,1,10524,97,114,114,59,1,10511,97,114,59,1,10596,4,7,99,100,101,110,113,114,116,15636,15651,15656,15664,15687,15696,15770,4,2,101,117,15642,15646,59,3,8765,817,116,101,59,1,341,105,99,59,1,8730,109,112,116,121,118,59,1,10675,103,4,4,59,100,101,108,15675,15677,15680,15683,1,10217,59,1,10642,59,1,10661,101,59,1,10217,117,111,5,187,1,59,15694,1,187,114,4,11,59,97,98,99,102,104,108,112,115,116,119,15721,15723,15727,15739,15742,15746,15750,15754,15758,15763,15767,1,8594,112,59,1,10613,4,2,59,102,15733,15735,1,8677,115,59,1,10528,59,1,10547,115,59,1,10526,107,59,1,8618,112,59,1,8620,108,59,1,10565,105,109,59,1,10612,108,59,1,8611,59,1,8605,4,2,97,105,15776,15781,105,108,59,1,10522,111,4,2,59,110,15788,15790,1,8758,97,108,115,59,1,8474,4,3,97,98,114,15804,15809,15814,114,114,59,1,10509,114,107,59,1,10099,4,2,97,107,15820,15833,99,4,2,101,107,15827,15830,59,1,125,59,1,93,4,2,101,115,15839,15842,59,1,10636,108,4,2,100,117,15849,15852,59,1,10638,59,1,10640,4,4,97,101,117,121,15865,15871,15886,15890,114,111,110,59,1,345,4,2,100,105,15877,15882,105,108,59,1,343,108,59,1,8969,98,59,1,125,59,1,1088,4,4,99,108,113,115,15903,15907,15914,15927,97,59,1,10551,100,104,97,114,59,1,10601,117,111,4,2,59,114,15922,15924,1,8221,59,1,8221,104,59,1,8627,4,3,97,99,103,15939,15966,15970,108,4,4,59,105,112,115,15950,15952,15957,15963,1,8476,110,101,59,1,8475,97,114,116,59,1,8476,59,1,8477,116,59,1,9645,5,174,1,59,15975,1,174,4,3,105,108,114,15985,15991,15997,115,104,116,59,1,10621,111,111,114,59,1,8971,59,3,55349,56623,4,2,97,111,16007,16028,114,4,2,100,117,16014,16017,59,1,8641,4,2,59,108,16023,16025,1,8640,59,1,10604,4,2,59,118,16034,16036,1,961,59,1,1009,4,3,103,110,115,16047,16167,16171,104,116,4,6,97,104,108,114,115,116,16063,16081,16103,16130,16143,16155,114,114,111,119,4,2,59,116,16073,16075,1,8594,97,105,108,59,1,8611,97,114,112,111,111,110,4,2,100,117,16093,16099,111,119,110,59,1,8641,112,59,1,8640,101,102,116,4,2,97,104,16112,16120,114,114,111,119,115,59,1,8644,97,114,112,111,111,110,115,59,1,8652,105,103,104,116,97,114,114,111,119,115,59,1,8649,113,117,105,103,97,114,114,111,119,59,1,8605,104,114,101,101,116,105,109,101,115,59,1,8908,103,59,1,730,105,110,103,100,111,116,115,101,113,59,1,8787,4,3,97,104,109,16191,16196,16201,114,114,59,1,8644,97,114,59,1,8652,59,1,8207,111,117,115,116,4,2,59,97,16214,16216,1,9137,99,104,101,59,1,9137,109,105,100,59,1,10990,4,4,97,98,112,116,16238,16252,16257,16278,4,2,110,114,16244,16248,103,59,1,10221,114,59,1,8702,114,107,59,1,10215,4,3,97,102,108,16265,16269,16273,114,59,1,10630,59,3,55349,56675,117,115,59,1,10798,105,109,101,115,59,1,10805,4,2,97,112,16291,16304,114,4,2,59,103,16298,16300,1,41,116,59,1,10644,111,108,105,110,116,59,1,10770,97,114,114,59,1,8649,4,4,97,99,104,113,16328,16334,16339,16342,113,117,111,59,1,8250,114,59,3,55349,56519,59,1,8625,4,2,98,117,16348,16351,59,1,93,111,4,2,59,114,16358,16360,1,8217,59,1,8217,4,3,104,105,114,16371,16377,16383,114,101,101,59,1,8908,109,101,115,59,1,8906,105,4,4,59,101,102,108,16394,16396,16399,16402,1,9657,59,1,8885,59,1,9656,116,114,105,59,1,10702,108,117,104,97,114,59,1,10600,59,1,8478,4,19,97,98,99,100,101,102,104,105,108,109,111,112,113,114,115,116,117,119,122,16459,16466,16472,16572,16590,16672,16687,16746,16844,16850,16924,16963,16988,17115,17121,17154,17206,17614,17656,99,117,116,101,59,1,347,113,117,111,59,1,8218,4,10,59,69,97,99,101,105,110,112,115,121,16494,16496,16499,16513,16518,16531,16536,16556,16564,16569,1,8827,59,1,10932,4,2,112,114,16505,16508,59,1,10936,111,110,59,1,353,117,101,59,1,8829,4,2,59,100,16524,16526,1,10928,105,108,59,1,351,114,99,59,1,349,4,3,69,97,115,16544,16547,16551,59,1,10934,112,59,1,10938,105,109,59,1,8937,111,108,105,110,116,59,1,10771,105,109,59,1,8831,59,1,1089,111,116,4,3,59,98,101,16582,16584,16587,1,8901,59,1,8865,59,1,10854,4,7,65,97,99,109,115,116,120,16606,16611,16634,16642,16646,16652,16668,114,114,59,1,8664,114,4,2,104,114,16618,16622,107,59,1,10533,4,2,59,111,16628,16630,1,8600,119,59,1,8600,116,5,167,1,59,16640,1,167,105,59,1,59,119,97,114,59,1,10537,109,4,2,105,110,16659,16665,110,117,115,59,1,8726,59,1,8726,116,59,1,10038,114,4,2,59,111,16679,16682,3,55349,56624,119,110,59,1,8994,4,4,97,99,111,121,16697,16702,16716,16739,114,112,59,1,9839,4,2,104,121,16708,16713,99,121,59,1,1097,59,1,1096,114,116,4,2,109,112,16724,16729,105,100,59,1,8739,97,114,97,108,108,101,108,59,1,8741,5,173,1,59,16744,1,173,4,2,103,109,16752,16770,109,97,4,3,59,102,118,16762,16764,16767,1,963,59,1,962,59,1,962,4,8,59,100,101,103,108,110,112,114,16788,16790,16795,16806,16817,16828,16832,16838,1,8764,111,116,59,1,10858,4,2,59,113,16801,16803,1,8771,59,1,8771,4,2,59,69,16812,16814,1,10910,59,1,10912,4,2,59,69,16823,16825,1,10909,59,1,10911,101,59,1,8774,108,117,115,59,1,10788,97,114,114,59,1,10610,97,114,114,59,1,8592,4,4,97,101,105,116,16860,16883,16891,16904,4,2,108,115,16866,16878,108,115,101,116,109,105,110,117,115,59,1,8726,104,112,59,1,10803,112,97,114,115,108,59,1,10724,4,2,100,108,16897,16900,59,1,8739,101,59,1,8995,4,2,59,101,16910,16912,1,10922,4,2,59,115,16918,16920,1,10924,59,3,10924,65024,4,3,102,108,112,16932,16938,16958,116,99,121,59,1,1100,4,2,59,98,16944,16946,1,47,4,2,59,97,16952,16954,1,10692,114,59,1,9023,102,59,3,55349,56676,97,4,2,100,114,16970,16985,101,115,4,2,59,117,16978,16980,1,9824,105,116,59,1,9824,59,1,8741,4,3,99,115,117,16996,17028,17089,4,2,97,117,17002,17015,112,4,2,59,115,17009,17011,1,8851,59,3,8851,65024,112,4,2,59,115,17022,17024,1,8852,59,3,8852,65024,117,4,2,98,112,17035,17062,4,3,59,101,115,17043,17045,17048,1,8847,59,1,8849,101,116,4,2,59,101,17056,17058,1,8847,113,59,1,8849,4,3,59,101,115,17070,17072,17075,1,8848,59,1,8850,101,116,4,2,59,101,17083,17085,1,8848,113,59,1,8850,4,3,59,97,102,17097,17099,17112,1,9633,114,4,2,101,102,17106,17109,59,1,9633,59,1,9642,59,1,9642,97,114,114,59,1,8594,4,4,99,101,109,116,17131,17136,17142,17148,114,59,3,55349,56520,116,109,110,59,1,8726,105,108,101,59,1,8995,97,114,102,59,1,8902,4,2,97,114,17160,17172,114,4,2,59,102,17167,17169,1,9734,59,1,9733,4,2,97,110,17178,17202,105,103,104,116,4,2,101,112,17188,17197,112,115,105,108,111,110,59,1,1013,104,105,59,1,981,115,59,1,175,4,5,98,99,109,110,112,17218,17351,17420,17423,17427,4,9,59,69,100,101,109,110,112,114,115,17238,17240,17243,17248,17261,17267,17279,17285,17291,1,8834,59,1,10949,111,116,59,1,10941,4,2,59,100,17254,17256,1,8838,111,116,59,1,10947,117,108,116,59,1,10945,4,2,69,101,17273,17276,59,1,10955,59,1,8842,108,117,115,59,1,10943,97,114,114,59,1,10617,4,3,101,105,117,17299,17335,17339,116,4,3,59,101,110,17308,17310,17322,1,8834,113,4,2,59,113,17317,17319,1,8838,59,1,10949,101,113,4,2,59,113,17330,17332,1,8842,59,1,10955,109,59,1,10951,4,2,98,112,17345,17348,59,1,10965,59,1,10963,99,4,6,59,97,99,101,110,115,17366,17368,17376,17385,17389,17415,1,8827,112,112,114,111,120,59,1,10936,117,114,108,121,101,113,59,1,8829,113,59,1,10928,4,3,97,101,115,17397,17405,17410,112,112,114,111,120,59,1,10938,113,113,59,1,10934,105,109,59,1,8937,105,109,59,1,8831,59,1,8721,103,59,1,9834,4,13,49,50,51,59,69,100,101,104,108,109,110,112,115,17455,17462,17469,17476,17478,17481,17496,17509,17524,17530,17536,17548,17554,5,185,1,59,17460,1,185,5,178,1,59,17467,1,178,5,179,1,59,17474,1,179,1,8835,59,1,10950,4,2,111,115,17487,17491,116,59,1,10942,117,98,59,1,10968,4,2,59,100,17502,17504,1,8839,111,116,59,1,10948,115,4,2,111,117,17516,17520,108,59,1,10185,98,59,1,10967,97,114,114,59,1,10619,117,108,116,59,1,10946,4,2,69,101,17542,17545,59,1,10956,59,1,8843,108,117,115,59,1,10944,4,3,101,105,117,17562,17598,17602,116,4,3,59,101,110,17571,17573,17585,1,8835,113,4,2,59,113,17580,17582,1,8839,59,1,10950,101,113,4,2,59,113,17593,17595,1,8843,59,1,10956,109,59,1,10952,4,2,98,112,17608,17611,59,1,10964,59,1,10966,4,3,65,97,110,17622,17627,17650,114,114,59,1,8665,114,4,2,104,114,17634,17638,107,59,1,10534,4,2,59,111,17644,17646,1,8601,119,59,1,8601,119,97,114,59,1,10538,108,105,103,5,223,1,59,17664,1,223,4,13,97,98,99,100,101,102,104,105,111,112,114,115,119,17694,17709,17714,17737,17742,17749,17754,17860,17905,17957,17964,18090,18122,4,2,114,117,17700,17706,103,101,116,59,1,8982,59,1,964,114,107,59,1,9140,4,3,97,101,121,17722,17728,17734,114,111,110,59,1,357,100,105,108,59,1,355,59,1,1090,111,116,59,1,8411,108,114,101,99,59,1,8981,114,59,3,55349,56625,4,4,101,105,107,111,17764,17805,17836,17851,4,2,114,116,17770,17786,101,4,2,52,102,17777,17780,59,1,8756,111,114,101,59,1,8756,97,4,3,59,115,118,17795,17797,17802,1,952,121,109,59,1,977,59,1,977,4,2,99,110,17811,17831,107,4,2,97,115,17818,17826,112,112,114,111,120,59,1,8776,105,109,59,1,8764,115,112,59,1,8201,4,2,97,115,17842,17846,112,59,1,8776,105,109,59,1,8764,114,110,5,254,1,59,17858,1,254,4,3,108,109,110,17868,17873,17901,100,101,59,1,732,101,115,5,215,3,59,98,100,17884,17886,17898,1,215,4,2,59,97,17892,17894,1,8864,114,59,1,10801,59,1,10800,116,59,1,8749,4,3,101,112,115,17913,17917,17953,97,59,1,10536,4,4,59,98,99,102,17927,17929,17934,17939,1,8868,111,116,59,1,9014,105,114,59,1,10993,4,2,59,111,17945,17948,3,55349,56677,114,107,59,1,10970,97,59,1,10537,114,105,109,101,59,1,8244,4,3,97,105,112,17972,17977,18082,100,101,59,1,8482,4,7,97,100,101,109,112,115,116,17993,18051,18056,18059,18066,18072,18076,110,103,108,101,4,5,59,100,108,113,114,18009,18011,18017,18032,18035,1,9653,111,119,110,59,1,9663,101,102,116,4,2,59,101,18026,18028,1,9667,113,59,1,8884,59,1,8796,105,103,104,116,4,2,59,101,18045,18047,1,9657,113,59,1,8885,111,116,59,1,9708,59,1,8796,105,110,117,115,59,1,10810,108,117,115,59,1,10809,98,59,1,10701,105,109,101,59,1,10811,101,122,105,117,109,59,1,9186,4,3,99,104,116,18098,18111,18116,4,2,114,121,18104,18108,59,3,55349,56521,59,1,1094,99,121,59,1,1115,114,111,107,59,1,359,4,2,105,111,18128,18133,120,116,59,1,8812,104,101,97,100,4,2,108,114,18143,18154,101,102,116,97,114,114,111,119,59,1,8606,105,103,104,116,97,114,114,111,119,59,1,8608,4,18,65,72,97,98,99,100,102,103,104,108,109,111,112,114,115,116,117,119,18204,18209,18214,18234,18250,18268,18292,18308,18319,18343,18379,18397,18413,18504,18547,18553,18584,18603,114,114,59,1,8657,97,114,59,1,10595,4,2,99,114,18220,18230,117,116,101,5,250,1,59,18228,1,250,114,59,1,8593,114,4,2,99,101,18241,18245,121,59,1,1118,118,101,59,1,365,4,2,105,121,18256,18265,114,99,5,251,1,59,18263,1,251,59,1,1091,4,3,97,98,104,18276,18281,18287,114,114,59,1,8645,108,97,99,59,1,369,97,114,59,1,10606,4,2,105,114,18298,18304,115,104,116,59,1,10622,59,3,55349,56626,114,97,118,101,5,249,1,59,18317,1,249,4,2,97,98,18325,18338,114,4,2,108,114,18332,18335,59,1,8639,59,1,8638,108,107,59,1,9600,4,2,99,116,18349,18374,4,2,111,114,18355,18369,114,110,4,2,59,101,18363,18365,1,8988,114,59,1,8988,111,112,59,1,8975,114,105,59,1,9720,4,2,97,108,18385,18390,99,114,59,1,363,5,168,1,59,18395,1,168,4,2,103,112,18403,18408,111,110,59,1,371,102,59,3,55349,56678,4,6,97,100,104,108,115,117,18427,18434,18445,18470,18475,18494,114,114,111,119,59,1,8593,111,119,110,97,114,114,111,119,59,1,8597,97,114,112,111,111,110,4,2,108,114,18457,18463,101,102,116,59,1,8639,105,103,104,116,59,1,8638,117,115,59,1,8846,105,4,3,59,104,108,18484,18486,18489,1,965,59,1,978,111,110,59,1,965,112,97,114,114,111,119,115,59,1,8648,4,3,99,105,116,18512,18537,18542,4,2,111,114,18518,18532,114,110,4,2,59,101,18526,18528,1,8989,114,59,1,8989,111,112,59,1,8974,110,103,59,1,367,114,105,59,1,9721,99,114,59,3,55349,56522,4,3,100,105,114,18561,18566,18572,111,116,59,1,8944,108,100,101,59,1,361,105,4,2,59,102,18579,18581,1,9653,59,1,9652,4,2,97,109,18590,18595,114,114,59,1,8648,108,5,252,1,59,18601,1,252,97,110,103,108,101,59,1,10663,4,15,65,66,68,97,99,100,101,102,108,110,111,112,114,115,122,18643,18648,18661,18667,18847,18851,18857,18904,18909,18915,18931,18937,18943,18949,18996,114,114,59,1,8661,97,114,4,2,59,118,18656,18658,1,10984,59,1,10985,97,115,104,59,1,8872,4,2,110,114,18673,18679,103,114,116,59,1,10652,4,7,101,107,110,112,114,115,116,18695,18704,18711,18720,18742,18754,18810,112,115,105,108,111,110,59,1,1013,97,112,112,97,59,1,1008,111,116,104,105,110,103,59,1,8709,4,3,104,105,114,18728,18732,18735,105,59,1,981,59,1,982,111,112,116,111,59,1,8733,4,2,59,104,18748,18750,1,8597,111,59,1,1009,4,2,105,117,18760,18766,103,109,97,59,1,962,4,2,98,112,18772,18791,115,101,116,110,101,113,4,2,59,113,18784,18787,3,8842,65024,59,3,10955,65024,115,101,116,110,101,113,4,2,59,113,18803,18806,3,8843,65024,59,3,10956,65024,4,2,104,114,18816,18822,101,116,97,59,1,977,105,97,110,103,108,101,4,2,108,114,18834,18840,101,102,116,59,1,8882,105,103,104,116,59,1,8883,121,59,1,1074,97,115,104,59,1,8866,4,3,101,108,114,18865,18884,18890,4,3,59,98,101,18873,18875,18880,1,8744,97,114,59,1,8891,113,59,1,8794,108,105,112,59,1,8942,4,2,98,116,18896,18901,97,114,59,1,124,59,1,124,114,59,3,55349,56627,116,114,105,59,1,8882,115,117,4,2,98,112,18923,18927,59,3,8834,8402,59,3,8835,8402,112,102,59,3,55349,56679,114,111,112,59,1,8733,116,114,105,59,1,8883,4,2,99,117,18955,18960,114,59,3,55349,56523,4,2,98,112,18966,18981,110,4,2,69,101,18973,18977,59,3,10955,65024,59,3,8842,65024,110,4,2,69,101,18988,18992,59,3,10956,65024,59,3,8843,65024,105,103,122,97,103,59,1,10650,4,7,99,101,102,111,112,114,115,19020,19026,19061,19066,19072,19075,19089,105,114,99,59,1,373,4,2,100,105,19032,19055,4,2,98,103,19038,19043,97,114,59,1,10847,101,4,2,59,113,19050,19052,1,8743,59,1,8793,101,114,112,59,1,8472,114,59,3,55349,56628,112,102,59,3,55349,56680,59,1,8472,4,2,59,101,19081,19083,1,8768,97,116,104,59,1,8768,99,114,59,3,55349,56524,4,14,99,100,102,104,105,108,109,110,111,114,115,117,118,119,19125,19146,19152,19157,19173,19176,19192,19197,19202,19236,19252,19269,19286,19291,4,3,97,105,117,19133,19137,19142,112,59,1,8898,114,99,59,1,9711,112,59,1,8899,116,114,105,59,1,9661,114,59,3,55349,56629,4,2,65,97,19163,19168,114,114,59,1,10234,114,114,59,1,10231,59,1,958,4,2,65,97,19182,19187,114,114,59,1,10232,114,114,59,1,10229,97,112,59,1,10236,105,115,59,1,8955,4,3,100,112,116,19210,19215,19230,111,116,59,1,10752,4,2,102,108,19221,19225,59,3,55349,56681,117,115,59,1,10753,105,109,101,59,1,10754,4,2,65,97,19242,19247,114,114,59,1,10233,114,114,59,1,10230,4,2,99,113,19258,19263,114,59,3,55349,56525,99,117,112,59,1,10758,4,2,112,116,19275,19281,108,117,115,59,1,10756,114,105,59,1,9651,101,101,59,1,8897,101,100,103,101,59,1,8896,4,8,97,99,101,102,105,111,115,117,19316,19335,19349,19357,19362,19367,19373,19379,99,4,2,117,121,19323,19332,116,101,5,253,1,59,19330,1,253,59,1,1103,4,2,105,121,19341,19346,114,99,59,1,375,59,1,1099,110,5,165,1,59,19355,1,165,114,59,3,55349,56630,99,121,59,1,1111,112,102,59,3,55349,56682,99,114,59,3,55349,56526,4,2,99,109,19385,19389,121,59,1,1102,108,5,255,1,59,19395,1,255,4,10,97,99,100,101,102,104,105,111,115,119,19419,19426,19441,19446,19462,19467,19472,19480,19486,19492,99,117,116,101,59,1,378,4,2,97,121,19432,19438,114,111,110,59,1,382,59,1,1079,111,116,59,1,380,4,2,101,116,19452,19458,116,114,102,59,1,8488,97,59,1,950,114,59,3,55349,56631,99,121,59,1,1078,103,114,97,114,114,59,1,8669,112,102,59,3,55349,56683,99,114,59,3,55349,56527,4,2,106,110,19498,19501,59,1,8205,106,59,1,8204])},7118:(x,g,M)=>{"use strict";const h=M(4284),y=M(1734),m=h.CODE_POINTS;x.exports=class{constructor(){this.html=null,this.pos=-1,this.lastGapPos=-1,this.lastCharPos=-1,this.gapStack=[],this.skipNextNewLine=!1,this.lastChunkWritten=!1,this.endOfChunkHit=!1,this.bufferWaterline=65536}_err(){}_addGap(){this.gapStack.push(this.lastGapPos),this.lastGapPos=this.pos}_processSurrogate(b){if(this.pos!==this.lastCharPos){const T=this.html.charCodeAt(this.pos+1);if(h.isSurrogatePair(T))return this.pos++,this._addGap(),h.getSurrogatePairCodePoint(b,T)}else if(!this.lastChunkWritten)return this.endOfChunkHit=!0,m.EOF;return this._err(y.surrogateInInputStream),b}dropParsedChunk(){this.pos>this.bufferWaterline&&(this.lastCharPos-=this.pos,this.html=this.html.substring(this.pos),this.pos=0,this.lastGapPos=-1,this.gapStack=[])}write(b,T){this.html?this.html+=b:this.html=b,this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1,this.lastChunkWritten=T}insertHtmlAtCurrentPos(b){this.html=this.html.substring(0,this.pos+1)+b+this.html.substring(this.pos+1,this.html.length),this.lastCharPos=this.html.length-1,this.endOfChunkHit=!1}advance(){if(this.pos++,this.pos>this.lastCharPos)return this.endOfChunkHit=!this.lastChunkWritten,m.EOF;let b=this.html.charCodeAt(this.pos);return this.skipNextNewLine&&b===m.LINE_FEED?(this.skipNextNewLine=!1,this._addGap(),this.advance()):b===m.CARRIAGE_RETURN?(this.skipNextNewLine=!0,m.LINE_FEED):(this.skipNextNewLine=!1,h.isSurrogate(b)&&(b=this._processSurrogate(b)),b>31&&b<127||b===m.LINE_FEED||b===m.CARRIAGE_RETURN||b>159&&b<64976||this._checkForProblematicCharacters(b),b)}_checkForProblematicCharacters(b){h.isControlCodePoint(b)?this._err(y.controlCharacterInInputStream):h.isUndefinedCodePoint(b)&&this._err(y.noncharacterInInputStream)}retreat(){this.pos===this.lastGapPos&&(this.lastGapPos=this.gapStack.pop(),this.pos--),this.pos--}}},7296:(x,g,M)=>{"use strict";const{DOCUMENT_MODE:h}=M(6152);g.createDocument=function(){return{nodeName:"#document",mode:h.NO_QUIRKS,childNodes:[]}},g.createDocumentFragment=function(){return{nodeName:"#document-fragment",childNodes:[]}},g.createElement=function(b,T,C){return{nodeName:b,tagName:b,attrs:C,namespaceURI:T,childNodes:[],parentNode:null}},g.createCommentNode=function(b){return{nodeName:"#comment",data:b,parentNode:null}};const y=function(b){return{nodeName:"#text",value:b,parentNode:null}},m=g.appendChild=function(b,T){b.childNodes.push(T),T.parentNode=b},_=g.insertBefore=function(b,T,C){const k=b.childNodes.indexOf(C);b.childNodes.splice(k,0,T),T.parentNode=b};g.setTemplateContent=function(b,T){b.content=T},g.getTemplateContent=function(b){return b.content},g.setDocumentType=function(b,T,C,k){let A=null;for(let I=0;I<b.childNodes.length;I++)if("#documentType"===b.childNodes[I].nodeName){A=b.childNodes[I];break}A?(A.name=T,A.publicId=C,A.systemId=k):m(b,{nodeName:"#documentType",name:T,publicId:C,systemId:k})},g.setDocumentMode=function(b,T){b.mode=T},g.getDocumentMode=function(b){return b.mode},g.detachNode=function(b){if(b.parentNode){const T=b.parentNode.childNodes.indexOf(b);b.parentNode.childNodes.splice(T,1),b.parentNode=null}},g.insertText=function(b,T){if(b.childNodes.length){const C=b.childNodes[b.childNodes.length-1];if("#text"===C.nodeName)return void(C.value+=T)}m(b,y(T))},g.insertTextBefore=function(b,T,C){const k=b.childNodes[b.childNodes.indexOf(C)-1];k&&"#text"===k.nodeName?k.value+=T:_(b,y(T),C)},g.adoptAttributes=function(b,T){const C=[];for(let k=0;k<b.attrs.length;k++)C.push(b.attrs[k].name);for(let k=0;k<T.length;k++)-1===C.indexOf(T[k].name)&&b.attrs.push(T[k])},g.getFirstChild=function(b){return b.childNodes[0]},g.getChildNodes=function(b){return b.childNodes},g.getParentNode=function(b){return b.parentNode},g.getAttrList=function(b){return b.attrs},g.getTagName=function(b){return b.tagName},g.getNamespaceURI=function(b){return b.namespaceURI},g.getTextNodeContent=function(b){return b.value},g.getCommentNodeContent=function(b){return b.data},g.getDocumentTypeNodeName=function(b){return b.name},g.getDocumentTypeNodePublicId=function(b){return b.publicId},g.getDocumentTypeNodeSystemId=function(b){return b.systemId},g.isTextNode=function(b){return"#text"===b.nodeName},g.isCommentNode=function(b){return"#comment"===b.nodeName},g.isDocumentTypeNode=function(b){return"#documentType"===b.nodeName},g.isElementNode=function(b){return!!b.tagName},g.setNodeSourceCodeLocation=function(b,T){b.sourceCodeLocation=T},g.getNodeSourceCodeLocation=function(b){return b.sourceCodeLocation},g.updateNodeSourceCodeLocation=function(b,T){b.sourceCodeLocation=Object.assign(b.sourceCodeLocation,T)}},8904:x=>{"use strict";x.exports=function(g,M){return[g,M=M||Object.create(null)].reduce((h,y)=>(Object.keys(y).forEach(m=>{h[m]=y[m]}),h),Object.create(null))}},1704:x=>{"use strict";class g{constructor(h){const y={},m=this._getOverriddenMethods(this,y);for(const _ of Object.keys(m))"function"==typeof m[_]&&(y[_]=h[_],h[_]=m[_])}_getOverriddenMethods(){throw new Error("Not implemented")}}g.install=function(M,h,y){M.__mixins||(M.__mixins=[]);for(let _=0;_<M.__mixins.length;_++)if(M.__mixins[_].constructor===h)return M.__mixins[_];const m=new h(M,y);return M.__mixins.push(m),m},x.exports=g},6585:x=>{"use strict";var g=/([-.*+?^${}()|[\]\/\\])/g,M=/\\/g,h=function(A){return(A+"").replace(g,"\\$1")},y=function(A){return(A+"").replace(M,"")},m=RegExp("^(?:\\s*(,)\\s*|\\s*(<combinator>+)\\s*|(\\s+)|(<unicode>+|\\*)|\\#(<unicode>+)|\\.(<unicode>+)|\\[\\s*(<unicode1>+)(?:\\s*([*^$!~|]?=)(?:\\s*(?:([\"']?)(.*?)\\9)))?\\s*\\](?!\\])|(:+)(<unicode>+)(?:\\((?:(?:([\"'])([^\\13]*)\\13)|((?:\\([^)]+\\)|[^()]*)+))\\))?)".replace(/<combinator>/,"["+h(">+~`!@$%^&={}\\;</")+"]").replace(/<unicode>/g,"(?:[\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])").replace(/<unicode1>/g,"(?:[:\\w\\u00a1-\\uFFFF-]|\\\\[^\\s0-9a-f])")),_=function(A){this.combinator=A||" ",this.tag="*"};_.prototype.toString=function(){if(!this.raw){var A,I,D="";if(D+=this.tag||"*",this.id&&(D+="#"+this.id),this.classes&&(D+="."+this.classList.join(".")),this.attributes)for(A=0;I=this.attributes[A++];)D+="["+I.name+(I.operator?I.operator+'"'+I.value+'"':"")+"]";if(this.pseudos)for(A=0;I=this.pseudos[A++];)D+=":"+I.name,I.value&&(D+="("+I.value+")");this.raw=D}return this.raw};var b=function(){this.length=0};b.prototype.toString=function(){if(!this.raw){for(var A,I="",D=0;A=this[D++];)1!==D&&(I+=" ")," "!==A.combinator&&(I+=A.combinator+" "),I+=A;this.raw=I}return this.raw};var T=function(A,I,D,L,U,S,G,Y,q,tt,ht,ut,bt,F,B,X){var J,K;if((I||!this.length)&&(J=this[this.length++]=new b,I))return"";if(J||(J=this[this.length-1]),(D||L||!J.length)&&(K=J[J.length++]=new _(D)),K||(K=J[J.length-1]),U)K.tag=y(U);else if(S)K.id=y(S);else if(G){var at=y(G),Q=K.classes||(K.classes={});if(!Q[at]){Q[at]=h(G);var gt=K.classList||(K.classList=[]);gt.push(at),gt.sort()}}else bt?(X=X||B,(K.pseudos||(K.pseudos=[])).push({type:1==ut.length?"class":"element",name:y(bt),escapedName:h(bt),value:X?y(X):null,escapedValue:X?h(X):null})):Y&&(ht=ht?h(ht):null,(K.attributes||(K.attributes=[])).push({operator:q,name:y(Y),escapedName:h(Y),value:ht?y(ht):null,escapedValue:ht?h(ht):null}));return""},C=function(A){this.length=0;for(var I,D=this,L=A;A;){if(I=A.replace(m,function(){return T.apply(D,arguments)}),I===A)throw new Error(L+" is an invalid expression");A=I}};C.prototype.toString=function(){if(!this.raw){for(var A,I=[],D=0;A=this[D++];)I.push(A);this.raw=I.join(", ")}return this.raw};var k={};x.exports=function(A){return null==A?null:(A=(""+A).replace(/^\s+|\s+$/g,""),k[A]||(k[A]=new C(A)))}},655:(x,g,M)=>{"use strict";M.r(g),M.d(g,{__assign:()=>m,__asyncDelegator:()=>B,__asyncGenerator:()=>F,__asyncValues:()=>X,__await:()=>bt,__awaiter:()=>L,__classPrivateFieldGet:()=>gt,__classPrivateFieldIn:()=>Ot,__classPrivateFieldSet:()=>ot,__createBinding:()=>S,__decorate:()=>b,__esDecorate:()=>C,__exportStar:()=>G,__extends:()=>y,__generator:()=>U,__importDefault:()=>Q,__importStar:()=>at,__makeTemplateObject:()=>J,__metadata:()=>D,__param:()=>T,__propKey:()=>A,__read:()=>q,__rest:()=>_,__runInitializers:()=>k,__setFunctionName:()=>I,__spread:()=>tt,__spreadArray:()=>ut,__spreadArrays:()=>ht,__values:()=>Y});var h=function(yt,Et){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(Mt,jt){Mt.__proto__=jt}||function(Mt,jt){for(var Ut in jt)Object.prototype.hasOwnProperty.call(jt,Ut)&&(Mt[Ut]=jt[Ut])})(yt,Et)};function y(yt,Et){if("function"!=typeof Et&&null!==Et)throw new TypeError("Class extends value "+String(Et)+" is not a constructor or null");function Mt(){this.constructor=yt}h(yt,Et),yt.prototype=null===Et?Object.create(Et):(Mt.prototype=Et.prototype,new Mt)}var m=function(){return m=Object.assign||function(yt){for(var Et,Mt=1,jt=arguments.length;Mt<jt;Mt++)for(var Ut in Et=arguments[Mt])Object.prototype.hasOwnProperty.call(Et,Ut)&&(yt[Ut]=Et[Ut]);return yt},m.apply(this,arguments)};function _(yt,Et){var Mt={};for(var jt in yt)Object.prototype.hasOwnProperty.call(yt,jt)&&Et.indexOf(jt)<0&&(Mt[jt]=yt[jt]);if(null!=yt&&"function"==typeof Object.getOwnPropertySymbols){var Ut=0;for(jt=Object.getOwnPropertySymbols(yt);Ut<jt.length;Ut++)Et.indexOf(jt[Ut])<0&&Object.prototype.propertyIsEnumerable.call(yt,jt[Ut])&&(Mt[jt[Ut]]=yt[jt[Ut]])}return Mt}function b(yt,Et,Mt,jt){var Ut,le=arguments.length,Zt=le<3?Et:null===jt?jt=Object.getOwnPropertyDescriptor(Et,Mt):jt;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)Zt=Reflect.decorate(yt,Et,Mt,jt);else for(var ie=yt.length-1;ie>=0;ie--)(Ut=yt[ie])&&(Zt=(le<3?Ut(Zt):le>3?Ut(Et,Mt,Zt):Ut(Et,Mt))||Zt);return le>3&&Zt&&Object.defineProperty(Et,Mt,Zt),Zt}function T(yt,Et){return function(Mt,jt){Et(Mt,jt,yt)}}function C(yt,Et,Mt,jt,Ut,le){function Zt(Te){if(void 0!==Te&&"function"!=typeof Te)throw new TypeError("Function expected");return Te}for(var ie,Ht=jt.kind,_t="getter"===Ht?"get":"setter"===Ht?"set":"value",Xt=!Et&&yt?jt.static?yt:yt.prototype:null,Gt=Et||(Xt?Object.getOwnPropertyDescriptor(Xt,jt.name):{}),Pt=!1,he=Mt.length-1;he>=0;he--){var fe={};for(var Ce in jt)fe[Ce]="access"===Ce?{}:jt[Ce];for(var Ce in jt.access)fe.access[Ce]=jt.access[Ce];fe.addInitializer=function(Te){if(Pt)throw new TypeError("Cannot add initializers after decoration has completed");le.push(Zt(Te||null))};var Ee=(0,Mt[he])("accessor"===Ht?{get:Gt.get,set:Gt.set}:Gt[_t],fe);if("accessor"===Ht){if(void 0===Ee)continue;if(null===Ee||"object"!=typeof Ee)throw new TypeError("Object expected");(ie=Zt(Ee.get))&&(Gt.get=ie),(ie=Zt(Ee.set))&&(Gt.set=ie),(ie=Zt(Ee.init))&&Ut.push(ie)}else(ie=Zt(Ee))&&("field"===Ht?Ut.push(ie):Gt[_t]=ie)}Xt&&Object.defineProperty(Xt,jt.name,Gt),Pt=!0}function k(yt,Et,Mt){for(var jt=arguments.length>2,Ut=0;Ut<Et.length;Ut++)Mt=jt?Et[Ut].call(yt,Mt):Et[Ut].call(yt);return jt?Mt:void 0}function A(yt){return"symbol"==typeof yt?yt:"".concat(yt)}function I(yt,Et,Mt){return"symbol"==typeof Et&&(Et=Et.description?"[".concat(Et.description,"]"):""),Object.defineProperty(yt,"name",{configurable:!0,value:Mt?"".concat(Mt," ",Et):Et})}function D(yt,Et){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(yt,Et)}function L(yt,Et,Mt,jt){return new(Mt||(Mt=Promise))(function(Ut,le){function Zt(_t){try{Ht(jt.next(_t))}catch(Xt){le(Xt)}}function ie(_t){try{Ht(jt.throw(_t))}catch(Xt){le(Xt)}}function Ht(_t){var Xt;_t.done?Ut(_t.value):(Xt=_t.value,Xt instanceof Mt?Xt:new Mt(function(Gt){Gt(Xt)})).then(Zt,ie)}Ht((jt=jt.apply(yt,Et||[])).next())})}function U(yt,Et){var Mt,jt,Ut,le,Zt={label:0,sent:function(){if(1&Ut[0])throw Ut[1];return Ut[1]},trys:[],ops:[]};return le={next:ie(0),throw:ie(1),return:ie(2)},"function"==typeof Symbol&&(le[Symbol.iterator]=function(){return this}),le;function ie(Ht){return function(_t){return function(Xt){if(Mt)throw new TypeError("Generator is already executing.");for(;le&&(le=0,Xt[0]&&(Zt=0)),Zt;)try{if(Mt=1,jt&&(Ut=2&Xt[0]?jt.return:Xt[0]?jt.throw||((Ut=jt.return)&&Ut.call(jt),0):jt.next)&&!(Ut=Ut.call(jt,Xt[1])).done)return Ut;switch(jt=0,Ut&&(Xt=[2&Xt[0],Ut.value]),Xt[0]){case 0:case 1:Ut=Xt;break;case 4:return Zt.label++,{value:Xt[1],done:!1};case 5:Zt.label++,jt=Xt[1],Xt=[0];continue;case 7:Xt=Zt.ops.pop(),Zt.trys.pop();continue;default:if(!((Ut=(Ut=Zt.trys).length>0&&Ut[Ut.length-1])||6!==Xt[0]&&2!==Xt[0])){Zt=0;continue}if(3===Xt[0]&&(!Ut||Xt[1]>Ut[0]&&Xt[1]<Ut[3])){Zt.label=Xt[1];break}if(6===Xt[0]&&Zt.label<Ut[1]){Zt.label=Ut[1],Ut=Xt;break}if(Ut&&Zt.label<Ut[2]){Zt.label=Ut[2],Zt.ops.push(Xt);break}Ut[2]&&Zt.ops.pop(),Zt.trys.pop();continue}Xt=Et.call(yt,Zt)}catch(Gt){Xt=[6,Gt],jt=0}finally{Mt=Ut=0}if(5&Xt[0])throw Xt[1];return{value:Xt[0]?Xt[1]:void 0,done:!0}}([Ht,_t])}}}var S=Object.create?function(yt,Et,Mt,jt){void 0===jt&&(jt=Mt);var Ut=Object.getOwnPropertyDescriptor(Et,Mt);Ut&&!("get"in Ut?!Et.__esModule:Ut.writable||Ut.configurable)||(Ut={enumerable:!0,get:function(){return Et[Mt]}}),Object.defineProperty(yt,jt,Ut)}:function(yt,Et,Mt,jt){void 0===jt&&(jt=Mt),yt[jt]=Et[Mt]};function G(yt,Et){for(var Mt in yt)"default"===Mt||Object.prototype.hasOwnProperty.call(Et,Mt)||S(Et,yt,Mt)}function Y(yt){var Et="function"==typeof Symbol&&Symbol.iterator,Mt=Et&&yt[Et],jt=0;if(Mt)return Mt.call(yt);if(yt&&"number"==typeof yt.length)return{next:function(){return yt&&jt>=yt.length&&(yt=void 0),{value:yt&&yt[jt++],done:!yt}}};throw new TypeError(Et?"Object is not iterable.":"Symbol.iterator is not defined.")}function q(yt,Et){var Mt="function"==typeof Symbol&&yt[Symbol.iterator];if(!Mt)return yt;var jt,Ut,le=Mt.call(yt),Zt=[];try{for(;(void 0===Et||Et-- >0)&&!(jt=le.next()).done;)Zt.push(jt.value)}catch(ie){Ut={error:ie}}finally{try{jt&&!jt.done&&(Mt=le.return)&&Mt.call(le)}finally{if(Ut)throw Ut.error}}return Zt}function tt(){for(var yt=[],Et=0;Et<arguments.length;Et++)yt=yt.concat(q(arguments[Et]));return yt}function ht(){for(var yt=0,Et=0,Mt=arguments.length;Et<Mt;Et++)yt+=arguments[Et].length;var jt=Array(yt),Ut=0;for(Et=0;Et<Mt;Et++)for(var le=arguments[Et],Zt=0,ie=le.length;Zt<ie;Zt++,Ut++)jt[Ut]=le[Zt];return jt}function ut(yt,Et,Mt){if(Mt||2===arguments.length)for(var jt,Ut=0,le=Et.length;Ut<le;Ut++)!jt&&Ut in Et||(jt||(jt=Array.prototype.slice.call(Et,0,Ut)),jt[Ut]=Et[Ut]);return yt.concat(jt||Array.prototype.slice.call(Et))}function bt(yt){return this instanceof bt?(this.v=yt,this):new bt(yt)}function F(yt,Et,Mt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var jt,Ut=Mt.apply(yt,Et||[]),le=[];return jt={},Zt("next"),Zt("throw"),Zt("return"),jt[Symbol.asyncIterator]=function(){return this},jt;function Zt(Gt){Ut[Gt]&&(jt[Gt]=function(Pt){return new Promise(function(he,fe){le.push([Gt,Pt,he,fe])>1||ie(Gt,Pt)})})}function ie(Gt,Pt){try{(he=Ut[Gt](Pt)).value instanceof bt?Promise.resolve(he.value.v).then(Ht,_t):Xt(le[0][2],he)}catch(fe){Xt(le[0][3],fe)}var he}function Ht(Gt){ie("next",Gt)}function _t(Gt){ie("throw",Gt)}function Xt(Gt,Pt){Gt(Pt),le.shift(),le.length&&ie(le[0][0],le[0][1])}}function B(yt){var Et,Mt;return Et={},jt("next"),jt("throw",function(Ut){throw Ut}),jt("return"),Et[Symbol.iterator]=function(){return this},Et;function jt(Ut,le){Et[Ut]=yt[Ut]?function(Zt){return(Mt=!Mt)?{value:bt(yt[Ut](Zt)),done:!1}:le?le(Zt):Zt}:le}}function X(yt){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Et,Mt=yt[Symbol.asyncIterator];return Mt?Mt.call(yt):(yt=Y(yt),Et={},jt("next"),jt("throw"),jt("return"),Et[Symbol.asyncIterator]=function(){return this},Et);function jt(Ut){Et[Ut]=yt[Ut]&&function(le){return new Promise(function(Zt,ie){var Ht,_t,Xt,Gt;Ht=Zt,_t=ie,Xt=(le=yt[Ut](le)).done,Gt=le.value,Promise.resolve(Gt).then(function(Pt){Ht({value:Pt,done:Xt})},_t)})}}}function J(yt,Et){return Object.defineProperty?Object.defineProperty(yt,"raw",{value:Et}):yt.raw=Et,yt}var K=Object.create?function(yt,Et){Object.defineProperty(yt,"default",{enumerable:!0,value:Et})}:function(yt,Et){yt.default=Et};function at(yt){if(yt&&yt.__esModule)return yt;var Et={};if(null!=yt)for(var Mt in yt)"default"!==Mt&&Object.prototype.hasOwnProperty.call(yt,Mt)&&S(Et,yt,Mt);return K(Et,yt),Et}function Q(yt){return yt&&yt.__esModule?yt:{default:yt}}function gt(yt,Et,Mt,jt){if("a"===Mt&&!jt)throw new TypeError("Private accessor was defined without a getter");if("function"==typeof Et?yt!==Et||!jt:!Et.has(yt))throw new TypeError("Cannot read private member from an object whose class did not declare it");return"m"===Mt?jt:"a"===Mt?jt.call(yt):jt?jt.value:Et.get(yt)}function ot(yt,Et,Mt,jt,Ut){if("m"===jt)throw new TypeError("Private method is not writable");if("a"===jt&&!Ut)throw new TypeError("Private accessor was defined without a setter");if("function"==typeof Et?yt!==Et||!Ut:!Et.has(yt))throw new TypeError("Cannot write private member to an object whose class did not declare it");return"a"===jt?Ut.call(yt,Mt):Ut?Ut.value=Mt:Et.set(yt,Mt),Mt}function Ot(yt,Et){if(null===Et||"object"!=typeof Et&&"function"!=typeof Et)throw new TypeError("Cannot use 'in' operator on non-object");return"function"==typeof yt?Et===yt:yt.has(Et)}},3600:x=>{"use strict";x.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},9323:x=>{"use strict";x.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Abreve":"\u0102","abreve":"\u0103","ac":"\u223e","acd":"\u223f","acE":"\u223e\u0333","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","Acy":"\u0410","acy":"\u0430","AElig":"\xc6","aelig":"\xe6","af":"\u2061","Afr":"\u{1d504}","afr":"\u{1d51e}","Agrave":"\xc0","agrave":"\xe0","alefsym":"\u2135","aleph":"\u2135","Alpha":"\u0391","alpha":"\u03b1","Amacr":"\u0100","amacr":"\u0101","amalg":"\u2a3f","amp":"&","AMP":"&","andand":"\u2a55","And":"\u2a53","and":"\u2227","andd":"\u2a5c","andslope":"\u2a58","andv":"\u2a5a","ang":"\u2220","ange":"\u29a4","angle":"\u2220","angmsdaa":"\u29a8","angmsdab":"\u29a9","angmsdac":"\u29aa","angmsdad":"\u29ab","angmsdae":"\u29ac","angmsdaf":"\u29ad","angmsdag":"\u29ae","angmsdah":"\u29af","angmsd":"\u2221","angrt":"\u221f","angrtvb":"\u22be","angrtvbd":"\u299d","angsph":"\u2222","angst":"\xc5","angzarr":"\u237c","Aogon":"\u0104","aogon":"\u0105","Aopf":"\u{1d538}","aopf":"\u{1d552}","apacir":"\u2a6f","ap":"\u2248","apE":"\u2a70","ape":"\u224a","apid":"\u224b","apos":"\'","ApplyFunction":"\u2061","approx":"\u2248","approxeq":"\u224a","Aring":"\xc5","aring":"\xe5","Ascr":"\u{1d49c}","ascr":"\u{1d4b6}","Assign":"\u2254","ast":"*","asymp":"\u2248","asympeq":"\u224d","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","awconint":"\u2233","awint":"\u2a11","backcong":"\u224c","backepsilon":"\u03f6","backprime":"\u2035","backsim":"\u223d","backsimeq":"\u22cd","Backslash":"\u2216","Barv":"\u2ae7","barvee":"\u22bd","barwed":"\u2305","Barwed":"\u2306","barwedge":"\u2305","bbrk":"\u23b5","bbrktbrk":"\u23b6","bcong":"\u224c","Bcy":"\u0411","bcy":"\u0431","bdquo":"\u201e","becaus":"\u2235","because":"\u2235","Because":"\u2235","bemptyv":"\u29b0","bepsi":"\u03f6","bernou":"\u212c","Bernoullis":"\u212c","Beta":"\u0392","beta":"\u03b2","beth":"\u2136","between":"\u226c","Bfr":"\u{1d505}","bfr":"\u{1d51f}","bigcap":"\u22c2","bigcirc":"\u25ef","bigcup":"\u22c3","bigodot":"\u2a00","bigoplus":"\u2a01","bigotimes":"\u2a02","bigsqcup":"\u2a06","bigstar":"\u2605","bigtriangledown":"\u25bd","bigtriangleup":"\u25b3","biguplus":"\u2a04","bigvee":"\u22c1","bigwedge":"\u22c0","bkarow":"\u290d","blacklozenge":"\u29eb","blacksquare":"\u25aa","blacktriangle":"\u25b4","blacktriangledown":"\u25be","blacktriangleleft":"\u25c2","blacktriangleright":"\u25b8","blank":"\u2423","blk12":"\u2592","blk14":"\u2591","blk34":"\u2593","block":"\u2588","bne":"=\u20e5","bnequiv":"\u2261\u20e5","bNot":"\u2aed","bnot":"\u2310","Bopf":"\u{1d539}","bopf":"\u{1d553}","bot":"\u22a5","bottom":"\u22a5","bowtie":"\u22c8","boxbox":"\u29c9","boxdl":"\u2510","boxdL":"\u2555","boxDl":"\u2556","boxDL":"\u2557","boxdr":"\u250c","boxdR":"\u2552","boxDr":"\u2553","boxDR":"\u2554","boxh":"\u2500","boxH":"\u2550","boxhd":"\u252c","boxHd":"\u2564","boxhD":"\u2565","boxHD":"\u2566","boxhu":"\u2534","boxHu":"\u2567","boxhU":"\u2568","boxHU":"\u2569","boxminus":"\u229f","boxplus":"\u229e","boxtimes":"\u22a0","boxul":"\u2518","boxuL":"\u255b","boxUl":"\u255c","boxUL":"\u255d","boxur":"\u2514","boxuR":"\u2558","boxUr":"\u2559","boxUR":"\u255a","boxv":"\u2502","boxV":"\u2551","boxvh":"\u253c","boxvH":"\u256a","boxVh":"\u256b","boxVH":"\u256c","boxvl":"\u2524","boxvL":"\u2561","boxVl":"\u2562","boxVL":"\u2563","boxvr":"\u251c","boxvR":"\u255e","boxVr":"\u255f","boxVR":"\u2560","bprime":"\u2035","breve":"\u02d8","Breve":"\u02d8","brvbar":"\xa6","bscr":"\u{1d4b7}","Bscr":"\u212c","bsemi":"\u204f","bsim":"\u223d","bsime":"\u22cd","bsolb":"\u29c5","bsol":"\\\\","bsolhsub":"\u27c8","bull":"\u2022","bullet":"\u2022","bump":"\u224e","bumpE":"\u2aae","bumpe":"\u224f","Bumpeq":"\u224e","bumpeq":"\u224f","Cacute":"\u0106","cacute":"\u0107","capand":"\u2a44","capbrcup":"\u2a49","capcap":"\u2a4b","cap":"\u2229","Cap":"\u22d2","capcup":"\u2a47","capdot":"\u2a40","CapitalDifferentialD":"\u2145","caps":"\u2229\ufe00","caret":"\u2041","caron":"\u02c7","Cayleys":"\u212d","ccaps":"\u2a4d","Ccaron":"\u010c","ccaron":"\u010d","Ccedil":"\xc7","ccedil":"\xe7","Ccirc":"\u0108","ccirc":"\u0109","Cconint":"\u2230","ccups":"\u2a4c","ccupssm":"\u2a50","Cdot":"\u010a","cdot":"\u010b","cedil":"\xb8","Cedilla":"\xb8","cemptyv":"\u29b2","cent":"\xa2","centerdot":"\xb7","CenterDot":"\xb7","cfr":"\u{1d520}","Cfr":"\u212d","CHcy":"\u0427","chcy":"\u0447","check":"\u2713","checkmark":"\u2713","Chi":"\u03a7","chi":"\u03c7","circ":"\u02c6","circeq":"\u2257","circlearrowleft":"\u21ba","circlearrowright":"\u21bb","circledast":"\u229b","circledcirc":"\u229a","circleddash":"\u229d","CircleDot":"\u2299","circledR":"\xae","circledS":"\u24c8","CircleMinus":"\u2296","CirclePlus":"\u2295","CircleTimes":"\u2297","cir":"\u25cb","cirE":"\u29c3","cire":"\u2257","cirfnint":"\u2a10","cirmid":"\u2aef","cirscir":"\u29c2","ClockwiseContourIntegral":"\u2232","CloseCurlyDoubleQuote":"\u201d","CloseCurlyQuote":"\u2019","clubs":"\u2663","clubsuit":"\u2663","colon":":","Colon":"\u2237","Colone":"\u2a74","colone":"\u2254","coloneq":"\u2254","comma":",","commat":"@","comp":"\u2201","compfn":"\u2218","complement":"\u2201","complexes":"\u2102","cong":"\u2245","congdot":"\u2a6d","Congruent":"\u2261","conint":"\u222e","Conint":"\u222f","ContourIntegral":"\u222e","copf":"\u{1d554}","Copf":"\u2102","coprod":"\u2210","Coproduct":"\u2210","copy":"\xa9","COPY":"\xa9","copysr":"\u2117","CounterClockwiseContourIntegral":"\u2233","crarr":"\u21b5","cross":"\u2717","Cross":"\u2a2f","Cscr":"\u{1d49e}","cscr":"\u{1d4b8}","csub":"\u2acf","csube":"\u2ad1","csup":"\u2ad0","csupe":"\u2ad2","ctdot":"\u22ef","cudarrl":"\u2938","cudarrr":"\u2935","cuepr":"\u22de","cuesc":"\u22df","cularr":"\u21b6","cularrp":"\u293d","cupbrcap":"\u2a48","cupcap":"\u2a46","CupCap":"\u224d","cup":"\u222a","Cup":"\u22d3","cupcup":"\u2a4a","cupdot":"\u228d","cupor":"\u2a45","cups":"\u222a\ufe00","curarr":"\u21b7","curarrm":"\u293c","curlyeqprec":"\u22de","curlyeqsucc":"\u22df","curlyvee":"\u22ce","curlywedge":"\u22cf","curren":"\xa4","curvearrowleft":"\u21b6","curvearrowright":"\u21b7","cuvee":"\u22ce","cuwed":"\u22cf","cwconint":"\u2232","cwint":"\u2231","cylcty":"\u232d","dagger":"\u2020","Dagger":"\u2021","daleth":"\u2138","darr":"\u2193","Darr":"\u21a1","dArr":"\u21d3","dash":"\u2010","Dashv":"\u2ae4","dashv":"\u22a3","dbkarow":"\u290f","dblac":"\u02dd","Dcaron":"\u010e","dcaron":"\u010f","Dcy":"\u0414","dcy":"\u0434","ddagger":"\u2021","ddarr":"\u21ca","DD":"\u2145","dd":"\u2146","DDotrahd":"\u2911","ddotseq":"\u2a77","deg":"\xb0","Del":"\u2207","Delta":"\u0394","delta":"\u03b4","demptyv":"\u29b1","dfisht":"\u297f","Dfr":"\u{1d507}","dfr":"\u{1d521}","dHar":"\u2965","dharl":"\u21c3","dharr":"\u21c2","DiacriticalAcute":"\xb4","DiacriticalDot":"\u02d9","DiacriticalDoubleAcute":"\u02dd","DiacriticalGrave":"`","DiacriticalTilde":"\u02dc","diam":"\u22c4","diamond":"\u22c4","Diamond":"\u22c4","diamondsuit":"\u2666","diams":"\u2666","die":"\xa8","DifferentialD":"\u2146","digamma":"\u03dd","disin":"\u22f2","div":"\xf7","divide":"\xf7","divideontimes":"\u22c7","divonx":"\u22c7","DJcy":"\u0402","djcy":"\u0452","dlcorn":"\u231e","dlcrop":"\u230d","dollar":"$","Dopf":"\u{1d53b}","dopf":"\u{1d555}","Dot":"\xa8","dot":"\u02d9","DotDot":"\u20dc","doteq":"\u2250","doteqdot":"\u2251","DotEqual":"\u2250","dotminus":"\u2238","dotplus":"\u2214","dotsquare":"\u22a1","doublebarwedge":"\u2306","DoubleContourIntegral":"\u222f","DoubleDot":"\xa8","DoubleDownArrow":"\u21d3","DoubleLeftArrow":"\u21d0","DoubleLeftRightArrow":"\u21d4","DoubleLeftTee":"\u2ae4","DoubleLongLeftArrow":"\u27f8","DoubleLongLeftRightArrow":"\u27fa","DoubleLongRightArrow":"\u27f9","DoubleRightArrow":"\u21d2","DoubleRightTee":"\u22a8","DoubleUpArrow":"\u21d1","DoubleUpDownArrow":"\u21d5","DoubleVerticalBar":"\u2225","DownArrowBar":"\u2913","downarrow":"\u2193","DownArrow":"\u2193","Downarrow":"\u21d3","DownArrowUpArrow":"\u21f5","DownBreve":"\u0311","downdownarrows":"\u21ca","downharpoonleft":"\u21c3","downharpoonright":"\u21c2","DownLeftRightVector":"\u2950","DownLeftTeeVector":"\u295e","DownLeftVectorBar":"\u2956","DownLeftVector":"\u21bd","DownRightTeeVector":"\u295f","DownRightVectorBar":"\u2957","DownRightVector":"\u21c1","DownTeeArrow":"\u21a7","DownTee":"\u22a4","drbkarow":"\u2910","drcorn":"\u231f","drcrop":"\u230c","Dscr":"\u{1d49f}","dscr":"\u{1d4b9}","DScy":"\u0405","dscy":"\u0455","dsol":"\u29f6","Dstrok":"\u0110","dstrok":"\u0111","dtdot":"\u22f1","dtri":"\u25bf","dtrif":"\u25be","duarr":"\u21f5","duhar":"\u296f","dwangle":"\u29a6","DZcy":"\u040f","dzcy":"\u045f","dzigrarr":"\u27ff","Eacute":"\xc9","eacute":"\xe9","easter":"\u2a6e","Ecaron":"\u011a","ecaron":"\u011b","Ecirc":"\xca","ecirc":"\xea","ecir":"\u2256","ecolon":"\u2255","Ecy":"\u042d","ecy":"\u044d","eDDot":"\u2a77","Edot":"\u0116","edot":"\u0117","eDot":"\u2251","ee":"\u2147","efDot":"\u2252","Efr":"\u{1d508}","efr":"\u{1d522}","eg":"\u2a9a","Egrave":"\xc8","egrave":"\xe8","egs":"\u2a96","egsdot":"\u2a98","el":"\u2a99","Element":"\u2208","elinters":"\u23e7","ell":"\u2113","els":"\u2a95","elsdot":"\u2a97","Emacr":"\u0112","emacr":"\u0113","empty":"\u2205","emptyset":"\u2205","EmptySmallSquare":"\u25fb","emptyv":"\u2205","EmptyVerySmallSquare":"\u25ab","emsp13":"\u2004","emsp14":"\u2005","emsp":"\u2003","ENG":"\u014a","eng":"\u014b","ensp":"\u2002","Eogon":"\u0118","eogon":"\u0119","Eopf":"\u{1d53c}","eopf":"\u{1d556}","epar":"\u22d5","eparsl":"\u29e3","eplus":"\u2a71","epsi":"\u03b5","Epsilon":"\u0395","epsilon":"\u03b5","epsiv":"\u03f5","eqcirc":"\u2256","eqcolon":"\u2255","eqsim":"\u2242","eqslantgtr":"\u2a96","eqslantless":"\u2a95","Equal":"\u2a75","equals":"=","EqualTilde":"\u2242","equest":"\u225f","Equilibrium":"\u21cc","equiv":"\u2261","equivDD":"\u2a78","eqvparsl":"\u29e5","erarr":"\u2971","erDot":"\u2253","escr":"\u212f","Escr":"\u2130","esdot":"\u2250","Esim":"\u2a73","esim":"\u2242","Eta":"\u0397","eta":"\u03b7","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","euro":"\u20ac","excl":"!","exist":"\u2203","Exists":"\u2203","expectation":"\u2130","exponentiale":"\u2147","ExponentialE":"\u2147","fallingdotseq":"\u2252","Fcy":"\u0424","fcy":"\u0444","female":"\u2640","ffilig":"\ufb03","fflig":"\ufb00","ffllig":"\ufb04","Ffr":"\u{1d509}","ffr":"\u{1d523}","filig":"\ufb01","FilledSmallSquare":"\u25fc","FilledVerySmallSquare":"\u25aa","fjlig":"fj","flat":"\u266d","fllig":"\ufb02","fltns":"\u25b1","fnof":"\u0192","Fopf":"\u{1d53d}","fopf":"\u{1d557}","forall":"\u2200","ForAll":"\u2200","fork":"\u22d4","forkv":"\u2ad9","Fouriertrf":"\u2131","fpartint":"\u2a0d","frac12":"\xbd","frac13":"\u2153","frac14":"\xbc","frac15":"\u2155","frac16":"\u2159","frac18":"\u215b","frac23":"\u2154","frac25":"\u2156","frac34":"\xbe","frac35":"\u2157","frac38":"\u215c","frac45":"\u2158","frac56":"\u215a","frac58":"\u215d","frac78":"\u215e","frasl":"\u2044","frown":"\u2322","fscr":"\u{1d4bb}","Fscr":"\u2131","gacute":"\u01f5","Gamma":"\u0393","gamma":"\u03b3","Gammad":"\u03dc","gammad":"\u03dd","gap":"\u2a86","Gbreve":"\u011e","gbreve":"\u011f","Gcedil":"\u0122","Gcirc":"\u011c","gcirc":"\u011d","Gcy":"\u0413","gcy":"\u0433","Gdot":"\u0120","gdot":"\u0121","ge":"\u2265","gE":"\u2267","gEl":"\u2a8c","gel":"\u22db","geq":"\u2265","geqq":"\u2267","geqslant":"\u2a7e","gescc":"\u2aa9","ges":"\u2a7e","gesdot":"\u2a80","gesdoto":"\u2a82","gesdotol":"\u2a84","gesl":"\u22db\ufe00","gesles":"\u2a94","Gfr":"\u{1d50a}","gfr":"\u{1d524}","gg":"\u226b","Gg":"\u22d9","ggg":"\u22d9","gimel":"\u2137","GJcy":"\u0403","gjcy":"\u0453","gla":"\u2aa5","gl":"\u2277","glE":"\u2a92","glj":"\u2aa4","gnap":"\u2a8a","gnapprox":"\u2a8a","gne":"\u2a88","gnE":"\u2269","gneq":"\u2a88","gneqq":"\u2269","gnsim":"\u22e7","Gopf":"\u{1d53e}","gopf":"\u{1d558}","grave":"`","GreaterEqual":"\u2265","GreaterEqualLess":"\u22db","GreaterFullEqual":"\u2267","GreaterGreater":"\u2aa2","GreaterLess":"\u2277","GreaterSlantEqual":"\u2a7e","GreaterTilde":"\u2273","Gscr":"\u{1d4a2}","gscr":"\u210a","gsim":"\u2273","gsime":"\u2a8e","gsiml":"\u2a90","gtcc":"\u2aa7","gtcir":"\u2a7a","gt":">","GT":">","Gt":"\u226b","gtdot":"\u22d7","gtlPar":"\u2995","gtquest":"\u2a7c","gtrapprox":"\u2a86","gtrarr":"\u2978","gtrdot":"\u22d7","gtreqless":"\u22db","gtreqqless":"\u2a8c","gtrless":"\u2277","gtrsim":"\u2273","gvertneqq":"\u2269\ufe00","gvnE":"\u2269\ufe00","Hacek":"\u02c7","hairsp":"\u200a","half":"\xbd","hamilt":"\u210b","HARDcy":"\u042a","hardcy":"\u044a","harrcir":"\u2948","harr":"\u2194","hArr":"\u21d4","harrw":"\u21ad","Hat":"^","hbar":"\u210f","Hcirc":"\u0124","hcirc":"\u0125","hearts":"\u2665","heartsuit":"\u2665","hellip":"\u2026","hercon":"\u22b9","hfr":"\u{1d525}","Hfr":"\u210c","HilbertSpace":"\u210b","hksearow":"\u2925","hkswarow":"\u2926","hoarr":"\u21ff","homtht":"\u223b","hookleftarrow":"\u21a9","hookrightarrow":"\u21aa","hopf":"\u{1d559}","Hopf":"\u210d","horbar":"\u2015","HorizontalLine":"\u2500","hscr":"\u{1d4bd}","Hscr":"\u210b","hslash":"\u210f","Hstrok":"\u0126","hstrok":"\u0127","HumpDownHump":"\u224e","HumpEqual":"\u224f","hybull":"\u2043","hyphen":"\u2010","Iacute":"\xcd","iacute":"\xed","ic":"\u2063","Icirc":"\xce","icirc":"\xee","Icy":"\u0418","icy":"\u0438","Idot":"\u0130","IEcy":"\u0415","iecy":"\u0435","iexcl":"\xa1","iff":"\u21d4","ifr":"\u{1d526}","Ifr":"\u2111","Igrave":"\xcc","igrave":"\xec","ii":"\u2148","iiiint":"\u2a0c","iiint":"\u222d","iinfin":"\u29dc","iiota":"\u2129","IJlig":"\u0132","ijlig":"\u0133","Imacr":"\u012a","imacr":"\u012b","image":"\u2111","ImaginaryI":"\u2148","imagline":"\u2110","imagpart":"\u2111","imath":"\u0131","Im":"\u2111","imof":"\u22b7","imped":"\u01b5","Implies":"\u21d2","incare":"\u2105","in":"\u2208","infin":"\u221e","infintie":"\u29dd","inodot":"\u0131","intcal":"\u22ba","int":"\u222b","Int":"\u222c","integers":"\u2124","Integral":"\u222b","intercal":"\u22ba","Intersection":"\u22c2","intlarhk":"\u2a17","intprod":"\u2a3c","InvisibleComma":"\u2063","InvisibleTimes":"\u2062","IOcy":"\u0401","iocy":"\u0451","Iogon":"\u012e","iogon":"\u012f","Iopf":"\u{1d540}","iopf":"\u{1d55a}","Iota":"\u0399","iota":"\u03b9","iprod":"\u2a3c","iquest":"\xbf","iscr":"\u{1d4be}","Iscr":"\u2110","isin":"\u2208","isindot":"\u22f5","isinE":"\u22f9","isins":"\u22f4","isinsv":"\u22f3","isinv":"\u2208","it":"\u2062","Itilde":"\u0128","itilde":"\u0129","Iukcy":"\u0406","iukcy":"\u0456","Iuml":"\xcf","iuml":"\xef","Jcirc":"\u0134","jcirc":"\u0135","Jcy":"\u0419","jcy":"\u0439","Jfr":"\u{1d50d}","jfr":"\u{1d527}","jmath":"\u0237","Jopf":"\u{1d541}","jopf":"\u{1d55b}","Jscr":"\u{1d4a5}","jscr":"\u{1d4bf}","Jsercy":"\u0408","jsercy":"\u0458","Jukcy":"\u0404","jukcy":"\u0454","Kappa":"\u039a","kappa":"\u03ba","kappav":"\u03f0","Kcedil":"\u0136","kcedil":"\u0137","Kcy":"\u041a","kcy":"\u043a","Kfr":"\u{1d50e}","kfr":"\u{1d528}","kgreen":"\u0138","KHcy":"\u0425","khcy":"\u0445","KJcy":"\u040c","kjcy":"\u045c","Kopf":"\u{1d542}","kopf":"\u{1d55c}","Kscr":"\u{1d4a6}","kscr":"\u{1d4c0}","lAarr":"\u21da","Lacute":"\u0139","lacute":"\u013a","laemptyv":"\u29b4","lagran":"\u2112","Lambda":"\u039b","lambda":"\u03bb","lang":"\u27e8","Lang":"\u27ea","langd":"\u2991","langle":"\u27e8","lap":"\u2a85","Laplacetrf":"\u2112","laquo":"\xab","larrb":"\u21e4","larrbfs":"\u291f","larr":"\u2190","Larr":"\u219e","lArr":"\u21d0","larrfs":"\u291d","larrhk":"\u21a9","larrlp":"\u21ab","larrpl":"\u2939","larrsim":"\u2973","larrtl":"\u21a2","latail":"\u2919","lAtail":"\u291b","lat":"\u2aab","late":"\u2aad","lates":"\u2aad\ufe00","lbarr":"\u290c","lBarr":"\u290e","lbbrk":"\u2772","lbrace":"{","lbrack":"[","lbrke":"\u298b","lbrksld":"\u298f","lbrkslu":"\u298d","Lcaron":"\u013d","lcaron":"\u013e","Lcedil":"\u013b","lcedil":"\u013c","lceil":"\u2308","lcub":"{","Lcy":"\u041b","lcy":"\u043b","ldca":"\u2936","ldquo":"\u201c","ldquor":"\u201e","ldrdhar":"\u2967","ldrushar":"\u294b","ldsh":"\u21b2","le":"\u2264","lE":"\u2266","LeftAngleBracket":"\u27e8","LeftArrowBar":"\u21e4","leftarrow":"\u2190","LeftArrow":"\u2190","Leftarrow":"\u21d0","LeftArrowRightArrow":"\u21c6","leftarrowtail":"\u21a2","LeftCeiling":"\u2308","LeftDoubleBracket":"\u27e6","LeftDownTeeVector":"\u2961","LeftDownVectorBar":"\u2959","LeftDownVector":"\u21c3","LeftFloor":"\u230a","leftharpoondown":"\u21bd","leftharpoonup":"\u21bc","leftleftarrows":"\u21c7","leftrightarrow":"\u2194","LeftRightArrow":"\u2194","Leftrightarrow":"\u21d4","leftrightarrows":"\u21c6","leftrightharpoons":"\u21cb","leftrightsquigarrow":"\u21ad","LeftRightVector":"\u294e","LeftTeeArrow":"\u21a4","LeftTee":"\u22a3","LeftTeeVector":"\u295a","leftthreetimes":"\u22cb","LeftTriangleBar":"\u29cf","LeftTriangle":"\u22b2","LeftTriangleEqual":"\u22b4","LeftUpDownVector":"\u2951","LeftUpTeeVector":"\u2960","LeftUpVectorBar":"\u2958","LeftUpVector":"\u21bf","LeftVectorBar":"\u2952","LeftVector":"\u21bc","lEg":"\u2a8b","leg":"\u22da","leq":"\u2264","leqq":"\u2266","leqslant":"\u2a7d","lescc":"\u2aa8","les":"\u2a7d","lesdot":"\u2a7f","lesdoto":"\u2a81","lesdotor":"\u2a83","lesg":"\u22da\ufe00","lesges":"\u2a93","lessapprox":"\u2a85","lessdot":"\u22d6","lesseqgtr":"\u22da","lesseqqgtr":"\u2a8b","LessEqualGreater":"\u22da","LessFullEqual":"\u2266","LessGreater":"\u2276","lessgtr":"\u2276","LessLess":"\u2aa1","lesssim":"\u2272","LessSlantEqual":"\u2a7d","LessTilde":"\u2272","lfisht":"\u297c","lfloor":"\u230a","Lfr":"\u{1d50f}","lfr":"\u{1d529}","lg":"\u2276","lgE":"\u2a91","lHar":"\u2962","lhard":"\u21bd","lharu":"\u21bc","lharul":"\u296a","lhblk":"\u2584","LJcy":"\u0409","ljcy":"\u0459","llarr":"\u21c7","ll":"\u226a","Ll":"\u22d8","llcorner":"\u231e","Lleftarrow":"\u21da","llhard":"\u296b","lltri":"\u25fa","Lmidot":"\u013f","lmidot":"\u0140","lmoustache":"\u23b0","lmoust":"\u23b0","lnap":"\u2a89","lnapprox":"\u2a89","lne":"\u2a87","lnE":"\u2268","lneq":"\u2a87","lneqq":"\u2268","lnsim":"\u22e6","loang":"\u27ec","loarr":"\u21fd","lobrk":"\u27e6","longleftarrow":"\u27f5","LongLeftArrow":"\u27f5","Longleftarrow":"\u27f8","longleftrightarrow":"\u27f7","LongLeftRightArrow":"\u27f7","Longleftrightarrow":"\u27fa","longmapsto":"\u27fc","longrightarrow":"\u27f6","LongRightArrow":"\u27f6","Longrightarrow":"\u27f9","looparrowleft":"\u21ab","looparrowright":"\u21ac","lopar":"\u2985","Lopf":"\u{1d543}","lopf":"\u{1d55d}","loplus":"\u2a2d","lotimes":"\u2a34","lowast":"\u2217","lowbar":"_","LowerLeftArrow":"\u2199","LowerRightArrow":"\u2198","loz":"\u25ca","lozenge":"\u25ca","lozf":"\u29eb","lpar":"(","lparlt":"\u2993","lrarr":"\u21c6","lrcorner":"\u231f","lrhar":"\u21cb","lrhard":"\u296d","lrm":"\u200e","lrtri":"\u22bf","lsaquo":"\u2039","lscr":"\u{1d4c1}","Lscr":"\u2112","lsh":"\u21b0","Lsh":"\u21b0","lsim":"\u2272","lsime":"\u2a8d","lsimg":"\u2a8f","lsqb":"[","lsquo":"\u2018","lsquor":"\u201a","Lstrok":"\u0141","lstrok":"\u0142","ltcc":"\u2aa6","ltcir":"\u2a79","lt":"<","LT":"<","Lt":"\u226a","ltdot":"\u22d6","lthree":"\u22cb","ltimes":"\u22c9","ltlarr":"\u2976","ltquest":"\u2a7b","ltri":"\u25c3","ltrie":"\u22b4","ltrif":"\u25c2","ltrPar":"\u2996","lurdshar":"\u294a","luruhar":"\u2966","lvertneqq":"\u2268\ufe00","lvnE":"\u2268\ufe00","macr":"\xaf","male":"\u2642","malt":"\u2720","maltese":"\u2720","Map":"\u2905","map":"\u21a6","mapsto":"\u21a6","mapstodown":"\u21a7","mapstoleft":"\u21a4","mapstoup":"\u21a5","marker":"\u25ae","mcomma":"\u2a29","Mcy":"\u041c","mcy":"\u043c","mdash":"\u2014","mDDot":"\u223a","measuredangle":"\u2221","MediumSpace":"\u205f","Mellintrf":"\u2133","Mfr":"\u{1d510}","mfr":"\u{1d52a}","mho":"\u2127","micro":"\xb5","midast":"*","midcir":"\u2af0","mid":"\u2223","middot":"\xb7","minusb":"\u229f","minus":"\u2212","minusd":"\u2238","minusdu":"\u2a2a","MinusPlus":"\u2213","mlcp":"\u2adb","mldr":"\u2026","mnplus":"\u2213","models":"\u22a7","Mopf":"\u{1d544}","mopf":"\u{1d55e}","mp":"\u2213","mscr":"\u{1d4c2}","Mscr":"\u2133","mstpos":"\u223e","Mu":"\u039c","mu":"\u03bc","multimap":"\u22b8","mumap":"\u22b8","nabla":"\u2207","Nacute":"\u0143","nacute":"\u0144","nang":"\u2220\u20d2","nap":"\u2249","napE":"\u2a70\u0338","napid":"\u224b\u0338","napos":"\u0149","napprox":"\u2249","natural":"\u266e","naturals":"\u2115","natur":"\u266e","nbsp":"\xa0","nbump":"\u224e\u0338","nbumpe":"\u224f\u0338","ncap":"\u2a43","Ncaron":"\u0147","ncaron":"\u0148","Ncedil":"\u0145","ncedil":"\u0146","ncong":"\u2247","ncongdot":"\u2a6d\u0338","ncup":"\u2a42","Ncy":"\u041d","ncy":"\u043d","ndash":"\u2013","nearhk":"\u2924","nearr":"\u2197","neArr":"\u21d7","nearrow":"\u2197","ne":"\u2260","nedot":"\u2250\u0338","NegativeMediumSpace":"\u200b","NegativeThickSpace":"\u200b","NegativeThinSpace":"\u200b","NegativeVeryThinSpace":"\u200b","nequiv":"\u2262","nesear":"\u2928","nesim":"\u2242\u0338","NestedGreaterGreater":"\u226b","NestedLessLess":"\u226a","NewLine":"\\n","nexist":"\u2204","nexists":"\u2204","Nfr":"\u{1d511}","nfr":"\u{1d52b}","ngE":"\u2267\u0338","nge":"\u2271","ngeq":"\u2271","ngeqq":"\u2267\u0338","ngeqslant":"\u2a7e\u0338","nges":"\u2a7e\u0338","nGg":"\u22d9\u0338","ngsim":"\u2275","nGt":"\u226b\u20d2","ngt":"\u226f","ngtr":"\u226f","nGtv":"\u226b\u0338","nharr":"\u21ae","nhArr":"\u21ce","nhpar":"\u2af2","ni":"\u220b","nis":"\u22fc","nisd":"\u22fa","niv":"\u220b","NJcy":"\u040a","njcy":"\u045a","nlarr":"\u219a","nlArr":"\u21cd","nldr":"\u2025","nlE":"\u2266\u0338","nle":"\u2270","nleftarrow":"\u219a","nLeftarrow":"\u21cd","nleftrightarrow":"\u21ae","nLeftrightarrow":"\u21ce","nleq":"\u2270","nleqq":"\u2266\u0338","nleqslant":"\u2a7d\u0338","nles":"\u2a7d\u0338","nless":"\u226e","nLl":"\u22d8\u0338","nlsim":"\u2274","nLt":"\u226a\u20d2","nlt":"\u226e","nltri":"\u22ea","nltrie":"\u22ec","nLtv":"\u226a\u0338","nmid":"\u2224","NoBreak":"\u2060","NonBreakingSpace":"\xa0","nopf":"\u{1d55f}","Nopf":"\u2115","Not":"\u2aec","not":"\xac","NotCongruent":"\u2262","NotCupCap":"\u226d","NotDoubleVerticalBar":"\u2226","NotElement":"\u2209","NotEqual":"\u2260","NotEqualTilde":"\u2242\u0338","NotExists":"\u2204","NotGreater":"\u226f","NotGreaterEqual":"\u2271","NotGreaterFullEqual":"\u2267\u0338","NotGreaterGreater":"\u226b\u0338","NotGreaterLess":"\u2279","NotGreaterSlantEqual":"\u2a7e\u0338","NotGreaterTilde":"\u2275","NotHumpDownHump":"\u224e\u0338","NotHumpEqual":"\u224f\u0338","notin":"\u2209","notindot":"\u22f5\u0338","notinE":"\u22f9\u0338","notinva":"\u2209","notinvb":"\u22f7","notinvc":"\u22f6","NotLeftTriangleBar":"\u29cf\u0338","NotLeftTriangle":"\u22ea","NotLeftTriangleEqual":"\u22ec","NotLess":"\u226e","NotLessEqual":"\u2270","NotLessGreater":"\u2278","NotLessLess":"\u226a\u0338","NotLessSlantEqual":"\u2a7d\u0338","NotLessTilde":"\u2274","NotNestedGreaterGreater":"\u2aa2\u0338","NotNestedLessLess":"\u2aa1\u0338","notni":"\u220c","notniva":"\u220c","notnivb":"\u22fe","notnivc":"\u22fd","NotPrecedes":"\u2280","NotPrecedesEqual":"\u2aaf\u0338","NotPrecedesSlantEqual":"\u22e0","NotReverseElement":"\u220c","NotRightTriangleBar":"\u29d0\u0338","NotRightTriangle":"\u22eb","NotRightTriangleEqual":"\u22ed","NotSquareSubset":"\u228f\u0338","NotSquareSubsetEqual":"\u22e2","NotSquareSuperset":"\u2290\u0338","NotSquareSupersetEqual":"\u22e3","NotSubset":"\u2282\u20d2","NotSubsetEqual":"\u2288","NotSucceeds":"\u2281","NotSucceedsEqual":"\u2ab0\u0338","NotSucceedsSlantEqual":"\u22e1","NotSucceedsTilde":"\u227f\u0338","NotSuperset":"\u2283\u20d2","NotSupersetEqual":"\u2289","NotTilde":"\u2241","NotTildeEqual":"\u2244","NotTildeFullEqual":"\u2247","NotTildeTilde":"\u2249","NotVerticalBar":"\u2224","nparallel":"\u2226","npar":"\u2226","nparsl":"\u2afd\u20e5","npart":"\u2202\u0338","npolint":"\u2a14","npr":"\u2280","nprcue":"\u22e0","nprec":"\u2280","npreceq":"\u2aaf\u0338","npre":"\u2aaf\u0338","nrarrc":"\u2933\u0338","nrarr":"\u219b","nrArr":"\u21cf","nrarrw":"\u219d\u0338","nrightarrow":"\u219b","nRightarrow":"\u21cf","nrtri":"\u22eb","nrtrie":"\u22ed","nsc":"\u2281","nsccue":"\u22e1","nsce":"\u2ab0\u0338","Nscr":"\u{1d4a9}","nscr":"\u{1d4c3}","nshortmid":"\u2224","nshortparallel":"\u2226","nsim":"\u2241","nsime":"\u2244","nsimeq":"\u2244","nsmid":"\u2224","nspar":"\u2226","nsqsube":"\u22e2","nsqsupe":"\u22e3","nsub":"\u2284","nsubE":"\u2ac5\u0338","nsube":"\u2288","nsubset":"\u2282\u20d2","nsubseteq":"\u2288","nsubseteqq":"\u2ac5\u0338","nsucc":"\u2281","nsucceq":"\u2ab0\u0338","nsup":"\u2285","nsupE":"\u2ac6\u0338","nsupe":"\u2289","nsupset":"\u2283\u20d2","nsupseteq":"\u2289","nsupseteqq":"\u2ac6\u0338","ntgl":"\u2279","Ntilde":"\xd1","ntilde":"\xf1","ntlg":"\u2278","ntriangleleft":"\u22ea","ntrianglelefteq":"\u22ec","ntriangleright":"\u22eb","ntrianglerighteq":"\u22ed","Nu":"\u039d","nu":"\u03bd","num":"#","numero":"\u2116","numsp":"\u2007","nvap":"\u224d\u20d2","nvdash":"\u22ac","nvDash":"\u22ad","nVdash":"\u22ae","nVDash":"\u22af","nvge":"\u2265\u20d2","nvgt":">\u20d2","nvHarr":"\u2904","nvinfin":"\u29de","nvlArr":"\u2902","nvle":"\u2264\u20d2","nvlt":"<\u20d2","nvltrie":"\u22b4\u20d2","nvrArr":"\u2903","nvrtrie":"\u22b5\u20d2","nvsim":"\u223c\u20d2","nwarhk":"\u2923","nwarr":"\u2196","nwArr":"\u21d6","nwarrow":"\u2196","nwnear":"\u2927","Oacute":"\xd3","oacute":"\xf3","oast":"\u229b","Ocirc":"\xd4","ocirc":"\xf4","ocir":"\u229a","Ocy":"\u041e","ocy":"\u043e","odash":"\u229d","Odblac":"\u0150","odblac":"\u0151","odiv":"\u2a38","odot":"\u2299","odsold":"\u29bc","OElig":"\u0152","oelig":"\u0153","ofcir":"\u29bf","Ofr":"\u{1d512}","ofr":"\u{1d52c}","ogon":"\u02db","Ograve":"\xd2","ograve":"\xf2","ogt":"\u29c1","ohbar":"\u29b5","ohm":"\u03a9","oint":"\u222e","olarr":"\u21ba","olcir":"\u29be","olcross":"\u29bb","oline":"\u203e","olt":"\u29c0","Omacr":"\u014c","omacr":"\u014d","Omega":"\u03a9","omega":"\u03c9","Omicron":"\u039f","omicron":"\u03bf","omid":"\u29b6","ominus":"\u2296","Oopf":"\u{1d546}","oopf":"\u{1d560}","opar":"\u29b7","OpenCurlyDoubleQuote":"\u201c","OpenCurlyQuote":"\u2018","operp":"\u29b9","oplus":"\u2295","orarr":"\u21bb","Or":"\u2a54","or":"\u2228","ord":"\u2a5d","order":"\u2134","orderof":"\u2134","ordf":"\xaa","ordm":"\xba","origof":"\u22b6","oror":"\u2a56","orslope":"\u2a57","orv":"\u2a5b","oS":"\u24c8","Oscr":"\u{1d4aa}","oscr":"\u2134","Oslash":"\xd8","oslash":"\xf8","osol":"\u2298","Otilde":"\xd5","otilde":"\xf5","otimesas":"\u2a36","Otimes":"\u2a37","otimes":"\u2297","Ouml":"\xd6","ouml":"\xf6","ovbar":"\u233d","OverBar":"\u203e","OverBrace":"\u23de","OverBracket":"\u23b4","OverParenthesis":"\u23dc","para":"\xb6","parallel":"\u2225","par":"\u2225","parsim":"\u2af3","parsl":"\u2afd","part":"\u2202","PartialD":"\u2202","Pcy":"\u041f","pcy":"\u043f","percnt":"%","period":".","permil":"\u2030","perp":"\u22a5","pertenk":"\u2031","Pfr":"\u{1d513}","pfr":"\u{1d52d}","Phi":"\u03a6","phi":"\u03c6","phiv":"\u03d5","phmmat":"\u2133","phone":"\u260e","Pi":"\u03a0","pi":"\u03c0","pitchfork":"\u22d4","piv":"\u03d6","planck":"\u210f","planckh":"\u210e","plankv":"\u210f","plusacir":"\u2a23","plusb":"\u229e","pluscir":"\u2a22","plus":"+","plusdo":"\u2214","plusdu":"\u2a25","pluse":"\u2a72","PlusMinus":"\xb1","plusmn":"\xb1","plussim":"\u2a26","plustwo":"\u2a27","pm":"\xb1","Poincareplane":"\u210c","pointint":"\u2a15","popf":"\u{1d561}","Popf":"\u2119","pound":"\xa3","prap":"\u2ab7","Pr":"\u2abb","pr":"\u227a","prcue":"\u227c","precapprox":"\u2ab7","prec":"\u227a","preccurlyeq":"\u227c","Precedes":"\u227a","PrecedesEqual":"\u2aaf","PrecedesSlantEqual":"\u227c","PrecedesTilde":"\u227e","preceq":"\u2aaf","precnapprox":"\u2ab9","precneqq":"\u2ab5","precnsim":"\u22e8","pre":"\u2aaf","prE":"\u2ab3","precsim":"\u227e","prime":"\u2032","Prime":"\u2033","primes":"\u2119","prnap":"\u2ab9","prnE":"\u2ab5","prnsim":"\u22e8","prod":"\u220f","Product":"\u220f","profalar":"\u232e","profline":"\u2312","profsurf":"\u2313","prop":"\u221d","Proportional":"\u221d","Proportion":"\u2237","propto":"\u221d","prsim":"\u227e","prurel":"\u22b0","Pscr":"\u{1d4ab}","pscr":"\u{1d4c5}","Psi":"\u03a8","psi":"\u03c8","puncsp":"\u2008","Qfr":"\u{1d514}","qfr":"\u{1d52e}","qint":"\u2a0c","qopf":"\u{1d562}","Qopf":"\u211a","qprime":"\u2057","Qscr":"\u{1d4ac}","qscr":"\u{1d4c6}","quaternions":"\u210d","quatint":"\u2a16","quest":"?","questeq":"\u225f","quot":"\\"","QUOT":"\\"","rAarr":"\u21db","race":"\u223d\u0331","Racute":"\u0154","racute":"\u0155","radic":"\u221a","raemptyv":"\u29b3","rang":"\u27e9","Rang":"\u27eb","rangd":"\u2992","range":"\u29a5","rangle":"\u27e9","raquo":"\xbb","rarrap":"\u2975","rarrb":"\u21e5","rarrbfs":"\u2920","rarrc":"\u2933","rarr":"\u2192","Rarr":"\u21a0","rArr":"\u21d2","rarrfs":"\u291e","rarrhk":"\u21aa","rarrlp":"\u21ac","rarrpl":"\u2945","rarrsim":"\u2974","Rarrtl":"\u2916","rarrtl":"\u21a3","rarrw":"\u219d","ratail":"\u291a","rAtail":"\u291c","ratio":"\u2236","rationals":"\u211a","rbarr":"\u290d","rBarr":"\u290f","RBarr":"\u2910","rbbrk":"\u2773","rbrace":"}","rbrack":"]","rbrke":"\u298c","rbrksld":"\u298e","rbrkslu":"\u2990","Rcaron":"\u0158","rcaron":"\u0159","Rcedil":"\u0156","rcedil":"\u0157","rceil":"\u2309","rcub":"}","Rcy":"\u0420","rcy":"\u0440","rdca":"\u2937","rdldhar":"\u2969","rdquo":"\u201d","rdquor":"\u201d","rdsh":"\u21b3","real":"\u211c","realine":"\u211b","realpart":"\u211c","reals":"\u211d","Re":"\u211c","rect":"\u25ad","reg":"\xae","REG":"\xae","ReverseElement":"\u220b","ReverseEquilibrium":"\u21cb","ReverseUpEquilibrium":"\u296f","rfisht":"\u297d","rfloor":"\u230b","rfr":"\u{1d52f}","Rfr":"\u211c","rHar":"\u2964","rhard":"\u21c1","rharu":"\u21c0","rharul":"\u296c","Rho":"\u03a1","rho":"\u03c1","rhov":"\u03f1","RightAngleBracket":"\u27e9","RightArrowBar":"\u21e5","rightarrow":"\u2192","RightArrow":"\u2192","Rightarrow":"\u21d2","RightArrowLeftArrow":"\u21c4","rightarrowtail":"\u21a3","RightCeiling":"\u2309","RightDoubleBracket":"\u27e7","RightDownTeeVector":"\u295d","RightDownVectorBar":"\u2955","RightDownVector":"\u21c2","RightFloor":"\u230b","rightharpoondown":"\u21c1","rightharpoonup":"\u21c0","rightleftarrows":"\u21c4","rightleftharpoons":"\u21cc","rightrightarrows":"\u21c9","rightsquigarrow":"\u219d","RightTeeArrow":"\u21a6","RightTee":"\u22a2","RightTeeVector":"\u295b","rightthreetimes":"\u22cc","RightTriangleBar":"\u29d0","RightTriangle":"\u22b3","RightTriangleEqual":"\u22b5","RightUpDownVector":"\u294f","RightUpTeeVector":"\u295c","RightUpVectorBar":"\u2954","RightUpVector":"\u21be","RightVectorBar":"\u2953","RightVector":"\u21c0","ring":"\u02da","risingdotseq":"\u2253","rlarr":"\u21c4","rlhar":"\u21cc","rlm":"\u200f","rmoustache":"\u23b1","rmoust":"\u23b1","rnmid":"\u2aee","roang":"\u27ed","roarr":"\u21fe","robrk":"\u27e7","ropar":"\u2986","ropf":"\u{1d563}","Ropf":"\u211d","roplus":"\u2a2e","rotimes":"\u2a35","RoundImplies":"\u2970","rpar":")","rpargt":"\u2994","rppolint":"\u2a12","rrarr":"\u21c9","Rrightarrow":"\u21db","rsaquo":"\u203a","rscr":"\u{1d4c7}","Rscr":"\u211b","rsh":"\u21b1","Rsh":"\u21b1","rsqb":"]","rsquo":"\u2019","rsquor":"\u2019","rthree":"\u22cc","rtimes":"\u22ca","rtri":"\u25b9","rtrie":"\u22b5","rtrif":"\u25b8","rtriltri":"\u29ce","RuleDelayed":"\u29f4","ruluhar":"\u2968","rx":"\u211e","Sacute":"\u015a","sacute":"\u015b","sbquo":"\u201a","scap":"\u2ab8","Scaron":"\u0160","scaron":"\u0161","Sc":"\u2abc","sc":"\u227b","sccue":"\u227d","sce":"\u2ab0","scE":"\u2ab4","Scedil":"\u015e","scedil":"\u015f","Scirc":"\u015c","scirc":"\u015d","scnap":"\u2aba","scnE":"\u2ab6","scnsim":"\u22e9","scpolint":"\u2a13","scsim":"\u227f","Scy":"\u0421","scy":"\u0441","sdotb":"\u22a1","sdot":"\u22c5","sdote":"\u2a66","searhk":"\u2925","searr":"\u2198","seArr":"\u21d8","searrow":"\u2198","sect":"\xa7","semi":";","seswar":"\u2929","setminus":"\u2216","setmn":"\u2216","sext":"\u2736","Sfr":"\u{1d516}","sfr":"\u{1d530}","sfrown":"\u2322","sharp":"\u266f","SHCHcy":"\u0429","shchcy":"\u0449","SHcy":"\u0428","shcy":"\u0448","ShortDownArrow":"\u2193","ShortLeftArrow":"\u2190","shortmid":"\u2223","shortparallel":"\u2225","ShortRightArrow":"\u2192","ShortUpArrow":"\u2191","shy":"\xad","Sigma":"\u03a3","sigma":"\u03c3","sigmaf":"\u03c2","sigmav":"\u03c2","sim":"\u223c","simdot":"\u2a6a","sime":"\u2243","simeq":"\u2243","simg":"\u2a9e","simgE":"\u2aa0","siml":"\u2a9d","simlE":"\u2a9f","simne":"\u2246","simplus":"\u2a24","simrarr":"\u2972","slarr":"\u2190","SmallCircle":"\u2218","smallsetminus":"\u2216","smashp":"\u2a33","smeparsl":"\u29e4","smid":"\u2223","smile":"\u2323","smt":"\u2aaa","smte":"\u2aac","smtes":"\u2aac\ufe00","SOFTcy":"\u042c","softcy":"\u044c","solbar":"\u233f","solb":"\u29c4","sol":"/","Sopf":"\u{1d54a}","sopf":"\u{1d564}","spades":"\u2660","spadesuit":"\u2660","spar":"\u2225","sqcap":"\u2293","sqcaps":"\u2293\ufe00","sqcup":"\u2294","sqcups":"\u2294\ufe00","Sqrt":"\u221a","sqsub":"\u228f","sqsube":"\u2291","sqsubset":"\u228f","sqsubseteq":"\u2291","sqsup":"\u2290","sqsupe":"\u2292","sqsupset":"\u2290","sqsupseteq":"\u2292","square":"\u25a1","Square":"\u25a1","SquareIntersection":"\u2293","SquareSubset":"\u228f","SquareSubsetEqual":"\u2291","SquareSuperset":"\u2290","SquareSupersetEqual":"\u2292","SquareUnion":"\u2294","squarf":"\u25aa","squ":"\u25a1","squf":"\u25aa","srarr":"\u2192","Sscr":"\u{1d4ae}","sscr":"\u{1d4c8}","ssetmn":"\u2216","ssmile":"\u2323","sstarf":"\u22c6","Star":"\u22c6","star":"\u2606","starf":"\u2605","straightepsilon":"\u03f5","straightphi":"\u03d5","strns":"\xaf","sub":"\u2282","Sub":"\u22d0","subdot":"\u2abd","subE":"\u2ac5","sube":"\u2286","subedot":"\u2ac3","submult":"\u2ac1","subnE":"\u2acb","subne":"\u228a","subplus":"\u2abf","subrarr":"\u2979","subset":"\u2282","Subset":"\u22d0","subseteq":"\u2286","subseteqq":"\u2ac5","SubsetEqual":"\u2286","subsetneq":"\u228a","subsetneqq":"\u2acb","subsim":"\u2ac7","subsub":"\u2ad5","subsup":"\u2ad3","succapprox":"\u2ab8","succ":"\u227b","succcurlyeq":"\u227d","Succeeds":"\u227b","SucceedsEqual":"\u2ab0","SucceedsSlantEqual":"\u227d","SucceedsTilde":"\u227f","succeq":"\u2ab0","succnapprox":"\u2aba","succneqq":"\u2ab6","succnsim":"\u22e9","succsim":"\u227f","SuchThat":"\u220b","sum":"\u2211","Sum":"\u2211","sung":"\u266a","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","sup":"\u2283","Sup":"\u22d1","supdot":"\u2abe","supdsub":"\u2ad8","supE":"\u2ac6","supe":"\u2287","supedot":"\u2ac4","Superset":"\u2283","SupersetEqual":"\u2287","suphsol":"\u27c9","suphsub":"\u2ad7","suplarr":"\u297b","supmult":"\u2ac2","supnE":"\u2acc","supne":"\u228b","supplus":"\u2ac0","supset":"\u2283","Supset":"\u22d1","supseteq":"\u2287","supseteqq":"\u2ac6","supsetneq":"\u228b","supsetneqq":"\u2acc","supsim":"\u2ac8","supsub":"\u2ad4","supsup":"\u2ad6","swarhk":"\u2926","swarr":"\u2199","swArr":"\u21d9","swarrow":"\u2199","swnwar":"\u292a","szlig":"\xdf","Tab":"\\t","target":"\u2316","Tau":"\u03a4","tau":"\u03c4","tbrk":"\u23b4","Tcaron":"\u0164","tcaron":"\u0165","Tcedil":"\u0162","tcedil":"\u0163","Tcy":"\u0422","tcy":"\u0442","tdot":"\u20db","telrec":"\u2315","Tfr":"\u{1d517}","tfr":"\u{1d531}","there4":"\u2234","therefore":"\u2234","Therefore":"\u2234","Theta":"\u0398","theta":"\u03b8","thetasym":"\u03d1","thetav":"\u03d1","thickapprox":"\u2248","thicksim":"\u223c","ThickSpace":"\u205f\u200a","ThinSpace":"\u2009","thinsp":"\u2009","thkap":"\u2248","thksim":"\u223c","THORN":"\xde","thorn":"\xfe","tilde":"\u02dc","Tilde":"\u223c","TildeEqual":"\u2243","TildeFullEqual":"\u2245","TildeTilde":"\u2248","timesbar":"\u2a31","timesb":"\u22a0","times":"\xd7","timesd":"\u2a30","tint":"\u222d","toea":"\u2928","topbot":"\u2336","topcir":"\u2af1","top":"\u22a4","Topf":"\u{1d54b}","topf":"\u{1d565}","topfork":"\u2ada","tosa":"\u2929","tprime":"\u2034","trade":"\u2122","TRADE":"\u2122","triangle":"\u25b5","triangledown":"\u25bf","triangleleft":"\u25c3","trianglelefteq":"\u22b4","triangleq":"\u225c","triangleright":"\u25b9","trianglerighteq":"\u22b5","tridot":"\u25ec","trie":"\u225c","triminus":"\u2a3a","TripleDot":"\u20db","triplus":"\u2a39","trisb":"\u29cd","tritime":"\u2a3b","trpezium":"\u23e2","Tscr":"\u{1d4af}","tscr":"\u{1d4c9}","TScy":"\u0426","tscy":"\u0446","TSHcy":"\u040b","tshcy":"\u045b","Tstrok":"\u0166","tstrok":"\u0167","twixt":"\u226c","twoheadleftarrow":"\u219e","twoheadrightarrow":"\u21a0","Uacute":"\xda","uacute":"\xfa","uarr":"\u2191","Uarr":"\u219f","uArr":"\u21d1","Uarrocir":"\u2949","Ubrcy":"\u040e","ubrcy":"\u045e","Ubreve":"\u016c","ubreve":"\u016d","Ucirc":"\xdb","ucirc":"\xfb","Ucy":"\u0423","ucy":"\u0443","udarr":"\u21c5","Udblac":"\u0170","udblac":"\u0171","udhar":"\u296e","ufisht":"\u297e","Ufr":"\u{1d518}","ufr":"\u{1d532}","Ugrave":"\xd9","ugrave":"\xf9","uHar":"\u2963","uharl":"\u21bf","uharr":"\u21be","uhblk":"\u2580","ulcorn":"\u231c","ulcorner":"\u231c","ulcrop":"\u230f","ultri":"\u25f8","Umacr":"\u016a","umacr":"\u016b","uml":"\xa8","UnderBar":"_","UnderBrace":"\u23df","UnderBracket":"\u23b5","UnderParenthesis":"\u23dd","Union":"\u22c3","UnionPlus":"\u228e","Uogon":"\u0172","uogon":"\u0173","Uopf":"\u{1d54c}","uopf":"\u{1d566}","UpArrowBar":"\u2912","uparrow":"\u2191","UpArrow":"\u2191","Uparrow":"\u21d1","UpArrowDownArrow":"\u21c5","updownarrow":"\u2195","UpDownArrow":"\u2195","Updownarrow":"\u21d5","UpEquilibrium":"\u296e","upharpoonleft":"\u21bf","upharpoonright":"\u21be","uplus":"\u228e","UpperLeftArrow":"\u2196","UpperRightArrow":"\u2197","upsi":"\u03c5","Upsi":"\u03d2","upsih":"\u03d2","Upsilon":"\u03a5","upsilon":"\u03c5","UpTeeArrow":"\u21a5","UpTee":"\u22a5","upuparrows":"\u21c8","urcorn":"\u231d","urcorner":"\u231d","urcrop":"\u230e","Uring":"\u016e","uring":"\u016f","urtri":"\u25f9","Uscr":"\u{1d4b0}","uscr":"\u{1d4ca}","utdot":"\u22f0","Utilde":"\u0168","utilde":"\u0169","utri":"\u25b5","utrif":"\u25b4","uuarr":"\u21c8","Uuml":"\xdc","uuml":"\xfc","uwangle":"\u29a7","vangrt":"\u299c","varepsilon":"\u03f5","varkappa":"\u03f0","varnothing":"\u2205","varphi":"\u03d5","varpi":"\u03d6","varpropto":"\u221d","varr":"\u2195","vArr":"\u21d5","varrho":"\u03f1","varsigma":"\u03c2","varsubsetneq":"\u228a\ufe00","varsubsetneqq":"\u2acb\ufe00","varsupsetneq":"\u228b\ufe00","varsupsetneqq":"\u2acc\ufe00","vartheta":"\u03d1","vartriangleleft":"\u22b2","vartriangleright":"\u22b3","vBar":"\u2ae8","Vbar":"\u2aeb","vBarv":"\u2ae9","Vcy":"\u0412","vcy":"\u0432","vdash":"\u22a2","vDash":"\u22a8","Vdash":"\u22a9","VDash":"\u22ab","Vdashl":"\u2ae6","veebar":"\u22bb","vee":"\u2228","Vee":"\u22c1","veeeq":"\u225a","vellip":"\u22ee","verbar":"|","Verbar":"\u2016","vert":"|","Vert":"\u2016","VerticalBar":"\u2223","VerticalLine":"|","VerticalSeparator":"\u2758","VerticalTilde":"\u2240","VeryThinSpace":"\u200a","Vfr":"\u{1d519}","vfr":"\u{1d533}","vltri":"\u22b2","vnsub":"\u2282\u20d2","vnsup":"\u2283\u20d2","Vopf":"\u{1d54d}","vopf":"\u{1d567}","vprop":"\u221d","vrtri":"\u22b3","Vscr":"\u{1d4b1}","vscr":"\u{1d4cb}","vsubnE":"\u2acb\ufe00","vsubne":"\u228a\ufe00","vsupnE":"\u2acc\ufe00","vsupne":"\u228b\ufe00","Vvdash":"\u22aa","vzigzag":"\u299a","Wcirc":"\u0174","wcirc":"\u0175","wedbar":"\u2a5f","wedge":"\u2227","Wedge":"\u22c0","wedgeq":"\u2259","weierp":"\u2118","Wfr":"\u{1d51a}","wfr":"\u{1d534}","Wopf":"\u{1d54e}","wopf":"\u{1d568}","wp":"\u2118","wr":"\u2240","wreath":"\u2240","Wscr":"\u{1d4b2}","wscr":"\u{1d4cc}","xcap":"\u22c2","xcirc":"\u25ef","xcup":"\u22c3","xdtri":"\u25bd","Xfr":"\u{1d51b}","xfr":"\u{1d535}","xharr":"\u27f7","xhArr":"\u27fa","Xi":"\u039e","xi":"\u03be","xlarr":"\u27f5","xlArr":"\u27f8","xmap":"\u27fc","xnis":"\u22fb","xodot":"\u2a00","Xopf":"\u{1d54f}","xopf":"\u{1d569}","xoplus":"\u2a01","xotime":"\u2a02","xrarr":"\u27f6","xrArr":"\u27f9","Xscr":"\u{1d4b3}","xscr":"\u{1d4cd}","xsqcup":"\u2a06","xuplus":"\u2a04","xutri":"\u25b3","xvee":"\u22c1","xwedge":"\u22c0","Yacute":"\xdd","yacute":"\xfd","YAcy":"\u042f","yacy":"\u044f","Ycirc":"\u0176","ycirc":"\u0177","Ycy":"\u042b","ycy":"\u044b","yen":"\xa5","Yfr":"\u{1d51c}","yfr":"\u{1d536}","YIcy":"\u0407","yicy":"\u0457","Yopf":"\u{1d550}","yopf":"\u{1d56a}","Yscr":"\u{1d4b4}","yscr":"\u{1d4ce}","YUcy":"\u042e","yucy":"\u044e","yuml":"\xff","Yuml":"\u0178","Zacute":"\u0179","zacute":"\u017a","Zcaron":"\u017d","zcaron":"\u017e","Zcy":"\u0417","zcy":"\u0437","Zdot":"\u017b","zdot":"\u017c","zeetrf":"\u2128","ZeroWidthSpace":"\u200b","Zeta":"\u0396","zeta":"\u03b6","zfr":"\u{1d537}","Zfr":"\u2128","ZHcy":"\u0416","zhcy":"\u0436","zigrarr":"\u21dd","zopf":"\u{1d56b}","Zopf":"\u2124","Zscr":"\u{1d4b5}","zscr":"\u{1d4cf}","zwj":"\u200d","zwnj":"\u200c"}')},9591:x=>{"use strict";x.exports=JSON.parse('{"Aacute":"\xc1","aacute":"\xe1","Acirc":"\xc2","acirc":"\xe2","acute":"\xb4","AElig":"\xc6","aelig":"\xe6","Agrave":"\xc0","agrave":"\xe0","amp":"&","AMP":"&","Aring":"\xc5","aring":"\xe5","Atilde":"\xc3","atilde":"\xe3","Auml":"\xc4","auml":"\xe4","brvbar":"\xa6","Ccedil":"\xc7","ccedil":"\xe7","cedil":"\xb8","cent":"\xa2","copy":"\xa9","COPY":"\xa9","curren":"\xa4","deg":"\xb0","divide":"\xf7","Eacute":"\xc9","eacute":"\xe9","Ecirc":"\xca","ecirc":"\xea","Egrave":"\xc8","egrave":"\xe8","ETH":"\xd0","eth":"\xf0","Euml":"\xcb","euml":"\xeb","frac12":"\xbd","frac14":"\xbc","frac34":"\xbe","gt":">","GT":">","Iacute":"\xcd","iacute":"\xed","Icirc":"\xce","icirc":"\xee","iexcl":"\xa1","Igrave":"\xcc","igrave":"\xec","iquest":"\xbf","Iuml":"\xcf","iuml":"\xef","laquo":"\xab","lt":"<","LT":"<","macr":"\xaf","micro":"\xb5","middot":"\xb7","nbsp":"\xa0","not":"\xac","Ntilde":"\xd1","ntilde":"\xf1","Oacute":"\xd3","oacute":"\xf3","Ocirc":"\xd4","ocirc":"\xf4","Ograve":"\xd2","ograve":"\xf2","ordf":"\xaa","ordm":"\xba","Oslash":"\xd8","oslash":"\xf8","Otilde":"\xd5","otilde":"\xf5","Ouml":"\xd6","ouml":"\xf6","para":"\xb6","plusmn":"\xb1","pound":"\xa3","quot":"\\"","QUOT":"\\"","raquo":"\xbb","reg":"\xae","REG":"\xae","sect":"\xa7","shy":"\xad","sup1":"\xb9","sup2":"\xb2","sup3":"\xb3","szlig":"\xdf","THORN":"\xde","thorn":"\xfe","times":"\xd7","Uacute":"\xda","uacute":"\xfa","Ucirc":"\xdb","ucirc":"\xfb","Ugrave":"\xd9","ugrave":"\xf9","uml":"\xa8","Uuml":"\xdc","uuml":"\xfc","Yacute":"\xdd","yacute":"\xfd","yen":"\xa5","yuml":"\xff"}')},2586:x=>{"use strict";x.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')}},qt={};function lt(x){var g=qt[x];if(void 0!==g)return g.exports;var M=qt[x]={exports:{}};return V[x].call(M.exports,M,M.exports,lt),M.exports}lt.n=x=>{var g=x&&x.__esModule?()=>x.default:()=>x;return lt.d(g,{a:g}),g},lt.d=(x,g)=>{for(var M in g)lt.o(g,M)&&!lt.o(x,M)&&Object.defineProperty(x,M,{enumerable:!0,get:g[M]})},lt.o=(x,g)=>Object.prototype.hasOwnProperty.call(x,g),lt.r=x=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(x,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(x,"__esModule",{value:!0})};var W={};return(()=>{"use strict";lt.r(W),lt.d(W,{default:()=>k});var x=function(){return x=Object.assign||function(A){for(var I,D=1,L=arguments.length;D<L;D++)for(var U in I=arguments[D])Object.prototype.hasOwnProperty.call(I,U)&&(A[U]=I[U]);return A},x.apply(this,arguments)},g="set-device-desktop",M="set-device-tablet",h="set-device-mobile",y="canvas-clear",m=lt(6094),_=lt.n(m),b=function(){return b=Object.assign||function(A){for(var I,D=1,L=arguments.length;D<L;D++)for(var U in I=arguments[D])Object.prototype.hasOwnProperty.call(I,U)&&(A[U]=I[U]);return A},b.apply(this,arguments)};var C=function(){return C=Object.assign||function(A){for(var I,D=1,L=arguments.length;D<L;D++)for(var U in I=arguments[D])Object.prototype.hasOwnProperty.call(I,U)&&(A[U]=I[U]);return A},C.apply(this,arguments)};const k=function(A,I){void 0===I&&(I={});var Y,q,tt,ht,ut,bt,F,B,X,J,K,at,Q,gt,D=A.getConfig(),L=C({blocks:["sect100","sect50","sect30","sect37","button","divider","text","text-sect","image","quote","link","link-block","grid-items","list-items"],block:function(){return{}},juiceOpts:{},cmdOpenImport:"gjs-open-import-template",cmdTglImages:"gjs-toggle-images",cmdInlineHtml:"gjs-get-inlined-html",modalTitleImport:"Import template",modalTitleExport:"Export template",modalLabelImport:"",modalLabelExport:"",modalBtnImport:"Import",codeViewerTheme:"hopscotch",importPlaceholder:"",inlineCss:!0,cellStyle:{padding:"0",margin:"0","vertical-align":"top"},tableStyle:{height:"150px",margin:"0 auto 10px auto",padding:"5px 5px 5px 5px",width:"100%"},updateStyleManager:!0,showStylesOnChange:!0,showBlocksOnLoad:!0,useCustomTheme:!0,textCleanCanvas:"Are you sure you want to clear the canvas?"},I);if(D.devicePreviewMode=!0,L.useCustomTheme&&typeof window<"u"){var U="gjs-",S="";[["one","#373d49"],["two","#dae5e6"],["three","#4c9790"],["four","#35d7bb"]].forEach(function(Y){var q=Y[0],tt=Y[1];S+="\n        .".concat(U).concat(q,"-bg {\n          background-color: ").concat(tt,";\n        }\n        .").concat(U).concat(q,"-color {\n          color: ").concat(tt,";\n        }\n        .").concat(U).concat(q,"-color-h:hover {\n          color: ").concat(tt,";\n        }\n      ")});var G=document.createElement("style");G.innerText=S,document.head.appendChild(G)}(function(A,I){var U,S,G,Y,D=A.Commands,L=I.textCleanCanvas;S=I,G=(U=A).Commands,Y=U.getConfig().stylePrefix,G.add(S.cmdOpenImport,{containerEl:null,codeEditorHtml:null,createCodeViewer:function(){return U.CodeManager.createViewer({codeName:"htmlmixed",theme:S.codeViewerTheme,readOnly:!1})},createCodeEditor:function(){var q=document.createElement("div"),tt=this.createCodeViewer();return q.style.flex="1 0 auto",q.style.boxSizing="border-box",q.className="".concat(Y,"import-code"),q.appendChild(tt.getElement()),{codeEditor:tt,el:q}},getCodeContainer:function(){var q=this.containerEl;return q||((q=document.createElement("div")).className="".concat(Y,"import-container"),q.style.display="flex",q.style.gap="5px",q.style.flexDirection="column",q.style.justifyContent="space-between",this.containerEl=q),q},run:function(q){var tt=this.getCodeContainer(),ht=this.codeEditorHtml;if(!ht){var ut=this.createCodeEditor(),bt=document.createElement("button");if(ht=ut.codeEditor,this.codeEditorHtml=ht,S.modalLabelImport){var F=document.createElement("div");F.className="".concat(Y,"import-label"),F.innerHTML=S.modalLabelImport,tt.appendChild(F)}bt.innerHTML=S.modalBtnImport,bt.type="button",bt.className="".concat(Y,"btn-prim ").concat(Y,"btn-import"),bt.style.alignSelf="flex-start",bt.onclick=function(){var B=ut.codeEditor.editor.getValue();q.Components.clear(),q.Css.clear(),q.setComponents(B),q.Modal.close()},tt.appendChild(ut.el),tt.appendChild(bt)}q.Modal.open({title:S.modalTitleImport,content:tt}),ht&&(ht.setContent(S.importPlaceholder||""),ht.editor.refresh())}}),function(U,S){var G=U.Commands,Y=U.getConfig().stylePrefix;G.add(S.cmdInlineHtml,{run:function(q,tt,ht){void 0===ht&&(ht={});var ut=q.getHtml()+"<style>".concat(q.getCss(),"</style>");return _()(ut,b(b({},ht.juiceOpts),ht))}}),G.add("export-template",{containerEl:null,codeEditorHtml:null,createCodeViewer:function(){return U.CodeManager.createViewer({codeName:"htmlmixed",theme:S.codeViewerTheme})},createCodeEditor:function(){var q=document.createElement("div"),tt=this.createCodeViewer();return q.style.flex="1 0 auto",q.style.boxSizing="border-box",q.className="".concat(Y,"export-code"),q.appendChild(tt.getElement()),{codeEditor:tt,el:q}},getCodeContainer:function(){var q=this.containerEl;return q||((q=document.createElement("div")).className="".concat(Y,"export-container"),q.style.display="flex",q.style.gap="5px",q.style.flexDirection="column",q.style.justifyContent="space-between",this.containerEl=q),q},run:function(q){var tt=this.codeEditorHtml,ht=this.getCodeContainer();if(!tt){var ut=this.createCodeEditor();if(tt=ut.codeEditor,this.codeEditorHtml=tt,S.modalLabelExport){var bt=document.createElement("div");bt.className="".concat(Y,"export-label"),bt.innerHTML=S.modalLabelExport,ht.appendChild(bt)}ht.appendChild(ut.el)}if(q.Modal.open({title:S.modalTitleExport,content:ht}),tt){var F="".concat(q.getHtml(),"<style>").concat(q.getCss(),"</style>");tt.setContent(S.inlineCss?_()(F,S.juiceOpts):F),tt.editor.refresh()}}})}(A,I),function(U,S){U.Commands.add(S.cmdTglImages,{run:function(G){var Y=G.getComponents();this.toggleImages(Y)},stop:function(G){var Y=G.getComponents();this.toggleImages(Y,!0)},toggleImages:function(G,Y){var q=this;void 0===Y&&(Y=!1),G.forEach(function(ht){if("image"===ht.get("type")){var ut=ht.get("src");Y?"##"===ut&&ht.set("src",ht.get("src_bkp")):"##"!==ut&&(ht.set("src_bkp",ht.get("src")),ht.set("src","##"))}q.toggleImages(ht.components(),Y)})}})}(A,I),D.add(g,{run:function(U){return U.setDevice("Desktop")},stop:function(){}}),D.add(M,{run:function(U){return U.setDevice("Tablet")},stop:function(){}}),D.add(h,{run:function(U){return U.setDevice("Mobile portrait")},stop:function(){}}),D.add(y,{run:function(U){var S="core:canvas-clear";L?confirm(L)&&U.runCommand(S):U.runCommand(S)}})})(A,L),function(Y,q){Y.Blocks;var tt="",ht="",ut=q.tableStyle||{},bt=q.cellStyle||{},F=function(K,at){q.blocks.indexOf(K)>=0&&Y.Blocks.add(K,x(x({select:!0},at),q.block(K)))};for(var B in ut)tt+="".concat(B,": ").concat(ut[B],"; ");for(var B in bt)ht+="".concat(B,": ").concat(bt[B],"; ");F("sect100",{label:"1 Section",media:'<svg viewBox="0 0 24 24">\n      <path fill="currentColor" d="M2 20h20V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h20a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1Z"/>\n    </svg>',content:'\n      <table style="'.concat(tt,'">\n        <tr>\n          <td style="').concat(ht,'"></td>\n        </tr>\n      </table>\n    ')}),F("sect50",{label:"1/2 Section",media:'<svg viewBox="0 0 23 24">\n      <path fill="currentColor" d="M2 20h8V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM13 20h8V4h-8v16Zm-1 0V4a1 1 0 0 1 1-1h8a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-8a1 1 0 0 1-1-1Z"/>\n    </svg>',content:'\n      <table style="'.concat(tt,'">\n        <tr>\n          <td style="').concat(ht,' width: 50%"></td>\n          <td style="').concat(ht,' width: 50%"></td>\n        </tr>\n      </table>\n    ')}),F("sect30",{label:"1/3 Section",media:'<svg viewBox="0 0 23 24">\n      <path fill="currentColor" d="M2 20h4V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM17 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1ZM9.5 20h4V4h-4v16Zm-1 0V4a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1h-4a1 1 0 0 1-1-1Z"/>\n    </svg>',content:'\n      <table style="'.concat(tt,'">\n        <tr>\n          <td style="').concat(ht,' width: 33.3333%"></td>\n          <td style="').concat(ht,' width: 33.3333%"></td>\n          <td style="').concat(ht,' width: 33.3333%"></td>\n        </tr>\n      </table>\n    ')}),F("sect37",{label:"3/7 Section",media:'<svg viewBox="0 0 24 24">\n      <path fill="currentColor" d="M2 20h5V4H2v16Zm-1 0V4a1 1 0 0 1 1-1h5a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H2a1 1 0 0 1-1-1ZM10 20h12V4H10v16Zm-1 0V4a1 1 0 0 1 1-1h12a1 1 0 0 1 1 1v16a1 1 0 0 1-1 1H10a1 1 0 0 1-1-1Z"></path>\n    </svg>',content:'\n      <table style="'.concat(tt,'">\n        <tr>\n          <td style="').concat(ht,' width:30%"></td>\n          <td style="').concat(ht,' width:70%"></td>\n        </tr>\n      </table>\n    ')}),F("button",{label:"Button",media:'<svg viewBox="0 0 24 24">\n        <path fill="currentColor" d="M20 20.5C20 21.3 19.3 22 18.5 22H13C12.6 22 12.3 21.9 12 21.6L8 17.4L8.7 16.6C8.9 16.4 9.2 16.3 9.5 16.3H9.7L12 18V9C12 8.4 12.4 8 13 8S14 8.4 14 9V13.5L15.2 13.6L19.1 15.8C19.6 16 20 16.6 20 17.1V20.5M20 2H4C2.9 2 2 2.9 2 4V12C2 13.1 2.9 14 4 14H8V12H4V4H20V12H18V14H20C21.1 14 22 13.1 22 12V4C22 2.9 21.1 2 20 2Z" />\n    </svg>',content:'<a class="button">Button</a>'}),F("divider",{label:"Divider",media:'<svg viewBox="0 0 24 24">\n        <path fill="currentColor" d="M21 18H2V20H21V18M19 10V14H4V10H19M20 8H3C2.45 8 2 8.45 2 9V15C2 15.55 2.45 16 3 16H20C20.55 16 21 15.55 21 15V9C21 8.45 20.55 8 20 8M21 4H2V6H21V4Z" />\n    </svg>',content:'\n      <table style="width: 100%; margin-top: 10px; margin-bottom: 10px;">\n        <tr>\n          <td class="divider"></td>\n        </tr>\n      </table>\n      <style>\n        .divider {\n          background-color: rgba(0, 0, 0, 0.1);\n          height: 1px;\n        }\n      </style>\n    '}),F("text",{label:"Text",media:'<svg viewBox="0 0 24 24">\n      <path fill="currentColor" d="M18.5,4L19.66,8.35L18.7,8.61C18.25,7.74 17.79,6.87 17.26,6.43C16.73,6 16.11,6 15.5,6H13V16.5C13,17 13,17.5 13.33,17.75C13.67,18 14.33,18 15,18V19H9V18C9.67,18 10.33,18 10.67,17.75C11,17.5 11,17 11,16.5V6H8.5C7.89,6 7.27,6 6.74,6.43C6.21,6.87 5.75,7.74 5.3,8.61L4.34,8.35L5.5,4H18.5Z" />\n    </svg>',activate:!0,content:{type:"text",content:"Insert your text here",style:{padding:"10px"}}}),F("text-sect",{label:"Text Section",media:'<svg viewBox="0 0 24 24">\n        <path fill="currentColor" d="M20,20H4A2,2 0 0,1 2,18V6A2,2 0 0,1 4,4H20A2,2 0 0,1 22,6V18A2,2 0 0,1 20,20M4,6V18H20V6H4M6,9H18V11H6V9M6,13H16V15H6V13Z" />\n    </svg>',content:'\n      <h1 class="heading">Insert title here</h1>\n      <p class="paragraph">\n        Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua\n      </p>\n    '}),F("image",{label:"Image",media:'<svg viewBox="0 0 24 24">\n      <path fill="currentColor" d="M21,3H3C2,3 1,4 1,5V19A2,2 0 0,0 3,21H21C22,21 23,20 23,19V5C23,4 22,3 21,3M5,17L8.5,12.5L11,15.5L14.5,11L19,17H5Z" />\n    </svg>',activate:!0,content:{type:"image",style:{color:"black"}}}),F("quote",{label:"Quote",media:'<svg viewBox="0 0 24 24">\n        <path fill="currentColor" d="M14,17H17L19,13V7H13V13H16M6,17H9L11,13V7H5V13H8L6,17Z" />\n    </svg>',content:'<blockquote class="quote">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore ipsum dolor sit</blockquote>'}),F("link",{label:"Link",media:'<svg viewBox="0 0 24 24">\n      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>\n    </svg>',content:{type:"link",content:"Link",style:{color:"#3b97e3"}}}),F("link-block",{label:"Link Block",media:'<svg viewBox="0 0 24 24">\n      <path fill="currentColor" d="M3.9,12C3.9,10.29 5.29,8.9 7,8.9H11V7H7A5,5 0 0,0 2,12A5,5 0 0,0 7,17H11V15.1H7C5.29,15.1 3.9,13.71 3.9,12M8,13H16V11H8V13M17,7H13V8.9H17C18.71,8.9 20.1,10.29 20.1,12C20.1,13.71 18.71,15.1 17,15.1H13V17H17A5,5 0 0,0 22,12A5,5 0 0,0 17,7Z"></path>\n    </svg>',content:{type:"link",editable:!1,droppable:!0,style:{display:"inline-block",padding:"5px","min-height":"50px","min-width":"50px"}}});var X='<table class="grid-item-card">\n      <tr>\n        <td class="grid-item-card-cell">\n          <img class="grid-item-image" src="https://via.placeholder.com/250x150/78c5d6/fff/" alt="Image"/>\n          <table class="grid-item-card-body">\n            <tr>\n              <td class="grid-item-card-content">\n                <h1 class="card-title">Title here</h1>\n                <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>\n              </td>\n            </tr>\n          </table>\n        </td>\n      </tr>\n    </table>';F("grid-items",{label:"Grid Items",media:'<svg viewBox="0 0 24 24">\n      <path fill="currentColor" d="M3,11H11V3H3M3,21H11V13H3M13,21H21V13H13M13,3V11H21V3"/>\n    </svg>',content:'\n      <table class="grid-item-row">\n        <tr>\n          <td class="grid-item-cell2-l">'.concat(X,'</td>\n          <td class="grid-item-cell2-r">').concat(X,"</td>\n        </tr>\n      </table>\n    ")});var J='<table class="list-item">\n      <tr>\n        <td class="list-item-cell">\n          <table class="list-item-content">\n            <tr class="list-item-row">\n              <td class="list-cell-left">\n                <img class="list-item-image" src="https://via.placeholder.com/150/78c5d6/fff" alt="Image"/>\n              </td>\n              <td class="list-cell-right">\n                <h1 class="card-title">Title here</h1>\n                <p class="card-text">Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt</p>\n              </td>\n            </tr>\n          </table>\n        </td>\n      </tr>\n    </table>';F("list-items",{label:"List Items",media:'<svg viewBox="0 0 24 24">\n      <path fill="currentColor" d="M2 14H8V20H2M16 8H10V10H16M2 10H8V4H2M10 4V6H22V4M10 20H16V18H10M10 16H22V14H10"/>\n    </svg>',content:J+J})}(A,L),q=L,tt=(Y=A).Panels,ht=q.cmdOpenImport,ut=q.cmdTglImages,bt="export-template",F="open-sm",B="open-tm",X="open-layers",J="open-blocks",K="sw-visibility",at="fullscreen",Q="preview",gt='style="display: block; max-width: 22px"',Y.getConfig().showDevices=!1,tt.getPanels().reset([{id:"commands",buttons:[{}]},{id:"devices-c",buttons:[{id:g,command:g,active:!0,label:"<svg ".concat(gt,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M21,16H3V4H21M21,2H3C1.89,2 1,2.89 1,4V16A2,2 0 0,0 3,18H10V20H8V22H16V20H14V18H21A2,2 0 0,0 23,16V4C23,2.89 22.1,2 21,2Z" />\n        </svg>')},{id:M,command:M,label:"<svg ".concat(gt,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M19,18H5V6H19M21,4H3C1.89,4 1,4.89 1,6V18A2,2 0 0,0 3,20H21A2,2 0 0,0 23,18V6C23,4.89 22.1,4 21,4Z" />\n        </svg>')},{id:h,command:h,label:"<svg ".concat(gt,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M17,19H7V5H17M17,1H7C5.89,1 5,1.89 5,3V21A2,2 0 0,0 7,23H17A2,2 0 0,0 19,21V3C19,1.89 18.1,1 17,1Z" />\n        </svg>')}]},{id:"options",buttons:[{id:K,command:K,context:K,label:"<svg ".concat(gt,' viewBox="0 0 24 24">\n        <path fill="currentColor" d="M15,5H17V3H15M15,21H17V19H15M11,5H13V3H11M19,5H21V3H19M19,9H21V7H19M19,21H21V19H19M19,13H21V11H19M19,17H21V15H19M3,5H5V3H3M3,9H5V7H3M3,13H5V11H3M3,17H5V15H3M3,21H5V19H3M11,21H13V19H11M7,21H9V19H7M7,5H9V3H7V5Z" />\n    </svg>')},{id:Q,context:Q,command:Q,label:"<svg ".concat(gt,' viewBox="0 0 24 24"><path fill="currentColor" d="M12,9A3,3 0 0,0 9,12A3,3 0 0,0 12,15A3,3 0 0,0 15,12A3,3 0 0,0 12,9M12,17A5,5 0 0,1 7,12A5,5 0 0,1 12,7A5,5 0 0,1 17,12A5,5 0 0,1 12,17M12,4.5C7,4.5 2.73,7.61 1,12C2.73,16.39 7,19.5 12,19.5C17,19.5 21.27,16.39 23,12C21.27,7.61 17,4.5 12,4.5Z"></path></svg>')},{id:at,command:at,context:at,label:"<svg ".concat(gt,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M5,5H10V7H7V10H5V5M14,5H19V10H17V7H14V5M17,14H19V19H14V17H17V14M10,17V19H5V14H7V17H10Z" />\n        </svg>')},{id:bt,command:bt,label:"<svg ".concat(gt,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M12.89,3L14.85,3.4L11.11,21L9.15,20.6L12.89,3M19.59,12L16,8.41V5.58L22.42,12L16,18.41V15.58L19.59,12M1.58,12L8,5.58V8.41L4.41,12L8,15.58V18.41L1.58,12Z" />\n        </svg>')},{id:ht,command:ht,label:"<svg ".concat(gt,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M5,20H19V18H5M19,9H15V3H9V9H5L12,16L19,9Z" />\n        </svg>')},{id:ut,command:ut,label:"<svg ".concat(gt,' viewBox="0 0 24 24">\n          <path fill="currentColor" d="M5 3C3.9 3 3 3.9 3 5V19C3 20.11 3.9 21 5 21H14.09C14.03 20.67 14 20.34 14 20C14 19.32 14.12 18.64 14.35 18H5L8.5 13.5L11 16.5L14.5 12L16.73 14.97C17.7 14.34 18.84 14 20 14C20.34 14 20.67 14.03 21 14.09V5C21 3.89 20.1 3 19 3H5M16.47 17.88L18.59 20L16.47 22.12L17.88 23.54L20 21.41L22.12 23.54L23.54 22.12L21.41 20L23.54 17.88L22.12 16.46L20 18.59L17.88 16.47L16.46 17.88Z"/>\n        </svg>')},{id:"undo",command:"core:undo",label:"<svg ".concat(gt,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M20 13.5C20 17.09 17.09 20 13.5 20H6V18H13.5C16 18 18 16 18 13.5S16 9 13.5 9H7.83L10.91 12.09L9.5 13.5L4 8L9.5 2.5L10.92 3.91L7.83 7H13.5C17.09 7 20 9.91 20 13.5Z" />\n        </svg>')},{id:"redo",command:"core:redo",label:"<svg ".concat(gt,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M10.5 18H18V20H10.5C6.91 20 4 17.09 4 13.5S6.91 7 10.5 7H16.17L13.08 3.91L14.5 2.5L20 8L14.5 13.5L13.09 12.09L16.17 9H10.5C8 9 6 11 6 13.5S8 18 10.5 18Z" />\n        </svg>')},{id:y,command:y,label:"<svg ".concat(gt,' viewBox="0 0 24 24">\n              <path fill="currentColor" d="M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z" />\n          </svg>')}]},{id:"views",buttons:[{id:F,command:F,active:!0,label:"<svg ".concat(gt,' viewBox="0 0 24 24">\n            <path fill="currentColor" d="M20.71,4.63L19.37,3.29C19,2.9 18.35,2.9 17.96,3.29L9,12.25L11.75,15L20.71,6.04C21.1,5.65 21.1,5 20.71,4.63M7,14A3,3 0 0,0 4,17C4,18.31 2.84,19 2,19C2.92,20.22 4.5,21 6,21A4,4 0 0,0 10,17A3,3 0 0,0 7,14Z" />\n        </svg>')},{id:B,command:B,label:"<svg ".concat(gt,' viewBox="0 0 24 24">\n          <path fill="currentColor" d="M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.21,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.21,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.67 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z" />\n      </svg>')},{id:X,command:X,label:"<svg ".concat(gt,' viewBox="0 0 24 24">\n          <path fill="currentColor" d="M12,16L19.36,10.27L21,9L12,2L3,9L4.63,10.27M12,18.54L4.62,12.81L3,14.07L12,21.07L21,14.07L19.37,12.8L12,18.54Z" />\n      </svg>')},{id:J,command:J,label:"<svg ".concat(gt,' viewBox="0 0 24 24">\n          <path fill="currentColor" d="M17,13H13V17H11V13H7V11H11V7H13V11H17M19,3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3Z" />\n      </svg>')}]}]),q.showStylesOnChange&&Y.on("component:selected",function(){var ot=tt.getButton("views",X);ot&&ot.get("active")||!Y.getSelected()||tt.getButton("views",F)?.set("active",!0)}),Y.onReady(function(){q.showBlocksOnLoad&&tt.getButton("views",J)?.set("active",!0)}),function(Y,q){var tt=Y.StyleManager.getSectors();if(q.updateStyleManager){var ht=[{name:"Dimension",open:!1,buildProps:["width","height","max-width","min-height","margin","padding"],properties:[{property:"margin",properties:[{name:"Top",property:"margin-top"},{name:"Left",property:"margin-left"},{name:"Right",property:"margin-right"},{name:"Bottom",property:"margin-bottom"}]},{property:"padding",properties:[{name:"Top",property:"padding-top"},{name:"Right",property:"padding-right"},{name:"Bottom",property:"padding-bottom"},{name:"Left",property:"padding-left"}]}]},{name:"Typography",open:!1,buildProps:["font-family","font-size","font-weight","letter-spacing","color","line-height","text-align","text-decoration","font-style","vertical-align","text-shadow"],properties:[{name:"Font",property:"font-family"},{name:"Weight",property:"font-weight"},{name:"Font color",property:"color"},{property:"text-align",type:"radio",defaults:"left",list:[{value:"left",name:"Left",className:"fa fa-align-left"},{value:"center",name:"Center",className:"fa fa-align-center"},{value:"right",name:"Right",className:"fa fa-align-right"},{value:"justify",name:"Justify",className:"fa fa-align-justify"}]},{property:"text-decoration",type:"radio",defaults:"none",list:[{value:"none",name:"None",className:"fa fa-times"},{value:"underline",name:"underline",className:"fa fa-underline"},{value:"line-through",name:"Line-through",className:"fa fa-strikethrough"}]},{property:"font-style",type:"radio",defaults:"normal",list:[{value:"normal",name:"Normal",className:"fa fa-font"},{value:"italic",name:"Italic",className:"fa fa-italic"}]},{property:"vertical-align",type:"select",defaults:"baseline",list:[{value:"baseline"},{value:"top"},{value:"middle"},{value:"bottom"}]},{property:"text-shadow",properties:[{name:"X position",property:"text-shadow-h"},{name:"Y position",property:"text-shadow-v"},{name:"Blur",property:"text-shadow-blur"},{name:"Color",property:"text-shadow-color"}]}]},{name:"Decorations",open:!1,buildProps:["background-color","border-collapse","border-radius","border","background"],properties:[{property:"background-color",name:"Background"},{property:"border-radius",properties:[{name:"Top",property:"border-top-left-radius"},{name:"Right",property:"border-top-right-radius"},{name:"Bottom",property:"border-bottom-left-radius"},{name:"Left",property:"border-bottom-right-radius"}]},{property:"border-collapse",type:"radio",defaults:"separate",list:[{value:"separate",name:"No"},{value:"collapse",name:"Yes"}]},{property:"border",properties:[{name:"Width",property:"border-width",defaults:"0"},{name:"Style",property:"border-style"},{name:"Color",property:"border-color"}]},{property:"background",properties:[{name:"Image",property:"background-image"},{name:"Repeat",property:"background-repeat"},{name:"Position",property:"background-position"},{name:"Attachment",property:"background-attachment"},{name:"Size",property:"background-size"}]}]}];Y.onReady(function(){tt.reset(),tt.add(ht)})}}(A,L)}})(),W})());
